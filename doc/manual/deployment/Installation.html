<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<script src="../../list.js"></script>
		<script src="../../page.js"></script>
		<link type="text/css" rel="stylesheet" href="../../page.css" />
	</head>
	<body>
		<h1>[name]</h1>


		<h2>Flask</h2>

		The server is based on *Flask*, which can be installed through *pip*:

		<code class="lang-sh">
		sudo pip install Flask
		</code>


		<h2>Trajectory reading</h2>

		For the efficient access of trajectory files, some libraries need to be installed, which depend on a number of external libraries.


		<h3>External libraries</h3>

		Make sure you have the python development files installed, e.g.

		<code class="lang-sh">sudo apt-get install python-dev python-numpy</code>

		NetCDF libraries

		<code class="lang-sh">sudo apt-get install libhdf5-serial-dev libnetcdf-dev</code>

		<code class="lang-sh">sudo pip install netCDF4</code>

		In case you get "ValueError: did not find HDF5 headers" try:

		<code class="lang-sh">
		sudo su
		find / -name "libhdf5*.so*"
		# use what the above 'find' suggests to set 'HDF5_DIR'
		export HDF5_DIR=/usr/lib/i386-linux-gnu/hdf5/serial/
		pip install netCDF4
		</code>

		<h3>Internal libraries</h3>

		With the external libraries installed you can install the internal libraries with

		<code class="lang-sh">./install.sh</code>


		<h2>Configuration files</h2>

		<h3>Server</h3>

		Copy/rename the sample app.cfg file. It allows e.g. setting data directories that will be accessible through the web server, define access restrictions.

		<code>cp app.cfg.sample app.cfg</code>


		<h3>Website</h3>

		<p>The website can be configured through some JavaScript files that should be set-up.</p>

		Copy/rename the sample tracking.js file and add any tracking code you need.

		<code>cp js/tracking.js.sample js/tracking.js</code>


		Copy/rename the sample examples.js file and add any examples you want to be available on your server.

		<code>cp js/examples.js.sample js/examples.js</code>


		<h2>Starting</h2>

		<h3>Local/development</h3>

		The server can be started with the python script

		<code class="lang-sh">python serve.py</code>

		which will use the *app.cfg* configuration file or with

		<code class="lang-sh">python serve.py my_conf.cfg</code>

		to use the *my_conf.cfg* configuration file.


		<h3>Apache</h3>

		For instructions on how to configure *Apache* to serve NGL see this [page:Webserver page].


	</body>
</html>
