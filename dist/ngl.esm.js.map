{"version":3,"file":"ngl.esm.js","sources":["src/polyfills.js","src/utils.js","src/utils/registry.js","src/math/math-utils.js","src/color/colormaker.js","src/selection/selection-constants.js","src/selection/selection-parser.js","src/selection/selection-test.js","src/selection/selection.js","src/color/selection-colormaker.js","src/color/colormaker-registry.js","src/parser/parser-registry.js","src/worker/worker-utils.js","src/worker/worker-registry.js","src/globals.js","src/streamer/streamer.js","src/streamer/file-streamer.js","src/streamer/network-streamer.js","src/loader/loader.js","src/loader/parser-loader.js","src/script.js","src/loader/script-loader.js","src/loader/loader-utils.js","src/writer/writer.js","src/writer/pdb-writer.js","src/writer/sdf-writer.js","src/utils/io-buffer.js","src/writer/stl-writer.js","src/utils/counter.js","src/viewer/stats.js","src/shader/shader-utils.js","src/viewer/viewer-constants.js","src/viewer/tiled-renderer.js","src/math/math-constants.js","src/math/array-utils.js","src/viewer/viewer-utils.js","src/viewer/gl-utils.js","src/viewer/viewer.js","src/constants.js","src/stage/mouse-observer.js","src/controls/trackball-controls.js","src/controls/picking-proxy.js","src/controls/picking-controls.js","src/controls/viewer-controls.js","src/animation/animation.js","src/controls/animation-controls.js","src/utils/queue.js","src/representation/representation.js","src/worker/worker.js","src/worker/worker-pool.js","src/math/vector-utils.js","src/geometry/dash.js","src/geometry/primitive.js","src/geometry/spatial-hash.js","src/store/store.js","src/store/contact-store.js","src/utils/bitarray.js","src/utils/adjacency-list.js","src/chemistry/interactions/features.js","src/structure/structure-constants.js","src/chemistry/geometry.js","src/chemistry/valence-model.js","src/structure/data.js","src/chemistry/functional-groups.js","src/chemistry/interactions/charged.js","src/chemistry/interactions/hydrogen-bonds.js","src/chemistry/interactions/metal-binding.js","src/chemistry/interactions/hydrophobic.js","src/chemistry/interactions/halogen-bonds.js","src/chemistry/interactions/refine-contacts.js","src/chemistry/interactions/contact.js","src/utils/picker.js","src/surface/marching-cubes.js","src/math/matrix-utils.js","src/surface/surface-utils.js","src/surface/surface.js","src/surface/volume.js","src/buffer/buffer.js","src/buffer/mesh-buffer.js","src/buffer/surface-buffer.js","src/buffer/doublesided-buffer.js","src/buffer/contour-buffer.js","src/representation/surface-representation.js","src/controls/mouse-actions.js","src/controls/mouse-controls.js","src/controls/key-actions.js","src/controls/key-controls.js","src/stage/picking-behavior.js","src/stage/mouse-behavior.js","src/stage/animation-behavior.js","src/stage/key-behavior.js","src/component/annotation.js","src/controls/component-controls.js","src/utils/radius-factory.js","src/math/principal-axes.js","src/surface/filtered-volume.js","src/store/bond-hash.js","src/store/bond-store.js","src/store/atom-store.js","src/store/residue-store.js","src/store/chain-store.js","src/store/model-store.js","src/geometry/helixorient.js","src/geometry/helixbundle.js","src/utils/binary-heap.js","src/utils/kdtree.js","src/proxy/atom-proxy.js","src/geometry/kdtree.js","src/symmetry/symmetry-constants.js","src/symmetry/symmetry-utils.js","src/symmetry/assembly.js","src/structure/structure-builder.js","src/structure/structure-utils.js","src/store/atom-type.js","src/store/atom-map.js","src/store/residue-type.js","src/store/residue-map.js","src/proxy/bond-proxy.js","src/proxy/residue-proxy.js","src/proxy/polymer.js","src/proxy/chain-proxy.js","src/proxy/model-proxy.js","src/structure/structure.js","src/geometry/shape.js","src/representation/buffer-representation.js","src/buffer/geometry-buffer.js","src/buffer/spheregeometry-buffer.js","src/buffer/mapped-buffer.js","src/buffer/mappedquad-buffer.js","src/buffer/sphereimpostor-buffer.js","src/buffer/sphere-buffer.js","src/buffer/point-buffer.js","src/representation/dot-representation.js","src/buffer/image-buffer.js","src/surface/volume-slice.js","src/representation/slice-representation.js","src/representation/representation-utils.js","src/component/element.js","src/component/representation-element.js","src/component/component.js","src/component/collection.js","src/component/representation-collection.js","src/component/trajectory-element.js","src/trajectory/frames.js","src/align/superposition.js","src/trajectory/trajectory-player.js","src/trajectory/trajectory.js","src/trajectory/frames-trajectory.js","src/trajectory/structure-trajectory.js","src/trajectory/remote-trajectory.js","src/trajectory/trajectory-utils.js","src/structure/structure-view.js","src/align/alignment.js","src/align/align-utils.js","src/component/structure-component.js","src/component/surface-component.js","src/component/volume-component.js","src/component/component-collection.js","src/stage/stage.js","src/component/shape-component.js","src/color/atomindex-colormaker.js","src/color/bfactor-colormaker.js","src/color/chainid-colormaker.js","src/color/chainindex-colormaker.js","src/color/chainname-colormaker.js","src/color/densityfit-colormaker.js","src/color/electrostatic-colormaker.js","src/color/element-colormaker.js","src/color/entityindex-colormaker.js","src/color/entitytype-colormaker.js","src/color/geoquality-colormaker.js","src/color/hydrophobicity-colormaker.js","src/color/modelindex-colormaker.js","src/color/moleculetype-colormaker.js","src/color/occupancy-colormaker.js","src/color/partialcharge-colormaker.js","src/color/random-colormaker.js","src/color/randomcoilindex-colormaker.js","src/color/residueindex-colormaker.js","src/color/resname-colormaker.js","src/color/sstruc-colormaker.js","src/color/uniform-colormaker.js","src/color/value-colormaker.js","src/color/volume-colormaker.js","src/representation/structure-representation.js","src/representation/measurement-representation.js","src/utils/edt.js","src/buffer/text-buffer.js","src/buffer/wideline-buffer.js","src/representation/angle-representation.js","src/buffer/cylindergeometry-buffer.js","src/buffer/mappedalignedbox-buffer.js","src/buffer/cylinderimpostor-buffer.js","src/buffer/cylinder-buffer.js","src/representation/axes-representation.js","src/representation/ballandstick-representation.js","src/representation/backbone-representation.js","src/representation/base-representation.js","src/geometry/spline.js","src/buffer/tubemesh-buffer.js","src/representation/cartoon-representation.js","src/representation/contact-representation.js","src/representation/dihedral-representation.js","src/representation/dihedral-histogram-representation.js","src/representation/distance-representation.js","src/buffer/vector-buffer.js","src/representation/helixorient-representation.js","src/representation/licorice-representation.js","src/buffer/mappedbox-buffer.js","src/buffer/hyperballstickimpostor-buffer.js","src/buffer/hyperballstick-buffer.js","src/representation/hyperball-representation.js","src/utils/label-factory.js","src/representation/label-representation.js","src/representation/line-representation.js","src/geometry/grid.js","src/surface/edt-surface.js","src/surface/av-surface.js","src/surface/molecular-surface.js","src/representation/molecularsurface-representation.js","src/representation/point-representation.js","src/buffer/ribbon-buffer.js","src/representation/ribbon-representation.js","src/representation/rocket-representation.js","src/representation/rope-representation.js","src/representation/spacefill-representation.js","src/buffer/trace-buffer.js","src/representation/trace-representation.js","src/representation/tube-representation.js","src/representation/unitcell-representation.js","src/representation/validation-representation.js","src/buffer/cone-buffer.js","src/viewer/geometry-group.js","src/buffer/arrow-buffer.js","src/buffer/box-buffer.js","src/buffer/ellipsoid-buffer.js","src/buffer/octahedron-buffer.js","src/buffer/tetrahedron-buffer.js","src/buffer/torus-buffer.js","src/parser/parser.js","src/parser/structure-parser.js","src/structure/entity.js","src/symmetry/unitcell.js","src/parser/pdb-parser.js","src/parser/cif-parser.js","src/parser/gro-parser.js","lib/mmtf.es6.js","src/parser/mmtf-parser.js","src/parser/mol2-parser.js","src/parser/pdbqt-parser.js","src/parser/pqr-parser.js","src/parser/sdf-parser.js","src/parser/prmtop-parser.js","src/parser/psf-parser.js","src/parser/top-parser.js","src/parser/trajectory-parser.js","src/parser/dcd-parser.js","src/utils/netcdf-reader.js","src/parser/nctraj-parser.js","src/parser/trr-parser.js","src/parser/xtc-parser.js","src/parser/volume-parser.js","src/parser/cube-parser.js","src/parser/dsn6-parser.js","src/parser/dx-parser.js","src/parser/dxbin-parser.js","src/parser/mrc-parser.js","src/parser/xplor-parser.js","src/parser/kin-parser.js","src/parser/surface-parser.js","src/parser/obj-parser.js","src/parser/ply-parser.js","src/parser/csv-parser.js","src/parser/json-parser.js","src/parser/msgpack-parser.js","src/parser/netcdf-parser.js","src/parser/text-parser.js","src/utils/parse-xml.js","src/parser/xml-parser.js","src/structure/validation.js","src/parser/validation-parser.js","lib/pako_inflate.es6.js","src/utils/gzip-decompressor.js","src/datasource/datasource.js","src/datasource/rcsb-datasource.js","src/datasource/pubchem-datasource.js","src/datasource/passthrough-datasource.js","src/datasource/static-datasource.js","src/datasource/mdsrv-datasource.js","src/ui/parameters.js","src/version.js","src/ngl.js"],"sourcesContent":["/**\n * @file shims\n * @private\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\n\n/// ///////////\n// Polyfills\n\nif (typeof window !== 'undefined') {\n  (function () {\n    'use strict'\n    // Console-polyfill. MIT license.\n    // https://github.com/paulmillr/console-polyfill\n    // Make it safe to do console.log() always.\n\n    window.console = window.console || {}\n    var con = window.console\n    var prop, method\n    var empty = {}\n    var dummy = function () {}\n    var properties = 'memory'.split(',')\n    var methods = (\n      'assert,clear,count,debug,dir,dirxml,error,exception,group,' +\n      'groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,' +\n      'show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn'\n    ).split(',')\n\n    while ((prop = properties.pop())) if (!con[prop]) con[prop] = empty\n    while ((method = methods.pop())) if (!con[method]) con[method] = dummy\n  })()\n}\n\nif (typeof window !== 'undefined' && typeof window.HTMLCanvasElement !== 'undefined' && !window.HTMLCanvasElement.prototype.toBlob) {\n  // http://code.google.com/p/chromium/issues/detail?id=67587#57\n  Object.defineProperty(window.HTMLCanvasElement.prototype, 'toBlob', {\n\n    value: function (callback, type, quality) {\n      var bin = window.atob(this.toDataURL(type, quality).split(',')[ 1 ])\n      var len = bin.length\n      var len32 = len >> 2\n      var a8 = new Uint8Array(len)\n      var a32 = new Uint32Array(a8.buffer, 0, len32)\n\n      for (var i = 0, j = 0; i < len32; i++) {\n        a32[i] = (\n          bin.charCodeAt(j++) |\n          bin.charCodeAt(j++) << 8 |\n          bin.charCodeAt(j++) << 16 |\n          bin.charCodeAt(j++) << 24\n        )\n      }\n\n      var tailLength = len & 3\n\n      while (tailLength--) {\n        a8[ j ] = bin.charCodeAt(j++)\n      }\n\n      callback(new window.Blob([ a8 ], { 'type': type || 'image/png' }))\n    }\n\n  })\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/cbrt\nMath.cbrt = Math.cbrt || function (x) {\n  var y = Math.pow(Math.abs(x), 1 / 3)\n  return x < 0 ? -y : y\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\nif (!Math.sign) {\n  Math.sign = function (x) {\n    // If x is NaN, the result is NaN.\n    // If x is -0, the result is -0.\n    // If x is +0, the result is +0.\n    // If x is negative and not -0, the result is -1.\n    // If x is positive and not +0, the result is +1.\n    x = +x // convert to a number\n    if (x === 0 || isNaN(x)) {\n      return Number(x)\n    }\n    return x > 0 ? 1 : -1\n  }\n}\n\nif (!Number.isInteger) {\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\n  Number.isInteger = function isInteger (nVal) {\n    return typeof nVal === 'number' && isFinite(nVal) && nVal > -9007199254740992 && nVal < 9007199254740992 && Math.floor(nVal) === nVal\n  }\n}\n\nif (!Number.isNaN) {\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isNaN\n  Number.isNaN = function isNaN (value) {\n    return value !== value // eslint-disable-line no-self-compare\n  }\n}\n\nif (!Object.assign) {\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n  Object.defineProperty(Object, 'assign', {\n\n    enumerable: false,\n    configurable: true,\n    writable: true,\n\n    value: function (target/*, firstSource */) {\n      'use strict'\n      if (target === undefined || target === null) { throw new TypeError('Cannot convert first argument to object') }\n\n      var to = Object(target)\n\n      var hasPendingException = false\n      var pendingException\n\n      for (var i = 1; i < arguments.length; i++) {\n        var nextSource = arguments[i]\n        if (nextSource === undefined || nextSource === null) { continue }\n\n        var keysArray = Object.keys(Object(nextSource))\n        for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\n          var nextKey = keysArray[nextIndex]\n          try {\n            var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey)\n            if (desc !== undefined && desc.enumerable) { to[nextKey] = nextSource[nextKey] }\n          } catch (e) {\n            if (!hasPendingException) {\n              hasPendingException = true\n              pendingException = e\n            }\n          }\n        }\n\n        if (hasPendingException) { throw pendingException }\n      }\n\n      return to\n    }\n\n  })\n}\n\nif (!String.prototype.startsWith) {\n  /*! https://mths.be/startswith v0.2.0 by @mathias */\n\n  (function () {\n    'use strict' // needed to support `apply`/`call` with `undefined`/`null`\n    var defineProperty = (function () {\n      // IE 8 only supports `Object.defineProperty` on DOM elements\n      var result\n      try {\n        var object = {}\n        var $defineProperty = Object.defineProperty\n        result = $defineProperty(object, object, object) && $defineProperty\n      } catch (error) {} // eslint-disable-line no-empty\n      return result\n    }())\n    var toString = {}.toString\n    var startsWith = function (search) {\n      if (this === null) {\n        throw TypeError()\n      }\n      var string = String(this)\n      if (search && toString.call(search) === '[object RegExp]') {\n        throw TypeError()\n      }\n      var stringLength = string.length\n      var searchString = String(search)\n      var searchLength = searchString.length\n      var position = arguments.length > 1 ? arguments[1] : undefined\n      // `ToInteger`\n      var pos = position ? Number(position) : 0\n      if (Number.isNaN(pos)) {\n        pos = 0\n      }\n      var start = Math.min(Math.max(pos, 0), stringLength)\n      // Avoid the `indexOf` call if no match is possible\n      if (searchLength + start > stringLength) {\n        return false\n      }\n      var index = -1\n      while (++index < searchLength) {\n        if (string.charCodeAt(start + index) !== searchString.charCodeAt(index)) {\n          return false\n        }\n      }\n      return true\n    }\n    if (defineProperty) {\n      defineProperty(String.prototype, 'startsWith', {\n        'value': startsWith,\n        'configurable': true,\n        'writable': true\n      })\n    } else {\n      // eslint-disable-next-line no-extend-native\n      String.prototype.startsWith = startsWith\n    }\n  }())\n}\n\nif (!String.prototype.endsWith) {\n  // eslint-disable-next-line no-extend-native\n  String.prototype.endsWith = function (searchString, position) {\n    var subjectString = this.toString()\n    if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n      position = subjectString.length\n    }\n    position -= searchString.length\n    var lastIndex = subjectString.indexOf(searchString, position)\n    return lastIndex !== -1 && lastIndex === position\n  }\n}\n\nif (!String.prototype.repeat) {\n  // eslint-disable-next-line no-extend-native\n  String.prototype.repeat = function (count) {\n    'use strict'\n    if (this === null) {\n      throw new TypeError('can\\'t convert ' + this + ' to object')\n    }\n    var str = '' + this\n    count = +count\n    if (Number.isNaN(count)) {\n      count = 0\n    }\n    if (count < 0) {\n      throw new RangeError('repeat count must be non-negative')\n    }\n    if (count === Infinity) {\n      throw new RangeError('repeat count must be less than infinity')\n    }\n    count = Math.floor(count)\n    if (str.length === 0 || count === 0) {\n      return ''\n    }\n    // Ensuring count is a 31-bit integer allows us to heavily optimize the\n    // main part. But anyway, most current (August 2014) browsers can't handle\n    // strings 1 << 28 chars or longer, so:\n    if (str.length * count >= 1 << 28) {\n      throw new RangeError('repeat count must not overflow maximum string size')\n    }\n    var rpt = ''\n    for (;;) {\n      if ((count & 1) === 1) {\n        rpt += str\n      }\n      count >>>= 1\n      if (count === 0) {\n        break\n      }\n      str += str\n    }\n    // Could we try:\n    // return Array(count + 1).join(this);\n    return rpt\n  }\n}\n\nif (!String.prototype.includes) {\n  // eslint-disable-next-line no-extend-native\n  String.prototype.includes = function (search, start) {\n    'use strict'\n    if (typeof start !== 'number') {\n      start = 0\n    }\n\n    if (start + search.length > this.length) {\n      return false\n    } else {\n      return this.indexOf(search, start) !== -1\n    }\n  }\n}\n\nif (!Array.prototype.includes) {\n  // eslint-disable-next-line no-extend-native\n  Array.prototype.includes = function (searchElement /*, fromIndex */) {\n    'use strict'\n    if (this == null) {\n      throw new TypeError('Array.prototype.includes called on null or undefined')\n    }\n\n    var O = Object(this)\n    var len = parseInt(O.length, 10) || 0\n    if (len === 0) {\n      return false\n    }\n    var n = parseInt(arguments[1], 10) || 0\n    var k\n    if (n >= 0) {\n      k = n\n    } else {\n      k = len + n\n      if (k < 0) { k = 0 }\n    }\n    var currentElement\n    while (k < len) {\n      currentElement = O[k]\n      if (searchElement === currentElement ||\n          (Number.isNaN(searchElement) && Number.isNaN(currentElement))\n      ) {\n        return true\n      }\n      k++\n    }\n    return false\n  }\n}\n\n// Production steps of ECMA-262, Edition 6, 22.1.2.1\n// Reference: https://people.mozilla.org/~jorendorff/es6-draft.html#sec-array.from\nif (!Array.from) {\n  Array.from = (function () {\n    var toStr = Object.prototype.toString\n    var isCallable = function (fn) {\n      return typeof fn === 'function' || toStr.call(fn) === '[object Function]'\n    }\n    var toInteger = function (value) {\n      var number = Number(value)\n      if (isNaN(number)) { return 0 }\n      if (number === 0 || !isFinite(number)) { return number }\n      return (number > 0 ? 1 : -1) * Math.floor(Math.abs(number))\n    }\n    var maxSafeInteger = Math.pow(2, 53) - 1\n    var toLength = function (value) {\n      var len = toInteger(value)\n      return Math.min(Math.max(len, 0), maxSafeInteger)\n    }\n\n    // The length property of the from method is 1.\n    return function from (arrayLike/*, mapFn, thisArg */) {\n      // 1. Let C be the this value.\n      var C = this\n\n      // 2. Let items be ToObject(arrayLike).\n      var items = Object(arrayLike)\n\n      // 3. ReturnIfAbrupt(items).\n      if (arrayLike == null) {\n        throw new TypeError('Array.from requires an array-like object - not null or undefined')\n      }\n\n      // 4. If mapfn is undefined, then let mapping be false.\n      var mapFn = arguments.length > 1 ? arguments[1] : void undefined\n      var T\n      if (typeof mapFn !== 'undefined') {\n        // 5. else\n        // 5. a If IsCallable(mapfn) is false, throw a TypeError exception.\n        if (!isCallable(mapFn)) {\n          throw new TypeError('Array.from: when provided, the second argument must be a function')\n        }\n\n        // 5. b. If thisArg was supplied, let T be thisArg; else let T be undefined.\n        if (arguments.length > 2) {\n          T = arguments[2]\n        }\n      }\n\n      // 10. Let lenValue be Get(items, \"length\").\n      // 11. Let len be ToLength(lenValue).\n      var len = toLength(items.length)\n\n      // 13. If IsConstructor(C) is true, then\n      // 13. a. Let A be the result of calling the [[Construct]] internal method of C with an argument list containing the single item len.\n      // 14. a. Else, Let A be ArrayCreate(len).\n      var A = isCallable(C) ? Object(new C(len)) : new Array(len)\n\n      // 16. Let k be 0.\n      var k = 0\n      // 17. Repeat, while k < len… (also steps a - h)\n      var kValue\n      while (k < len) {\n        kValue = items[k]\n        if (mapFn) {\n          A[k] = typeof T === 'undefined' ? mapFn(kValue, k) : mapFn.call(T, kValue, k)\n        } else {\n          A[k] = kValue\n        }\n        k += 1\n      }\n      // 18. Let putStatus be Put(A, \"length\", len, true).\n      A.length = len\n      // 20. Return A.\n      return A\n    }\n  }())\n}\n\nif (typeof window !== 'undefined') {\n  (function () {\n    // http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n    // http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\n\n    // requestAnimationFrame polyfill by Erik Möller. fixes from Paul Irish and Tino Zijdel\n\n    // MIT license\n\n    var lastTime = 0\n    var vendors = [ 'ms', 'moz', 'webkit', 'o' ]\n\n    for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n      window.requestAnimationFrame = (\n        window[ vendors[ x ] + 'RequestAnimationFrame' ]\n      )\n\n      window.cancelAnimationFrame = (\n        window[ vendors[ x ] + 'CancelAnimationFrame' ] ||\n        window[ vendors[ x ] + 'CancelRequestAnimationFrame' ]\n      )\n    }\n\n    if (!window.requestAnimationFrame) {\n      window.requestAnimationFrame = function (callback/*, element */) {\n        var currTime = new Date().getTime()\n        var timeToCall = Math.max(0, 16 - (currTime - lastTime))\n\n        var id = window.setTimeout(function () {\n          var time = currTime + timeToCall\n          callback(time)\n        }, timeToCall)\n\n        lastTime = currTime + timeToCall\n\n        return id\n      }\n    }\n\n    if (!window.cancelAnimationFrame) {\n      window.cancelAnimationFrame = function (id) {\n        clearTimeout(id)\n      }\n    }\n  }())\n}\n\nif (Function.prototype.name === undefined && Object.defineProperty !== undefined) {\n  // Missing in IE9-11.\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name\n\n  // eslint-disable-next-line no-extend-native\n  Object.defineProperty(Function.prototype, 'name', {\n\n    get: function () {\n      return this.toString().match(/^\\s*function\\s*(\\S*)\\s*\\(/)[ 1 ]\n    }\n\n  })\n}\n\nif (typeof window !== 'undefined') {\n  if (window.performance === undefined) {\n    /* global self */\n    self.performance = {}\n  }\n\n  if (window.performance.now === undefined) {\n    (function () {\n      var start = Date.now()\n\n      window.performance.now = function () {\n        return Date.now() - start\n      }\n    })()\n  }\n}\n\nif (Object.defineProperty !== undefined) {\n  // Missing in IE < 13\n  // MIT license\n  // Copyright (c) 2016 Financial Times\n  // https://github.com/Financial-Times/polyfill-service\n  if (Number.MAX_SAFE_INTEGER === undefined) {\n    Object.defineProperty(Number, 'MAX_SAFE_INTEGER', {\n      enumerable: false,\n      configurable: false,\n      writable: false,\n      value: Math.pow(2, 53) - 1\n    })\n  }\n  if (Number.MIN_SAFE_INTEGER === undefined) {\n    Object.defineProperty(Number, 'MIN_SAFE_INTEGER', {\n      enumerable: false,\n      configurable: false,\n      writable: false,\n      value: -(Math.pow(2, 53) - 1)\n    })\n  }\n}\n","/**\n * @file Utils\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector2, Vector3, Matrix4, Quaternion } from 'three';\nexport function getQuery(id) {\n    if (typeof window === 'undefined')\n        return undefined;\n    const a = new RegExp(`${id}=([^&#=]*)`);\n    const m = a.exec(window.location.search);\n    if (m) {\n        return decodeURIComponent(m[1]);\n    }\n    else {\n        return undefined;\n    }\n}\nexport function boolean(value) {\n    if (!value) {\n        return false;\n    }\n    if (typeof value === 'string') {\n        return /^1|true|t|yes|y$/i.test(value);\n    }\n    return true;\n}\nexport function defaults(value, defaultValue) {\n    return value !== undefined ? value : defaultValue;\n}\nexport function createParams(params, defaultParams) {\n    const o = Object.assign({}, params);\n    for (const k in defaultParams) {\n        const value = params[k];\n        if (value === undefined)\n            o[k] = defaultParams[k];\n    }\n    return o;\n}\nexport function updateParams(params, newParams) {\n    for (const k in newParams) {\n        const value = newParams[k];\n        if (value !== undefined)\n            params[k] = value;\n    }\n    return params;\n}\nexport function pick(object) {\n    const properties = [].slice.call(arguments, 1);\n    return properties.reduce((a, e) => {\n        a[e] = object[e];\n        return a;\n    }, {});\n}\nexport function flatten(array, ret) {\n    ret = defaults(ret, []);\n    for (let i = 0; i < array.length; i++) {\n        if (Array.isArray(array[i])) {\n            flatten(array[i], ret);\n        }\n        else {\n            ret.push(array[i]);\n        }\n    }\n    return ret;\n}\nexport function getProtocol() {\n    const protocol = window.location.protocol;\n    return protocol.match(/http(s)?:/gi) === null ? 'http:' : protocol;\n}\nexport function getBrowser() {\n    if (typeof window === 'undefined')\n        return false;\n    const ua = window.navigator.userAgent;\n    if (/Opera|OPR/.test(ua)) {\n        return 'Opera';\n    }\n    else if (/Chrome/i.test(ua)) {\n        return 'Chrome';\n    }\n    else if (/Firefox/i.test(ua)) {\n        return 'Firefox';\n    }\n    else if (/Mobile(\\/.*)? Safari/i.test(ua)) {\n        return 'Mobile Safari';\n    }\n    else if (/MSIE/i.test(ua)) {\n        return 'Internet Explorer';\n    }\n    else if (/Safari/i.test(ua)) {\n        return 'Safari';\n    }\n    return false;\n}\nexport function getAbsolutePath(relativePath) {\n    const loc = window.location;\n    const pn = loc.pathname;\n    const basePath = pn.substring(0, pn.lastIndexOf('/') + 1);\n    return loc.origin + basePath + relativePath;\n}\nexport function deepCopy(src) {\n    if (typeof src !== 'object') {\n        return src;\n    }\n    const dst = Array.isArray(src) ? [] : {};\n    for (let key in src) {\n        dst[key] = deepCopy(src[key]);\n    }\n    return dst;\n}\nexport function deepEqual(a, b) {\n    // from https://github.com/epoberezkin/fast-deep-equal MIT\n    if (a === b)\n        return true;\n    const arrA = Array.isArray(a);\n    const arrB = Array.isArray(b);\n    if (arrA && arrB) {\n        if (a.length !== b.length)\n            return false;\n        for (let i = 0; i < a.length; i++) {\n            if (!deepEqual(a[i], b[i]))\n                return false;\n        }\n        return true;\n    }\n    if (arrA !== arrB)\n        return false;\n    if (a && b && typeof a === 'object' && typeof b === 'object') {\n        const keys = Object.keys(a);\n        if (keys.length !== Object.keys(b).length)\n            return false;\n        const dateA = a instanceof Date;\n        const dateB = b instanceof Date;\n        if (dateA && dateB)\n            return a.getTime() === b.getTime();\n        if (dateA !== dateB)\n            return false;\n        const regexpA = a instanceof RegExp;\n        const regexpB = b instanceof RegExp;\n        if (regexpA && regexpB)\n            return a.toString() === b.toString();\n        if (regexpA !== regexpB)\n            return false;\n        for (let i = 0; i < keys.length; i++) {\n            if (!Object.prototype.hasOwnProperty.call(b, keys[i]))\n                return false;\n        }\n        for (let i = 0; i < keys.length; i++) {\n            if (!deepEqual(a[keys[i]], b[keys[i]]))\n                return false;\n        }\n        return true;\n    }\n    return false;\n}\nfunction openUrl(url) {\n    const opened = window.open(url, '_blank');\n    if (!opened) {\n        window.location.href = url;\n    }\n}\nexport function download(data, downloadName = 'download') {\n    // using ideas from https://github.com/eligrey/FileSaver.js/blob/master/FileSaver.js\n    if (!data)\n        return;\n    const isSafari = getBrowser() === 'Safari';\n    const isChromeIos = /CriOS\\/[\\d]+/.test(window.navigator.userAgent);\n    const a = document.createElement('a');\n    function open(str) {\n        openUrl(isChromeIos ? str : str.replace(/^data:[^;]*;/, 'data:attachment/file;'));\n    }\n    if (typeof navigator !== 'undefined' && navigator.msSaveOrOpenBlob) {\n        // native saveAs in IE 10+\n        navigator.msSaveOrOpenBlob(data, downloadName);\n    }\n    else if ((isSafari || isChromeIos) && FileReader) {\n        if (data instanceof Blob) {\n            // no downloading of blob urls in Safari\n            var reader = new FileReader();\n            reader.onloadend = function () {\n                open(reader.result);\n            };\n            reader.readAsDataURL(data);\n        }\n        else {\n            open(data);\n        }\n    }\n    else {\n        let objectUrlCreated = false;\n        if (data instanceof Blob) {\n            data = URL.createObjectURL(data);\n            objectUrlCreated = true;\n        }\n        if ('download' in a) {\n            // download link available\n            a.style.display = 'hidden';\n            document.body.appendChild(a);\n            a.href = data;\n            a.download = downloadName;\n            a.target = '_blank';\n            a.click();\n            document.body.removeChild(a);\n        }\n        else {\n            openUrl(data);\n        }\n        if (objectUrlCreated) {\n            window.URL.revokeObjectURL(data);\n        }\n    }\n}\nexport function submit(url, data, callback, onerror) {\n    const xhr = new XMLHttpRequest();\n    xhr.open('POST', url);\n    xhr.addEventListener('load', function () {\n        if (xhr.status === 200 || xhr.status === 304) {\n            callback(xhr.response);\n        }\n        else {\n            if (typeof onerror === 'function') {\n                onerror(xhr.status);\n            }\n        }\n    }, false);\n    xhr.send(data);\n}\nexport function open(callback, extensionList = ['*']) {\n    const fileInput = document.createElement('input');\n    fileInput.type = 'file';\n    fileInput.multiple = true;\n    fileInput.style.display = 'hidden';\n    document.body.appendChild(fileInput);\n    fileInput.accept = '.' + extensionList.join(',.');\n    fileInput.addEventListener('change', function (e) {\n        callback(e.target.files);\n    }, false);\n    fileInput.click();\n}\nexport function throttle(func, wait, options) {\n    // from http://underscorejs.org/docs/underscore.html\n    let context;\n    let args;\n    let result;\n    let timeout = null;\n    let previous = 0;\n    if (!options)\n        options = {};\n    function later() {\n        previous = options.leading === false ? 0 : Date.now();\n        timeout = null;\n        result = func.apply(context, args);\n        if (!timeout)\n            context = args = null;\n    }\n    return function throttle() {\n        var now = Date.now();\n        if (!previous && options.leading === false)\n            previous = now;\n        var remaining = wait - (now - previous);\n        context = this;\n        args = arguments;\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            result = func.apply(context, args);\n            if (!timeout)\n                context = args = null;\n        }\n        else if (!timeout && options.trailing !== false) {\n            timeout = setTimeout(later, remaining);\n        }\n        return result;\n    };\n}\nexport function lexicographicCompare(elm1, elm2) {\n    if (elm1 < elm2)\n        return -1;\n    if (elm1 > elm2)\n        return 1;\n    return 0;\n}\n/**\n * Does a binary search to get the index of an element in the input array\n * @function\n * @example\n * var array = [ 1, 2, 3, 4, 5, 6 ];\n * var element = 4;\n * binarySearchIndexOf( array, element );  // returns 3\n *\n * @param {Array} array - sorted array\n * @param {Anything} element - element to search for in the array\n * @param {Function} [compareFunction] - compare function\n * @return {Number} the index of the element or -1 if not in the array\n */\nexport function binarySearchIndexOf(array, element, compareFunction = lexicographicCompare) {\n    let low = 0;\n    let high = array.length - 1;\n    while (low <= high) {\n        const mid = (low + high) >> 1;\n        const cmp = compareFunction(element, array[mid]);\n        if (cmp > 0) {\n            low = mid + 1;\n        }\n        else if (cmp < 0) {\n            high = mid - 1;\n        }\n        else {\n            return mid;\n        }\n    }\n    return -low - 1;\n}\nexport function binarySearchForLeftRange(array, leftRange) {\n    let high = array.length - 1;\n    if (array[high] < leftRange)\n        return -1;\n    let low = 0;\n    while (low <= high) {\n        const mid = (low + high) >> 1;\n        if (array[mid] >= leftRange) {\n            high = mid - 1;\n        }\n        else {\n            low = mid + 1;\n        }\n    }\n    return high + 1;\n}\nexport function binarySearchForRightRange(array, rightRange) {\n    if (array[0] > rightRange)\n        return -1;\n    let low = 0;\n    let high = array.length - 1;\n    while (low <= high) {\n        const mid = (low + high) >> 1;\n        if (array[mid] > rightRange) {\n            high = mid - 1;\n        }\n        else {\n            low = mid + 1;\n        }\n    }\n    return low - 1;\n}\nexport function rangeInSortedArray(array, min, max) {\n    const indexLeft = binarySearchForLeftRange(array, min);\n    const indexRight = binarySearchForRightRange(array, max);\n    if (indexLeft === -1 || indexRight === -1 || indexLeft > indexRight) {\n        return 0;\n    }\n    else {\n        return indexRight - indexLeft + 1;\n    }\n}\nexport function dataURItoImage(dataURI) {\n    const img = document.createElement('img');\n    img.src = dataURI;\n    return img;\n}\nexport function uniqueArray(array) {\n    return array.sort().filter(function (value, index, sorted) {\n        return (index === 0) || (value !== sorted[index - 1]);\n    });\n}\n// String/arraybuffer conversion\nexport function uint8ToString(u8a) {\n    const chunkSize = 0x7000;\n    if (u8a.length > chunkSize) {\n        const c = [];\n        for (let i = 0; i < u8a.length; i += chunkSize) {\n            c.push(String.fromCharCode.apply(null, u8a.subarray(i, i + chunkSize)));\n        }\n        return c.join('');\n    }\n    else {\n        return String.fromCharCode.apply(null, u8a);\n    }\n}\nexport function uint8ToLines(u8a, chunkSize = 1024 * 1024 * 10, newline = '\\n') {\n    let partialLine = '';\n    let lines = [];\n    for (let i = 0; i < u8a.length; i += chunkSize) {\n        const str = uint8ToString(u8a.subarray(i, i + chunkSize));\n        const idx = str.lastIndexOf(newline);\n        if (idx === -1) {\n            partialLine += str;\n        }\n        else {\n            const str2 = partialLine + str.substr(0, idx);\n            lines = lines.concat(str2.split(newline));\n            if (idx === str.length - newline.length) {\n                partialLine = '';\n            }\n            else {\n                partialLine = str.substr(idx + newline.length);\n            }\n        }\n    }\n    if (partialLine !== '') {\n        lines.push(partialLine);\n    }\n    return lines;\n}\nexport function getTypedArray(arrayType, arraySize) {\n    switch (arrayType) {\n        case 'int8':\n            return new Int8Array(arraySize);\n        case 'int16':\n            return new Int16Array(arraySize);\n        case 'int32':\n            return new Int32Array(arraySize);\n        case 'uint8':\n            return new Uint8Array(arraySize);\n        case 'uint16':\n            return new Uint16Array(arraySize);\n        case 'uint32':\n            return new Uint32Array(arraySize);\n        case 'float32':\n            return new Float32Array(arraySize);\n        default:\n            throw new Error('arrayType unknown: ' + arrayType);\n    }\n}\nexport function getUintArray(sizeOrArray, maxUint) {\n    const TypedArray = maxUint > 65535 ? Uint32Array : Uint16Array;\n    return new TypedArray(sizeOrArray);\n}\nexport function ensureArray(value) {\n    return Array.isArray(value) ? value : [value];\n}\nexport function ensureBuffer(a) {\n    return (a.buffer && a.buffer instanceof ArrayBuffer) ? a.buffer : a;\n}\nfunction _ensureClassFromArg(arg, constructor) {\n    return arg instanceof constructor ? arg : new constructor(arg);\n}\nfunction _ensureClassFromArray(array, constructor) {\n    if (array === undefined) {\n        array = new constructor();\n    }\n    else if (Array.isArray(array)) {\n        array = new constructor().fromArray(array);\n    }\n    return array;\n}\nexport function ensureVector2(v) {\n    return _ensureClassFromArray(v, Vector2);\n}\nexport function ensureVector3(v) {\n    return _ensureClassFromArray(v, Vector3);\n}\nexport function ensureMatrix4(m) {\n    return _ensureClassFromArray(m, Matrix4);\n}\nexport function ensureQuaternion(q) {\n    return _ensureClassFromArray(q, Quaternion);\n}\nexport function ensureFloat32Array(a) {\n    return _ensureClassFromArg(a, Float32Array);\n}\nexport function createRingBuffer(length) {\n    let pointer = 0;\n    let count = 0;\n    const buffer = [];\n    return {\n        has: function (value) { return buffer.indexOf(value) !== -1; },\n        get: function (idx) { return buffer[idx]; },\n        push: function (item) {\n            buffer[pointer] = item;\n            pointer = (length + pointer + 1) % length;\n            ++count;\n        },\n        get count() { return count; },\n        get data() { return buffer.slice(0, Math.min(count, length)); },\n        clear: function () {\n            count = 0;\n            pointer = 0;\n            buffer.length = 0;\n        }\n    };\n}\nexport function createSimpleDict() {\n    const set = {};\n    return {\n        has: function (k) { return set[JSON.stringify(k)] !== undefined; },\n        add: function (k, v) { set[JSON.stringify(k)] = v; },\n        del: function (k) { delete set[JSON.stringify(k)]; },\n        get values() { return Object.keys(set).map(k => set[k]); }\n    };\n}\nexport function createSimpleSet() {\n    const set = {};\n    return {\n        has: function (v) { return set[JSON.stringify(v)] !== undefined; },\n        add: function (v) { set[JSON.stringify(v)] = v; },\n        del: function (v) { delete set[JSON.stringify(v)]; },\n        get list() { return Object.keys(set).map(k => set[k]); },\n    };\n}\n//# sourceMappingURL=utils.js.map","/**\n * @file Registry\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { defaults } from '../utils';\nfunction toLowerCaseString(value) {\n    return defaults(value, '').toString().toLowerCase();\n}\nexport default class Registry {\n    constructor(name) {\n        this.name = name;\n        this._dict = {};\n    }\n    add(key, value) {\n        this._dict[toLowerCaseString(key)] = value;\n    }\n    get(key) {\n        return this._dict[toLowerCaseString(key)];\n    }\n    get names() {\n        return Object.keys(this._dict);\n    }\n}\n//# sourceMappingURL=registry.js.map","/**\n * @file Math Utils\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nexport function degToRad(deg) {\n    return deg * 0.01745; // deg * Math.PI / 180\n}\nexport function radToDeg(rad) {\n    return rad * 57.29578; // rad * 180 / Math.PI\n}\n// http://www.broofa.com/Tools/Math.uuid.htm\nconst chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');\nconst uuid = new Array(36);\nexport function generateUUID() {\n    let rnd = 0;\n    let r;\n    for (let i = 0; i < 36; i++) {\n        if (i === 8 || i === 13 || i === 18 || i === 23) {\n            uuid[i] = '-';\n        }\n        else if (i === 14) {\n            uuid[i] = '4';\n        }\n        else {\n            if (rnd <= 0x02)\n                rnd = 0x2000000 + (Math.random() * 0x1000000) | 0;\n            r = rnd & 0xf;\n            rnd = rnd >> 4;\n            uuid[i] = chars[(i === 19) ? (r & 0x3) | 0x8 : r];\n        }\n    }\n    return uuid.join('');\n}\nexport function countSetBits(i) {\n    i = i - ((i >> 1) & 0x55555555);\n    i = (i & 0x33333333) + ((i >> 2) & 0x33333333);\n    return (((i + (i >> 4)) & 0x0F0F0F0F) * 0x01010101) >> 24;\n}\nexport function normalize(value, min, max) {\n    return (value - min) / (max - min);\n}\nexport function clamp(value, min, max) {\n    return Math.max(min, Math.min(max, value));\n}\nexport function pclamp(value) {\n    return clamp(value, 0, 100);\n}\nexport function saturate(value) {\n    return clamp(value, 0, 1);\n}\nexport function lerp(start, stop, alpha) {\n    return start + (stop - start) * alpha;\n}\nexport function spline(p0, p1, p2, p3, t, tension) {\n    const v0 = (p2 - p0) * tension;\n    const v1 = (p3 - p1) * tension;\n    const t2 = t * t;\n    const t3 = t * t2;\n    return (2 * p1 - 2 * p2 + v0 + v1) * t3 +\n        (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 +\n        v0 * t + p1;\n}\nexport function smoothstep(min, max, x) {\n    x = saturate(normalize(x, min, max));\n    return x * x * (3 - 2 * x);\n}\nexport function smootherstep(min, max, x) {\n    x = saturate(normalize(x, min, max));\n    return x * x * x * (x * (x * 6 - 15) + 10);\n}\nexport function smootheststep(min, max, x) {\n    x = saturate(normalize(x, min, max));\n    return (-20 * Math.pow(x, 7) +\n        70 * Math.pow(x, 6) -\n        84 * Math.pow(x, 5) +\n        35 * Math.pow(x, 4));\n}\nexport function almostIdentity(value, start, stop) {\n    if (value > start)\n        return value;\n    const a = 2 * stop - start;\n    const b = 2 * start - 3 * stop;\n    const t = value / start;\n    return (a * t + b) * t * t + stop;\n}\n//# sourceMappingURL=math-utils.js.map","/**\n * @file Colormaker\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Color } from 'three';\nimport * as chroma from 'chroma-js';\nimport { createParams } from '../utils';\nexport const ScaleDefaultParameters = {\n    scale: 'uniform',\n    mode: 'hcl',\n    domain: [0, 1],\n    value: 0xFFFFFF,\n    reverse: false\n};\nconst tmpColor = new Color();\n/**\n * Class for making colors.\n * @interface\n */\nclass Colormaker {\n    /**\n     * Create a colormaker instance\n     * @param  {ColormakerParameters} params - colormaker parameter\n     */\n    constructor(params = {}) {\n        this.parameters = createParams(params, ScaleDefaultParameters);\n        if (typeof this.parameters.value === 'string') {\n            this.parameters.value = tmpColor.set(this.parameters.value).getHex();\n        }\n        if (this.parameters.structure) {\n            this.atomProxy = this.parameters.structure.getAtomProxy();\n        }\n    }\n    getScale(params = {}) {\n        const p = createParams(params, this.parameters);\n        if (p.scale === 'rainbow') {\n            p.scale = ['red', 'orange', 'yellow', 'green', 'blue'];\n        }\n        else if (p.scale === 'rwb') {\n            p.scale = ['red', 'white', 'blue'];\n        }\n        if (p.reverse) {\n            p.domain.reverse();\n        }\n        return chroma\n            .scale(p.scale) // TODO\n            .mode(p.mode)\n            .domain(p.domain)\n            .out('num'); // TODO\n    }\n    /**\n     * safe a color to an array\n     * @param  {Integer} color - hex color value\n     * @param  {Array|TypedArray} array - destination\n     * @param  {Integer} offset - index into the array\n     * @return {Array} the destination array\n     */\n    colorToArray(color, array = [], offset = 0) {\n        array[offset] = (color >> 16 & 255) / 255;\n        array[offset + 1] = (color >> 8 & 255) / 255;\n        array[offset + 2] = (color & 255) / 255;\n        return array;\n    }\n    /**\n     * safe a atom color to an array\n     * @param  {AtomProxy} atom - atom to get color for\n     * @param  {Array|TypedArray} array - destination\n     * @param  {Integer} offset - index into the array\n     * @return {Array} the destination array\n     */\n    atomColorToArray(atom, array, offset) {\n        return this.colorToArray(this.atomColor ? this.atomColor(atom) : 0x000000, array, offset);\n    }\n    /**\n     * return the color for an bond\n     * @param  {BondProxy} bond - bond to get color for\n     * @param  {Boolean} fromTo - whether to use the first or second atom of the bond\n     * @return {Integer} hex bond color\n     */\n    bondColor(bond, fromTo) {\n        if (this.atomProxy && this.atomColor) {\n            this.atomProxy.index = fromTo ? bond.atomIndex1 : bond.atomIndex2;\n            return this.atomColor(this.atomProxy);\n        }\n        else {\n            return 0x000000;\n        }\n    }\n    /**\n     * safe a bond color to an array\n     * @param  {BondProxy} bond - bond to get color for\n     * @param  {Boolean} fromTo - whether to use the first or second atom of the bond\n     * @param  {Array|TypedArray} array - destination\n     * @param  {Integer} offset - index into the array\n     * @return {Array} the destination array\n     */\n    bondColorToArray(bond, fromTo, array, offset) {\n        return this.colorToArray(this.bondColor(bond, fromTo), array, offset);\n    }\n    /**\n     * safe a volume cell color to an array\n     * @param  {Integer} index - volume cell index\n     * @param  {Array|TypedArray} array - destination\n     * @param  {Integer} offset - index into the array\n     * @return {Array} the destination array\n     */\n    volumeColorToArray(index, array, offset) {\n        return this.colorToArray(this.volumeColor ? this.volumeColor(index) : 0x000000, array, offset);\n    }\n    /**\n     * safe a color for coordinates in space to an array\n     * @param  {Vector3} coords - xyz coordinates\n     * @param  {Array|TypedArray} array - destination\n     * @param  {Integer} offset - index into the array\n     * @return {Array} the destination array\n     */\n    positionColorToArray(coords, array, offset) {\n        return this.colorToArray(this.positionColor ? this.positionColor(coords) : 0x000000, array, offset);\n    }\n}\nexport default Colormaker;\n//# sourceMappingURL=colormaker.js.map","/**\n * @file Selection Constants\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nexport var kwd;\n(function (kwd) {\n    kwd[kwd[\"PROTEIN\"] = 1] = \"PROTEIN\";\n    kwd[kwd[\"NUCLEIC\"] = 2] = \"NUCLEIC\";\n    kwd[kwd[\"RNA\"] = 3] = \"RNA\";\n    kwd[kwd[\"DNA\"] = 4] = \"DNA\";\n    kwd[kwd[\"POLYMER\"] = 5] = \"POLYMER\";\n    kwd[kwd[\"WATER\"] = 6] = \"WATER\";\n    kwd[kwd[\"HELIX\"] = 7] = \"HELIX\";\n    kwd[kwd[\"SHEET\"] = 8] = \"SHEET\";\n    kwd[kwd[\"TURN\"] = 9] = \"TURN\";\n    kwd[kwd[\"BACKBONE\"] = 10] = \"BACKBONE\";\n    kwd[kwd[\"SIDECHAIN\"] = 11] = \"SIDECHAIN\";\n    kwd[kwd[\"ALL\"] = 12] = \"ALL\";\n    kwd[kwd[\"HETERO\"] = 13] = \"HETERO\";\n    kwd[kwd[\"ION\"] = 14] = \"ION\";\n    kwd[kwd[\"SACCHARIDE\"] = 15] = \"SACCHARIDE\";\n    kwd[kwd[\"SUGAR\"] = 15] = \"SUGAR\";\n    kwd[kwd[\"BONDED\"] = 16] = \"BONDED\";\n    kwd[kwd[\"RING\"] = 17] = \"RING\";\n    kwd[kwd[\"AROMATICRING\"] = 18] = \"AROMATICRING\";\n    kwd[kwd[\"METAL\"] = 19] = \"METAL\";\n    kwd[kwd[\"POLARH\"] = 20] = \"POLARH\";\n    kwd[kwd[\"NONE\"] = 21] = \"NONE\";\n})(kwd || (kwd = {}));\nexport const SelectAllKeyword = ['*', '', 'ALL'];\nexport const SelectNoneKeyword = ['NONE'];\nexport const AtomOnlyKeywords = [\n    kwd.BACKBONE, kwd.SIDECHAIN, kwd.BONDED, kwd.RING, kwd.AROMATICRING, kwd.METAL, kwd.POLARH\n];\nexport const ChainKeywords = [\n    kwd.POLYMER, kwd.WATER\n];\nexport const SmallResname = ['ALA', 'GLY', 'SER'];\nexport const NucleophilicResname = ['CYS', 'SER', 'THR'];\nexport const HydrophobicResname = ['ALA', 'ILE', 'LEU', 'MET', 'PHE', 'PRO', 'TRP', 'VAL'];\nexport const AromaticResname = ['PHE', 'TRP', 'TYR', 'HIS'];\nexport const AmideResname = ['ASN', 'GLN'];\nexport const AcidicResname = ['ASP', 'GLU'];\nexport const BasicResname = ['ARG', 'HIS', 'LYS'];\nexport const ChargedResname = ['ARG', 'ASP', 'GLU', 'HIS', 'LYS'];\nexport const PolarResname = ['ASN', 'ARG', 'ASP', 'CYS', 'GLY', 'GLN', 'GLU', 'HIS', 'LYS', 'SER', 'THR', 'TYR'];\nexport const NonpolarResname = ['ALA', 'ILE', 'LEU', 'MET', 'PHE', 'PRO', 'TRP', 'VAL'];\nexport const CyclicResname = ['HIS', 'PHE', 'PRO', 'TRP', 'TYR'];\nexport const AliphaticResname = ['ALA', 'GLY', 'ILE', 'LEU', 'VAL'];\n//# sourceMappingURL=selection-constants.js.map","/**\n * @file Selection Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { kwd, SelectAllKeyword, SmallResname, NucleophilicResname, HydrophobicResname, AromaticResname, AmideResname, AcidicResname, BasicResname, ChargedResname, PolarResname, NonpolarResname, CyclicResname, AliphaticResname } from './selection-constants';\nfunction parseSele(string) {\n    let retSelection = {\n        operator: undefined,\n        rules: []\n    };\n    if (!string) {\n        return retSelection;\n    }\n    let selection = retSelection;\n    let newSelection;\n    let oldSelection;\n    const selectionStack = [];\n    string = string.replace(/\\(/g, ' ( ').replace(/\\)/g, ' ) ').trim();\n    if (string.charAt(0) === '(' && string.substr(-1) === ')') {\n        string = string.slice(1, -1).trim();\n    }\n    const chunks = string.split(/\\s+/);\n    // Log.log( string, chunks )\n    const createNewContext = (operator) => {\n        newSelection = {\n            operator,\n            rules: []\n        };\n        if (selection === undefined) {\n            selection = newSelection;\n            retSelection = newSelection;\n        }\n        else {\n            selection.rules.push(newSelection);\n            selectionStack.push(selection);\n            selection = newSelection;\n        }\n    };\n    const getPrevContext = function (operator) {\n        oldSelection = selection;\n        selection = selectionStack.pop();\n        if (selection === undefined) {\n            createNewContext(operator);\n            pushRule(oldSelection);\n        }\n    };\n    const pushRule = function (rule) {\n        selection.rules.push(rule);\n    };\n    let not = false;\n    for (let i = 0; i < chunks.length; ++i) {\n        const c = chunks[i];\n        const cu = c.toUpperCase();\n        // handle parens\n        if (c === '(') {\n            // Log.log( \"(\" );\n            not = false;\n            createNewContext();\n            continue;\n        }\n        else if (c === ')') {\n            // Log.log( \")\" );\n            getPrevContext();\n            if (selection.negate) {\n                getPrevContext();\n            }\n            continue;\n        }\n        // leave 'not' context\n        if (not > 0) {\n            if (cu === 'NOT') {\n                not = 1;\n            }\n            else if (not === 1) {\n                not = 2;\n            }\n            else if (not === 2) {\n                not = false;\n                getPrevContext();\n            }\n            else {\n                throw new Error(\"something went wrong with 'not'\");\n            }\n        }\n        // handle logic operators\n        if (cu === 'AND') {\n            // Log.log( \"AND\" );\n            if (selection.operator === 'OR') {\n                const lastRule = selection.rules.pop();\n                createNewContext('AND');\n                pushRule(lastRule);\n            }\n            else {\n                selection.operator = 'AND';\n            }\n            continue;\n        }\n        else if (cu === 'OR') {\n            // Log.log( \"OR\" );\n            if (selection.operator === 'AND') {\n                getPrevContext('OR');\n            }\n            else {\n                selection.operator = 'OR';\n            }\n            continue;\n        }\n        else if (c.toUpperCase() === 'NOT') {\n            // Log.log( \"NOT\", j );\n            not = 1;\n            createNewContext();\n            selection.negate = true;\n            continue;\n        }\n        else {\n            // Log.log( \"chunk\", c, j, selection );\n        }\n        // handle keyword attributes\n        // ensure `cu` is not a number before testing if it is in the\n        // kwd enum dictionary which includes the enum numbers as well...\n        if (+cu !== +cu) {\n            const keyword = kwd[cu];\n            if (keyword !== undefined) {\n                pushRule({ keyword });\n                continue;\n            }\n        }\n        if (cu === 'HYDROGEN') {\n            pushRule({\n                operator: 'OR',\n                rules: [\n                    { element: 'H' },\n                    { element: 'D' }\n                ]\n            });\n            continue;\n        }\n        if (cu === 'SMALL') {\n            pushRule({ resname: SmallResname });\n            continue;\n        }\n        if (cu === 'NUCLEOPHILIC') {\n            pushRule({ resname: NucleophilicResname });\n            continue;\n        }\n        if (cu === 'HYDROPHOBIC') {\n            pushRule({ resname: HydrophobicResname });\n            continue;\n        }\n        if (cu === 'AROMATIC') {\n            pushRule({ resname: AromaticResname });\n            continue;\n        }\n        if (cu === 'AMIDE') {\n            pushRule({ resname: AmideResname });\n            continue;\n        }\n        if (cu === 'ACIDIC') {\n            pushRule({ resname: AcidicResname });\n            continue;\n        }\n        if (cu === 'BASIC') {\n            pushRule({ resname: BasicResname });\n            continue;\n        }\n        if (cu === 'CHARGED') {\n            pushRule({ resname: ChargedResname });\n            continue;\n        }\n        if (cu === 'POLAR') {\n            pushRule({ resname: PolarResname });\n            continue;\n        }\n        if (cu === 'NONPOLAR') {\n            pushRule({ resname: NonpolarResname });\n            continue;\n        }\n        if (cu === 'CYCLIC') {\n            pushRule({ resname: CyclicResname });\n            continue;\n        }\n        if (cu === 'ALIPHATIC') {\n            pushRule({ resname: AliphaticResname });\n            continue;\n        }\n        if (cu === 'SIDECHAINATTACHED') {\n            pushRule({\n                operator: 'OR',\n                rules: [\n                    { keyword: kwd.SIDECHAIN },\n                    {\n                        operator: 'AND',\n                        negate: false,\n                        rules: [\n                            { keyword: kwd.PROTEIN },\n                            {\n                                operator: 'OR',\n                                negate: false,\n                                rules: [\n                                    { atomname: 'CA' },\n                                    { atomname: 'BB' }\n                                ]\n                            }\n                        ]\n                    },\n                    {\n                        operator: 'AND',\n                        negate: false,\n                        rules: [\n                            { resname: 'PRO' },\n                            { atomname: 'N' }\n                        ]\n                    },\n                    {\n                        operator: 'AND',\n                        negate: false,\n                        rules: [\n                            { keyword: kwd.NUCLEIC },\n                            {\n                                operator: 'OR',\n                                negate: true,\n                                rules: [\n                                    { atomname: 'P' },\n                                    { atomname: 'OP1' },\n                                    { atomname: 'OP2' },\n                                    { atomname: \"O3'\" },\n                                    { atomname: 'O3*' },\n                                    { atomname: \"O5'\" },\n                                    { atomname: 'O5*' },\n                                    { atomname: \"C5'\" },\n                                    { atomname: 'C5*' }\n                                ]\n                            }\n                        ]\n                    }\n                ]\n            });\n            continue;\n        }\n        if (cu === 'APOLARH') {\n            pushRule({\n                operator: 'AND',\n                negate: false,\n                rules: [\n                    { element: 'H' },\n                    {\n                        negate: true,\n                        operator: undefined,\n                        rules: [\n                            { keyword: kwd.POLARH }\n                        ]\n                    }\n                ]\n            });\n            continue;\n        }\n        if (cu === 'LIGAND') {\n            pushRule({\n                operator: 'AND',\n                rules: [\n                    {\n                        operator: 'OR',\n                        rules: [\n                            {\n                                operator: 'AND',\n                                rules: [\n                                    { keyword: kwd.HETERO },\n                                    {\n                                        negate: true,\n                                        operator: undefined,\n                                        rules: [\n                                            { keyword: kwd.POLYMER }\n                                        ]\n                                    }\n                                ]\n                            },\n                            {\n                                negate: true,\n                                operator: undefined,\n                                rules: [\n                                    { keyword: kwd.POLYMER }\n                                ]\n                            }\n                        ]\n                    },\n                    {\n                        negate: true,\n                        operator: undefined,\n                        rules: [\n                            {\n                                operator: 'OR',\n                                rules: [\n                                    { keyword: kwd.WATER },\n                                    { keyword: kwd.ION }\n                                ]\n                            }\n                        ]\n                    }\n                ]\n            });\n            continue;\n        }\n        if (SelectAllKeyword.indexOf(cu) !== -1) {\n            pushRule({ keyword: kwd.ALL });\n            continue;\n        }\n        // handle atom expressions\n        if (c.charAt(0) === '@') {\n            const indexList = c.substr(1).split(',').map(x => parseInt(x));\n            indexList.sort(function (a, b) { return a - b; });\n            pushRule({ atomindex: indexList });\n            continue;\n        }\n        if (c.charAt(0) === '#') {\n            console.error('# for element selection deprecated, use _');\n            pushRule({ element: cu.substr(1) });\n            continue;\n        }\n        if (c.charAt(0) === '_') {\n            pushRule({ element: cu.substr(1) });\n            continue;\n        }\n        if (c[0] === '[' && c[c.length - 1] === ']') {\n            const resnameList = cu.substr(1, c.length - 2).split(',');\n            const resname = resnameList.length > 1 ? resnameList : resnameList[0];\n            pushRule({ resname: resname });\n            continue;\n        }\n        else if ((c.length >= 1 && c.length <= 4) &&\n            c[0] !== '^' && c[0] !== ':' && c[0] !== '.' && c[0] !== '%' && c[0] !== '/' &&\n            isNaN(parseInt(c))) {\n            pushRule({ resname: cu });\n            continue;\n        }\n        // there must be only one constraint per rule\n        // otherwise a test quickly becomes not applicable\n        // e.g. chainTest for chainname when resno is present too\n        const sele = {\n            operator: 'AND',\n            rules: []\n        };\n        const model = c.split('/');\n        if (model.length > 1 && model[1]) {\n            if (isNaN(parseInt(model[1]))) {\n                throw new Error('model must be an integer');\n            }\n            sele.rules.push({\n                model: parseInt(model[1])\n            });\n        }\n        const altloc = model[0].split('%');\n        if (altloc.length > 1) {\n            sele.rules.push({\n                altloc: altloc[1]\n            });\n        }\n        const atomname = altloc[0].split('.');\n        if (atomname.length > 1 && atomname[1]) {\n            if (atomname[1].length > 4) {\n                throw new Error('atomname must be one to four characters');\n            }\n            sele.rules.push({\n                atomname: atomname[1].substring(0, 4).toUpperCase()\n            });\n        }\n        const chain = atomname[0].split(':');\n        if (chain.length > 1 && chain[1]) {\n            sele.rules.push({\n                chainname: chain[1]\n            });\n        }\n        const inscode = chain[0].split('^');\n        if (inscode.length > 1) {\n            sele.rules.push({\n                inscode: inscode[1]\n            });\n        }\n        if (inscode[0]) {\n            let negate, negate2;\n            if (inscode[0][0] === '-') {\n                inscode[0] = inscode[0].substr(1);\n                negate = true;\n            }\n            if (inscode[0].includes('--')) {\n                inscode[0] = inscode[0].replace('--', '-');\n                negate2 = true;\n            }\n            let resi = inscode[0].split('-');\n            if (resi.length === 1) {\n                let resiSingle = parseInt(resi[0]);\n                if (isNaN(resiSingle)) {\n                    throw new Error('resi must be an integer');\n                }\n                if (negate)\n                    resiSingle *= -1;\n                sele.rules.push({\n                    resno: resiSingle\n                });\n            }\n            else if (resi.length === 2) {\n                const resiRange = resi.map(x => parseInt(x));\n                if (negate)\n                    resiRange[0] *= -1;\n                if (negate2)\n                    resiRange[1] *= -1;\n                sele.rules.push({\n                    resno: [resiRange[0], resiRange[1]]\n                });\n            }\n            else {\n                throw new Error(\"resi range must contain one '-'\");\n            }\n        }\n        // round up\n        if (sele.rules.length === 1) {\n            pushRule(sele.rules[0]);\n        }\n        else if (sele.rules.length > 1) {\n            pushRule(sele);\n        }\n        else {\n            throw new Error('empty selection chunk');\n        }\n    }\n    // cleanup\n    if (retSelection.operator === undefined &&\n        retSelection.rules.length === 1 &&\n        retSelection.rules[0].hasOwnProperty('operator')) {\n        retSelection = retSelection.rules[0];\n    }\n    return retSelection;\n}\nexport { parseSele };\n//# sourceMappingURL=selection-parser.js.map","/**\n * @file Selection Test\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { binarySearchIndexOf, rangeInSortedArray } from '../utils';\nimport { kwd, AtomOnlyKeywords, ChainKeywords } from './selection-constants';\nfunction atomTestFn(a, s) {\n    // returning -1 means the rule is not applicable\n    if (s.atomname === undefined && s.element === undefined &&\n        s.altloc === undefined && s.atomindex === undefined &&\n        s.keyword === undefined && s.inscode === undefined &&\n        s.resname === undefined && s.sstruc === undefined &&\n        s.resno === undefined && s.chainname === undefined &&\n        s.model === undefined)\n        return -1;\n    if (s.keyword !== undefined) {\n        if (s.keyword === kwd.BACKBONE && !a.isBackbone())\n            return false;\n        if (s.keyword === kwd.SIDECHAIN && !a.isSidechain())\n            return false;\n        if (s.keyword === kwd.BONDED && !a.isBonded())\n            return false;\n        if (s.keyword === kwd.RING && !a.isRing())\n            return false;\n        if (s.keyword === kwd.AROMATICRING && !a.isAromatic())\n            return false;\n        if (s.keyword === kwd.HETERO && !a.isHetero())\n            return false;\n        if (s.keyword === kwd.PROTEIN && !a.isProtein())\n            return false;\n        if (s.keyword === kwd.NUCLEIC && !a.isNucleic())\n            return false;\n        if (s.keyword === kwd.RNA && !a.isRna())\n            return false;\n        if (s.keyword === kwd.DNA && !a.isDna())\n            return false;\n        if (s.keyword === kwd.POLYMER && !a.isPolymer())\n            return false;\n        if (s.keyword === kwd.WATER && !a.isWater())\n            return false;\n        if (s.keyword === kwd.HELIX && !a.isHelix())\n            return false;\n        if (s.keyword === kwd.SHEET && !a.isSheet())\n            return false;\n        if (s.keyword === kwd.TURN && !a.isTurn())\n            return false;\n        if (s.keyword === kwd.ION && !a.isIon())\n            return false;\n        if (s.keyword === kwd.SACCHARIDE && !a.isSaccharide())\n            return false;\n        if (s.keyword === kwd.METAL && !a.isMetal())\n            return false;\n        if (s.keyword === kwd.POLARH && !a.isPolarHydrogen())\n            return false;\n    }\n    if (s.atomname !== undefined && s.atomname !== a.atomname)\n        return false;\n    if (s.element !== undefined && s.element !== a.element)\n        return false;\n    if (s.altloc !== undefined && s.altloc !== a.altloc)\n        return false;\n    if (s.atomindex !== undefined &&\n        binarySearchIndexOf(s.atomindex, a.index) < 0)\n        return false;\n    if (s.resname !== undefined) {\n        if (Array.isArray(s.resname)) {\n            if (!s.resname.includes(a.resname))\n                return false;\n        }\n        else {\n            if (s.resname !== a.resname)\n                return false;\n        }\n    }\n    if (s.sstruc !== undefined && s.sstruc !== a.sstruc)\n        return false;\n    if (s.resno !== undefined) {\n        if (Array.isArray(s.resno) && s.resno.length === 2) {\n            if (s.resno[0] > a.resno || s.resno[1] < a.resno)\n                return false;\n        }\n        else {\n            if (s.resno !== a.resno)\n                return false;\n        }\n    }\n    if (s.inscode !== undefined && s.inscode !== a.inscode)\n        return false;\n    if (s.chainname !== undefined && s.chainname !== a.chainname)\n        return false;\n    if (s.model !== undefined && s.model !== a.modelIndex)\n        return false;\n    return true;\n}\nfunction residueTestFn(r, s) {\n    // returning -1 means the rule is not applicable\n    if (s.resname === undefined && s.resno === undefined && s.inscode === undefined &&\n        s.sstruc === undefined && s.model === undefined && s.chainname === undefined &&\n        s.atomindex === undefined &&\n        (s.keyword === undefined || AtomOnlyKeywords.includes(s.keyword)))\n        return -1;\n    if (s.keyword !== undefined) {\n        if (s.keyword === kwd.HETERO && !r.isHetero())\n            return false;\n        if (s.keyword === kwd.PROTEIN && !r.isProtein())\n            return false;\n        if (s.keyword === kwd.NUCLEIC && !r.isNucleic())\n            return false;\n        if (s.keyword === kwd.RNA && !r.isRna())\n            return false;\n        if (s.keyword === kwd.DNA && !r.isDna())\n            return false;\n        if (s.keyword === kwd.POLYMER && !r.isPolymer())\n            return false;\n        if (s.keyword === kwd.WATER && !r.isWater())\n            return false;\n        if (s.keyword === kwd.HELIX && !r.isHelix())\n            return false;\n        if (s.keyword === kwd.SHEET && !r.isSheet())\n            return false;\n        if (s.keyword === kwd.TURN && !r.isTurn())\n            return false;\n        if (s.keyword === kwd.ION && !r.isIon())\n            return false;\n        if (s.keyword === kwd.SACCHARIDE && !r.isSaccharide())\n            return false;\n    }\n    if (s.atomindex !== undefined &&\n        rangeInSortedArray(s.atomindex, r.atomOffset, r.atomEnd) === 0)\n        return false;\n    if (s.resname !== undefined) {\n        if (Array.isArray(s.resname)) {\n            if (!s.resname.includes(r.resname))\n                return false;\n        }\n        else {\n            if (s.resname !== r.resname)\n                return false;\n        }\n    }\n    if (s.sstruc !== undefined && s.sstruc !== r.sstruc)\n        return false;\n    if (s.resno !== undefined) {\n        if (Array.isArray(s.resno) && s.resno.length === 2) {\n            if (s.resno[0] > r.resno || s.resno[1] < r.resno)\n                return false;\n        }\n        else {\n            if (s.resno !== r.resno)\n                return false;\n        }\n    }\n    if (s.inscode !== undefined && s.inscode !== r.inscode)\n        return false;\n    if (s.chainname !== undefined && s.chainname !== r.chainname)\n        return false;\n    if (s.model !== undefined && s.model !== r.modelIndex)\n        return false;\n    return true;\n}\nfunction chainTestFn(c, s) {\n    // returning -1 means the rule is not applicable\n    if (s.chainname === undefined && s.model === undefined && s.atomindex === undefined &&\n        (s.keyword === undefined || !ChainKeywords.includes(s.keyword) || !c.entity))\n        return -1;\n    if (s.keyword !== undefined) {\n        if (s.keyword === kwd.POLYMER && !c.entity.isPolymer())\n            return false;\n        if (s.keyword === kwd.WATER && !c.entity.isWater())\n            return false;\n    }\n    if (s.atomindex !== undefined &&\n        rangeInSortedArray(s.atomindex, c.atomOffset, c.atomEnd) === 0)\n        return false;\n    if (s.chainname !== undefined && s.chainname !== c.chainname)\n        return false;\n    if (s.model !== undefined && s.model !== c.modelIndex)\n        return false;\n    return true;\n}\nfunction modelTestFn(m, s) {\n    // returning -1 means the rule is not applicable\n    if (s.model === undefined && s.atomindex === undefined)\n        return -1;\n    if (s.atomindex !== undefined &&\n        rangeInSortedArray(s.atomindex, m.atomOffset, m.atomEnd) === 0)\n        return false;\n    if (s.model !== undefined && s.model !== m.index)\n        return false;\n    return true;\n}\nfunction makeTest(selection, fn) {\n    if (selection === null)\n        return false;\n    if (selection.error)\n        return false;\n    if (!selection.rules || selection.rules.length === 0)\n        return false;\n    const n = selection.rules.length;\n    const t = !selection.negate;\n    const f = !!selection.negate;\n    const subTests = [];\n    for (let i = 0; i < n; ++i) {\n        const s = selection.rules[i];\n        if (s.hasOwnProperty('operator')) {\n            subTests[i] = makeTest(s, fn); // TODO\n        }\n    }\n    // ( x and y ) can short circuit on false\n    // ( x or y ) can short circuit on true\n    // not ( x and y )\n    return function test(entity) {\n        const and = selection.operator === 'AND';\n        let na = false;\n        for (let i = 0; i < n; ++i) {\n            const s = selection.rules[i]; // TODO\n            let ret;\n            if (s.hasOwnProperty('operator')) {\n                const test = subTests[i];\n                if (test !== false) {\n                    ret = test(entity);\n                }\n                else {\n                    ret = -1;\n                }\n                if (ret === -1) {\n                    na = true;\n                    continue;\n                }\n                else if (ret === true) {\n                    if (and) {\n                        continue;\n                    }\n                    else {\n                        return t;\n                    }\n                }\n                else {\n                    if (and) {\n                        return f;\n                    }\n                    else {\n                        continue;\n                    }\n                }\n            }\n            else {\n                if (s.keyword === kwd.ALL) {\n                    if (and) {\n                        continue;\n                    }\n                    else {\n                        return t;\n                    }\n                }\n                else if (s.keyword === kwd.NONE) {\n                    if (and) {\n                        continue;\n                    }\n                    else {\n                        return f;\n                    }\n                }\n                ret = fn(entity, s);\n                // console.log( entity.qualifiedName(), ret, s, selection.negate, \"t\", t, \"f\", f )\n                if (ret === -1) {\n                    na = true;\n                    continue;\n                }\n                else if (ret === true) {\n                    if (and) {\n                        continue;\n                    }\n                    else {\n                        return t;\n                    }\n                }\n                else {\n                    if (and) {\n                        return f;\n                    }\n                    else {\n                        continue;\n                    }\n                }\n            }\n        }\n        if (na) {\n            return -1;\n        }\n        else {\n            if (and) {\n                return t;\n            }\n            else {\n                return f;\n            }\n        }\n    };\n}\nfunction filter(selection, fn) {\n    if (selection.error)\n        return selection;\n    if (!selection.rules || selection.rules.length === 0)\n        return selection;\n    const n = selection.rules.length;\n    const filtered = {\n        operator: selection.operator,\n        rules: []\n    };\n    if (selection.hasOwnProperty('negate')) {\n        filtered.negate = selection.negate;\n    }\n    for (let i = 0; i < n; ++i) {\n        const s = selection.rules[i];\n        if (s.hasOwnProperty('operator')) {\n            const fs = filter(s, fn);\n            if (fs !== null)\n                filtered.rules.push(fs); // TODO\n        }\n        else if (!fn(s)) {\n            filtered.rules.push(s); // TODO\n        }\n    }\n    if (filtered.rules.length > 0) { // TODO\n        // TODO maybe the filtered rules could be returned\n        // in some case, but the way how tests are applied\n        // e.g. when traversing a structure would also need\n        // to change\n        return selection;\n        // return filtered;\n    }\n    else {\n        return null;\n    }\n}\nfunction makeAtomTest(selection, atomOnly = false) {\n    let filteredSelection = selection;\n    if (atomOnly) {\n        filteredSelection = filter(selection, function (s) {\n            if (s.keyword !== undefined && !AtomOnlyKeywords.includes(s.keyword))\n                return true;\n            if (s.model !== undefined)\n                return true;\n            if (s.chainname !== undefined)\n                return true;\n            if (s.resname !== undefined)\n                return true;\n            if (s.resno !== undefined)\n                return true;\n            if (s.sstruc !== undefined)\n                return true;\n            return false;\n        });\n    }\n    return makeTest(filteredSelection, atomTestFn);\n}\nfunction makeResidueTest(selection, residueOnly = false) {\n    let filteredSelection = selection;\n    if (residueOnly) {\n        filteredSelection = filter(selection, function (s) {\n            if (s.keyword !== undefined && AtomOnlyKeywords.includes(s.keyword))\n                return true;\n            if (s.model !== undefined)\n                return true;\n            if (s.chainname !== undefined)\n                return true;\n            if (s.atomname !== undefined)\n                return true;\n            if (s.element !== undefined)\n                return true;\n            if (s.altloc !== undefined)\n                return true;\n            return false;\n        });\n    }\n    return makeTest(filteredSelection, residueTestFn);\n}\nfunction makeChainTest(selection, chainOnly = false) {\n    let filteredSelection = selection;\n    if (chainOnly) {\n        filteredSelection = filter(selection, function (s) {\n            if (s.keyword !== undefined && !ChainKeywords.includes(s.keyword))\n                return true;\n            // if( s.model!==undefined ) return true;\n            if (s.resname !== undefined)\n                return true;\n            if (s.resno !== undefined)\n                return true;\n            if (s.atomname !== undefined)\n                return true;\n            if (s.element !== undefined)\n                return true;\n            if (s.altloc !== undefined)\n                return true;\n            if (s.sstruc !== undefined)\n                return true;\n            if (s.inscode !== undefined)\n                return true;\n            return false;\n        });\n    }\n    return makeTest(filteredSelection, chainTestFn);\n}\nfunction makeModelTest(selection, modelOnly = false) {\n    let filteredSelection = selection;\n    if (modelOnly) {\n        filteredSelection = filter(selection, function (s) {\n            if (s.keyword !== undefined)\n                return true;\n            if (s.chainname !== undefined)\n                return true;\n            if (s.resname !== undefined)\n                return true;\n            if (s.resno !== undefined)\n                return true;\n            if (s.atomname !== undefined)\n                return true;\n            if (s.element !== undefined)\n                return true;\n            if (s.altloc !== undefined)\n                return true;\n            if (s.sstruc !== undefined)\n                return true;\n            if (s.inscode !== undefined)\n                return true;\n            return false;\n        });\n    }\n    return makeTest(filteredSelection, modelTestFn);\n}\nexport { makeAtomTest, makeResidueTest, makeChainTest, makeModelTest };\n//# sourceMappingURL=selection-test.js.map","/**\n * @file Selection\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Signal } from 'signals';\nimport { parseSele } from './selection-parser';\nimport { makeAtomTest, makeResidueTest, makeChainTest, makeModelTest } from './selection-test';\nimport { SelectAllKeyword, SelectNoneKeyword } from './selection-constants';\n/**\n * Selection\n */\nclass Selection {\n    /**\n     * Create Selection\n     * @param {String} string - selection string, see {@tutorial selection-language}\n     */\n    constructor(string) {\n        this.signals = {\n            stringChanged: new Signal()\n        };\n        this.setString(string);\n    }\n    get type() { return 'selection'; }\n    setString(string, silent) {\n        if (string === undefined)\n            string = this.string || '';\n        if (string === this.string)\n            return;\n        try {\n            this.selection = parseSele(string);\n        }\n        catch (e) {\n            // Log.error( e.stack );\n            this.selection = { 'error': e.message };\n        }\n        const selection = this.selection;\n        this.string = string;\n        this.test = makeAtomTest(selection);\n        this.residueTest = makeResidueTest(selection);\n        this.chainTest = makeChainTest(selection);\n        this.modelTest = makeModelTest(selection);\n        this.atomOnlyTest = makeAtomTest(selection, true);\n        this.residueOnlyTest = makeResidueTest(selection, true);\n        this.chainOnlyTest = makeChainTest(selection, true);\n        this.modelOnlyTest = makeModelTest(selection, true);\n        if (!silent) {\n            this.signals.stringChanged.dispatch(this.string);\n        }\n    }\n    isAllSelection() {\n        return SelectAllKeyword.includes(this.string.toUpperCase());\n    }\n    isNoneSelection() {\n        return SelectNoneKeyword.includes(this.string.toUpperCase());\n    }\n}\nexport default Selection;\n//# sourceMappingURL=selection.js.map","/**\n * @file Selection Colormaker\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Color } from 'three';\nimport { ColormakerRegistry } from '../globals';\nimport Selection from '../selection/selection';\nimport Colormaker from './colormaker';\n/**\n * Color based on {@link Selection}\n */\nclass SelectionColormaker extends Colormaker {\n    constructor(params) {\n        super(params);\n        this.colormakerList = []; // TODO\n        this.selectionList = [];\n        const dataList = params.dataList || [];\n        dataList.forEach((data) => {\n            const [scheme, sele, params = {}] = data;\n            if (ColormakerRegistry.hasScheme(scheme)) {\n                Object.assign(params, {\n                    scheme: scheme,\n                    structure: this.parameters.structure\n                });\n            }\n            else {\n                Object.assign(params, {\n                    scheme: 'uniform',\n                    value: new Color(scheme).getHex()\n                });\n            }\n            this.colormakerList.push(ColormakerRegistry.getScheme(params));\n            this.selectionList.push(new Selection(sele));\n        });\n    }\n    atomColor(a) {\n        for (let i = 0, n = this.selectionList.length; i < n; ++i) {\n            const test = this.selectionList[i].test;\n            if (test && test(a)) {\n                return this.colormakerList[i].atomColor(a);\n            }\n        }\n        return 0xFFFFFF;\n    }\n}\nexport default SelectionColormaker;\n//# sourceMappingURL=selection-colormaker.js.map","/**\n * @file Colormaker Registry\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { generateUUID } from '../math/math-utils';\nimport Colormaker from './colormaker';\nimport SelectionColormaker from './selection-colormaker';\nconst ColormakerScales = {\n    '': '',\n    // Sequential\n    OrRd: '[S] Orange-Red',\n    PuBu: '[S] Purple-Blue',\n    BuPu: '[S] Blue-Purple',\n    Oranges: '[S] Oranges',\n    BuGn: '[S] Blue-Green',\n    YlOrBr: '[S] Yellow-Orange-Brown',\n    YlGn: '[S] Yellow-Green',\n    Reds: '[S] Reds',\n    RdPu: '[S] Red-Purple',\n    Greens: '[S] Greens',\n    YlGnBu: '[S] Yellow-Green-Blue',\n    Purples: '[S] Purples',\n    GnBu: '[S] Green-Blue',\n    Greys: '[S] Greys',\n    YlOrRd: '[S] Yellow-Orange-Red',\n    PuRd: '[S] Purple-Red',\n    Blues: '[S] Blues',\n    PuBuGn: '[S] Purple-Blue-Green',\n    // Diverging\n    Viridis: '[D] Viridis',\n    Spectral: '[D] Spectral',\n    RdYlGn: '[D] Red-Yellow-Green',\n    RdBu: '[D] Red-Blue',\n    PiYG: '[D] Pink-Yellowgreen',\n    PRGn: '[D] Purplered-Green',\n    RdYlBu: '[D] Red-Yellow-Blue',\n    BrBG: '[D] Brown-Bluegreen',\n    RdGy: '[D] Red-Grey',\n    PuOr: '[D] Purple-Orange',\n    // Qualitative\n    Set1: '[Q] Set1',\n    Set2: '[Q] Set2',\n    Set3: '[Q] Set3',\n    Dark2: '[Q] Dark2',\n    Paired: '[Q] Paired',\n    Pastel1: '[Q] Pastel1',\n    Pastel2: '[Q] Pastel2',\n    Accent: '[Q] Accent',\n    // Other\n    rainbow: '[?] Rainbow',\n    rwb: '[?] Red-White-Blue'\n};\nconst ColormakerModes = {\n    '': '',\n    rgb: 'Red Green Blue',\n    hsv: 'Hue Saturation Value',\n    hsl: 'Hue Saturation Lightness',\n    hsi: 'Hue Saturation Intensity',\n    lab: 'CIE L*a*b*',\n    hcl: 'Hue Chroma Lightness'\n};\n/**\n * Class for registering {@link Colormaker}s. Generally use the\n * global {@link src/globals.js~ColormakerRegistry} instance.\n */\nclass ColormakerRegistry {\n    constructor() {\n        this.schemes = {};\n        this.userSchemes = {};\n    }\n    getScheme(params) {\n        const p = params || {};\n        const id = (p.scheme || '').toLowerCase();\n        let SchemeClass;\n        if (id in this.schemes) {\n            SchemeClass = this.schemes[id];\n        }\n        else if (id in this.userSchemes) {\n            SchemeClass = this.userSchemes[id];\n        }\n        else {\n            SchemeClass = Colormaker;\n        }\n        return new SchemeClass(params);\n    }\n    /**\n     * Get an description of available schemes as an\n     * object with id-label as key-value pairs\n     * @return {Object} available schemes\n     */\n    getSchemes() {\n        const types = {};\n        Object.keys(this.schemes).forEach(function (k) {\n            types[k] = k;\n        });\n        Object.keys(this.userSchemes).forEach(function (k) {\n            types[k] = k.split('|')[1];\n        });\n        return types;\n    }\n    /**\n     * Get an description of available scales as an\n     * object with id-label as key-value pairs\n     * @return {Object} available scales\n     */\n    getScales() {\n        return ColormakerScales;\n    }\n    getModes() {\n        return ColormakerModes;\n    }\n    /**\n     * Add a scheme with a hardcoded id\n     * @param {String} id - the id\n     * @param {Colormaker} scheme - the colormaker\n     * @return {undefined}\n     */\n    add(id, scheme) {\n        id = id.toLowerCase();\n        this.schemes[id] = scheme;\n    }\n    /**\n     * Register a custom scheme\n     *\n     * @example\n     * // Create a class with a `atomColor` method that returns a hex color.\n     * var schemeId = NGL.ColormakerRegistry.addScheme( function( params ){\n     *     this.atomColor = function( atom ){\n     *         if( atom.serial < 1000 ){\n     *             return 0x0000FF;  // blue\n     *         }else if( atom.serial > 2000 ){\n     *             return 0xFF0000;  // red\n     *         }else{\n     *             return 0x00FF00;  // green\n     *         }\n     *     };\n     * } );\n     *\n     * stage.loadFile( \"rcsb://3dqb.pdb\" ).then( function( o ){\n     *     o.addRepresentation( \"cartoon\", { color: schemeId } );  // pass schemeId here\n     *     o.autoView();\n     * } );\n     *\n     * @param {Function|Colormaker} scheme - constructor or {@link Colormaker} instance\n     * @param {String} label - scheme label\n     * @return {String} id to refer to the registered scheme\n     */\n    addScheme(scheme, label) {\n        if (!(scheme instanceof Colormaker)) {\n            scheme = this._createScheme(scheme);\n        }\n        return this._addUserScheme(scheme, label);\n    }\n    /**\n     * Add a user-defined scheme\n     * @param {Colormaker} scheme - the user-defined scheme\n     * @param {String} [label] - scheme label\n     * @return {String} id to refer to the registered scheme\n     */\n    _addUserScheme(scheme, label) {\n        label = label || '';\n        const id = `${generateUUID()}|${label}`.toLowerCase();\n        this.userSchemes[id] = scheme;\n        return id;\n    }\n    /**\n     * Remove the scheme with the given id\n     * @param  {String} id - scheme to remove\n     * @return {undefined}\n     */\n    removeScheme(id) {\n        id = id.toLowerCase();\n        delete this.userSchemes[id];\n    }\n    _createScheme(constructor) {\n        const _Colormaker = function (params) {\n            Colormaker.call(this, params);\n            constructor.call(this, params);\n        };\n        _Colormaker.prototype = Colormaker.prototype;\n        _Colormaker.prototype.constructor = Colormaker;\n        return _Colormaker;\n    }\n    /**\n     * Create and a selection-based coloring scheme. Supply a list with pairs\n     * of colorname and selection for coloring by selections. Use the last\n     * entry as a default (catch all) coloring definition.\n     *\n     * @example\n     * var schemeId = NGL.ColormakerRegistry.addSelectionScheme( [\n     *     [ \"red\", \"64-74 or 134-154 or 222-254 or 310-310 or 322-326\" ],\n     *     [ \"green\", \"311-322\" ],\n     *     [ \"yellow\", \"40-63 or 75-95 or 112-133 or 155-173 or 202-221 or 255-277 or 289-309\" ],\n     *     [ \"blue\", \"1-39 or 96-112 or 174-201 or 278-288\" ],\n     *     [ \"white\", \"*\" ]\n     * ], \"Transmembrane 3dqb\" );\n     *\n     * stage.loadFile( \"rcsb://3dqb.pdb\" ).then( function( o ){\n     *     o.addRepresentation( \"cartoon\", { color: schemeId } );  // pass schemeId here\n     *     o.autoView();\n     * } );\n     *\n     * @param {Array} dataList - cloror-selection pairs\n     * @param {String} label - scheme name\n     * @return {String} id to refer to the registered scheme\n     */\n    addSelectionScheme(dataList, label) {\n        class MySelectionColormaker extends SelectionColormaker {\n            constructor(params) {\n                super(Object.assign({ dataList }, params));\n            }\n        }\n        return this._addUserScheme(MySelectionColormaker, label);\n    }\n    /**\n     * Check if a scheme with the given id exists\n     * @param  {String}  id - the id to check\n     * @return {Boolean} flag indicating if the scheme exists\n     */\n    hasScheme(id) {\n        id = id.toLowerCase();\n        return id in this.schemes || id in this.userSchemes;\n    }\n}\nexport default ColormakerRegistry;\n//# sourceMappingURL=colormaker-registry.js.map","/**\n * @file Parser Registry\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport Registry from '../utils/registry';\nclass ParserRegistry extends Registry {\n    constructor() {\n        super('parser');\n    }\n    __hasObjName(key, objName) {\n        const parser = this.get(key);\n        return parser && parser.prototype.__objName === objName;\n    }\n    isTrajectory(key) {\n        return this.__hasObjName(key, 'frames');\n    }\n    isStructure(key) {\n        return this.__hasObjName(key, 'structure');\n    }\n    isVolume(key) {\n        return this.__hasObjName(key, 'volume');\n    }\n    isSurface(key) {\n        return this.__hasObjName(key, 'surface');\n    }\n    isBinary(key) {\n        const parser = this.get(key);\n        return parser && parser.prototype.isBinary;\n    }\n    isXml(key) {\n        const parser = this.get(key);\n        return parser && parser.prototype.isXml;\n    }\n    isJson(key) {\n        const parser = this.get(key);\n        return parser && parser.prototype.isJson;\n    }\n    getTrajectoryExtensions() {\n        return this.names.filter(name => this.isTrajectory(name));\n    }\n    getStructureExtensions() {\n        return this.names.filter(name => this.isStructure(name));\n    }\n    getVolumeExtensions() {\n        return this.names.filter(name => this.isVolume(name));\n    }\n    getSurfaceExtensions() {\n        return this.names.filter(name => this.isSurface(name));\n    }\n}\nexport default ParserRegistry;\n//# sourceMappingURL=parser-registry.js.map","/**\n * @file Worker Utils\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { uniqueArray } from '../utils';\nfunction getWorkerDeps(vars) {\n    const deps = vars;\n    vars.forEach(function (sym) {\n        if (sym.__deps) {\n            Array.prototype.push.apply(deps, getWorkerDeps(sym.__deps));\n        }\n    });\n    return deps;\n}\nfunction makeWorkerString(vars) {\n    const deps = uniqueArray(getWorkerDeps(vars));\n    return deps.map(function (sym) {\n        return sym.toString();\n    }).join('\\n\\n\\n');\n}\nfunction onmessage(e) {\n    const name = e.data.__name;\n    const postId = e.data.__postId;\n    /* global self */\n    if (name === undefined) {\n        console.error('message __name undefined');\n    }\n    else if (self.func === undefined) {\n        console.error('worker func undefined', name);\n    }\n    else {\n        const callback = function (aMessage, transferList) {\n            aMessage = aMessage || {};\n            if (postId !== undefined)\n                aMessage.__postId = postId;\n            try {\n                self.postMessage(aMessage, transferList);\n            }\n            catch (error) {\n                console.error('self.postMessage:', error);\n                self.postMessage(aMessage);\n            }\n        };\n        self.func(e, callback);\n    }\n}\nexport function makeWorkerBlob(func, deps) {\n    let str = \"'use strict';\\n\\n\" + makeWorkerString(deps);\n    str += '\\n\\n\\nself.func = ' + func.toString() + ';';\n    str += '\\n\\n\\nself.onmessage = ' + onmessage.toString() + ';';\n    // console.log(str);\n    return new Blob([str], { type: 'application/javascript' });\n}\n//# sourceMappingURL=worker-utils.js.map","/**\n * @file Worker Registry\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { makeWorkerBlob } from './worker-utils';\nclass WorkerRegistry {\n    constructor() {\n        this.activeWorkerCount = 0;\n        this._funcDict = {};\n        this._depsDict = {};\n        this._blobDict = {};\n    }\n    add(name, func, deps) {\n        this._funcDict[name] = func;\n        this._depsDict[name] = deps;\n    }\n    get(name) {\n        if (!this._blobDict[name]) {\n            this._blobDict[name] = makeWorkerBlob(this._funcDict[name], this._depsDict[name]);\n        }\n        return this._blobDict[name];\n    }\n}\nexport default WorkerRegistry;\n//# sourceMappingURL=worker-registry.js.map","/**\n * @file Globals\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { getBrowser, getQuery, boolean } from './utils';\nimport Registry from './utils/registry';\nimport _ColormakerRegistry from './color/colormaker-registry';\nimport _ParserRegistry from './parser/parser-registry';\nimport _WorkerRegistry from './worker/worker-registry';\n/**\n * The browser name: \"Opera\", \"Chrome\", \"Firefox\", \"Mobile Safari\",\n * \"Internet Explorer\", \"Safari\" or false.\n */\nexport const Browser = getBrowser();\n/**\n * Flag indicating support for the 'passive' option for event handler\n */\nexport let SupportsPassiveEventHandler = false;\ntry {\n    // Test via a getter in the options object to see if the passive property is accessed\n    const opts = Object.defineProperty({}, 'passive', {\n        get: function () {\n            SupportsPassiveEventHandler = true;\n        }\n    });\n    window.addEventListener('test', e => { }, opts);\n}\ncatch (e) { }\n/**\n * Flag indicating a mobile browser\n */\nexport const Mobile = typeof window !== 'undefined' ? typeof window.orientation !== 'undefined' : false;\nexport let SupportsReadPixelsFloat = false;\nexport function setSupportsReadPixelsFloat(value) {\n    SupportsReadPixelsFloat = value;\n}\n/**\n * Flag indicating support for the `EXT_frag_depth` WebGL extension\n * (Always present in WebGL2)\n */\nexport let ExtensionFragDepth = false;\nexport function setExtensionFragDepth(value) {\n    ExtensionFragDepth = value;\n}\nexport const Log = {\n    log: Function.prototype.bind.call(console.log, console),\n    info: Function.prototype.bind.call(console.info, console),\n    warn: Function.prototype.bind.call(console.warn, console),\n    error: Function.prototype.bind.call(console.error, console),\n    time: Function.prototype.bind.call(console.time, console),\n    timeEnd: Function.prototype.bind.call(console.timeEnd, console)\n};\nexport let MeasurementDefaultParams = {\n    color: 'green',\n    labelColor: 0x808080,\n    labelAttachment: 'bottom-center',\n    labelSize: 0.7,\n    labelZOffset: 0.5,\n    labelYOffset: 0.1,\n    labelBorder: true,\n    labelBorderColor: 0xd3d3d3,\n    labelBorderWidth: 0.25,\n    lineOpacity: 0.8,\n    linewidth: 5.0,\n    opacity: 0.6,\n    labelUnit: 'angstrom',\n    arcVisible: true,\n    planeVisible: false\n};\nexport function setMeasurementDefaultParams(params = {}) {\n    Object.assign(MeasurementDefaultParams, params);\n}\nexport let Debug = boolean(getQuery('debug'));\nexport function setDebug(value) {\n    Debug = value;\n}\nexport const WebglErrorMessage = '<div style=\"display:flex;align-items:center;justify-content:center;height:100%;\"><p style=\"padding:15px;text-align:center;\">Your browser/graphics card does not seem to support <a target=\"_blank\" href=\"https://en.wikipedia.org/wiki/WebGL\">WebGL</a>.<br/><br/>Find out how to get it <a target=\"_blank\" href=\"http://get.webgl.org/\">here</a>.</p></div>';\n/**\n * List of file extensions to be recognized as scripts\n */\nexport const ScriptExtensions = ['ngl', 'js'];\nexport const WorkerRegistry = new _WorkerRegistry();\nexport const ColormakerRegistry = new _ColormakerRegistry();\nexport const DatasourceRegistry = new Registry('datasource');\nexport const RepresentationRegistry = new Registry('representatation');\nexport const ParserRegistry = new _ParserRegistry();\nexport const ShaderRegistry = new Registry('shader');\nexport const DecompressorRegistry = new Registry('decompressor');\nexport const ComponentRegistry = new Registry('component');\nexport const BufferRegistry = new Registry('buffer');\nexport const PickerRegistry = new Registry('picker');\nexport let ListingDatasource;\nexport function setListingDatasource(value) {\n    ListingDatasource = value;\n}\nexport let TrajectoryDatasource;\nexport function setTrajectoryDatasource(value) {\n    TrajectoryDatasource = value;\n}\n//# sourceMappingURL=globals.js.map","/**\n * @file Streamer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { DecompressorRegistry } from '../globals';\nimport { uint8ToString, defaults } from '../utils';\nclass Streamer {\n    constructor(src, params = {}) {\n        this.chunkSize = 1024 * 1024 * 10;\n        this.newline = '\\n';\n        this.__pointer = 0;\n        this.__partialLine = '';\n        this.compressed = defaults(params.compressed, false);\n        this.binary = defaults(params.binary, false);\n        this.json = defaults(params.json, false);\n        this.xml = defaults(params.xml, false);\n        this.src = src;\n    }\n    isBinary() {\n        return this.binary || this.compressed;\n    }\n    read() {\n        return this._read().then(data => {\n            const decompressFn = this.compressed ? DecompressorRegistry.get(this.compressed) : undefined;\n            if (this.compressed && decompressFn) {\n                this.data = decompressFn(data);\n            }\n            else {\n                if ((this.binary || this.compressed) && data instanceof ArrayBuffer) {\n                    data = new Uint8Array(data);\n                }\n                this.data = data;\n            }\n            return this.data;\n        });\n    }\n    _chunk(start, end) {\n        end = Math.min(this.data.length, end);\n        if (start === 0 && this.data.length === end) {\n            return this.data;\n        }\n        else {\n            if (this.isBinary()) {\n                return this.data.subarray(start, end);\n            }\n            else {\n                return this.data.substring(start, end);\n            }\n        }\n    }\n    chunk(start) {\n        const end = start + this.chunkSize;\n        return this._chunk(start, end);\n    }\n    peekLines(m) {\n        const data = this.data;\n        const n = data.length;\n        // FIXME does not work for multi-char newline\n        const newline = this.isBinary() ? this.newline.charCodeAt(0) : this.newline;\n        let i;\n        let count = 0;\n        for (i = 0; i < n; ++i) {\n            if (data[i] === newline)\n                ++count;\n            if (count === m)\n                break;\n        }\n        const chunk = this._chunk(0, i + 1);\n        const d = this.chunkToLines(chunk, '', i > n);\n        return d.lines;\n    }\n    chunkCount() {\n        return Math.floor(this.data.length / this.chunkSize) + 1;\n    }\n    asText() {\n        return this.isBinary() ? uint8ToString(this.data) : this.data;\n    }\n    chunkToLines(chunk, partialLine, isLast) {\n        const newline = this.newline;\n        if (!this.isBinary() && chunk.length === this.data.length) {\n            return {\n                lines: chunk.split(newline),\n                partialLine: ''\n            };\n        }\n        let lines = [];\n        const str = this.isBinary() ? uint8ToString(chunk) : chunk;\n        const idx = str.lastIndexOf(newline);\n        if (idx === -1) {\n            partialLine += str;\n        }\n        else {\n            const str2 = partialLine + str.substr(0, idx);\n            lines = lines.concat(str2.split(newline));\n            if (idx === str.length - newline.length) {\n                partialLine = '';\n            }\n            else {\n                partialLine = str.substr(idx + newline.length);\n            }\n        }\n        if (isLast && partialLine !== '') {\n            lines.push(partialLine);\n        }\n        return {\n            lines: lines,\n            partialLine: partialLine\n        };\n    }\n    nextChunk() {\n        const start = this.__pointer;\n        if (start > this.data.length) {\n            return undefined;\n        }\n        this.__pointer += this.chunkSize;\n        return this.chunk(start);\n    }\n    nextChunkOfLines() {\n        const chunk = this.nextChunk();\n        if (chunk === undefined) {\n            return undefined;\n        }\n        const isLast = this.__pointer > this.data.length;\n        const d = this.chunkToLines(chunk, this.__partialLine, isLast);\n        this.__partialLine = d.partialLine;\n        return d.lines;\n    }\n    eachChunk(callback) {\n        const chunkSize = this.chunkSize;\n        const n = this.data.length;\n        const chunkCount = this.chunkCount();\n        for (let i = 0; i < n; i += chunkSize) {\n            const chunk = this.chunk(i);\n            const chunkNo = Math.round(i / chunkSize);\n            callback(chunk, chunkNo, chunkCount);\n        }\n    }\n    eachChunkOfLines(callback) {\n        this.eachChunk((chunk, chunkNo, chunkCount) => {\n            const isLast = chunkNo === chunkCount + 1;\n            const d = this.chunkToLines(chunk, this.__partialLine, isLast);\n            this.__partialLine = d.partialLine;\n            callback(d.lines, chunkNo, chunkCount);\n        });\n    }\n    dispose() {\n        delete this.src;\n    }\n}\nexport default Streamer;\n//# sourceMappingURL=streamer.js.map","/**\n * @file File Streamer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport Streamer from './streamer';\nclass FileStreamer extends Streamer {\n    _read() {\n        return new Promise((resolve, reject) => {\n            const file = this.src;\n            const reader = new FileReader();\n            reader.onload = (event) => {\n                if (event.target)\n                    resolve(event.target.result);\n            };\n            // if (typeof this.onprogress === 'function') {\n            //   reader.onprogress = event => this.onprogress(event)\n            // }\n            reader.onerror = event => reject(event);\n            if (this.binary || this.compressed) {\n                reader.readAsArrayBuffer(file);\n            }\n            else {\n                reader.readAsText(file);\n            }\n        });\n    }\n}\nexport default FileStreamer;\n//# sourceMappingURL=file-streamer.js.map","/**\n * @file Network Streamer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport Streamer from './streamer';\nclass NetworkStreamer extends Streamer {\n    _read() {\n        return new Promise((resolve, reject) => {\n            const url = this.src;\n            const xhr = new XMLHttpRequest();\n            xhr.open('GET', url, true);\n            xhr.addEventListener('load', () => {\n                if (xhr.status === 200 || xhr.status === 304 ||\n                    // when requesting from local file system\n                    // the status in Google Chrome/Chromium is 0\n                    xhr.status === 0) {\n                    try {\n                        resolve(xhr.response);\n                    }\n                    catch (e) {\n                        reject(e);\n                    }\n                }\n                else {\n                    reject(xhr.statusText);\n                }\n            }, false);\n            // if (typeof this.onprogress === 'function') {\n            //   xhr.addEventListener('progress', event => this.onprogress(event), false);\n            // }\n            xhr.addEventListener('error', event => reject('network error'), false);\n            if (this.isBinary()) {\n                xhr.responseType = 'arraybuffer';\n            }\n            else if (this.json) {\n                xhr.responseType = 'json';\n            }\n            else if (this.xml) {\n                xhr.responseType = 'document';\n            }\n            else {\n                xhr.responseType = 'text';\n            }\n            // xhr.crossOrigin = true;\n            xhr.send();\n        });\n    }\n}\nexport default NetworkStreamer;\n//# sourceMappingURL=network-streamer.js.map","/**\n * @file Loader\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ParserRegistry } from '../globals';\nimport { createParams } from '../utils';\nimport FileStreamer from '../streamer/file-streamer';\nimport NetworkStreamer from '../streamer/network-streamer';\n/**\n * Loader parameter object.\n * @typedef {Object} LoaderParameters - loader parameters\n * @property {String} ext - file extension, determines file type\n * @property {Boolean} compressed - flag data as compressed\n * @property {Boolean} binary - flag data as binary\n * @property {String} name - set data name\n */\n/**\n * Loader base class\n */\nclass Loader {\n    /**\n     * Construct a loader object\n     * @param  {String|File|Blob} src - data source, string is interpreted as an URL\n     * @param  {LoaderParameters} params - parameters object\n     */\n    constructor(src, params = {}) {\n        this.parameters = createParams(params, {\n            ext: '',\n            compressed: false,\n            binary: ParserRegistry.isBinary(params.ext || ''),\n            name: '',\n            dir: '',\n            path: '',\n            protocol: ''\n        });\n        const streamerParams = {\n            compressed: this.parameters.compressed,\n            binary: this.parameters.binary,\n            json: ParserRegistry.isJson(this.parameters.ext),\n            xml: ParserRegistry.isXml(this.parameters.ext)\n        };\n        if ((typeof File !== 'undefined' && src instanceof File) ||\n            (typeof Blob !== 'undefined' && src instanceof Blob)) {\n            this.streamer = new FileStreamer(src, streamerParams);\n        }\n        else {\n            this.streamer = new NetworkStreamer(src, streamerParams);\n        }\n    }\n}\nexport default Loader;\n//# sourceMappingURL=loader.js.map","/**\n * @file Parser Loader\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ParserRegistry } from '../globals';\nimport Loader from './loader';\n/**\n * Parser loader class\n * @extends Loader\n */\nclass ParserLoader extends Loader {\n    constructor(src, params = {}) {\n        super(src, params);\n        this.parserParams = {\n            voxelSize: params.voxelSize,\n            firstModelOnly: params.firstModelOnly,\n            asTrajectory: params.asTrajectory,\n            cAlphaOnly: params.cAlphaOnly,\n            delimiter: params.delimiter,\n            comment: params.comment,\n            columnNames: params.columnNames,\n            name: this.parameters.name,\n            path: this.parameters.path\n        };\n    }\n    /**\n     * Load parsed object\n     * @return {Promise} resolves to the loaded & parsed {@link Structure},\n     *                   {@link Volume}, {@link Surface} or data object\n     */\n    load() {\n        var ParserClass = ParserRegistry.get(this.parameters.ext);\n        var parser = new ParserClass(this.streamer, this.parserParams);\n        return parser.parse();\n    }\n}\nexport default ParserLoader;\n//# sourceMappingURL=parser-loader.js.map","/**\n * @file Script\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Signal } from 'signals';\nimport { Log } from './globals';\n/**\n * Script class\n */\nclass Script {\n    /**\n     * Create a script instance\n     * @param {String} functionBody - the function source\n     * @param {String} name - name of the script\n     * @param {String} path - path of the script\n     */\n    constructor(functionBody, name, path) {\n        this.name = name;\n        this.path = path;\n        this.signals = {\n            elementAdded: new Signal(),\n            elementRemoved: new Signal(),\n            nameChanged: new Signal()\n        };\n        this.type = 'Script';\n        this.dir = path.substring(0, path.lastIndexOf('/') + 1);\n        try {\n            /* eslint-disable no-new-func */\n            this.fn = new Function('stage', '__name', '__path', '__dir', functionBody);\n        }\n        catch (e) {\n            Log.error('Script compilation failed', e);\n            this.fn = function () { };\n        }\n    }\n    /**\n     * Execute the script\n     * @param  {Stage} stage - the stage context\n     * @return {Promise} - resolve when script finished running\n     */\n    run(stage) {\n        return new Promise((resolve, reject) => {\n            try {\n                this.fn.apply(null, [stage, this.name, this.path, this.dir]);\n                resolve();\n            }\n            catch (e) {\n                Log.error('Script.fn', e);\n                reject(e);\n            }\n        });\n    }\n}\nexport default Script;\n//# sourceMappingURL=script.js.map","/**\n * @file Script Loader\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport Loader from './loader';\nimport Script from '../script';\n/**\n * Script loader class\n * @extends Loader\n */\nclass ScriptLoader extends Loader {\n    /**\n     * Load script\n     * @return {Promise} resolves to the loaded {@link Script}\n     */\n    load() {\n        return this.streamer.read().then(() => {\n            return new Script(this.streamer.asText(), this.parameters.name, this.parameters.path);\n        });\n    }\n}\nexport default ScriptLoader;\n//# sourceMappingURL=script-loader.js.map","/**\n * @file Loader Utils\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { DatasourceRegistry, DecompressorRegistry, ParserRegistry, ScriptExtensions } from '../globals';\nimport ParserLoader from './parser-loader';\nimport ScriptLoader from './script-loader';\nexport function getFileInfo(file) {\n    const compressedExtList = DecompressorRegistry.names;\n    let path;\n    let compressed;\n    let protocol = '';\n    if (file instanceof File) {\n        path = file.name;\n    }\n    else if (file instanceof Blob) {\n        path = '';\n    }\n    else {\n        path = file;\n    }\n    const queryIndex = path.lastIndexOf('?');\n    const query = queryIndex !== -1 ? path.substring(queryIndex) : '';\n    path = path.substring(0, queryIndex === -1 ? path.length : queryIndex);\n    const name = path.replace(/^.*[\\\\/]/, '');\n    let base = name.substring(0, name.lastIndexOf('.'));\n    const nameSplit = name.split('.');\n    let ext = nameSplit.length > 1 ? (nameSplit.pop() || '').toLowerCase() : '';\n    const protocolMatch = path.match(/^(.+):\\/\\/(.+)$/);\n    if (protocolMatch) {\n        protocol = protocolMatch[1].toLowerCase();\n        path = protocolMatch[2] || '';\n    }\n    const dir = path.substring(0, path.lastIndexOf('/') + 1);\n    if (compressedExtList.includes(ext)) {\n        compressed = ext;\n        const n = path.length - ext.length - 1;\n        ext = (path.substr(0, n).split('.').pop() || '').toLowerCase();\n        const m = base.length - ext.length - 1;\n        base = base.substr(0, m);\n    }\n    else {\n        compressed = false;\n    }\n    return { path, name, ext, base, dir, compressed, protocol, query, 'src': file };\n}\nexport function getDataInfo(src) {\n    let info = getFileInfo(src);\n    const datasource = DatasourceRegistry.get(info.protocol);\n    if (datasource) {\n        info = getFileInfo(datasource.getUrl(info.src));\n        if (!info.ext && datasource.getExt) {\n            info.ext = datasource.getExt(src);\n        }\n    }\n    return info;\n}\n/**\n * Load a file\n *\n * @example\n * // load from URL\n * NGL.autoLoad( \"http://files.rcsb.org/download/5IOS.cif\" );\n *\n * @example\n * // load binary data in CCP4 format via a Blob\n * var binaryBlob = new Blob( [ ccp4Data ], { type: 'application/octet-binary'} );\n * NGL.autoLoad( binaryBlob, { ext: \"ccp4\" } );\n *\n * @example\n * // load string data in PDB format via a Blob\n * var stringBlob = new Blob( [ pdbData ], { type: 'text/plain'} );\n * NGL.autoLoad( stringBlob, { ext: \"pdb\" } );\n *\n * @example\n * // load a File object\n * NGL.autoLoad( file );\n *\n * @param  {String|File|Blob} file - either a URL or an object containing the file data\n * @param  {LoaderParameters} params - loading parameters\n * @return {Promise} Promise resolves to the loaded data\n */\nexport function autoLoad(file, params = {}) {\n    const p = Object.assign(getDataInfo(file), params);\n    let loader;\n    if (ParserRegistry.names.includes(p.ext)) {\n        loader = new ParserLoader(p.src, p);\n    }\n    else if (ScriptExtensions.includes(p.ext)) {\n        loader = new ScriptLoader(p.src, p);\n    }\n    if (loader) {\n        return loader.load();\n    }\n    else {\n        return Promise.reject(new Error(`autoLoad: ext '${p.ext}' unknown`));\n    }\n}\n//# sourceMappingURL=loader-utils.js.map","/**\n * @file Writer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { defaults, download } from '../utils';\n/**\n * Base class for writers\n * @interface\n */\nclass Writer {\n    /**\n     * Get a blob with the written data\n     * @return {Blob} the blob\n     */\n    getBlob() {\n        return new Blob([this.getData()], { type: this.mimeType });\n    }\n    /**\n     * Trigger a download of the\n     * @param  {[type]} name [description]\n     * @param  {[type]} ext  [description]\n     * @return {[type]}      [description]\n     */\n    download(name, ext) {\n        name = defaults(name, this.defaultName);\n        ext = defaults(ext, this.defaultExt);\n        download(this.getBlob(), `${name}.${ext}`);\n    }\n}\nexport default Writer;\n//# sourceMappingURL=writer.js.map","/**\n * @file Pdb Writer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { sprintf } from 'sprintf-js';\nimport Writer from './writer';\nimport { defaults, ensureArray } from '../utils';\n// http://www.wwpdb.org/documentation/file-format\n// Sample PDB line, the coords X,Y,Z are fields 5,6,7 on each line.\n// ATOM      1  N   ARG     1      29.292  13.212 -12.751  1.00 33.78      1BPT 108\nconst AtomFormat = 'ATOM  %5d %-4s %3s %1s%4d    %8.3f%8.3f%8.3f%6.2f%6.2f      %4s%2s';\nconst HetatmFormat = 'HETATM%5d %-4s %3s %1s%4d    %8.3f%8.3f%8.3f%6.2f%6.2f      %4s%2s';\n/**\n * Create a PDB file from a Structure object\n */\nexport default class PdbWriter extends Writer {\n    /**\n     * @param  {Structure} structure - the structure object\n     * @param  {Object} params - parameters]\n     */\n    constructor(structure, params) {\n        super();\n        this.mimeType = 'text/plain';\n        this.defaultName = 'structure';\n        this.defaultExt = 'pdb';\n        const p = Object.assign({}, params);\n        this.renumberSerial = defaults(p.renumberSerial, true);\n        this.remarks = ensureArray(defaults(p.remarks, []));\n        this.structure = structure;\n        this._records = [];\n    }\n    _writeRecords() {\n        this._records.length = 0;\n        this._writeTitle();\n        this._writeRemarks();\n        this._writeAtoms();\n    }\n    _writeTitle() {\n        // FIXME multiline if title line longer than 80 chars\n        this._records.push(sprintf('TITLE %-74s', this.structure.name));\n    }\n    _writeRemarks() {\n        this.remarks.forEach(str => {\n            this._records.push(sprintf('REMARK %-73s', str));\n        });\n        if (this.structure.trajectory) {\n            this._records.push(sprintf('REMARK %-73s', \"Trajectory '\" + this.structure.trajectory.name + \"'\"));\n            this._records.push(sprintf('REMARK %-73s', `Frame ${this.structure.trajectory.frame}` // TODO\n            ));\n        }\n    }\n    _writeAtoms() {\n        let ia = 1;\n        let im = 1;\n        this.structure.eachModel(m => {\n            this._records.push(sprintf('MODEL %-74d', im++));\n            m.eachAtom((a) => {\n                const formatString = a.hetero ? HetatmFormat : AtomFormat;\n                const serial = this.renumberSerial ? ia : a.serial;\n                // Alignment of one-letter atom name such as C starts at column 14,\n                // while two-letter atom name such as FE starts at column 13.\n                let atomname = a.atomname;\n                if (atomname.length === 1)\n                    atomname = ' ' + atomname;\n                this._records.push(sprintf(formatString, serial, atomname, a.resname, defaults(a.chainname, ' '), a.resno, a.x, a.y, a.z, defaults(a.occupancy, 1.0), defaults(a.bfactor, 0.0), '', // segid\n                defaults(a.element, '')));\n                ia += 1;\n            });\n            this._records.push(sprintf('%-80s', 'ENDMDL'));\n            im += 1;\n        });\n        this._records.push(sprintf('%-80s', 'END'));\n    }\n    getString() {\n        console.warn('PdbWriter.getString() is deprecated, use .getData instead');\n        return this.getData();\n    }\n    /**\n     * Get string containing the PDB file data\n     * @return {String} PDB file\n     */\n    getData() {\n        this._writeRecords();\n        return this._records.join('\\n');\n    }\n}\n//# sourceMappingURL=pdb-writer.js.map","/**\n * Writer class for sdf/mol files.\n */\nimport { sprintf } from 'sprintf-js';\nimport Writer from './writer';\n// Hard-coded chiral as false as we don't specify it any atoms\nconst CountFormat = '%3i%3i  0  0  0  0  0  0  0  0999 V2000';\nconst AtomLine = '%10.4f%10.4f%10.4f %-3s 0%3i  0  0  0';\nconst BondFormat = '%3i%3i%3i  0  0  0';\nclass SdfWriter extends Writer {\n    /**\n     * @param {Structure} structure - structure to write\n     * @param {Object} params - parameters\n     */\n    constructor(structure) {\n        super();\n        this.mimeType = 'text/plain';\n        this.defaultName = 'structure';\n        this.defaultExt = 'sdf';\n        this.structure = structure;\n        // Follow the pdb-writer example:\n        this._records = [];\n    }\n    get idString() {\n        return this.structure.id;\n    }\n    get titleString() {\n        return '  ' + this.structure.title;\n    }\n    get countsString() {\n        return sprintf(CountFormat, this.structure.atomCount, this.structure.bondCount);\n    }\n    get chargeLines() {\n        const pairs = [];\n        this.structure.eachAtom(ap => {\n            if (ap.formalCharge != null && ap.formalCharge !== 0) {\n                pairs.push([ap.index, ap.formalCharge]);\n            }\n        });\n        const lines = [];\n        for (let i = 0; i < pairs.length; i += 8) {\n            const nCharges = Math.min(8, pairs.length - i);\n            let s = sprintf('M  CHG%3i', nCharges);\n            for (let j = i; j < i + nCharges; j++) {\n                s += sprintf(' %3i %3i', pairs[j][0] + 1, pairs[j][1]);\n            }\n            lines.push(s);\n        }\n        return lines;\n    }\n    formatAtom(ap) {\n        let charge = 0;\n        if (ap.formalCharge != null && ap.formalCharge !== 0) {\n            charge = 4 - ap.formalCharge;\n        }\n        const line = sprintf(AtomLine, ap.x, ap.y, ap.z, ap.element, charge);\n        if (line.length !== 48) {\n            throw new Error('Incompatible atom for sdf format');\n        }\n        return line;\n    }\n    formatBond(bp) {\n        return sprintf(BondFormat, bp.atomIndex1 + 1, bp.atomIndex2 + 1, bp.bondOrder);\n    }\n    _writeRecords() {\n        this._records.length = 0;\n        this._writeHeader();\n        this._writeCTab();\n        this._writeFooter();\n    }\n    _writeHeader() {\n        this._records.push(this.idString, this.titleString, '');\n    }\n    _writeCTab() {\n        this._records.push(this.countsString);\n        this.structure.eachAtom(ap => {\n            this._records.push(this.formatAtom(ap));\n        });\n        this.structure.eachBond(bp => {\n            this._records.push(this.formatBond(bp));\n        });\n        this.chargeLines.forEach(line => {\n            this._records.push(line);\n        });\n        this._records.push('M  END');\n    }\n    _writeFooter() {\n        this._records.push('$$$$');\n    }\n    getData() {\n        this._writeRecords();\n        return this._records.join('\\n');\n    }\n}\nexport default SdfWriter;\n//# sourceMappingURL=sdf-writer.js.map","/**\n * @file IO Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n *\n * Adapted and converted to TypeScript from https://github.com/image-js/iobuffer\n * MIT License, Copyright (c) 2015 Michaël Zasso\n */\nconst defaultByteLength = 1024 * 8;\nconst charArray = [];\n/**\n * Class for writing and reading binary data\n */\nclass IOBuffer {\n    /**\n     * If it's a number, it will initialize the buffer with the number as\n     * the buffer's length. If it's undefined, it will initialize the buffer\n     * with a default length of 8 Kb. If its an ArrayBuffer, a TypedArray,\n     * it will create a view over the underlying ArrayBuffer.\n     */\n    constructor(data, params = {}) {\n        this._mark = 0;\n        this._marks = [];\n        this.offset = 0; // The current offset of the buffer's pointer\n        this.littleEndian = true;\n        let dataIsGiven = false;\n        if (data === undefined) {\n            data = defaultByteLength;\n        }\n        if (typeof data === 'number') {\n            data = new ArrayBuffer(data);\n        }\n        else {\n            dataIsGiven = true;\n        }\n        const offset = params.offset ? params.offset >>> 0 : 0;\n        let byteLength = data.byteLength - offset;\n        let dvOffset = offset;\n        if (!(data instanceof ArrayBuffer)) {\n            if (data.byteLength !== data.buffer.byteLength) {\n                dvOffset = data.byteOffset + offset;\n            }\n            data = data.buffer;\n        }\n        if (dataIsGiven) {\n            this._lastWrittenByte = byteLength;\n        }\n        else {\n            this._lastWrittenByte = 0;\n        }\n        this.buffer = data;\n        this.length = byteLength;\n        this.byteLength = byteLength;\n        this.byteOffset = dvOffset;\n        this._data = new DataView(this.buffer, dvOffset, byteLength);\n    }\n    /**\n     * Checks if the memory allocated to the buffer is sufficient to store more bytes after the offset\n     * @param {number} [byteLength=1] The needed memory in bytes\n     * @return {boolean} Returns true if there is sufficient space and false otherwise\n     */\n    available(byteLength) {\n        if (byteLength === undefined)\n            byteLength = 1;\n        return (this.offset + byteLength) <= this.length;\n    }\n    /**\n     * Check if little-endian mode is used for reading and writing multi-byte values\n     * @return {boolean} Returns true if little-endian mode is used, false otherwise\n     */\n    isLittleEndian() {\n        return this.littleEndian;\n    }\n    /**\n     * Set little-endian mode for reading and writing multi-byte values\n     * @return {IOBuffer}\n     */\n    setLittleEndian() {\n        this.littleEndian = true;\n        return this;\n    }\n    /**\n     * Check if big-endian mode is used for reading and writing multi-byte values\n     * @return {boolean} Returns true if big-endian mode is used, false otherwise\n     */\n    isBigEndian() {\n        return !this.littleEndian;\n    }\n    /**\n     * Switches to big-endian mode for reading and writing multi-byte values\n     * @return {IOBuffer}\n     */\n    setBigEndian() {\n        this.littleEndian = false;\n        return this;\n    }\n    /**\n     * Move the pointer n bytes forward\n     * @param {number} n\n     * @return {IOBuffer}\n     */\n    skip(n) {\n        if (n === undefined)\n            n = 1;\n        this.offset += n;\n        return this;\n    }\n    /**\n     * Move the pointer to the given offset\n     * @param {number} offset\n     * @return {IOBuffer}\n     */\n    seek(offset) {\n        this.offset = offset;\n        return this;\n    }\n    /**\n     * Store the current pointer offset.\n     * @see {@link IOBuffer#reset}\n     * @return {IOBuffer}\n     */\n    mark() {\n        this._mark = this.offset;\n        return this;\n    }\n    /**\n     * Move the pointer back to the last pointer offset set by mark\n     * @see {@link IOBuffer#mark}\n     * @return {IOBuffer}\n     */\n    reset() {\n        this.offset = this._mark;\n        return this;\n    }\n    /**\n     * Push the current pointer offset to the mark stack\n     * @see {@link IOBuffer#popMark}\n     * @return {IOBuffer}\n     */\n    pushMark() {\n        this._marks.push(this.offset);\n        return this;\n    }\n    /**\n     * Pop the last pointer offset from the mark stack, and set the current pointer offset to the popped value\n     * @see {@link IOBuffer#pushMark}\n     * @return {IOBuffer}\n     */\n    popMark() {\n        const offset = this._marks.pop();\n        if (offset === undefined)\n            throw new Error('Mark stack empty');\n        this.seek(offset);\n        return this;\n    }\n    /**\n     * Move the pointer offset back to 0\n     * @return {IOBuffer}\n     */\n    rewind() {\n        this.offset = 0;\n        return this;\n    }\n    /**\n     * Make sure the buffer has sufficient memory to write a given byteLength at the current pointer offset\n     * If the buffer's memory is insufficient, this method will create a new buffer (a copy) with a length\n     * that is twice (byteLength + current offset)\n     * @param {number} [byteLength = 1]\n     * @return {IOBuffer}\n     */\n    ensureAvailable(byteLength) {\n        if (byteLength === undefined)\n            byteLength = 1;\n        if (!this.available(byteLength)) {\n            const lengthNeeded = this.offset + byteLength;\n            const newLength = lengthNeeded * 2;\n            const newArray = new Uint8Array(newLength);\n            newArray.set(new Uint8Array(this.buffer));\n            this.buffer = newArray.buffer;\n            this.length = this.byteLength = newLength;\n            this._data = new DataView(this.buffer);\n        }\n        return this;\n    }\n    /**\n     * Read a byte and return false if the byte's value is 0, or true otherwise\n     * Moves pointer forward\n     * @return {boolean}\n     */\n    readBoolean() {\n        return this.readUint8() !== 0;\n    }\n    /**\n     * Read a signed 8-bit integer and move pointer forward\n     * @return {number}\n     */\n    readInt8() {\n        return this._data.getInt8(this.offset++);\n    }\n    /**\n     * Read an unsigned 8-bit integer and move pointer forward\n     * @return {number}\n     */\n    readUint8() {\n        return this._data.getUint8(this.offset++);\n    }\n    /**\n     * Alias for {@link IOBuffer#readUint8}\n     * @return {number}\n     */\n    readByte() {\n        return this.readUint8();\n    }\n    /**\n     * Read n bytes and move pointer forward.\n     * @param {number} n\n     * @return {Uint8Array}\n     */\n    readBytes(n) {\n        if (n === undefined)\n            n = 1;\n        var bytes = new Uint8Array(n);\n        for (var i = 0; i < n; i++) {\n            bytes[i] = this.readByte();\n        }\n        return bytes;\n    }\n    /**\n     * Read a 16-bit signed integer and move pointer forward\n     * @return {number}\n     */\n    readInt16() {\n        var value = this._data.getInt16(this.offset, this.littleEndian);\n        this.offset += 2;\n        return value;\n    }\n    /**\n     * Read a 16-bit unsigned integer and move pointer forward\n     * @return {number}\n     */\n    readUint16() {\n        var value = this._data.getUint16(this.offset, this.littleEndian);\n        this.offset += 2;\n        return value;\n    }\n    /**\n     * Read a 32-bit signed integer and move pointer forward\n     * @return {number}\n     */\n    readInt32() {\n        var value = this._data.getInt32(this.offset, this.littleEndian);\n        this.offset += 4;\n        return value;\n    }\n    /**\n     * Read a 32-bit unsigned integer and move pointer forward\n     * @return {number}\n     */\n    readUint32() {\n        var value = this._data.getUint32(this.offset, this.littleEndian);\n        this.offset += 4;\n        return value;\n    }\n    /**\n     * Read a 32-bit floating number and move pointer forward\n     * @return {number}\n     */\n    readFloat32() {\n        var value = this._data.getFloat32(this.offset, this.littleEndian);\n        this.offset += 4;\n        return value;\n    }\n    /**\n     * Read a 64-bit floating number and move pointer forward\n     * @return {number}\n     */\n    readFloat64() {\n        var value = this._data.getFloat64(this.offset, this.littleEndian);\n        this.offset += 8;\n        return value;\n    }\n    /**\n     * Read 1-byte ascii character and move pointer forward\n     * @return {string}\n     */\n    readChar() {\n        return String.fromCharCode(this.readInt8());\n    }\n    /**\n     * Read n 1-byte ascii characters and move pointer forward\n     * @param {number} n\n     * @return {string}\n     */\n    readChars(n = 1) {\n        charArray.length = n;\n        for (var i = 0; i < n; i++) {\n            charArray[i] = this.readChar();\n        }\n        return charArray.join('');\n    }\n    /**\n     * Write 0xff if the passed value is truthy, 0x00 otherwise\n     * @param {any} value\n     * @return {IOBuffer}\n     */\n    writeBoolean(value = false) {\n        this.writeUint8(value ? 0xff : 0x00);\n        return this;\n    }\n    /**\n     * Write value as an 8-bit signed integer\n     * @param {number} value\n     * @return {IOBuffer}\n     */\n    writeInt8(value) {\n        this.ensureAvailable(1);\n        this._data.setInt8(this.offset++, value);\n        this._updateLastWrittenByte();\n        return this;\n    }\n    /**\n     * Write value as a 8-bit unsigned integer\n     * @param {number} value\n     * @return {IOBuffer}\n     */\n    writeUint8(value) {\n        this.ensureAvailable(1);\n        this._data.setUint8(this.offset++, value);\n        this._updateLastWrittenByte();\n        return this;\n    }\n    /**\n     * An alias for {@link IOBuffer#writeUint8}\n     * @param {number} value\n     * @return {IOBuffer}\n     */\n    writeByte(value) {\n        return this.writeUint8(value);\n    }\n    /**\n     * Write bytes\n     * @param {Array|Uint8Array} bytes\n     * @return {IOBuffer}\n     */\n    writeBytes(bytes) {\n        this.ensureAvailable(bytes.length);\n        for (var i = 0; i < bytes.length; i++) {\n            this._data.setUint8(this.offset++, bytes[i]);\n        }\n        this._updateLastWrittenByte();\n        return this;\n    }\n    /**\n     * Write value as an 16-bit signed integer\n     * @param {number} value\n     * @return {IOBuffer}\n     */\n    writeInt16(value) {\n        this.ensureAvailable(2);\n        this._data.setInt16(this.offset, value, this.littleEndian);\n        this.offset += 2;\n        this._updateLastWrittenByte();\n        return this;\n    }\n    /**\n     * Write value as a 16-bit unsigned integer\n     * @param {number} value\n     * @return {IOBuffer}\n     */\n    writeUint16(value) {\n        this.ensureAvailable(2);\n        this._data.setUint16(this.offset, value, this.littleEndian);\n        this.offset += 2;\n        this._updateLastWrittenByte();\n        return this;\n    }\n    /**\n     * Write a 32-bit signed integer at the current pointer offset\n     * @param {number} value\n     * @return {IOBuffer}\n     */\n    writeInt32(value) {\n        this.ensureAvailable(4);\n        this._data.setInt32(this.offset, value, this.littleEndian);\n        this.offset += 4;\n        this._updateLastWrittenByte();\n        return this;\n    }\n    /**\n     * Write a 32-bit unsigned integer at the current pointer offset\n     * @param {number} value - The value to set\n     * @return {IOBuffer}\n     */\n    writeUint32(value) {\n        this.ensureAvailable(4);\n        this._data.setUint32(this.offset, value, this.littleEndian);\n        this.offset += 4;\n        this._updateLastWrittenByte();\n        return this;\n    }\n    /**\n     * Write a 32-bit floating number at the current pointer offset\n     * @param {number} value - The value to set\n     * @return {IOBuffer}\n     */\n    writeFloat32(value) {\n        this.ensureAvailable(4);\n        this._data.setFloat32(this.offset, value, this.littleEndian);\n        this.offset += 4;\n        this._updateLastWrittenByte();\n        return this;\n    }\n    /**\n     * Write a 64-bit floating number at the current pointer offset\n     * @param {number} value\n     * @return {IOBuffer}\n     */\n    writeFloat64(value) {\n        this.ensureAvailable(8);\n        this._data.setFloat64(this.offset, value, this.littleEndian);\n        this.offset += 8;\n        this._updateLastWrittenByte();\n        return this;\n    }\n    /**\n     * Write the charCode of the passed string's first character to the current pointer offset\n     * @param {string} str - The character to set\n     * @return {IOBuffer}\n     */\n    writeChar(str) {\n        return this.writeUint8(str.charCodeAt(0));\n    }\n    /**\n     * Write the charCodes of the passed string's characters to the current pointer offset\n     * @param {string} str\n     * @return {IOBuffer}\n     */\n    writeChars(str) {\n        for (var i = 0; i < str.length; i++) {\n            this.writeUint8(str.charCodeAt(i));\n        }\n        return this;\n    }\n    /**\n     * Export a Uint8Array view of the internal buffer.\n     * The view starts at the byte offset and its length\n     * is calculated to stop at the last written byte or the original length.\n     * @return {Uint8Array}\n     */\n    toArray() {\n        return new Uint8Array(this.buffer, this.byteOffset, this._lastWrittenByte);\n    }\n    /**\n     * Update the last written byte offset\n     * @private\n     */\n    _updateLastWrittenByte() {\n        if (this.offset > this._lastWrittenByte) {\n            this._lastWrittenByte = this.offset;\n        }\n    }\n}\nexport default IOBuffer;\n//# sourceMappingURL=io-buffer.js.map","/**\n * @file STL Writer\n * @author Paul Pillot <paul.pillot@cimf.ca>\n * @private\n */\nimport { Vector3 } from 'three';\nimport Writer from './writer';\nimport IOBuffer from '../utils/io-buffer';\n// https://en.wikipedia.org/wiki/STL_(file_format)#ASCII_STL\n/**\n * Create an STL File from a surface Object (e.g. for 3D printing)\n *\n * @example\n * molsurf = new MolecularSurface(structure)\n * surf = molsurf.getSurface({type: 'av', probeRadius: 1.4})\n * stl = new StlWriter(surf)\n * stl.download('myFileName')\n */\nexport default class StlWriter extends Writer {\n    /**\n     * @param {Surface} surface - the surface to write out\n     */\n    constructor(surface) {\n        super();\n        this.mimeType = 'application/vnd.ms-pki.stl';\n        this.defaultName = 'surface';\n        this.defaultExt = 'stl';\n        this.surface = surface;\n    }\n    /*\n     * Get STL Binary data\n     *\n     * Adapted from: https://github.com/mrdoob/three.js/blob/master/examples/js/exporters/STLBinaryExporter.js\n     * see https://en.wikipedia.org/wiki/STL_(file_format)#Binary_STL for the file format description\n     *\n     * @return {DataView} the data\n     */\n    getData() {\n        const triangles = this.surface.index.length / 3;\n        const bufferLength = triangles * 2 + triangles * 3 * 4 * 4 + 80 + 4;\n        const output = new IOBuffer(bufferLength);\n        output.skip(80); // skip header\n        output.writeUint32(triangles);\n        const vector = new Vector3();\n        const vectorNorm1 = new Vector3();\n        const vectorNorm2 = new Vector3();\n        const vectorNorm3 = new Vector3();\n        // traversing vertices\n        for (let i = 0; i < triangles; i++) {\n            const indices = [\n                this.surface.index[i * 3],\n                this.surface.index[i * 3 + 1],\n                this.surface.index[i * 3 + 2]\n            ];\n            vectorNorm1.fromArray(this.surface.normal, indices[0] * 3);\n            vectorNorm2.fromArray(this.surface.normal, indices[1] * 3);\n            vectorNorm3.fromArray(this.surface.normal, indices[2] * 3);\n            vector.addVectors(vectorNorm1, vectorNorm2).add(vectorNorm3).normalize();\n            output.writeFloat32(vector.x);\n            output.writeFloat32(vector.y);\n            output.writeFloat32(vector.z);\n            for (let j = 0; j < 3; j++) {\n                vector.fromArray(this.surface.position, indices[j] * 3);\n                output.writeFloat32(vector.x); // vertices\n                output.writeFloat32(vector.y);\n                output.writeFloat32(vector.z);\n            }\n            output.writeUint16(0); // attribute byte count\n        }\n        return new DataView(output.buffer);\n    }\n}\n//# sourceMappingURL=stl-writer.js.map","/**\n * @file Counter\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Log } from '../globals';\nimport * as signalsWrapper from 'signals';\n/**\n * Counter class for keeping track of counts\n */\nclass Counter {\n    constructor() {\n        this.count = 0;\n        this.signals = {\n            countChanged: new signalsWrapper.Signal()\n        };\n    }\n    /**\n     * Set the `count` to zero\n     * @return {undefined}\n     */\n    clear() {\n        this.change(-this.count);\n    }\n    /**\n     * Change the `count`\n     * @fires Counter#countChanged\n     * @param {Integer} delta - count change\n     * @return {undefined}\n     */\n    change(delta) {\n        this.count += delta;\n        this.signals.countChanged.dispatch(delta, this.count);\n        if (this.count < 0) {\n            Log.warn('Counter.count below zero', this.count);\n        }\n    }\n    /**\n     * Increments the `count` by one.\n     * @return {undefined}\n     */\n    increment() {\n        this.change(1);\n    }\n    /**\n     * Decrements the `count` by one.\n     * @return {undefined}\n     */\n    decrement() {\n        this.change(-1);\n    }\n    /**\n     * Listen to another counter object and change this `count` by the\n     * same amount\n     * @param  {Counter} counter - the counter object to listen to\n     * @return {undefined}\n     */\n    listen(counter) {\n        this.change(counter.count);\n        counter.signals.countChanged.add(this.change, this);\n    }\n    /**\n     * Stop listening to the other counter object\n     * @param  {Counter} counter - the counter object to stop listening to\n     * @return {undefined}\n     */\n    unlisten(counter) {\n        const countChanged = counter.signals.countChanged;\n        if (countChanged.has(this.change, this)) {\n            countChanged.remove(this.change, this);\n        }\n    }\n    /**\n     * Invole the callback function once, when the `count` becomes zero\n     * @param  {Function} callback - the callback function\n     * @param  {Object}   context - the context for the callback function\n     * @return {undefined}\n     */\n    onZeroOnce(callback, context) {\n        if (this.count === 0) {\n            callback.call(context);\n        }\n        else {\n            const fn = () => {\n                if (this.count === 0) {\n                    this.signals.countChanged.remove(fn, this);\n                    callback.call(context);\n                }\n            };\n            this.signals.countChanged.add(fn, this);\n        }\n    }\n    dispose() {\n        this.clear();\n        this.signals.countChanged.dispose();\n    }\n}\nexport default Counter;\n//# sourceMappingURL=counter.js.map","/**\n * @file Stats\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport * as signalsWrapper from 'signals';\nexport default class Stats {\n    constructor() {\n        this.signals = {\n            updated: new signalsWrapper.Signal()\n        };\n        this.maxDuration = -Infinity;\n        this.minDuration = Infinity;\n        this.avgDuration = 14;\n        this.lastDuration = Infinity;\n        this.prevFpsTime = 0;\n        this.lastFps = Infinity;\n        this.lastFrames = 1;\n        this.frames = 0;\n        this.count = 0;\n        this.begin();\n    }\n    update() {\n        this.startTime = this.end();\n        this.currentTime = this.startTime;\n        this.signals.updated.dispatch();\n    }\n    begin() {\n        this.startTime = window.performance.now();\n        this.lastFrames = this.frames;\n    }\n    end() {\n        const time = window.performance.now();\n        this.count += 1;\n        this.frames += 1;\n        this.lastDuration = time - this.startTime;\n        this.minDuration = Math.min(this.minDuration, this.lastDuration);\n        this.maxDuration = Math.max(this.maxDuration, this.lastDuration);\n        this.avgDuration -= this.avgDuration / 30;\n        this.avgDuration += this.lastDuration / 30;\n        if (time > this.prevFpsTime + 1000) {\n            this.lastFps = this.frames;\n            this.prevFpsTime = time;\n            this.frames = 0;\n        }\n        return time;\n    }\n}\n//# sourceMappingURL=stats.js.map","/**\n * @file Shader Utils\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ShaderChunk } from 'three';\nimport './chunk/fog_fragment.glsl';\nimport './chunk/interior_fragment.glsl';\nimport './chunk/matrix_scale.glsl';\nimport './chunk/nearclip_vertex.glsl';\nimport './chunk/nearclip_fragment.glsl';\nimport './chunk/opaque_back_fragment.glsl';\nimport './chunk/radiusclip_vertex.glsl';\nimport './chunk/radiusclip_fragment.glsl';\nimport './chunk/unpack_color.glsl';\nimport { ShaderRegistry } from '../globals';\nfunction getDefines(defines) {\n    if (defines === undefined)\n        return '';\n    const lines = [];\n    for (const name in defines) {\n        const value = defines[name];\n        if (!value)\n            continue;\n        lines.push(`#define ${name} ${value}`);\n    }\n    return lines.join('\\n') + '\\n';\n}\nconst reInclude = /^(?!\\/\\/)\\s*#include\\s+(\\S+)/gmi;\nconst shaderCache = {};\nexport function getShader(name, defines = {}) {\n    let hash = name + '|';\n    for (const key in defines) {\n        hash += key + ':' + defines[key];\n    }\n    if (!shaderCache[hash]) {\n        const definesText = getDefines(defines);\n        let shaderText = ShaderRegistry.get(`shader/${name}`);\n        if (!shaderText) {\n            throw new Error(`empty shader, '${name}'`);\n        }\n        shaderText = shaderText.replace(reInclude, function (match, p1) {\n            const path = `shader/chunk/${p1}.glsl`;\n            const chunk = ShaderRegistry.get(path) || ShaderChunk[p1];\n            if (!chunk) {\n                throw new Error(`empty chunk, '${p1}'`);\n            }\n            return chunk;\n        });\n        shaderCache[hash] = definesText + shaderText;\n    }\n    return shaderCache[hash];\n}\n//# sourceMappingURL=shader-utils.js.map","/**\n * @file Viewer Constants\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Debug } from '../globals';\nif (typeof WebGLRenderingContext !== 'undefined') {\n    const wrcp = WebGLRenderingContext.prototype;\n    // wrap WebGL debug function used by three.js and\n    // ignore calls to them when the debug flag is not set\n    const _getShaderParameter = wrcp.getShaderParameter;\n    wrcp.getShaderParameter = function getShaderParameter() {\n        if (Debug) {\n            return _getShaderParameter.apply(this, arguments);\n        }\n        else {\n            return true;\n        }\n    };\n    const _getShaderInfoLog = wrcp.getShaderInfoLog;\n    wrcp.getShaderInfoLog = function getShaderInfoLog() {\n        if (Debug) {\n            return _getShaderInfoLog.apply(this, arguments);\n        }\n        else {\n            return '';\n        }\n    };\n    const _getProgramParameter = wrcp.getProgramParameter;\n    wrcp.getProgramParameter = function getProgramParameter(program, pname) {\n        if (Debug || pname !== wrcp.LINK_STATUS) {\n            return _getProgramParameter.apply(this, arguments);\n        }\n        else {\n            return true;\n        }\n    };\n    const _getProgramInfoLog = wrcp.getProgramInfoLog;\n    wrcp.getProgramInfoLog = function getProgramInfoLog() {\n        if (Debug) {\n            return _getProgramInfoLog.apply(this, arguments);\n        }\n        else {\n            return '';\n        }\n    };\n}\nexport const JitterVectors = [\n    [\n        [0, 0]\n    ],\n    [\n        [4, 4], [-4, -4]\n    ],\n    [\n        [-2, -6], [6, -2], [-6, 2], [2, 6]\n    ],\n    [\n        [1, -3], [-1, 3], [5, 1], [-3, -5],\n        [-5, 5], [-7, -1], [3, 7], [7, -7]\n    ],\n    [\n        [1, 1], [-1, -3], [-3, 2], [4, -1],\n        [-5, -2], [2, 5], [5, 3], [3, -5],\n        [-2, 6], [0, -7], [-4, -6], [-6, 4],\n        [-8, 0], [7, -4], [6, 7], [-7, -8]\n    ],\n    [\n        [-4, -7], [-7, -5], [-3, -5], [-5, -4],\n        [-1, -4], [-2, -2], [-6, -1], [-4, 0],\n        [-7, 1], [-1, 2], [-6, 3], [-3, 3],\n        [-7, 6], [-3, 6], [-5, 7], [-1, 7],\n        [5, -7], [1, -6], [6, -5], [4, -4],\n        [2, -3], [7, -2], [1, -1], [4, -1],\n        [2, 1], [6, 2], [0, 4], [4, 4],\n        [2, 5], [7, 5], [5, 6], [3, 7]\n    ]\n];\nJitterVectors.forEach(offsetList => {\n    offsetList.forEach(offset => {\n        // 0.0625 = 1 / 16\n        offset[0] *= 0.0625;\n        offset[1] *= 0.0625;\n    });\n});\n//# sourceMappingURL=viewer-constants.js.map","/**\n * @file Tiled Renderer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { defaults } from '../utils';\nclass TiledRenderer {\n    constructor(renderer, camera, viewer, params) {\n        this.canvas = document.createElement('canvas');\n        this._viewer = viewer;\n        this._factor = defaults(params.factor, 2);\n        this._antialias = defaults(params.antialias, false);\n        this._onProgress = params.onProgress;\n        this._onFinish = params.onFinish;\n        if (this._antialias)\n            this._factor *= 2;\n        this._n = this._factor * this._factor;\n        // canvas\n        this._width = this._viewer.width;\n        this._height = this._viewer.height;\n        if (this._antialias) {\n            this.canvas.width = this._width * this._factor / 2;\n            this.canvas.height = this._height * this._factor / 2;\n        }\n        else {\n            this.canvas.width = this._width * this._factor;\n            this.canvas.height = this._height * this._factor;\n        }\n        this._ctx = this.canvas.getContext('2d');\n        this._viewerSampleLevel = viewer.sampleLevel;\n        this._viewer.setSampling(-1);\n    }\n    _renderTile(i) {\n        const viewer = this._viewer;\n        const width = this._width;\n        const height = this._height;\n        const factor = this._factor;\n        const x = i % factor;\n        const y = Math.floor(i / factor);\n        const offsetX = x * width;\n        const offsetY = y * height;\n        viewer.camera.setViewOffset(width * factor, height * factor, offsetX, offsetY, width, height);\n        viewer.render();\n        if (this._antialias) {\n            const w = Math.round((offsetX + width) / 2) - Math.round(offsetX / 2);\n            const h = Math.round((offsetY + height) / 2) - Math.round(offsetY / 2);\n            this._ctx.drawImage(viewer.renderer.domElement, Math.round(offsetX / 2), Math.round(offsetY / 2), w, h);\n        }\n        else {\n            this._ctx.drawImage(viewer.renderer.domElement, Math.floor(offsetX), Math.floor(offsetY), Math.ceil(width), Math.ceil(height));\n        }\n        if (typeof this._onProgress === 'function') {\n            this._onProgress(i + 1, this._n, false);\n        }\n    }\n    _finalize() {\n        this._viewer.setSampling(this._viewerSampleLevel);\n        this._viewer.camera.view = null; // TODO\n        if (typeof this._onFinish === 'function') {\n            this._onFinish(this._n + 1, this._n, false);\n        }\n    }\n    render() {\n        for (let i = 0; i <= this._n; ++i) {\n            if (i === this._n) {\n                this._finalize();\n            }\n            else {\n                this._renderTile(i);\n            }\n        }\n    }\n    renderAsync() {\n        let count = 0;\n        const n = this._n;\n        const fn = () => {\n            if (count === n) {\n                this._finalize();\n            }\n            else {\n                this._renderTile(count);\n            }\n            count += 1;\n        };\n        for (let i = 0; i <= n; ++i) {\n            setTimeout(fn, 0);\n        }\n    }\n}\nexport default TiledRenderer;\n//# sourceMappingURL=tiled-renderer.js.map","/**\n * @file Math Constants\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nexport const EPS = 0.0000001;\nexport const TwoPI = 2 * Math.PI;\nexport const DEG2RAD = Math.PI / 180;\nexport const RAD2DEG = 180 / Math.PI;\n//# sourceMappingURL=math-constants.js.map","/**\n * @file Array Utils\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3 } from 'three';\nimport { TwoPI } from './math-constants';\nexport function circularMean(array, max, stride = 1, offset = 0, indices) {\n    // http://en.wikipedia.org/wiki/Center_of_mass#Systems_with_periodic_boundary_conditions\n    // Bai, Linge; Breen, David (2008). Calculating Center of Mass in an Unbounded 2D Environment. Journal of Graphics, GPU, and Game Tools 13 (4): 53–60.\n    // http://stackoverflow.com/questions/18166507/using-fft-to-find-the-center-of-mass-under-periodic-boundary-conditions\n    const n = indices ? indices.length : array.length / stride;\n    let cosMean = 0;\n    let sinMean = 0;\n    if (indices) {\n        for (let i = 0; i < n; ++i) {\n            const c = (array[indices[i] * stride + offset] + max) % max;\n            const angle = (c / max) * TwoPI - Math.PI;\n            cosMean += Math.cos(angle);\n            sinMean += Math.sin(angle);\n        }\n    }\n    else {\n        for (let i = offset; i < n; i += stride) {\n            const c = (array[i] + max) % max;\n            const angle = (c / max) * TwoPI - Math.PI;\n            cosMean += Math.cos(angle);\n            sinMean += Math.sin(angle);\n        }\n    }\n    cosMean /= n;\n    sinMean /= n;\n    const meanAngle = Math.atan2(sinMean, cosMean);\n    const mean = (meanAngle + Math.PI) / TwoPI * max;\n    return mean;\n}\nexport function calculateCenterArray(array1, array2, center, offset = 0) {\n    const n = array1.length;\n    const c = center || new Float32Array(n);\n    for (let i = 0; i < n; i += 3) {\n        c[offset + i + 0] = (array1[i + 0] + array2[i + 0]) / 2.0;\n        c[offset + i + 1] = (array1[i + 1] + array2[i + 1]) / 2.0;\n        c[offset + i + 2] = (array1[i + 2] + array2[i + 2]) / 2.0;\n    }\n    return c;\n}\nexport function calculateDirectionArray(array1, array2) {\n    const n = array1.length;\n    const direction = new Float32Array(n);\n    for (let i = 0; i < n; i += 3) {\n        direction[i + 0] = array2[i + 0] - array1[i + 0];\n        direction[i + 1] = array2[i + 1] - array1[i + 1];\n        direction[i + 2] = array2[i + 2] - array1[i + 2];\n    }\n    return direction;\n}\nexport function uniformArray(n, a, optionalTarget) {\n    const array = optionalTarget || new Float32Array(n);\n    for (let i = 0; i < n; ++i) {\n        array[i] = a;\n    }\n    return array;\n}\nexport function uniformArray3(n, a, b, c, optionalTarget) {\n    const array = optionalTarget || new Float32Array(n * 3);\n    for (let i = 0; i < n; ++i) {\n        const j = i * 3;\n        array[j + 0] = a;\n        array[j + 1] = b;\n        array[j + 2] = c;\n    }\n    return array;\n}\nexport function centerArray3(array, center = new Vector3()) {\n    const n = array.length;\n    for (let i = 0; i < n; i += 3) {\n        center.x += array[i];\n        center.y += array[i + 1];\n        center.z += array[i + 2];\n    }\n    center.divideScalar(n / 3);\n    return center;\n}\nexport function serialArray(n) {\n    const array = new Float32Array(n);\n    for (let i = 0; i < n; ++i) {\n        array[i] = i;\n    }\n    return array;\n}\nexport function serialBlockArray(n, b, offset = 0, optionalTarget) {\n    const array = optionalTarget || new Float32Array(n * b);\n    for (let i = 0; i < n; ++i) {\n        const k = offset + i * b;\n        for (let j = 0; j < b; ++j) {\n            array[k + j] = i;\n        }\n    }\n    return array;\n}\nexport function randomColorArray(n) {\n    const array = new Float32Array(n * 3);\n    for (let i = 0; i < n; ++i) {\n        const j = i * 3;\n        array[j + 0] = Math.random();\n        array[j + 1] = Math.random();\n        array[j + 2] = Math.random();\n    }\n    return array;\n}\nexport function replicateArrayEntries(array, m) {\n    const n = array.length;\n    const repArr = new Float32Array(n * m);\n    for (let i = 0; i < n; ++i) {\n        const k = i * m;\n        const a = array[i];\n        for (let j = 0; j < m; ++j) {\n            repArr[k + j] = a;\n        }\n    }\n    return repArr;\n}\nexport function replicateArray3Entries(array, m) {\n    const n = array.length / 3;\n    const repArr = new Float32Array(n * m * 3);\n    for (let i = 0; i < n; ++i) {\n        const v = i * 3;\n        const k = i * m * 3;\n        const a = array[v + 0];\n        const b = array[v + 1];\n        const c = array[v + 2];\n        for (let j = 0; j < m; ++j) {\n            const l = k + j * 3;\n            repArr[l + 0] = a;\n            repArr[l + 1] = b;\n            repArr[l + 2] = c;\n        }\n    }\n    return repArr;\n}\nexport function calculateMeanArray(array1, array2) {\n    const n = array1.length;\n    const mean = new Float32Array(n);\n    for (let i = 0; i < n; i++) {\n        mean[i] = (array1[i] + array2[i]) / 2.0;\n    }\n    return mean;\n}\nexport function calculateMinArray(array1, array2) {\n    const n = array1.length;\n    const min = new Float32Array(n);\n    for (let i = 0; i < n; i++) {\n        min[i] = Math.min(array1[i], array2[i]);\n    }\n    return min;\n}\nexport function copyArray(src, dst, srcOffset, dstOffset, length) {\n    for (let i = 0; i < length; ++i) {\n        dst[dstOffset + i] = src[srcOffset + i];\n    }\n}\nexport function copyWithin(array, srcOffset, dstOffset, length) {\n    copyArray(array, array, srcOffset, dstOffset, length);\n}\nconst swap = new Float32Array(4);\nconst temp = new Float32Array(4);\n/**\n * quicksortIP\n * @function\n * @author Roman Bolzern <roman.bolzern@fhnw.ch>, 2013\n * @author I4DS http://www.fhnw.ch/i4ds, 2013\n * @license MIT License <http://www.opensource.org/licenses/mit-license.php>\n * @description\n * In-place quicksort for typed arrays (e.g. for Float32Array)\n * provides fast sorting\n * useful e.g. for a custom shader and/or BufferGeometry\n * Complexity: http://bigocheatsheet.com/ see Quicksort\n *\n * @example\n * points: [x, y, z, x, y, z, x, y, z, ...]\n * eleSize: 3 //because of (x, y, z)\n * orderElement: 0 //order according to x\n *\n * @param {TypedArray} arr - array to be sorted\n * @param {Integer} eleSize - element size\n * @param {Integer} orderElement - index of element used for sorting, < eleSize\n * @param {Integer} [begin] - start index for range to be sorted\n * @param {Integer} [end] - end index for range to be sorted\n * @return {TypedArray} the input array\n */\nexport function quicksortIP(arr, eleSize, orderElement, begin = 0, end) {\n    end = (end || (arr.length / eleSize)) - 1;\n    const stack = [];\n    let sp = -1;\n    let left = begin;\n    let right = end;\n    let tmp = 0.0;\n    let x = 0;\n    let y = 0;\n    const swapF = function (a, b) {\n        a *= eleSize;\n        b *= eleSize;\n        for (y = 0; y < eleSize; y++) {\n            tmp = arr[a + y];\n            arr[a + y] = arr[b + y];\n            arr[b + y] = tmp;\n        }\n    };\n    let i, j;\n    while (true) {\n        if (right - left <= 25) {\n            for (j = left + 1; j <= right; j++) {\n                for (x = 0; x < eleSize; x++) {\n                    swap[x] = arr[j * eleSize + x];\n                }\n                i = j - 1;\n                while (i >= left && arr[i * eleSize + orderElement] > swap[orderElement]) {\n                    for (x = 0; x < eleSize; x++) {\n                        arr[(i + 1) * eleSize + x] = arr[i * eleSize + x];\n                    }\n                    i--;\n                }\n                for (x = 0; x < eleSize; x++) {\n                    arr[(i + 1) * eleSize + x] = swap[x];\n                }\n            }\n            if (sp === -1)\n                break;\n            right = stack[sp--]; // ?\n            left = stack[sp--];\n        }\n        else {\n            const median = (left + right) >> 1;\n            i = left + 1;\n            j = right;\n            swapF(median, i);\n            if (arr[left * eleSize + orderElement] > arr[right * eleSize + orderElement]) {\n                swapF(left, right);\n            }\n            if (arr[i * eleSize + orderElement] > arr[right * eleSize + orderElement]) {\n                swapF(i, right);\n            }\n            if (arr[left * eleSize + orderElement] > arr[i * eleSize + orderElement]) {\n                swapF(left, i);\n            }\n            for (x = 0; x < eleSize; x++) {\n                temp[x] = arr[i * eleSize + x];\n            }\n            while (true) {\n                do\n                    i++;\n                while (arr[i * eleSize + orderElement] < temp[orderElement]);\n                do\n                    j--;\n                while (arr[j * eleSize + orderElement] > temp[orderElement]);\n                if (j < i)\n                    break;\n                swapF(i, j);\n            }\n            for (x = 0; x < eleSize; x++) {\n                arr[(left + 1) * eleSize + x] = arr[j * eleSize + x];\n                arr[j * eleSize + x] = temp[x];\n            }\n            if (right - i + 1 >= j - left) {\n                stack[++sp] = i;\n                stack[++sp] = right;\n                right = j - 1;\n            }\n            else {\n                stack[++sp] = left;\n                stack[++sp] = j - 1;\n                left = i;\n            }\n        }\n    }\n    return arr;\n}\nexport function quicksortCmp(arr, cmp, begin = 0, end) {\n    cmp = cmp || function cmp(a, b) {\n        if (a > b)\n            return 1;\n        if (a < b)\n            return -1;\n        return 0;\n    };\n    end = (end || arr.length) - 1;\n    const stack = [];\n    let sp = -1;\n    let left = begin;\n    let right = end;\n    let tmp;\n    function swap(a, b) {\n        const tmp2 = arr[a];\n        arr[a] = arr[b];\n        arr[b] = tmp2;\n    }\n    let i, j;\n    while (true) {\n        if (right - left <= 25) {\n            for (let k = left + 1; k <= right; ++k) {\n                tmp = arr[k];\n                i = k - 1;\n                while (i >= left && cmp(arr[i], tmp) > 0) {\n                    arr[i + 1] = arr[i];\n                    --i;\n                }\n                arr[i + 1] = tmp;\n            }\n            if (sp === -1)\n                break;\n            right = stack[sp--]; // ?\n            left = stack[sp--];\n        }\n        else {\n            const median = (left + right) >> 1;\n            i = left + 1;\n            j = right;\n            swap(median, i);\n            if (cmp(arr[left], arr[right]) > 0) {\n                swap(left, right);\n            }\n            if (cmp(arr[i], arr[right]) > 0) {\n                swap(i, right);\n            }\n            if (cmp(arr[left], arr[i]) > 0) {\n                swap(left, i);\n            }\n            tmp = arr[i];\n            while (true) {\n                do\n                    i++;\n                while (cmp(arr[i], tmp) < 0);\n                do\n                    j--;\n                while (cmp(arr[j], tmp) > 0);\n                if (j < i)\n                    break;\n                swap(i, j);\n            }\n            arr[left + 1] = arr[j];\n            arr[j] = tmp;\n            if (right - i + 1 >= j - left) {\n                stack[++sp] = i;\n                stack[++sp] = right;\n                right = j - 1;\n            }\n            else {\n                stack[++sp] = left;\n                stack[++sp] = j - 1;\n                left = i;\n            }\n        }\n    }\n    return arr;\n}\nexport function quickselectCmp(arr, n, cmp, left = 0, right) {\n    cmp = cmp || function cmp(a, b) {\n        if (a > b)\n            return 1;\n        if (a < b)\n            return -1;\n        return 0;\n    };\n    right = (right || arr.length) - 1;\n    let pivotIndex, pivotValue, storeIndex;\n    function swap(a, b) {\n        const tmp = arr[a];\n        arr[a] = arr[b];\n        arr[b] = tmp;\n    }\n    while (true) {\n        if (left === right) {\n            return arr[left];\n        }\n        pivotIndex = (left + right) >> 1;\n        pivotValue = arr[pivotIndex];\n        swap(pivotIndex, right);\n        storeIndex = left;\n        for (let i = left; i < right; ++i) {\n            if (cmp(arr[i], pivotValue) < 0) {\n                swap(storeIndex, i);\n                ++storeIndex;\n            }\n        }\n        swap(right, storeIndex);\n        pivotIndex = storeIndex;\n        if (n === pivotIndex) {\n            return arr[n];\n        }\n        else if (n < pivotIndex) {\n            right = pivotIndex - 1;\n        }\n        else {\n            left = pivotIndex + 1;\n        }\n    }\n}\nexport function arrayMax(array) {\n    let max = -Infinity;\n    for (let i = 0, il = array.length; i < il; ++i) {\n        if (array[i] > max)\n            max = array[i];\n    }\n    return max;\n}\nexport function arrayMin(array) {\n    let min = Infinity;\n    for (let i = 0, il = array.length; i < il; ++i) {\n        if (array[i] < min)\n            min = array[i];\n    }\n    return min;\n}\nexport function arraySum(array, stride = 1, offset = 0) {\n    const n = array.length;\n    let sum = 0;\n    for (let i = offset; i < n; i += stride) {\n        sum += array[i];\n    }\n    return sum;\n}\nexport function arrayMean(array, stride = 1, offset = 0) {\n    return arraySum(array, stride, offset) / (array.length / stride);\n}\nexport function arrayRms(array) {\n    const n = array.length;\n    let sumSq = 0;\n    for (let i = 0; i < n; ++i) {\n        const di = array[i];\n        sumSq += di * di;\n    }\n    return Math.sqrt(sumSq / n);\n}\nexport function arraySorted(array) {\n    for (let i = 1, il = array.length; i < il; ++i) {\n        if (array[i - 1] > array[i])\n            return false;\n    }\n    return true;\n}\nexport function arraySortedCmp(array, cmp) {\n    for (let i = 1, il = array.length; i < il; ++i) {\n        if (cmp(array[i - 1], array[i]) > 0)\n            return false;\n    }\n    return true;\n}\n//# sourceMappingURL=array-utils.js.map","/**\n * @file Viewer Utils\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector2, Vector3, Matrix4, Points } from 'three';\nimport { createParams } from '../utils';\nimport TiledRenderer from './tiled-renderer';\nimport { quicksortCmp } from '../math/array-utils';\nfunction _trimCanvas(canvas, r, g, b, a) {\n    const canvasHeight = canvas.height;\n    const canvasWidth = canvas.width;\n    const ctx = canvas.getContext('2d');\n    const pixels = ctx.getImageData(0, 0, canvasWidth, canvasHeight).data;\n    let x, y, doBreak, off;\n    doBreak = false;\n    for (y = 0; y < canvasHeight; y++) {\n        for (x = 0; x < canvasWidth; x++) {\n            off = (y * canvasWidth + x) * 4;\n            if (pixels[off] !== r || pixels[off + 1] !== g ||\n                pixels[off + 2] !== b || pixels[off + 3] !== a) {\n                doBreak = true;\n                break;\n            }\n        }\n        if (doBreak) {\n            break;\n        }\n    }\n    const topY = y;\n    doBreak = false;\n    for (x = 0; x < canvasWidth; x++) {\n        for (y = 0; y < canvasHeight; y++) {\n            off = (y * canvasWidth + x) * 4;\n            if (pixels[off] !== r || pixels[off + 1] !== g ||\n                pixels[off + 2] !== b || pixels[off + 3] !== a) {\n                doBreak = true;\n                break;\n            }\n        }\n        if (doBreak) {\n            break;\n        }\n    }\n    const topX = x;\n    doBreak = false;\n    for (y = canvasHeight - 1; y >= 0; y--) {\n        for (x = canvasWidth - 1; x >= 0; x--) {\n            off = (y * canvasWidth + x) * 4;\n            if (pixels[off] !== r || pixels[off + 1] !== g ||\n                pixels[off + 2] !== b || pixels[off + 3] !== a) {\n                doBreak = true;\n                break;\n            }\n        }\n        if (doBreak) {\n            break;\n        }\n    }\n    const bottomY = y;\n    doBreak = false;\n    for (x = canvasWidth - 1; x >= 0; x--) {\n        for (y = canvasHeight - 1; y >= 0; y--) {\n            off = (y * canvasWidth + x) * 4;\n            if (pixels[off] !== r || pixels[off + 1] !== g ||\n                pixels[off + 2] !== b || pixels[off + 3] !== a) {\n                doBreak = true;\n                break;\n            }\n        }\n        if (doBreak) {\n            break;\n        }\n    }\n    const bottomX = x;\n    const trimedCanvas = document.createElement('canvas');\n    trimedCanvas.width = bottomX - topX;\n    trimedCanvas.height = bottomY - topY;\n    const trimedCtx = trimedCanvas.getContext('2d');\n    trimedCtx.drawImage(canvas, topX, topY, trimedCanvas.width, trimedCanvas.height, 0, 0, trimedCanvas.width, trimedCanvas.height);\n    return trimedCanvas;\n}\n/**\n * Image parameter object.\n * @typedef {Object} ImageParameters - image generation parameters\n * @property {Boolean} trim - trim the image\n * @property {Integer} factor - scaling factor to apply to the viewer canvas\n * @property {Boolean} antialias - antialias the image\n * @property {Boolean} transparent - transparent image background\n */\nexport const ImageDefaultParameters = {\n    trim: false,\n    factor: 1,\n    antialias: false,\n    transparent: false,\n    onProgress: undefined\n};\n/**\n * Make image from what is shown in a viewer canvas\n * @param  {Viewer} viewer - the viewer\n * @param  {ImageParameters} params - parameters object\n * @return {Promise} A Promise object that resolves to an image {@link Blob}.\n */\nexport function makeImage(viewer, params = {}) {\n    const { trim, factor, antialias, transparent } = createParams(params, ImageDefaultParameters);\n    const renderer = viewer.renderer;\n    const camera = viewer.camera;\n    const originalClearAlpha = renderer.getClearAlpha();\n    const backgroundColor = renderer.getClearColor();\n    function setLineWidthAndPixelSize(invert = false) {\n        let _factor = factor;\n        if (antialias)\n            _factor *= 2;\n        if (invert)\n            _factor = 1 / _factor;\n        viewer.scene.traverse(function (o) {\n            const m = o.material;\n            if (m && m.linewidth) {\n                m.linewidth *= _factor;\n            }\n            if (m && m.uniforms && m.uniforms.size) {\n                if (m.uniforms.size.__seen === undefined) {\n                    m.uniforms.size.value *= _factor;\n                    m.uniforms.size.__seen = true;\n                }\n            }\n            if (m && m.uniforms && m.uniforms.linewidth) {\n                if (m.uniforms.linewidth.__seen === undefined) {\n                    m.uniforms.linewidth.value *= _factor;\n                    m.uniforms.linewidth.__seen = true;\n                }\n            }\n        });\n        viewer.scene.traverse(function (o) {\n            const m = o.material;\n            if (m && m.uniforms && m.uniforms.size) {\n                delete m.uniforms.size.__seen;\n            }\n            if (m && m.uniforms && m.uniforms.linewidth) {\n                delete m.uniforms.linewidth.__seen;\n            }\n        });\n    }\n    function trimCanvas(canvas) {\n        if (trim) {\n            const bg = backgroundColor;\n            const r = transparent ? 0 : bg.r * 255;\n            const g = transparent ? 0 : bg.g * 255;\n            const b = transparent ? 0 : bg.b * 255;\n            const a = transparent ? 0 : 255;\n            return _trimCanvas(canvas, r, g, b, a);\n        }\n        else {\n            return canvas;\n        }\n    }\n    function onProgress(i, n, finished) {\n        if (typeof params.onProgress === 'function') {\n            params.onProgress(i, n, finished);\n        }\n    }\n    return new Promise(function (resolve, reject) {\n        const tiledRenderer = new TiledRenderer(renderer, camera, viewer, { factor, antialias, onProgress, onFinish });\n        renderer.setClearAlpha(transparent ? 0 : 1);\n        setLineWidthAndPixelSize();\n        tiledRenderer.renderAsync();\n        function onFinish(i, n) {\n            const canvas = trimCanvas(tiledRenderer.canvas);\n            canvas.toBlob(function (blob) {\n                renderer.setClearAlpha(originalClearAlpha);\n                setLineWidthAndPixelSize(true);\n                viewer.requestRender();\n                onProgress(n, n, true);\n                if (blob) {\n                    resolve(blob);\n                }\n                else {\n                    reject('error creating image');\n                }\n            }, 'image/png');\n        }\n    });\n}\nconst vertex = new Vector3();\nconst matrix = new Matrix4();\nconst modelViewProjectionMatrix = new Matrix4();\nexport function sortProjectedPosition(scene, camera) {\n    // console.time( \"sort\" );\n    scene.traverseVisible(function (o) {\n        if (!(o instanceof Points) || !o.userData.buffer.parameters.sortParticles) {\n            return;\n        }\n        const attributes = o.geometry.attributes; // TODO\n        const n = attributes.position.count;\n        if (n === 0)\n            return;\n        matrix.multiplyMatrices(camera.matrixWorldInverse, o.matrixWorld);\n        modelViewProjectionMatrix.multiplyMatrices(camera.projectionMatrix, matrix);\n        let sortData, sortArray, zArray, cmpFn;\n        if (!o.userData.sortData) {\n            zArray = new Float32Array(n);\n            sortArray = new Uint32Array(n);\n            cmpFn = function (ai, bi) {\n                const a = zArray[ai];\n                const b = zArray[bi];\n                if (a > b)\n                    return 1;\n                if (a < b)\n                    return -1;\n                return 0;\n            };\n            sortData = {\n                __zArray: zArray,\n                __sortArray: sortArray,\n                __cmpFn: cmpFn\n            };\n            o.userData.sortData = sortData;\n        }\n        else {\n            sortData = o.userData.sortData;\n            zArray = sortData.__zArray;\n            sortArray = sortData.__sortArray;\n            cmpFn = sortData.__cmpFn;\n        }\n        for (let i = 0; i < n; ++i) {\n            vertex.fromArray(attributes.position.array, i * 3);\n            vertex.applyMatrix4(modelViewProjectionMatrix);\n            // negate, so that sorting order is reversed\n            zArray[i] = -vertex.z;\n            sortArray[i] = i;\n        }\n        quicksortCmp(sortArray, cmpFn);\n        let index, indexSrc, indexDst, tmpTab;\n        for (let name in attributes) {\n            const attr = attributes[name];\n            const array = attr.array;\n            const itemSize = attr.itemSize;\n            if (!sortData[name]) {\n                sortData[name] = new Float32Array(itemSize * n);\n            }\n            tmpTab = sortData[name];\n            sortData[name] = array;\n            for (let i = 0; i < n; ++i) {\n                index = sortArray[i];\n                for (let j = 0; j < itemSize; ++j) {\n                    indexSrc = index * itemSize + j;\n                    indexDst = i * itemSize + j;\n                    tmpTab[indexDst] = array[indexSrc];\n                }\n            }\n            attributes[name].array = tmpTab;\n            attributes[name].needsUpdate = true;\n        }\n    });\n    // console.timeEnd( \"sort\" );\n}\nconst resolution = new Vector2();\nconst projectionMatrixInverse = new Matrix4();\nconst projectionMatrixTranspose = new Matrix4();\nexport function updateMaterialUniforms(group, camera, renderer, cDist, bRadius) {\n    let size = new Vector2();\n    renderer.getSize(size);\n    const canvasHeight = size.height;\n    const pixelRatio = renderer.getPixelRatio();\n    const ortho = camera.type === 'OrthographicCamera';\n    resolution.set(size.width, size.height);\n    projectionMatrixInverse.getInverse(camera.projectionMatrix);\n    projectionMatrixTranspose.copy(camera.projectionMatrix).transpose();\n    group.traverse(function (o) {\n        const m = o.material;\n        if (!m)\n            return;\n        const u = m.uniforms;\n        if (!u)\n            return;\n        if (m.clipNear) {\n            const nearFactor = (50 - m.clipNear) / 50;\n            const nearClip = cDist - (bRadius * nearFactor);\n            u.clipNear.value = nearClip;\n        }\n        if (u.canvasHeight) {\n            u.canvasHeight.value = canvasHeight;\n        }\n        if (u.resolution) {\n            u.resolution.value.copy(resolution);\n        }\n        if (u.pixelRatio) {\n            u.pixelRatio.value = pixelRatio;\n        }\n        if (u.projectionMatrixInverse) {\n            u.projectionMatrixInverse.value.copy(projectionMatrixInverse);\n        }\n        if (u.projectionMatrixTranspose) {\n            u.projectionMatrixTranspose.value.copy(projectionMatrixTranspose);\n        }\n        if (u.ortho) {\n            u.ortho.value = ortho;\n        }\n    });\n}\nexport function updateCameraUniforms(group, camera) {\n    projectionMatrixInverse.getInverse(camera.projectionMatrix);\n    projectionMatrixTranspose.copy(camera.projectionMatrix).transpose();\n    group.traverse(function (o) {\n        const m = o.material;\n        if (!m)\n            return;\n        const u = m.uniforms;\n        if (!u)\n            return;\n        if (u.projectionMatrixInverse) {\n            u.projectionMatrixInverse.value.copy(projectionMatrixInverse);\n        }\n        if (u.projectionMatrixTranspose) {\n            u.projectionMatrixTranspose.value.copy(projectionMatrixTranspose);\n        }\n    });\n}\n//# sourceMappingURL=viewer-utils.js.map","/**\n * @file Viewer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\n// adapted from https://webglfundamentals.org/webgl/resources/webgl-utils.js\n// Copyright 2012, Gregg Tavares. Modified BSD License\nexport function createProgram(gl, shaders, attribs, locations) {\n    const program = gl.createProgram();\n    if (!program) {\n        console.log(`error creating WebGL program`);\n        return;\n    }\n    shaders.forEach(shader => gl.attachShader(program, shader));\n    if (attribs) {\n        attribs.forEach((attrib, i) => {\n            gl.bindAttribLocation(program, locations ? locations[i] : i, attrib);\n        });\n    }\n    gl.linkProgram(program);\n    // Check the link status\n    const linked = gl.getProgramParameter(program, gl.LINK_STATUS);\n    if (!linked) {\n        console.log(`error linking program: ${gl.getProgramInfoLog(program)}`);\n        gl.deleteProgram(program);\n        return null;\n    }\n    return program;\n}\nexport function loadShader(gl, shaderSource, shaderType) {\n    const shader = gl.createShader(shaderType);\n    if (!shader) {\n        console.log(`error creating WebGL shader ${shaderType}`);\n        return; // can't create shader\n    }\n    gl.shaderSource(shader, shaderSource);\n    gl.compileShader(shader);\n    // Check the compile status\n    const compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n    if (!compiled) {\n        console.log(`error compiling shader ${shader}: ${gl.getShaderInfoLog(shader)}`);\n        gl.deleteShader(shader);\n        return null;\n    }\n    return shader;\n}\n//\nexport function getErrorDescription(gl, error) {\n    switch (error) {\n        case gl.NO_ERROR: return 'no error';\n        case gl.INVALID_ENUM: return 'invalid enum';\n        case gl.INVALID_VALUE: return 'invalid value';\n        case gl.INVALID_OPERATION: return 'invalid operation';\n        case gl.INVALID_FRAMEBUFFER_OPERATION: return 'invalid framebuffer operation';\n        case gl.OUT_OF_MEMORY: return 'out of memory';\n        case gl.CONTEXT_LOST_WEBGL: return 'context lost';\n    }\n    return 'unknown error';\n}\nexport function getExtension(gl, name) {\n    const ext = gl.getExtension(name);\n    if (!ext)\n        console.log(`extension '${name}' not available`);\n    return ext;\n}\nconst TextureTestVertShader = `\nattribute vec4 a_position;\n\nvoid main() {\n  gl_Position = a_position;\n}`;\nconst TextureTestFragShader = `\nprecision mediump float;\nuniform vec4 u_color;\nuniform sampler2D u_texture;\n\nvoid main() {\n  gl_FragColor = texture2D(u_texture, vec2(0.5, 0.5)) * u_color;\n}`;\nconst TextureTestTexCoords = new Float32Array([\n    -1.0, -1.0, 1.0, -1.0, -1.0, 1.0, -1.0, 1.0, 1.0, -1.0, 1.0, 1.0\n]);\nexport function testTextureSupport(type) {\n    // adapted from\n    // https://stackoverflow.com/questions/28827511/webgl-ios-render-to-floating-point-texture\n    // Get A WebGL context\n    const canvas = document.createElement('canvas');\n    canvas.width = 16;\n    canvas.height = 16;\n    canvas.style.width = 16 + 'px';\n    canvas.style.height = 16 + 'px';\n    const gl = canvas.getContext(\"webgl\") || canvas.getContext(\"experimental-webgl\");\n    if (!gl) {\n        console.log(`error creating webgl context for ${type}`);\n        return false;\n    }\n    if (!(gl instanceof WebGLRenderingContext)) {\n        console.log(`Got unexpected type for WebGL rendering context`);\n        return false;\n    }\n    getExtension(gl, 'OES_texture_float');\n    getExtension(gl, 'OES_texture_half_float');\n    getExtension(gl, 'WEBGL_color_buffer_float');\n    // setup shaders\n    const vertShader = loadShader(gl, TextureTestVertShader, gl.VERTEX_SHADER);\n    const fragShader = loadShader(gl, TextureTestFragShader, gl.FRAGMENT_SHADER);\n    if (!vertShader || !fragShader)\n        return false;\n    // setup program\n    const program = createProgram(gl, [vertShader, fragShader]);\n    if (!program) {\n        console.log(`error creating WebGL program`);\n        return false;\n    }\n    gl.useProgram(program);\n    // look up where the vertex data needs to go.\n    const positionLocation = gl.getAttribLocation(program, \"a_position\");\n    const colorLoc = gl.getUniformLocation(program, \"u_color\");\n    if (!colorLoc) {\n        console.log(`error getting 'u_color' uniform location`);\n        return false;\n    }\n    // provide texture coordinates for the rectangle.\n    const positionBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, TextureTestTexCoords, gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(positionLocation);\n    gl.vertexAttribPointer(positionLocation, 2, gl.FLOAT, false, 0, 0);\n    const whiteTex = gl.createTexture();\n    const whiteData = new Uint8Array([255, 255, 255, 255]);\n    gl.bindTexture(gl.TEXTURE_2D, whiteTex);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, whiteData);\n    const tex = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, tex);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 1, 1, 0, gl.RGBA, type, null);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    const fb = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, fb);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, tex, 0);\n    const status = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\n    if (status !== gl.FRAMEBUFFER_COMPLETE) {\n        console.log(`error creating framebuffer for ${type}`);\n        return false;\n    }\n    // Draw the rectangle.\n    gl.bindTexture(gl.TEXTURE_2D, whiteTex);\n    gl.uniform4fv(colorLoc, [0, 10, 20, 1]);\n    gl.drawArrays(gl.TRIANGLES, 0, 6);\n    gl.bindTexture(gl.TEXTURE_2D, tex);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n    gl.clearColor(1, 0, 0, 1);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n    gl.uniform4fv(colorLoc, [0, 1 / 10, 1 / 20, 1]);\n    gl.drawArrays(gl.TRIANGLES, 0, 6);\n    // Check if rendered correctly\n    const pixel = new Uint8Array(4);\n    gl.readPixels(0, 0, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, pixel);\n    if (pixel[0] !== 0 || pixel[1] < 248 || pixel[2] < 248 || pixel[3] < 254) {\n        console.log(`not able to actually render to ${type} texture`);\n        return false;\n    }\n    // Check reading from float texture\n    if (type === gl.FLOAT) {\n        gl.bindFramebuffer(gl.FRAMEBUFFER, fb);\n        const floatPixel = new Float32Array(4);\n        gl.readPixels(0, 0, 1, 1, gl.RGBA, gl.FLOAT, floatPixel);\n        const error = gl.getError();\n        if (error) {\n            console.log(`error reading pixels as float: '${getErrorDescription(gl, error)}'`);\n            return false;\n        }\n    }\n    return true;\n}\n//# sourceMappingURL=gl-utils.js.map","/**\n * @file Viewer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Signal } from 'signals';\nimport { PerspectiveCamera, OrthographicCamera, StereoCamera, Vector2, Box3, Vector3, Matrix4, Color, WebGLRenderer, WebGLRenderTarget, NearestFilter, LinearFilter, AdditiveBlending, RGBAFormat, FloatType, /*HalfFloatType, */ UnsignedByteType, ShaderMaterial, PlaneGeometry, Scene, Mesh, Group, Uniform, Fog, SpotLight, AmbientLight, BufferGeometry, BufferAttribute, LineSegments } from 'three';\nimport '../shader/BasicLine.vert';\nimport '../shader/BasicLine.frag';\nimport '../shader/Quad.vert';\nimport '../shader/Quad.frag';\nimport { Debug, Log, WebglErrorMessage, Browser, setExtensionFragDepth, SupportsReadPixelsFloat, setSupportsReadPixelsFloat } from '../globals';\nimport { degToRad } from '../math/math-utils';\nimport Stats from './stats';\nimport { getShader } from '../shader/shader-utils';\nimport { JitterVectors } from './viewer-constants';\nimport { makeImage, sortProjectedPosition, updateMaterialUniforms, updateCameraUniforms } from './viewer-utils';\nimport { testTextureSupport } from './gl-utils';\nconst pixelBufferFloat = new Float32Array(4 * 25);\nconst pixelBufferUint = new Uint8Array(4 * 25);\n// When picking, we read a 25 pixel (5x5) array (readRenderTargetPixels)\n// We read the pixels in the order below to find what was picked.\n// This starts at the center and tries successively further points.\n// (Many points will be at equal distance to the center, their order\n// is arbitrary).\nconst pixelOrder = [12, 7, 13, 17, 11, 6, 8, 18, 16, 2, 14, 22, 10, 1, 3, 9, 19, 23, 21, 15, 5, 0, 4, 24, 20];\nconst tmpMatrix = new Matrix4();\nfunction onBeforeRender(renderer, scene, camera, geometry, material /*, group */) {\n    const u = material.uniforms;\n    const updateList = [];\n    if (u.objectId) {\n        u.objectId.value = SupportsReadPixelsFloat ? this.id : this.id / 255;\n        updateList.push('objectId');\n    }\n    if (u.modelViewMatrixInverse || u.modelViewMatrixInverseTranspose ||\n        u.modelViewProjectionMatrix || u.modelViewProjectionMatrixInverse) {\n        this.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse, this.matrixWorld);\n    }\n    if (u.modelViewMatrixInverse) {\n        u.modelViewMatrixInverse.value.getInverse(this.modelViewMatrix);\n        updateList.push('modelViewMatrixInverse');\n    }\n    if (u.modelViewMatrixInverseTranspose) {\n        if (u.modelViewMatrixInverse) {\n            u.modelViewMatrixInverseTranspose.value.copy(u.modelViewMatrixInverse.value).transpose();\n        }\n        else {\n            u.modelViewMatrixInverseTranspose.value\n                .getInverse(this.modelViewMatrix)\n                .transpose();\n        }\n        updateList.push('modelViewMatrixInverseTranspose');\n    }\n    if (u.modelViewProjectionMatrix) {\n        u.modelViewProjectionMatrix.value.multiplyMatrices(camera.projectionMatrix, this.modelViewMatrix);\n        updateList.push('modelViewProjectionMatrix');\n    }\n    if (u.modelViewProjectionMatrixInverse) {\n        if (u.modelViewProjectionMatrix) {\n            tmpMatrix.copy(u.modelViewProjectionMatrix.value);\n            u.modelViewProjectionMatrixInverse.value.getInverse(tmpMatrix);\n        }\n        else {\n            tmpMatrix.multiplyMatrices(camera.projectionMatrix, this.modelViewMatrix);\n            u.modelViewProjectionMatrixInverse.value.getInverse(tmpMatrix);\n        }\n        updateList.push('modelViewProjectionMatrixInverse');\n    }\n    if (updateList.length) {\n        const materialProperties = renderer.properties.get(material);\n        if (materialProperties.program) {\n            const gl = renderer.getContext();\n            const p = materialProperties.program;\n            gl.useProgram(p.program);\n            const pu = p.getUniforms();\n            updateList.forEach(function (name) {\n                pu.setValue(gl, name, u[name].value);\n            });\n        }\n    }\n}\n/**\n * Viewer class\n * @class\n * @param {String|Element} [idOrElement] - dom id or element\n */\nexport default class Viewer {\n    constructor(idOrElement) {\n        this.boundingBox = new Box3();\n        this.boundingBoxSize = new Vector3();\n        this.boundingBoxLength = 0;\n        this.info = {\n            memory: {\n                programs: 0,\n                geometries: 0,\n                textures: 0\n            },\n            render: {\n                calls: 0,\n                vertices: 0,\n                faces: 0,\n                points: 0\n            }\n        };\n        this.distVector = new Vector3();\n        this.signals = {\n            ticked: new Signal(),\n            rendered: new Signal()\n        };\n        if (typeof idOrElement === 'string') {\n            const elm = document.getElementById(idOrElement);\n            if (elm === null) {\n                this.container = document.createElement('div');\n            }\n            else {\n                this.container = elm;\n            }\n        }\n        else if (idOrElement instanceof HTMLElement) {\n            this.container = idOrElement;\n        }\n        else {\n            this.container = document.createElement('div');\n        }\n        if (this.container === document.body) {\n            this.width = window.innerWidth || 1;\n            this.height = window.innerHeight || 1;\n        }\n        else {\n            const box = this.container.getBoundingClientRect();\n            this.width = box.width || 1;\n            this.height = box.height || 1;\n            this.container.style.overflow = 'hidden';\n        }\n        this.wrapper = document.createElement('div');\n        this.wrapper.style.position = 'relative';\n        this.container.appendChild(this.wrapper);\n        this._initParams();\n        this._initStats();\n        this._initCamera();\n        this._initScene();\n        if (this._initRenderer() === false) {\n            Log.error('Viewer: could not initialize renderer');\n            return;\n        }\n        this._initHelper();\n        // fog & background\n        this.setBackground();\n        this.setFog();\n        this.animate = this.animate.bind(this);\n    }\n    _initParams() {\n        this.parameters = {\n            fogColor: new Color(0x000000),\n            fogNear: 50,\n            fogFar: 100,\n            backgroundColor: new Color(0x000000),\n            cameraType: 'perspective',\n            cameraFov: 40,\n            cameraEyeSep: 0.3,\n            cameraZ: -80,\n            clipNear: 0,\n            clipFar: 100,\n            clipDist: 10,\n            clipMode: 'scene',\n            clipScale: 'relative',\n            lightColor: new Color(0xdddddd),\n            lightIntensity: 1.0,\n            ambientColor: new Color(0xdddddd),\n            ambientIntensity: 0.2,\n            sampleLevel: 0\n        };\n    }\n    _initCamera() {\n        const lookAt = new Vector3(0, 0, 0);\n        const { width, height } = this;\n        this.perspectiveCamera = new PerspectiveCamera(this.parameters.cameraFov, width / height);\n        this.perspectiveCamera.position.z = this.parameters.cameraZ;\n        this.perspectiveCamera.lookAt(lookAt);\n        this.orthographicCamera = new OrthographicCamera(width / -2, width / 2, height / 2, height / -2);\n        this.orthographicCamera.position.z = this.parameters.cameraZ;\n        this.orthographicCamera.lookAt(lookAt);\n        this.stereoCamera = new StereoCamera();\n        this.stereoCamera.aspect = 0.5;\n        this.stereoCamera.eyeSep = this.parameters.cameraEyeSep;\n        const cameraType = this.parameters.cameraType;\n        if (cameraType === 'orthographic') {\n            this.camera = this.orthographicCamera;\n        }\n        else if (cameraType === 'perspective' || cameraType === 'stereo') {\n            this.camera = this.perspectiveCamera;\n        }\n        else {\n            throw new Error(`Unknown cameraType '${cameraType}'`);\n        }\n        this.camera.updateProjectionMatrix();\n    }\n    _initStats() {\n        this.stats = new Stats();\n    }\n    _initScene() {\n        if (!this.scene) {\n            this.scene = new Scene();\n            this.scene.name = 'scene';\n        }\n        this.rotationGroup = new Group();\n        this.rotationGroup.name = 'rotationGroup';\n        this.scene.add(this.rotationGroup);\n        this.translationGroup = new Group();\n        this.translationGroup.name = 'translationGroup';\n        this.rotationGroup.add(this.translationGroup);\n        this.modelGroup = new Group();\n        this.modelGroup.name = 'modelGroup';\n        this.translationGroup.add(this.modelGroup);\n        this.pickingGroup = new Group();\n        this.pickingGroup.name = 'pickingGroup';\n        this.translationGroup.add(this.pickingGroup);\n        this.backgroundGroup = new Group();\n        this.backgroundGroup.name = 'backgroundGroup';\n        this.translationGroup.add(this.backgroundGroup);\n        this.helperGroup = new Group();\n        this.helperGroup.name = 'helperGroup';\n        this.translationGroup.add(this.helperGroup);\n        // fog\n        this.scene.fog = new Fog(this.parameters.fogColor.getHex());\n        // light\n        this.spotLight = new SpotLight(this.parameters.lightColor.getHex(), this.parameters.lightIntensity);\n        this.scene.add(this.spotLight);\n        this.ambientLight = new AmbientLight(this.parameters.ambientColor.getHex(), this.parameters.ambientIntensity);\n        this.scene.add(this.ambientLight);\n    }\n    _initRenderer() {\n        const dpr = window.devicePixelRatio;\n        const { width, height } = this;\n        try {\n            this.renderer = new WebGLRenderer({\n                preserveDrawingBuffer: true,\n                alpha: true,\n                antialias: true\n            });\n        }\n        catch (e) {\n            this.wrapper.innerHTML = WebglErrorMessage;\n            return false;\n        }\n        this.renderer.setPixelRatio(dpr);\n        this.renderer.setSize(width, height);\n        this.renderer.autoClear = false;\n        this.renderer.sortObjects = true;\n        const gl = this.renderer.getContext();\n        // console.log(gl.getContextAttributes().antialias)\n        // console.log(gl.getParameter(gl.SAMPLES))\n        // For WebGL1, extensions must be explicitly enabled. \n        // The following are builtin to WebGL2 (and don't appear as \n        // extensions)\n        // EXT_frag_depth, OES_element_index_uint, OES_texture_float \n        // OES_texture_half_float\n        // The WEBGL_color_buffer_float extension is replaced by\n        // EXT_color_buffer_float\n        // If not webgl2 context, explicitly check for these\n        if (!this.renderer.capabilities.isWebGL2) {\n            setExtensionFragDepth(this.renderer.extensions.get('EXT_frag_depth'));\n            this.renderer.extensions.get('OES_element_index_uint');\n            setSupportsReadPixelsFloat((this.renderer.extensions.get('OES_texture_float') &&\n                this.renderer.extensions.get('WEBGL_color_buffer_float')) ||\n                (this.renderer.extensions.get('OES_texture_float') &&\n                    testTextureSupport(gl.FLOAT)));\n            // picking texture\n            this.renderer.extensions.get('OES_texture_float');\n            this.supportsHalfFloat = (this.renderer.extensions.get('OES_texture_half_float') &&\n                testTextureSupport(0x8D61));\n        }\n        else {\n            setExtensionFragDepth(true);\n            setSupportsReadPixelsFloat(this.renderer.extensions.get('EXT_color_buffer_float'));\n            this.supportsHalfFloat = true;\n        }\n        this.wrapper.appendChild(this.renderer.domElement);\n        const dprWidth = width * dpr;\n        const dprHeight = height * dpr;\n        if (Debug) {\n            console.log(JSON.stringify({\n                'Browser': Browser,\n                'OES_texture_float': !!this.renderer.extensions.get('OES_texture_float'),\n                'OES_texture_half_float': !!this.renderer.extensions.get('OES_texture_half_float'),\n                'WEBGL_color_buffer_float': !!this.renderer.extensions.get('WEBGL_color_buffer_float'),\n                'testTextureSupport Float': testTextureSupport(gl.FLOAT),\n                'testTextureSupport HalfFloat': testTextureSupport(0x8D61),\n                'this.supportsHalfFloat': this.supportsHalfFloat,\n                'SupportsReadPixelsFloat': SupportsReadPixelsFloat\n            }, null, 2));\n        }\n        this.pickingTarget = new WebGLRenderTarget(dprWidth, dprHeight, {\n            minFilter: NearestFilter,\n            magFilter: NearestFilter,\n            stencilBuffer: false,\n            format: RGBAFormat,\n            type: SupportsReadPixelsFloat ? FloatType : UnsignedByteType\n        });\n        this.pickingTarget.texture.generateMipmaps = false;\n        // workaround to reset the gl state after using testTextureSupport\n        // fixes some bug where nothing is rendered to the canvas\n        // when animations are started on page load\n        this.renderer.setRenderTarget(this.pickingTarget);\n        this.renderer.clear();\n        this.renderer.setRenderTarget(null);\n        // ssaa textures\n        this.sampleTarget = new WebGLRenderTarget(dprWidth, dprHeight, {\n            minFilter: LinearFilter,\n            magFilter: LinearFilter,\n            format: RGBAFormat\n        });\n        this.holdTarget = new WebGLRenderTarget(dprWidth, dprHeight, {\n            minFilter: NearestFilter,\n            magFilter: NearestFilter,\n            format: RGBAFormat,\n            type: UnsignedByteType\n            // using HalfFloatType or FloatType does not work on some Chrome 61 installations\n            // type: this.supportsHalfFloat ? HalfFloatType : (\n            //   SupportsReadPixelsFloat ? FloatType : UnsignedByteType\n            // )\n        });\n        this.compositeUniforms = {\n            'tForeground': new Uniform(this.sampleTarget.texture),\n            'scale': new Uniform(1.0)\n        };\n        this.compositeMaterial = new ShaderMaterial({\n            uniforms: this.compositeUniforms,\n            vertexShader: getShader('Quad.vert'),\n            fragmentShader: getShader('Quad.frag'),\n            premultipliedAlpha: true,\n            transparent: true,\n            blending: AdditiveBlending,\n            depthTest: false,\n            depthWrite: false\n        });\n        this.compositeCamera = new OrthographicCamera(-1, 1, 1, -1, 0, 1);\n        this.compositeScene = new Scene();\n        this.compositeScene.name = 'compositeScene';\n        this.compositeScene.add(new Mesh(new PlaneGeometry(2, 2), this.compositeMaterial));\n    }\n    _initHelper() {\n        const indices = new Uint16Array([\n            0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6,\n            6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7\n        ]);\n        const positions = new Float32Array(8 * 3);\n        const bbGeometry = new BufferGeometry();\n        bbGeometry.setIndex(new BufferAttribute(indices, 1));\n        bbGeometry.setAttribute('position', new BufferAttribute(positions, 3));\n        const bbMaterial = new ShaderMaterial({\n            uniforms: { 'uColor': { value: new Color('skyblue') } },\n            vertexShader: getShader('BasicLine.vert'),\n            fragmentShader: getShader('BasicLine.frag')\n        });\n        this.boundingBoxMesh = new LineSegments(bbGeometry, bbMaterial);\n        this.helperGroup.add(this.boundingBoxMesh);\n    }\n    updateHelper() {\n        const position = this.boundingBoxMesh.geometry.attributes.position; // TODO\n        const array = position.array;\n        const { min, max } = this.boundingBox;\n        array[0] = max.x;\n        array[1] = max.y;\n        array[2] = max.z;\n        array[3] = min.x;\n        array[4] = max.y;\n        array[5] = max.z;\n        array[6] = min.x;\n        array[7] = min.y;\n        array[8] = max.z;\n        array[9] = max.x;\n        array[10] = min.y;\n        array[11] = max.z;\n        array[12] = max.x;\n        array[13] = max.y;\n        array[14] = min.z;\n        array[15] = min.x;\n        array[16] = max.y;\n        array[17] = min.z;\n        array[18] = min.x;\n        array[19] = min.y;\n        array[20] = min.z;\n        array[21] = max.x;\n        array[22] = min.y;\n        array[23] = min.z;\n        position.needsUpdate = true;\n        if (!this.boundingBox.isEmpty()) {\n            this.boundingBoxMesh.geometry.computeBoundingSphere();\n        }\n    }\n    /** Distance from origin (lookAt point) */\n    get cameraDistance() {\n        return Math.abs(this.camera.position.z);\n    }\n    /** Set distance from origin (lookAt point); along the -z axis */\n    set cameraDistance(d) {\n        this.camera.position.z = -d;\n    }\n    add(buffer, instanceList) {\n        // Log.time( \"Viewer.add\" );\n        if (instanceList) {\n            instanceList.forEach(instance => this.addBuffer(buffer, instance));\n        }\n        else {\n            this.addBuffer(buffer);\n        }\n        buffer.group.name = 'meshGroup';\n        buffer.wireframeGroup.name = 'wireframeGroup';\n        if (buffer.parameters.background) {\n            this.backgroundGroup.add(buffer.group);\n            this.backgroundGroup.add(buffer.wireframeGroup);\n        }\n        else {\n            this.modelGroup.add(buffer.group);\n            this.modelGroup.add(buffer.wireframeGroup);\n        }\n        if (buffer.pickable) {\n            this.pickingGroup.add(buffer.pickingGroup);\n        }\n        if (Debug)\n            this.updateHelper();\n        // Log.timeEnd( \"Viewer.add\" );\n    }\n    addBuffer(buffer, instance) {\n        // Log.time( \"Viewer.addBuffer\" );\n        function setUserData(object) {\n            if (object instanceof Group) {\n                object.children.forEach(setUserData);\n            }\n            else {\n                object.userData.buffer = buffer;\n                object.userData.instance = instance;\n                object.onBeforeRender = onBeforeRender;\n            }\n        }\n        const mesh = buffer.getMesh();\n        if (instance) {\n            mesh.applyMatrix4(instance.matrix);\n        }\n        setUserData(mesh);\n        buffer.group.add(mesh);\n        const wireframeMesh = buffer.getWireframeMesh();\n        if (instance) {\n            // wireframeMesh.applyMatrix( instance.matrix );\n            wireframeMesh.matrix.copy(mesh.matrix);\n            wireframeMesh.position.copy(mesh.position);\n            wireframeMesh.quaternion.copy(mesh.quaternion);\n            wireframeMesh.scale.copy(mesh.scale);\n        }\n        setUserData(wireframeMesh);\n        buffer.wireframeGroup.add(wireframeMesh);\n        if (buffer.pickable) {\n            const pickingMesh = buffer.getPickingMesh();\n            if (instance) {\n                // pickingMesh.applyMatrix( instance.matrix );\n                pickingMesh.matrix.copy(mesh.matrix);\n                pickingMesh.position.copy(mesh.position);\n                pickingMesh.quaternion.copy(mesh.quaternion);\n                pickingMesh.scale.copy(mesh.scale);\n            }\n            setUserData(pickingMesh);\n            buffer.pickingGroup.add(pickingMesh);\n        }\n        if (instance) {\n            this._updateBoundingBox(buffer.geometry, buffer.matrix, instance.matrix);\n        }\n        else {\n            this._updateBoundingBox(buffer.geometry, buffer.matrix);\n        }\n        // Log.timeEnd( \"Viewer.addBuffer\" );\n    }\n    remove(buffer) {\n        this.translationGroup.children.forEach(function (group) {\n            group.remove(buffer.group);\n            group.remove(buffer.wireframeGroup);\n        });\n        if (buffer.pickable) {\n            this.pickingGroup.remove(buffer.pickingGroup);\n        }\n        this.updateBoundingBox();\n        if (Debug)\n            this.updateHelper();\n        // this.requestRender();\n    }\n    _updateBoundingBox(geometry, matrix, instanceMatrix) {\n        const boundingBox = this.boundingBox;\n        function updateGeometry(geometry, matrix, instanceMatrix) {\n            if (geometry.boundingBox == null) {\n                geometry.computeBoundingBox();\n            }\n            const geoBoundingBox = geometry.boundingBox.clone();\n            if (matrix) {\n                geoBoundingBox.applyMatrix4(matrix);\n            }\n            if (instanceMatrix) {\n                geoBoundingBox.applyMatrix4(instanceMatrix);\n            }\n            if (geoBoundingBox.min.equals(geoBoundingBox.max)) {\n                // mainly to give a single impostor geometry some volume\n                // as it is only expanded in the shader on the GPU\n                geoBoundingBox.expandByScalar(5);\n            }\n            boundingBox.union(geoBoundingBox);\n        }\n        function updateNode(node) {\n            if (node.geometry !== undefined) {\n                let matrix, instanceMatrix;\n                if (node.userData.buffer) {\n                    matrix = node.userData.buffer.matrix;\n                }\n                if (node.userData.instance) {\n                    instanceMatrix = node.userData.instance.matrix;\n                }\n                updateGeometry(node.geometry, matrix, instanceMatrix); // TODO\n            }\n        }\n        if (geometry) {\n            updateGeometry(geometry, matrix, instanceMatrix);\n        }\n        else {\n            boundingBox.makeEmpty();\n            this.modelGroup.traverse(updateNode);\n            this.backgroundGroup.traverse(updateNode);\n        }\n        boundingBox.getSize(this.boundingBoxSize);\n        this.boundingBoxLength = this.boundingBoxSize.length();\n    }\n    updateBoundingBox() {\n        this._updateBoundingBox();\n        if (Debug)\n            this.updateHelper();\n    }\n    getPickingPixels() {\n        const { width, height } = this;\n        const n = width * height * 4;\n        const imgBuffer = SupportsReadPixelsFloat ? new Float32Array(n) : new Uint8Array(n);\n        this.render(true);\n        this.renderer.readRenderTargetPixels(this.pickingTarget, 0, 0, width, height, imgBuffer);\n        return imgBuffer;\n    }\n    getImage(picking) {\n        return new Promise(resolve => {\n            if (picking) {\n                const { width, height } = this;\n                const n = width * height * 4;\n                let imgBuffer = this.getPickingPixels();\n                if (SupportsReadPixelsFloat) {\n                    const imgBuffer2 = new Uint8Array(n);\n                    for (let i = 0; i < n; ++i) {\n                        imgBuffer2[i] = Math.round(imgBuffer[i] * 255);\n                    }\n                    imgBuffer = imgBuffer2;\n                }\n                const canvas = document.createElement('canvas');\n                canvas.width = width;\n                canvas.height = height;\n                const ctx = canvas.getContext('2d'); // TODO\n                const imgData = ctx.getImageData(0, 0, width, height);\n                imgData.data.set(imgBuffer); // TODO\n                ctx.putImageData(imgData, 0, 0);\n                canvas.toBlob(resolve, 'image/png'); // TODO\n            }\n            else {\n                this.renderer.domElement.toBlob(resolve, 'image/png'); // TODO\n            }\n        });\n    }\n    makeImage(params = {}) {\n        return makeImage(this, params);\n    }\n    setLight(color, intensity, ambientColor, ambientIntensity) {\n        const p = this.parameters;\n        if (color !== undefined)\n            p.lightColor.set(color); // TODO\n        if (intensity !== undefined)\n            p.lightIntensity = intensity;\n        if (ambientColor !== undefined)\n            p.ambientColor.set(ambientColor); // TODO\n        if (ambientIntensity !== undefined)\n            p.ambientIntensity = ambientIntensity;\n        this.requestRender();\n    }\n    setFog(color, near, far) {\n        const p = this.parameters;\n        if (color !== undefined)\n            p.fogColor.set(color); // TODO\n        if (near !== undefined)\n            p.fogNear = near;\n        if (far !== undefined)\n            p.fogFar = far;\n        this.requestRender();\n    }\n    setBackground(color) {\n        const p = this.parameters;\n        if (color)\n            p.backgroundColor.set(color); // TODO\n        this.setFog(p.backgroundColor);\n        this.renderer.setClearColor(p.backgroundColor, 0);\n        this.renderer.domElement.style.backgroundColor = p.backgroundColor.getStyle();\n        this.requestRender();\n    }\n    setSampling(level) {\n        if (level !== undefined) {\n            this.parameters.sampleLevel = level;\n            this.sampleLevel = level;\n        }\n        this.requestRender();\n    }\n    setCamera(type, fov, eyeSep) {\n        const p = this.parameters;\n        if (type)\n            p.cameraType = type;\n        if (fov)\n            p.cameraFov = fov;\n        if (eyeSep)\n            p.cameraEyeSep = eyeSep;\n        if (p.cameraType === 'orthographic') {\n            if (this.camera !== this.orthographicCamera) {\n                this.camera = this.orthographicCamera;\n                this.camera.position.copy(this.perspectiveCamera.position);\n                this.camera.up.copy(this.perspectiveCamera.up);\n                this.updateZoom();\n            }\n        }\n        else if (p.cameraType === 'perspective' || p.cameraType === 'stereo') {\n            if (this.camera !== this.perspectiveCamera) {\n                this.camera = this.perspectiveCamera;\n                this.camera.position.copy(this.orthographicCamera.position);\n                this.camera.up.copy(this.orthographicCamera.up);\n            }\n        }\n        else {\n            throw new Error(`Unknown cameraType '${p.cameraType}'`);\n        }\n        this.perspectiveCamera.fov = p.cameraFov;\n        this.stereoCamera.eyeSep = p.cameraEyeSep;\n        this.camera.updateProjectionMatrix();\n        this.requestRender();\n    }\n    setClip(near, far, dist, clipMode, clipScale) {\n        const p = this.parameters;\n        if (near !== undefined)\n            p.clipNear = near;\n        if (far !== undefined)\n            p.clipFar = far;\n        if (dist !== undefined)\n            p.clipDist = dist;\n        if (clipMode !== undefined)\n            p.clipMode = clipMode;\n        if (clipScale !== undefined)\n            p.clipScale = clipScale;\n        this.requestRender();\n    }\n    setSize(width, height) {\n        this.width = width || 1;\n        this.height = height || 1;\n        this.perspectiveCamera.aspect = this.width / this.height;\n        this.orthographicCamera.left = -this.width / 2;\n        this.orthographicCamera.right = this.width / 2;\n        this.orthographicCamera.top = this.height / 2;\n        this.orthographicCamera.bottom = -this.height / 2;\n        this.camera.updateProjectionMatrix();\n        const dpr = window.devicePixelRatio;\n        this.renderer.setPixelRatio(dpr);\n        this.renderer.setSize(width, height);\n        const dprWidth = this.width * dpr;\n        const dprHeight = this.height * dpr;\n        this.pickingTarget.setSize(dprWidth, dprHeight);\n        this.sampleTarget.setSize(dprWidth, dprHeight);\n        this.holdTarget.setSize(dprWidth, dprHeight);\n        this.requestRender();\n    }\n    handleResize() {\n        if (this.container === document.body) {\n            this.setSize(window.innerWidth, window.innerHeight);\n        }\n        else {\n            const box = this.container.getBoundingClientRect();\n            this.setSize(box.width, box.height);\n        }\n    }\n    updateInfo(reset) {\n        const { memory, render } = this.info;\n        if (reset) {\n            memory.programs = 0;\n            memory.geometries = 0;\n            memory.textures = 0;\n            render.calls = 0;\n            render.vertices = 0;\n            render.points = 0;\n        }\n        else {\n            const rInfo = this.renderer.info;\n            const rMemory = rInfo.memory;\n            const rRender = rInfo.render;\n            memory.geometries = rMemory.geometries;\n            memory.textures = rMemory.textures;\n            render.calls += rRender.calls;\n            render.faces += rRender.triangles;\n            render.points += rRender.points;\n        }\n    }\n    animate() {\n        this.signals.ticked.dispatch(this.stats);\n        const delta = window.performance.now() - this.stats.startTime;\n        if (delta > 500 && !this.isStill && this.sampleLevel < 3 && this.sampleLevel !== -1) {\n            const currentSampleLevel = this.sampleLevel;\n            this.sampleLevel = 3;\n            this.renderPending = true;\n            this.render();\n            this.isStill = true;\n            this.sampleLevel = currentSampleLevel;\n            if (Debug)\n                Log.log('rendered still frame');\n        }\n        window.requestAnimationFrame(this.animate);\n    }\n    pick(x, y) {\n        if (this.parameters.cameraType === 'stereo') {\n            // TODO picking broken for stereo camera\n            return {\n                'pid': 0,\n                'instance': undefined,\n                'picker': undefined\n            };\n        }\n        x *= window.devicePixelRatio;\n        y *= window.devicePixelRatio;\n        x = Math.max(x - 2, 0);\n        y = Math.max(y - 2, 0);\n        let pid = 0, instance, picker;\n        const pixelBuffer = SupportsReadPixelsFloat ? pixelBufferFloat : pixelBufferUint;\n        this.render(true);\n        this.renderer.readRenderTargetPixels(this.pickingTarget, x, y, 5, 5, pixelBuffer);\n        for (let i = 0; i < pixelOrder.length; i++) {\n            const offset = pixelOrder[i] * 4;\n            const oid = Math.round(pixelBuffer[offset + 3]);\n            const object = this.pickingGroup.getObjectById(oid);\n            if (object) {\n                instance = object.userData.instance;\n                picker = object.userData.buffer.picking;\n            }\n            else {\n                continue;\n            }\n            if (SupportsReadPixelsFloat) {\n                pid =\n                    ((Math.round(pixelBuffer[offset] * 255) << 16) & 0xFF0000) |\n                        ((Math.round(pixelBuffer[offset + 1] * 255) << 8) & 0x00FF00) |\n                        ((Math.round(pixelBuffer[offset + 2] * 255)) & 0x0000FF);\n            }\n            else {\n                pid =\n                    (pixelBuffer[offset] << 16) |\n                        (pixelBuffer[offset + 1] << 8) |\n                        (pixelBuffer[offset + 2]);\n            }\n        }\n        // if( Debug ){\n        //   const rgba = Array.apply( [], pixelBuffer );\n        //   Log.log( pixelBuffer );\n        //   Log.log(\n        //     \"picked color\",\n        //     rgba.map( c => { return c.toPrecision( 2 ) } )\n        //   );\n        //   Log.log( \"picked pid\", pid );\n        //   Log.log( \"picked oid\", oid );\n        //   Log.log( \"picked object\", object );\n        //   Log.log( \"picked instance\", instance );\n        //   Log.log( \"picked position\", x, y );\n        //   Log.log( \"devicePixelRatio\", window.devicePixelRatio );\n        // }\n        return { pid, instance, picker };\n    }\n    requestRender() {\n        if (this.renderPending) {\n            // Log.info(\"there is still a 'render' call pending\")\n            return;\n        }\n        // start gathering stats anew after inactivity\n        if (window.performance.now() - this.stats.startTime > 22) {\n            this.stats.begin();\n            this.isStill = false;\n        }\n        this.renderPending = true;\n        window.requestAnimationFrame(() => {\n            this.render();\n            this.stats.update();\n        });\n    }\n    updateZoom() {\n        const fov = degToRad(this.perspectiveCamera.fov);\n        const height = 2 * Math.tan(fov / 2) * this.cameraDistance;\n        this.orthographicCamera.zoom = this.height / height;\n    }\n    /**\n     * Convert an absolute clip value to a relative one using bRadius.\n     *\n     * 0.0 -> 50.0\n     * bRadius -> 0.0\n     */\n    absoluteToRelative(d) {\n        return 50 * (1 - d / this.bRadius);\n    }\n    /**\n     * Convert a relative clip value to an absolute one using bRadius\n     *\n     * 0.0 -> bRadius\n     * 50.0 -> 0.0\n     */\n    relativeToAbsolute(d) {\n        return this.bRadius * (1 - d / 50);\n    }\n    /**\n     * Intepret clipMode, clipScale and set the camera and fog clipping.\n     * Also ensures bRadius and cDist are valid\n     */\n    __updateClipping() {\n        const p = this.parameters;\n        // bRadius must always be updated for material-based clipping\n        // and for focus calculations\n        this.bRadius = Math.max(10, this.boundingBoxLength * 0.5);\n        // FL: Removed below, but leaving commented as I don't understand intention\n        // this.bRadius += this.boundingBox.getCenter(this.distVector).length()\n        if (!isFinite(this.bRadius)) {\n            this.bRadius = 50;\n        }\n        this.camera.getWorldPosition(this.distVector);\n        this.cDist = this.distVector.length();\n        if (!this.cDist) {\n            // recover from a broken (NaN) camera position\n            this.cameraDistance = Math.abs(p.cameraZ);\n            this.cDist = Math.abs(p.cameraZ);\n        }\n        // fog\n        const fog = this.scene.fog;\n        fog.color.set(p.fogColor);\n        if (p.clipMode === 'camera') {\n            // Always interpret clipScale as absolute for clipMode camera\n            this.camera.near = p.clipNear;\n            this.camera.far = p.clipFar;\n            fog.near = p.fogNear;\n            fog.far = p.fogFar;\n        }\n        else {\n            // scene mode\n            if (p.clipScale === 'absolute') {\n                // absolute scene mode; offset clip planes from scene center\n                // (note: positive values move near plane towards camera and rear plane away)\n                this.camera.near = this.cDist - p.clipNear;\n                this.camera.far = this.cDist + p.clipFar;\n                fog.near = this.cDist - p.fogNear;\n                fog.far = this.cDist + p.fogFar;\n            }\n            else {\n                // relative scene mode (default): convert pecentages to Angstroms\n                const nearFactor = (50 - p.clipNear) / 50;\n                const farFactor = -(50 - p.clipFar) / 50;\n                this.camera.near = this.cDist - (this.bRadius * nearFactor);\n                this.camera.far = this.cDist + (this.bRadius * farFactor);\n                const fogNearFactor = (50 - p.fogNear) / 50;\n                const fogFarFactor = -(50 - p.fogFar) / 50;\n                fog.near = this.cDist - (this.bRadius * fogNearFactor);\n                fog.far = this.cDist + (this.bRadius * fogFarFactor);\n            }\n        }\n        if (p.clipMode !== 'camera') {\n            if (this.camera.type === 'PerspectiveCamera') {\n                this.camera.near = Math.max(0.1, p.clipDist, this.camera.near);\n                this.camera.far = Math.max(1, this.camera.far);\n                fog.near = Math.max(0.1, fog.near);\n                fog.far = Math.max(1, fog.far);\n            }\n            else if (this.camera.type === 'OrthographicCamera') {\n                if (p.clipDist > 0) {\n                    this.camera.near = Math.max(p.clipDist, this.camera.near);\n                }\n            }\n        }\n    }\n    __updateCamera() {\n        const camera = this.camera;\n        camera.updateMatrix();\n        camera.updateMatrixWorld(true);\n        camera.updateProjectionMatrix();\n        updateMaterialUniforms(this.scene, camera, this.renderer, this.cDist, this.bRadius);\n        sortProjectedPosition(this.scene, camera);\n    }\n    __setVisibility(model, picking, background, helper) {\n        this.modelGroup.visible = model;\n        this.pickingGroup.visible = picking;\n        this.backgroundGroup.visible = background;\n        this.helperGroup.visible = helper;\n    }\n    __updateLights() {\n        this.spotLight.color.set(this.parameters.lightColor);\n        this.spotLight.intensity = this.parameters.lightIntensity;\n        this.distVector.copy(this.camera.position).setLength(this.boundingBoxLength * 100);\n        this.spotLight.position.copy(this.camera.position).add(this.distVector);\n        this.ambientLight.color.set(this.parameters.ambientColor);\n        this.ambientLight.intensity = this.parameters.ambientIntensity;\n    }\n    __renderPickingGroup(camera) {\n        this.renderer.setRenderTarget(this.pickingTarget || null);\n        this.renderer.clear();\n        this.__setVisibility(false, true, false, false);\n        this.renderer.render(this.scene, camera);\n        this.renderer.setRenderTarget(null);\n        this.updateInfo();\n        //  back to standard render target\n        this.renderer.setRenderTarget(null); // TODO\n        // if (Debug) {\n        //   this.__setVisibility(false, true, false, true);\n        //   this.renderer.clear();\n        //   this.renderer.render(this.scene, camera);\n        // }\n    }\n    __renderModelGroup(camera, renderTarget) {\n        this.renderer.setRenderTarget(renderTarget || null);\n        this.renderer.clear();\n        this.__setVisibility(false, false, true, false);\n        this.renderer.render(this.scene, camera);\n        this.renderer.clear(false, true, true);\n        this.updateInfo();\n        this.__setVisibility(true, false, false, Debug);\n        this.renderer.render(this.scene, camera);\n        this.renderer.setRenderTarget(null); // set back to default canvas\n        this.updateInfo();\n    }\n    __renderSuperSample(camera) {\n        // based on the Supersample Anti-Aliasing Render Pass\n        // contributed to three.js by bhouston / http://clara.io/\n        //\n        // This manual approach to SSAA re-renders the scene ones for\n        // each sample with camera jitter and accumulates the results.\n        // References: https://en.wikipedia.org/wiki/Supersampling\n        const offsetList = JitterVectors[Math.max(0, Math.min(this.sampleLevel, 5))];\n        const baseSampleWeight = 1.0 / offsetList.length;\n        const roundingRange = 1 / 32;\n        this.compositeUniforms.tForeground.value = this.sampleTarget.texture;\n        let width = this.sampleTarget.width;\n        const height = this.sampleTarget.height;\n        if (this.parameters.cameraType === 'stereo') {\n            width /= 2;\n        }\n        // render the scene multiple times, each slightly jitter offset\n        // from the last and accumulate the results.\n        for (let i = 0; i < offsetList.length; ++i) {\n            const offset = offsetList[i];\n            camera.setViewOffset(width, height, offset[0], offset[1], width, height);\n            camera.updateProjectionMatrix();\n            updateCameraUniforms(this.scene, camera);\n            let sampleWeight = baseSampleWeight;\n            // the theory is that equal weights for each sample lead to an\n            // accumulation of rounding errors.\n            // The following equation varies the sampleWeight per sample\n            // so that it is uniformly distributed across a range of values\n            // whose rounding errors cancel each other out.\n            const uniformCenteredDistribution = -0.5 + (i + 0.5) / offsetList.length;\n            sampleWeight += roundingRange * uniformCenteredDistribution;\n            this.compositeUniforms.scale.value = sampleWeight;\n            this.__renderModelGroup(camera, this.sampleTarget);\n            this.renderer.setRenderTarget(this.holdTarget);\n            if (i === 0) {\n                this.renderer.clear();\n            }\n            this.renderer.render(this.compositeScene, this.compositeCamera);\n        }\n        this.compositeUniforms.scale.value = 1.0;\n        this.compositeUniforms.tForeground.value = this.holdTarget.texture;\n        camera.clearViewOffset();\n        this.renderer.setRenderTarget(null);\n        this.renderer.clear();\n        this.renderer.render(this.compositeScene, this.compositeCamera);\n    }\n    __renderStereo(picking = false) {\n        const stereoCamera = this.stereoCamera;\n        stereoCamera.update(this.perspectiveCamera);\n        const renderer = this.renderer;\n        let size = new Vector2();\n        renderer.getSize(size);\n        renderer.setScissorTest(true);\n        renderer.setScissor(0, 0, size.width / 2, size.height);\n        renderer.setViewport(0, 0, size.width / 2, size.height);\n        updateCameraUniforms(this.scene, stereoCamera.cameraL);\n        this.__render(picking, stereoCamera.cameraL);\n        renderer.setScissor(size.width / 2, 0, size.width / 2, size.height);\n        renderer.setViewport(size.width / 2, 0, size.width / 2, size.height);\n        updateCameraUniforms(this.scene, stereoCamera.cameraR);\n        this.__render(picking, stereoCamera.cameraR);\n        renderer.setScissorTest(false);\n        renderer.setViewport(0, 0, size.width, size.height);\n    }\n    __render(picking = false, camera) {\n        if (picking) {\n            if (!this.lastRenderedPicking)\n                this.__renderPickingGroup(camera);\n        }\n        else if (this.sampleLevel > 0 && this.parameters.cameraType !== 'stereo') {\n            // TODO super sample broken for stereo camera\n            this.__renderSuperSample(camera);\n        }\n        else {\n            this.__renderModelGroup(camera);\n        }\n    }\n    render(picking = false) {\n        if (this.rendering) {\n            Log.warn(\"'tried to call 'render' from within 'render'\");\n            return;\n        }\n        // Log.time('Viewer.render')\n        this.rendering = true;\n        try {\n            this.__updateClipping();\n            this.__updateCamera();\n            this.__updateLights();\n            this.updateInfo(true);\n            // render\n            if (this.parameters.cameraType === 'stereo') {\n                this.__renderStereo(picking);\n            }\n            else {\n                this.__render(picking, this.camera);\n            }\n            this.lastRenderedPicking = picking;\n        }\n        finally {\n            this.rendering = false;\n            this.renderPending = false;\n        }\n        this.signals.rendered.dispatch();\n        // Log.timeEnd('Viewer.render')\n        // Log.log(this.info.memory, this.info.render)\n    }\n    clear() {\n        Log.log('scene cleared');\n        this.scene.remove(this.rotationGroup);\n        this._initScene();\n        this.renderer.clear();\n    }\n    dispose() {\n        this.renderer.dispose();\n    }\n}\n//# sourceMappingURL=viewer.js.map","/**\n * @file Constants\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nexport const LeftMouseButton = 1;\nexport const MiddleMouseButton = 2;\nexport const RightMouseButton = 3;\n//# sourceMappingURL=constants.js.map","/**\n * @file Mouse Observer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector2 } from 'three';\nimport { Signal } from 'signals';\nimport { LeftMouseButton, RightMouseButton } from '../constants';\nimport { defaults } from '../utils';\n/**\n * @example\n * mouseObserver.signals.scrolled.add( function( delta ){ ... } );\n *\n * @typedef {Object} MouseSignals\n * @property {Signal<Integer, Integer>} moved - on move: deltaX, deltaY\n * @property {Signal<Number>} scrolled - on scroll: delta\n * @property {Signal<Integer, Integer>} dragged - on drag: deltaX, deltaY\n * @property {Signal} dropped - on drop\n * @property {Signal} clicked - on click\n * @property {Signal} hovered - on hover\n */\nfunction getTouchDistance(event) {\n    const dx = event.touches[0].pageX - event.touches[1].pageX;\n    const dy = event.touches[0].pageY - event.touches[1].pageY;\n    return Math.sqrt(dx * dx + dy * dy);\n}\nfunction getMouseButtons(event) {\n    if (typeof event === 'object') {\n        if ('buttons' in event) {\n            return event.buttons;\n        }\n        else if ('which' in event) {\n            const b = event.which;\n            if (b === 2) {\n                return 4;\n            }\n            else if (b === 3) {\n                return 2;\n            }\n            else if (b > 0) {\n                return 1 << (b - 1);\n            }\n        }\n        else if ('button' in event) {\n            const b = event.button;\n            if (b === 1) {\n                return 4;\n            }\n            else if (b === 2) {\n                return 2;\n            }\n            else if (b >= 0) {\n                return 1 << b;\n            }\n        }\n    }\n    return 0;\n}\n/**\n * Mouse observer\n *\n * @example\n * // listen to mouse moving (and touch-moving) events\n * mouseObserver.moved.moved.add( function( deltaX, deltaY ){ ... } );\n *\n * @example\n * // listen to scrolling (and pinching) events\n * mouseObserver.signals.scrolled.add( function( delta ){ ... } );\n *\n * @example\n * // listen to dragging (and touch-dragging) events\n * mouseObserver.signals.dragged.add( function( deltaX, deltaY ){ ... } );\n *\n * @example\n * // listen to clicking (and tapping) events\n * mouseObserver.signals.clicked.add( function(){ ... } );\n *\n * @example\n * // listen to double clicking (and double tapping) events\n * mouseObserver.signals.doubleClicked.add( function(){ ... } );\n *\n * @example\n * // listen to hovering events\n * mouseObserver.signals.hovered.add( function(){ ... } );\n */\nclass MouseObserver {\n    /**\n     * @param  {Element} domElement - the dom element to observe mouse events in\n     * @param  {Object} params - parameters object\n     * @param  {Integer} params.hoverTimeout - timeout in ms until the {@link MouseSignals.hovered}\n     *                                         signal is fired, set to -1 to ignore hovering\n     * @param  {Boolean} params.handleScroll - whether or not to handle scroll events\n     * @param  {Integer} params.doubleClickSpeed - max time in ms to trigger double click\n     */\n    constructor(domElement, params = {}) {\n        this.domElement = domElement;\n        this.signals = {\n            moved: new Signal(),\n            scrolled: new Signal(),\n            dragged: new Signal(),\n            dropped: new Signal(),\n            clicked: new Signal(),\n            hovered: new Signal(),\n            doubleClicked: new Signal()\n        };\n        this.position = new Vector2(); // Position on page\n        this.prevPosition = new Vector2(); // Previous position on page\n        this.down = new Vector2(); // Position on page when clicked\n        this.canvasPosition = new Vector2(); // Position on dom element\n        this.prevClickCP = new Vector2();\n        this.moving = false; // Flag indicating if the mouse is moving\n        this.hovering = true; // Flag indicating if the mouse is hovering\n        this.scrolled = false; // Flag indicating if there was a scolling event since the last mouse move\n        this.lastMoved = Infinity; // Timestamp of last mouse move\n        this.which = 0; // 0: No button; 1: Left button; 2: Middle button; 3: Right button\n        this.buttons = 0; // 0: No button; 1: Left button; 2: Right button; 4: Middle button\n        this.pressed = false; // Flag indicating if the mouse is pressed down\n        this.altKey = false; // Flag indicating if the alt key is pressed\n        this.ctrlKey = false; // Flag indicating if the ctrl key is pressed\n        this.metaKey = false; // Flag indicating if the meta key is pressed\n        this.shiftKey = false; // Flag indicating if the shift key is pressed\n        this.domElement.style.touchAction = 'none';\n        this.hoverTimeout = defaults(params.hoverTimeout, 50);\n        this.handleScroll = defaults(params.handleScroll, true);\n        this.doubleClickSpeed = defaults(params.doubleClickSpeed, 500);\n        this._listen = this._listen.bind(this);\n        this._onMousewheel = this._onMousewheel.bind(this);\n        this._onMousemove = this._onMousemove.bind(this);\n        this._onMousedown = this._onMousedown.bind(this);\n        this._onMouseup = this._onMouseup.bind(this);\n        this._onContextmenu = this._onContextmenu.bind(this);\n        this._onTouchstart = this._onTouchstart.bind(this);\n        this._onTouchend = this._onTouchend.bind(this);\n        this._onTouchmove = this._onTouchmove.bind(this);\n        this._listen();\n        const opt = { passive: false }; // treat as 'passive' so preventDefault can be called\n        document.addEventListener('mousewheel', this._onMousewheel, opt);\n        document.addEventListener('wheel', this._onMousewheel, opt);\n        document.addEventListener('MozMousePixelScroll', this._onMousewheel, opt);\n        document.addEventListener('mousemove', this._onMousemove, opt);\n        document.addEventListener('mousedown', this._onMousedown, opt);\n        document.addEventListener('mouseup', this._onMouseup, opt);\n        document.addEventListener('contextmenu', this._onContextmenu, opt);\n        document.addEventListener('touchstart', this._onTouchstart, opt);\n        document.addEventListener('touchend', this._onTouchend, opt);\n        document.addEventListener('touchmove', this._onTouchmove, opt);\n    }\n    get key() {\n        let key = 0;\n        if (this.altKey)\n            key += 1;\n        if (this.ctrlKey)\n            key += 2;\n        if (this.metaKey)\n            key += 4;\n        if (this.shiftKey)\n            key += 8;\n        return key;\n    }\n    setParameters(params = {}) {\n        this.hoverTimeout = defaults(params.hoverTimeout, this.hoverTimeout);\n    }\n    /**\n     * listen to mouse actions\n     * @emits {MouseSignals.clicked} when clicked\n     * @emits {MouseSignals.hovered} when hovered\n     * @return {undefined}\n     */\n    _listen() {\n        const now = window.performance.now();\n        const cp = this.canvasPosition;\n        if (this.doubleClickPending && now - this.lastClicked > this.doubleClickSpeed) {\n            this.doubleClickPending = false;\n        }\n        if (now - this.lastMoved > this.hoverTimeout) {\n            this.moving = false;\n        }\n        if (this.scrolled || (!this.moving && !this.hovering)) {\n            this.scrolled = false;\n            if (this.hoverTimeout !== -1 && this.overElement) {\n                this.hovering = true;\n                this.signals.hovered.dispatch(cp.x, cp.y);\n            }\n        }\n        window.requestAnimationFrame(this._listen);\n    }\n    /**\n     * handle mouse scroll\n     * @emits {MouseSignals.scrolled} when scrolled\n     * @param  {Event} event - mouse event\n     * @return {undefined}\n     */\n    _onMousewheel(event) {\n        if (event.target !== this.domElement || !this.handleScroll) {\n            return;\n        }\n        event.preventDefault();\n        this._setKeys(event);\n        let delta = 0;\n        if ('deltaY' in event && 'deltaMode' in event) {\n            // all modern browsers, using WheelEvent; deltaY + down (toward user)\n            if (event.deltaMode === WheelEvent.DOM_DELTA_PIXEL)\n                // everything except Firefox: normally 100 per wheel click\n                delta = -event.deltaY * (2.5 / 100.0);\n            else if (event.deltaMode === WheelEvent.DOM_DELTA_LINE)\n                // Firefox in line mode, normally 3 per wheel click\n                delta = -event.deltaY * (2.5 / 3.0);\n            else // page mode: 1 per wheel click\n                delta = -event.deltaY * 2.5;\n        }\n        else if ('deltaY' in event && !('detail' in event)) {\n            // Old Firefox or IE 11: deltaY but no deltaMode; treat as pixels\n            delta = -event.deltaY * (2.5 / 100.0);\n        }\n        else if (event.wheelDelta !== undefined) {\n            delta = -event.wheelDelta * (2.5 / 100);\n        }\n        else if (event.wheelDeltaY !== undefined) {\n            delta = -event.wheelDeltaY * (2.5 / 100);\n        }\n        else {\n            // Old Firefox, MouseWheelEvent\n            delta = -event.detail / 3;\n        }\n        this.signals.scrolled.dispatch(delta);\n        setTimeout(() => {\n            this.scrolled = true;\n        }, this.hoverTimeout);\n    }\n    /**\n     * handle mouse move\n     * @emits {MouseSignals.moved} when moved\n     * @emits {MouseSignals.dragged} when dragged\n     * @param  {Event} event - mouse event\n     * @return {undefined}\n     */\n    _onMousemove(event) {\n        if (event.target === this.domElement) {\n            event.preventDefault();\n            this.overElement = true;\n        }\n        else {\n            this.overElement = false;\n        }\n        this._setKeys(event);\n        this.moving = true;\n        this.hovering = false;\n        this.lastMoved = window.performance.now();\n        this.prevPosition.copy(this.position);\n        this.position.set(event.clientX, event.clientY);\n        this._setCanvasPosition(event);\n        const dx = this.prevPosition.x - this.position.x;\n        const dy = this.prevPosition.y - this.position.y;\n        this.signals.moved.dispatch(dx, dy);\n        if (this.pressed) {\n            this.signals.dragged.dispatch(dx, dy);\n        }\n    }\n    _onMousedown(event) {\n        if (event.target !== this.domElement) {\n            return;\n        }\n        event.preventDefault();\n        this._setKeys(event);\n        this.moving = false;\n        this.hovering = false;\n        this.down.set(event.clientX, event.clientY);\n        this.position.set(event.clientX, event.clientY);\n        this.which = event.which;\n        this.buttons = getMouseButtons(event);\n        this.pressed = true;\n        this._setCanvasPosition(event);\n    }\n    /**\n     * handle mouse up\n     * @emits {MouseSignals.doubleClicked} when double clicked\n     * @emits {MouseSignals.dropped} when dropped\n     * @param  {Event} event - mouse event\n     * @return {undefined}\n     */\n    _onMouseup(event) {\n        if (event.target === this.domElement) {\n            event.preventDefault();\n        }\n        this._setKeys(event);\n        const cp = this.canvasPosition;\n        if (this._distance() < 4) {\n            this.lastClicked = window.performance.now();\n            if (this.doubleClickPending && this.prevClickCP.distanceTo(cp) < 4) {\n                this.signals.doubleClicked.dispatch(cp.x, cp.y);\n                this.doubleClickPending = false;\n            }\n            this.signals.clicked.dispatch(cp.x, cp.y);\n            this.doubleClickPending = true;\n            this.prevClickCP.copy(cp);\n        }\n        this.which = undefined;\n        this.buttons = undefined;\n        this.pressed = undefined;\n        // if (this._distance() > 3 || event.which === RightMouseButton) {\n        //   this.signals.dropped.dispatch();\n        // }\n    }\n    _onContextmenu(event) {\n        if (event.target === this.domElement) {\n            event.preventDefault();\n        }\n    }\n    _onTouchstart(event) {\n        if (event.target !== this.domElement) {\n            return;\n        }\n        event.preventDefault();\n        this.pressed = true;\n        switch (event.touches.length) {\n            case 1: {\n                this.moving = false;\n                this.hovering = false;\n                this.down.set(event.touches[0].pageX, event.touches[0].pageY);\n                this.position.set(event.touches[0].pageX, event.touches[0].pageY);\n                this._setCanvasPosition(event.touches[0]);\n                break;\n            }\n            case 2: {\n                this.down.set((event.touches[0].pageX + event.touches[1].pageX) / 2, (event.touches[0].pageY + event.touches[1].pageY) / 2);\n                this.position.set((event.touches[0].pageX + event.touches[1].pageX) / 2, (event.touches[0].pageY + event.touches[1].pageY) / 2);\n                this.lastTouchDistance = getTouchDistance(event);\n            }\n        }\n    }\n    _onTouchend(event) {\n        if (event.target === this.domElement) {\n            event.preventDefault();\n        }\n        this.which = undefined;\n        this.buttons = undefined;\n        this.pressed = undefined;\n    }\n    _onTouchmove(event) {\n        if (event.target === this.domElement) {\n            event.preventDefault();\n            this.overElement = true;\n        }\n        else {\n            this.overElement = false;\n        }\n        switch (event.touches.length) {\n            case 1: {\n                this._setKeys(event);\n                this.which = LeftMouseButton;\n                this.buttons = 1;\n                this.moving = true;\n                this.hovering = false;\n                this.lastMoved = window.performance.now();\n                this.prevPosition.copy(this.position);\n                this.position.set(event.touches[0].pageX, event.touches[0].pageY);\n                this._setCanvasPosition(event.touches[0]);\n                const dx = this.prevPosition.x - this.position.x;\n                const dy = this.prevPosition.y - this.position.y;\n                this.signals.moved.dispatch(dx, dy);\n                if (this.pressed) {\n                    this.signals.dragged.dispatch(dx, dy);\n                }\n                break;\n            }\n            case 2: {\n                const touchDistance = getTouchDistance(event);\n                const delta = touchDistance - this.lastTouchDistance;\n                this.lastTouchDistance = touchDistance;\n                this.prevPosition.copy(this.position);\n                this.position.set((event.touches[0].pageX + event.touches[1].pageX) / 2, (event.touches[0].pageY + event.touches[1].pageY) / 2);\n                if (Math.abs(delta) > 2 && this.handleScroll &&\n                    this.position.distanceTo(this.prevPosition) < 2) {\n                    this.which = 0;\n                    this.buttons = 0;\n                    this.signals.scrolled.dispatch(delta / 2);\n                }\n                else {\n                    this.which = RightMouseButton;\n                    this.buttons = 2;\n                    const dx = this.prevPosition.x - this.position.x;\n                    const dy = this.prevPosition.y - this.position.y;\n                    this.signals.moved.dispatch(dx, dy);\n                    if (this.pressed) {\n                        this.signals.dragged.dispatch(dx, dy);\n                    }\n                }\n            }\n        }\n    }\n    _distance() {\n        return this.position.distanceTo(this.down);\n    }\n    _setCanvasPosition(event) {\n        const box = this.domElement.getBoundingClientRect();\n        let offsetX, offsetY;\n        if ('offsetX' in event && 'offsetY' in event) {\n            offsetX = event.offsetX;\n            offsetY = event.offsetY;\n        }\n        else {\n            offsetX = event.clientX - box.left;\n            offsetY = event.clientY - box.top;\n        }\n        this.canvasPosition.set(offsetX, box.height - offsetY);\n    }\n    _setKeys(event) {\n        this.altKey = event.altKey;\n        this.ctrlKey = event.ctrlKey;\n        this.metaKey = event.metaKey;\n        this.shiftKey = event.shiftKey;\n    }\n    dispose() {\n        document.removeEventListener('mousewheel', this._onMousewheel);\n        document.removeEventListener('wheel', this._onMousewheel);\n        document.removeEventListener('MozMousePixelScroll', this._onMousewheel);\n        document.removeEventListener('mousemove', this._onMousemove);\n        document.removeEventListener('mousedown', this._onMousedown);\n        document.removeEventListener('mouseup', this._onMouseup);\n        document.removeEventListener('contextmenu', this._onContextmenu);\n        document.removeEventListener('touchstart', this._onTouchstart);\n        document.removeEventListener('touchend', this._onTouchend);\n        document.removeEventListener('touchmove', this._onTouchmove);\n    }\n}\nexport default MouseObserver;\n//# sourceMappingURL=mouse-observer.js.map","/**\n * @file Trackball Controls\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3, Matrix4, Quaternion } from 'three';\nimport { defaults } from '../utils';\nconst tmpRotateXMatrix = new Matrix4();\nconst tmpRotateYMatrix = new Matrix4();\nconst tmpRotateZMatrix = new Matrix4();\nconst tmpRotateMatrix = new Matrix4();\nconst tmpRotateCameraMatrix = new Matrix4();\nconst tmpRotateVector = new Vector3();\nconst tmpRotateQuaternion = new Quaternion();\nconst tmpRotateQuaternion2 = new Quaternion();\nconst tmpPanMatrix = new Matrix4();\nconst tmpPanVector = new Vector3();\nconst tmpAtomVector = new Vector3();\n/**\n * Trackball controls\n */\nclass TrackballControls {\n    constructor(stage, params = {}) {\n        this.stage = stage;\n        this.rotateSpeed = defaults(params.rotateSpeed, 2.0);\n        this.zoomSpeed = defaults(params.zoomSpeed, 1.2);\n        this.panSpeed = defaults(params.panSpeed, 1.0);\n        this.viewer = stage.viewer;\n        this.mouse = stage.mouseObserver;\n        this.controls = stage.viewerControls;\n    }\n    get component() {\n        return this.stage.transformComponent;\n    }\n    get atom() {\n        return this.stage.transformAtom;\n    }\n    _setPanVector(x, y, z = 0) {\n        const scaleFactor = this.controls.getCanvasScaleFactor(z);\n        tmpPanVector.set(x, y, 0);\n        tmpPanVector.multiplyScalar(this.panSpeed * scaleFactor);\n    }\n    _getRotateXY(x, y) {\n        return [\n            this.rotateSpeed * -x * 0.01,\n            this.rotateSpeed * y * 0.01\n        ];\n    }\n    _getCameraRotation(m) {\n        m.extractRotation(this.viewer.camera.matrixWorld);\n        m.multiply(tmpRotateYMatrix.makeRotationY(Math.PI));\n        return m;\n    }\n    _transformPanVector() {\n        if (!this.component)\n            return;\n        // Adjust for component and scene rotation\n        tmpPanMatrix.extractRotation(this.component.transform);\n        tmpPanMatrix.premultiply(this.viewer.rotationGroup.matrix);\n        tmpPanMatrix.getInverse(tmpPanMatrix);\n        // Adjust for camera rotation\n        tmpPanMatrix.multiply(this._getCameraRotation(tmpRotateMatrix));\n        tmpPanVector.applyMatrix4(tmpPanMatrix);\n    }\n    zoom(delta) {\n        this.controls.zoom(this.zoomSpeed * delta * 0.02);\n    }\n    pan(x, y) {\n        this._setPanVector(x, y);\n        // Adjust for scene rotation\n        tmpPanMatrix.getInverse(this.viewer.rotationGroup.matrix);\n        // Adjust for camera rotation\n        tmpPanMatrix.multiply(this._getCameraRotation(tmpRotateMatrix));\n        tmpPanVector.applyMatrix4(tmpPanMatrix);\n        this.controls.translate(tmpPanVector);\n    }\n    panComponent(x, y) {\n        if (!this.component)\n            return;\n        this._setPanVector(x, y);\n        this._transformPanVector();\n        this.component.position.add(tmpPanVector);\n        this.component.updateMatrix();\n    }\n    panAtom(x, y) {\n        if (!this.atom || !this.component)\n            return;\n        this.atom.positionToVector3(tmpAtomVector);\n        tmpAtomVector.add(this.viewer.translationGroup.position);\n        tmpAtomVector.applyMatrix4(this.viewer.rotationGroup.matrix);\n        this._setPanVector(x, y, tmpAtomVector.z);\n        this._transformPanVector();\n        this.atom.positionAdd(tmpPanVector);\n        this.component.updateRepresentations({ 'position': true });\n    }\n    rotate(x, y) {\n        const [dx, dy] = this._getRotateXY(x, y);\n        // rotate around screen X then screen Y\n        this._getCameraRotation(tmpRotateMatrix);\n        tmpRotateVector.set(1, 0, 0); // X axis\n        tmpRotateVector.applyMatrix4(tmpRotateMatrix); // screen X\n        tmpRotateQuaternion.setFromAxisAngle(tmpRotateVector, dy);\n        tmpRotateVector.set(0, 1, 0); // Y axis\n        tmpRotateVector.applyMatrix4(tmpRotateMatrix); // screen Y\n        tmpRotateQuaternion2.setFromAxisAngle(tmpRotateVector, dx);\n        tmpRotateQuaternion.multiply(tmpRotateQuaternion2);\n        tmpRotateMatrix.makeRotationFromQuaternion(tmpRotateQuaternion);\n        this.controls.applyMatrix(tmpRotateMatrix);\n    }\n    zRotate(x, y) {\n        const dz = this.rotateSpeed * ((-x + y) / -2) * 0.01;\n        tmpRotateZMatrix.makeRotationZ(dz);\n        this.controls.applyMatrix(tmpRotateZMatrix);\n    }\n    rotateComponent(x, y) {\n        if (!this.component)\n            return;\n        const [dx, dy] = this._getRotateXY(x, y);\n        this._getCameraRotation(tmpRotateCameraMatrix);\n        tmpRotateMatrix.extractRotation(this.component.transform);\n        tmpRotateMatrix.premultiply(this.viewer.rotationGroup.matrix);\n        tmpRotateMatrix.getInverse(tmpRotateMatrix);\n        tmpRotateMatrix.premultiply(tmpRotateCameraMatrix);\n        tmpRotateVector.set(1, 0, 0);\n        tmpRotateVector.applyMatrix4(tmpRotateMatrix);\n        tmpRotateXMatrix.makeRotationAxis(tmpRotateVector, dy);\n        tmpRotateVector.set(0, 1, 0);\n        tmpRotateVector.applyMatrix4(tmpRotateMatrix);\n        tmpRotateYMatrix.makeRotationAxis(tmpRotateVector, dx);\n        tmpRotateXMatrix.multiply(tmpRotateYMatrix);\n        tmpRotateQuaternion.setFromRotationMatrix(tmpRotateXMatrix);\n        this.component.quaternion.premultiply(tmpRotateQuaternion);\n        this.component.quaternion.normalize();\n        this.component.updateMatrix();\n    }\n}\nexport default TrackballControls;\n//# sourceMappingURL=trackball-controls.js.map","/**\n * @file Picking Proxy\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3 } from 'three';\nconst tmpVec = new Vector3();\nfunction closer(x, a, b) {\n    return x.distanceTo(a) < x.distanceTo(b);\n}\n/**\n * Picking proxy class.\n */\nclass PickingProxy {\n    /**\n     * Create picking proxy object\n     * @param  {PickingData} pickingData - picking data\n     * @param  {Stage} stage - stage object\n     */\n    constructor(pickingData, stage) {\n        this.stage = stage;\n        this.pid = pickingData.pid;\n        this.picker = pickingData.picker;\n        /**\n         * @type {Object}\n         */\n        this.instance = pickingData.instance;\n        /**\n         * @type {Stage}\n         */\n        this.stage = stage;\n        /**\n         * @type {ViewerControls}\n         */\n        this.controls = stage.viewerControls;\n        /**\n         * @type {MouseObserver}\n         */\n        this.mouse = stage.mouseObserver;\n    }\n    /**\n     * Kind of the picked data\n     * @type {String}\n     */\n    get type() { return this.picker.type; }\n    /**\n     * If the `alt` key was pressed\n     * @type {Boolean}\n     */\n    get altKey() { return this.mouse.altKey; }\n    /**\n     * If the `ctrl` key was pressed\n     * @type {Boolean}\n     */\n    get ctrlKey() { return this.mouse.ctrlKey; }\n    /**\n     * If the `meta` key was pressed\n     * @type {Boolean}\n     */\n    get metaKey() { return this.mouse.metaKey; }\n    /**\n     * If the `shift` key was pressed\n     * @type {Boolean}\n     */\n    get shiftKey() { return this.mouse.shiftKey; }\n    /**\n     * Position of the mouse on the canvas\n     * @type {Vector2}\n     */\n    get canvasPosition() { return this.mouse.canvasPosition; }\n    /**\n     * The component the picked data is part of\n     * @type {Component}\n     */\n    get component() {\n        return this.stage.getComponentsByObject(this.picker.data).list[0]; // TODO\n    }\n    /**\n     * The picked object data\n     * @type {Object}\n     */\n    get object() {\n        return this.picker.getObject(this.pid);\n    }\n    /**\n     * The 3d position in the scene of the picked object\n     * @type {Vector3}\n     */\n    get position() {\n        return this.picker.getPosition(this.pid, this.instance, this.component);\n    }\n    /**\n     * The atom of a picked bond that is closest to the mouse\n     * @type {AtomProxy}\n     */\n    get closestBondAtom() {\n        if (this.type !== 'bond' || !this.bond)\n            return undefined;\n        const bond = this.bond;\n        const controls = this.controls;\n        const cp = this.canvasPosition;\n        const v1 = bond.atom1.positionToVector3();\n        const v2 = bond.atom2.positionToVector3();\n        v1.applyMatrix4(this.component.matrix);\n        v2.applyMatrix4(this.component.matrix);\n        const acp1 = controls.getPositionOnCanvas(v1);\n        const acp2 = controls.getPositionOnCanvas(v2);\n        return closer(cp, acp1, acp2) ? bond.atom1 : bond.atom2;\n    }\n    /**\n     * Close-by atom\n     * @type {AtomProxy}\n     */\n    get closeAtom() {\n        const cp = this.canvasPosition;\n        const ca = this.closestBondAtom;\n        if (!ca)\n            return undefined;\n        const v = ca.positionToVector3().applyMatrix4(this.component.matrix);\n        const acp = this.controls.getPositionOnCanvas(v);\n        ca.positionToVector3(tmpVec);\n        if (this.instance)\n            tmpVec.applyMatrix4(this.instance.matrix);\n        tmpVec.applyMatrix4(this.component.matrix);\n        const viewer = this.controls.viewer;\n        tmpVec.add(viewer.translationGroup.position);\n        tmpVec.applyMatrix4(viewer.rotationGroup.matrix);\n        const scaleFactor = this.controls.getCanvasScaleFactor(tmpVec.z);\n        const sc = this.component;\n        const radius = sc.getMaxRepresentationRadius(ca.index);\n        //console.log(scaleFactor, cp.distanceTo(acp), radius/scaleFactor, radius)\n        if (cp.distanceTo(acp) <= radius / scaleFactor) {\n            return ca;\n        }\n        else {\n            return undefined;\n        }\n    }\n    /**\n     * @type {Object}\n     */\n    get arrow() { return this._objectIfType('arrow'); }\n    /**\n     * @type {AtomProxy}\n     */\n    get atom() { return this._objectIfType('atom'); }\n    /**\n     * @type {Object}\n     */\n    get axes() { return this._objectIfType('axes'); }\n    /**\n     * @type {BondProxy}\n     */\n    get bond() { return this._objectIfType('bond'); }\n    /**\n     * @type {Object}\n     */\n    get box() { return this._objectIfType('box'); }\n    /**\n     * @type {Object}\n     */\n    get cone() { return this._objectIfType('cone'); }\n    /**\n     * @type {Object}\n     */\n    get clash() { return this._objectIfType('clash'); }\n    /**\n     * @type {BondProxy}\n     */\n    get contact() { return this._objectIfType('contact'); }\n    /**\n     * @type {Object}\n     */\n    get cylinder() { return this._objectIfType('cylinder'); }\n    /**\n     * @type {BondProxy}\n     */\n    get distance() { return this._objectIfType('distance'); }\n    /**\n     * @type {Object}\n     */\n    get ellipsoid() { return this._objectIfType('ellipsoid'); }\n    /**\n     * @type {Object}\n     */\n    get octahedron() { return this._objectIfType('octahedron'); }\n    /**\n     * @type {Object}\n     */\n    get point() { return this._objectIfType('point'); }\n    /**\n     * @type {Object}\n     */\n    get mesh() { return this._objectIfType('mesh'); }\n    /**\n     * @type {Object}\n     */\n    get slice() { return this._objectIfType('slice'); }\n    /**\n     * @type {Object}\n     */\n    get sphere() { return this._objectIfType('sphere'); }\n    /**\n     * @type {Object}\n     */\n    get tetrahedron() { return this._objectIfType('tetrahedron'); }\n    /**\n     * @type {Object}\n     */\n    get torus() { return this._objectIfType('torus'); }\n    /**\n     * @type {Object}\n     */\n    get surface() { return this._objectIfType('surface'); }\n    /**\n     * @type {Object}\n     */\n    get unitcell() { return this._objectIfType('unitcell'); }\n    /**\n     * @type {Object}\n     */\n    get unknown() { return this._objectIfType('unknown'); }\n    /**\n     * @type {Object}\n     */\n    get volume() { return this._objectIfType('volume'); }\n    /**\n     * @type {Object}\n     */\n    get wideline() { return this._objectIfType('wideline'); }\n    _objectIfType(type) {\n        return this.type === type ? this.object : undefined;\n    }\n    getLabel() {\n        const atom = this.atom || this.closeAtom;\n        let msg = 'nothing';\n        if (this.arrow) {\n            msg = this.arrow.name;\n        }\n        else if (atom) {\n            msg = `atom: ${atom.qualifiedName()} (${atom.structure.name})`;\n        }\n        else if (this.axes) {\n            msg = 'axes';\n        }\n        else if (this.bond) {\n            msg = `bond: ${this.bond.atom1.qualifiedName()} - ${this.bond.atom2.qualifiedName()} (${this.bond.structure.name})`;\n        }\n        else if (this.box) {\n            msg = this.box.name;\n        }\n        else if (this.cone) {\n            msg = this.cone.name;\n        }\n        else if (this.clash) {\n            msg = `clash: ${this.clash.clash.sele1} - ${this.clash.clash.sele2}`;\n        }\n        else if (this.contact) {\n            msg = `${this.contact.type}: ${this.contact.atom1.qualifiedName()} - ${this.contact.atom2.qualifiedName()} (${this.contact.atom1.structure.name})`;\n        }\n        else if (this.cylinder) {\n            msg = this.cylinder.name;\n        }\n        else if (this.distance) {\n            msg = `distance: ${this.distance.atom1.qualifiedName()} - ${this.distance.atom2.qualifiedName()} (${this.distance.structure.name})`;\n        }\n        else if (this.ellipsoid) {\n            msg = this.ellipsoid.name;\n        }\n        else if (this.octahedron) {\n            msg = this.octahedron.name;\n        }\n        else if (this.point) {\n            msg = this.point.name;\n        }\n        else if (this.mesh) {\n            msg = `mesh: ${this.mesh.name || this.mesh.serial} (${this.mesh.shape.name})`;\n        }\n        else if (this.slice) {\n            msg = `slice: ${this.slice.value.toPrecision(3)} (${this.slice.volume.name})`;\n        }\n        else if (this.sphere) {\n            msg = this.sphere.name;\n        }\n        else if (this.surface) {\n            msg = `surface: ${this.surface.surface.name}`;\n        }\n        else if (this.tetrahedron) {\n            msg = this.tetrahedron.name;\n        }\n        else if (this.torus) {\n            msg = this.torus.name;\n        }\n        else if (this.unitcell) {\n            msg = `unitcell: ${this.unitcell.unitcell.spacegroup} (${this.unitcell.structure.name})`;\n        }\n        else if (this.unknown) {\n            msg = 'unknown';\n        }\n        else if (this.volume) {\n            msg = `volume: ${this.volume.value.toPrecision(3)} (${this.volume.volume.name})`;\n        }\n        else if (this.wideline) {\n            msg = this.wideline.name;\n        }\n        return msg;\n    }\n}\nexport default PickingProxy;\n//# sourceMappingURL=picking-proxy.js.map","/**\n * @file Picking Controls\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport PickingProxy from './picking-proxy';\n/**\n * Picking controls\n */\nclass PickingControls {\n    constructor(stage) {\n        this.stage = stage;\n        this.viewer = stage.viewer;\n    }\n    /**\n     * get picking data\n     * @param {Number} x - canvas x coordinate\n     * @param {Number} y - canvas y coordinate\n     * @return {PickingProxy|undefined} picking proxy\n     */\n    pick(x, y) {\n        const pickingData = this.viewer.pick(x, y);\n        if (pickingData.picker &&\n            pickingData.picker.type !== 'ignore' &&\n            pickingData.pid !== undefined) {\n            const pickerArray = pickingData.picker.array;\n            if (pickerArray && pickingData.pid >= pickerArray.length) {\n                console.error('pid >= picker.array.length');\n            }\n            else {\n                return new PickingProxy(pickingData, this.stage);\n            }\n        }\n    }\n}\nexport default PickingControls;\n//# sourceMappingURL=picking-controls.js.map","/**\n * @file Viewer Controls\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3, Matrix4, Quaternion, OrthographicCamera } from 'three';\nimport * as signalsWrapper from 'signals';\nimport { ensureVector2, ensureVector3, ensureMatrix4, ensureQuaternion } from '../utils';\nimport { degToRad } from '../math/math-utils';\n/**\n * Orientation matrix, a 4x4 transformation matrix with rotation part\n * used for scene rotation, scale part for scene camera distance and\n * position part for scene translation\n * @typedef {Matrix4} OrientationMatrix - orientation matrix\n */\nconst tmpQ = new Quaternion();\nconst tmpP = new Vector3();\nconst tmpS = new Vector3();\nconst tmpCanvasVector = new Vector3();\nconst tmpScaleVector = new Vector3();\nconst tmpRotateMatrix = new Matrix4();\nconst tmpRotateVector = new Vector3();\nconst tmpAlignMatrix = new Matrix4();\n/**\n * Viewer controls\n */\nclass ViewerControls {\n    /**\n     * @param  {Stage} stage - the stage object\n     */\n    constructor(stage) {\n        this.stage = stage;\n        this.signals = {\n            changed: new signalsWrapper.Signal()\n        };\n        this.viewer = stage.viewer;\n    }\n    /**\n     * scene center position\n     * @type {Vector3}\n     */\n    get position() {\n        return this.viewer.translationGroup.position;\n    }\n    /**\n     * scene rotation\n     * @type {Quaternion}\n     */\n    get rotation() {\n        return this.viewer.rotationGroup.quaternion;\n    }\n    /**\n     * Trigger render and emit changed event\n     * @emits {ViewerControls.signals.changed}\n     * @return {undefined}\n     */\n    changed() {\n        this.viewer.requestRender();\n        this.signals.changed.dispatch();\n    }\n    getPositionOnCanvas(position, optionalTarget) {\n        const canvasPosition = ensureVector2(optionalTarget);\n        const viewer = this.viewer;\n        tmpCanvasVector.copy(position)\n            .add(viewer.translationGroup.position)\n            .applyMatrix4(viewer.rotationGroup.matrix)\n            .project(viewer.camera);\n        return canvasPosition.set((tmpCanvasVector.x + 1) * viewer.width / 2, (tmpCanvasVector.y + 1) * viewer.height / 2);\n    }\n    getCanvasScaleFactor(z = 0) {\n        const camera = this.viewer.camera;\n        if (camera instanceof OrthographicCamera) {\n            return 1 / camera.zoom;\n        }\n        else {\n            z = Math.abs(z);\n            z += this.getCameraDistance();\n            const fov = degToRad(camera.fov);\n            const unitHeight = 2.0 * z * Math.tan(fov / 2);\n            return unitHeight / this.viewer.height;\n        }\n    }\n    /**\n     * get scene orientation\n     * @param {Matrix4} optionalTarget - pre-allocated target matrix\n     * @return {OrientationMatrix} scene orientation\n     */\n    getOrientation(optionalTarget) {\n        const m = ensureMatrix4(optionalTarget);\n        m.copy(this.viewer.rotationGroup.matrix);\n        const z = this.getCameraDistance();\n        m.scale(tmpScaleVector.set(z, z, z));\n        m.setPosition(this.viewer.translationGroup.position);\n        return m;\n    }\n    /**\n     * set scene orientation\n     * @param {OrientationMatrix|Array} orientation - scene orientation\n     * @return {undefined}\n     */\n    orient(orientation) {\n        ensureMatrix4(orientation).decompose(tmpP, tmpQ, tmpS);\n        const v = this.viewer;\n        v.rotationGroup.setRotationFromQuaternion(tmpQ);\n        v.translationGroup.position.copy(tmpP);\n        v.cameraDistance = tmpS.z;\n        v.updateZoom();\n        this.changed();\n    }\n    /**\n     * translate scene\n     * @param  {Vector3|Array} vector - translation vector\n     * @return {undefined}\n     */\n    translate(vector) {\n        this.viewer.translationGroup.position\n            .add(ensureVector3(vector));\n        this.changed();\n    }\n    /**\n     * center scene\n     * @param  {Vector3|Array} position - center position\n     * @return {undefined}\n     */\n    center(position) {\n        this.viewer.translationGroup.position\n            .copy(ensureVector3(position)).negate();\n        this.changed();\n    }\n    /**\n     * \"zoom\" scene by moving camera closer to origin\n     * @param  {Number} delta - zoom change\n     * @return {undefined}\n     */\n    zoom(delta) {\n        this.distance(this.getCameraDistance() * (1 - delta));\n    }\n    /**\n     * get camera distance\n     */\n    getCameraDistance() {\n        return this.viewer.cameraDistance;\n    }\n    /**\n     * camera distance\n     * @param  {Number} z - distance\n     * @return {undefined}\n     */\n    distance(distance) {\n        // Math.abs because distance used to be \"z\", normally negative.\n        // Math.max to prevent us from getting _too_ close.\n        this.viewer.cameraDistance = Math.max(Math.abs(distance), 0.2);\n        this.viewer.updateZoom();\n        this.changed();\n    }\n    /**\n     * spin scene on axis\n     * @param  {Vector3|Array} axis - rotation axis\n     * @param  {Number} angle - amount to spin\n     * @return {undefined}\n     */\n    spin(axis, angle) {\n        tmpRotateMatrix.getInverse(this.viewer.rotationGroup.matrix);\n        tmpRotateVector\n            .copy(ensureVector3(axis)).applyMatrix4(tmpRotateMatrix);\n        this.viewer.rotationGroup.rotateOnAxis(tmpRotateVector, angle);\n        this.changed();\n    }\n    /**\n     * rotate scene\n     * @param  {Quaternion|Array} quaternion - rotation quaternion\n     * @return {undefined}\n     */\n    rotate(quaternion) {\n        this.viewer.rotationGroup\n            .setRotationFromQuaternion(ensureQuaternion(quaternion));\n        this.changed();\n    }\n    /**\n     * align scene to basis matrix\n     * @param  {Matrix4|Array} basis - basis matrix\n     * @return {undefined}\n     */\n    align(basis) {\n        tmpAlignMatrix.getInverse(ensureMatrix4(basis));\n        this.viewer.rotationGroup.setRotationFromMatrix(tmpAlignMatrix);\n        this.changed();\n    }\n    /**\n     * apply rotation matrix to scene\n     * @param  {Matrix4|Array} matrix - rotation matrix\n     * @return {undefined}\n     */\n    applyMatrix(matrix) {\n        this.viewer.rotationGroup.applyMatrix4(ensureMatrix4(matrix));\n        this.changed();\n    }\n}\nexport default ViewerControls;\n//# sourceMappingURL=viewer-controls.js.map","/**\n * @file Animation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3, Quaternion } from 'three';\nimport { defaults, ensureVector3, ensureQuaternion } from '../utils';\nimport { lerp, smoothstep } from '../math/math-utils';\n/**\n * Animation. Base animation class.\n * @interface\n */\nclass Animation {\n    constructor(duration, controls, ...args) {\n        this.pausedTime = -1;\n        this.elapsedDuration = 0;\n        this.pausedDuration = 0;\n        this.ignoreGlobalToggle = false;\n        this._paused = false;\n        this._resolveList = [];\n        this.duration = defaults(duration, 1000);\n        this.controls = controls;\n        this.startTime = window.performance.now();\n        this._init(...args);\n    }\n    /**\n     * True when animation has finished\n     */\n    get done() {\n        return this.alpha === 1;\n    }\n    /**\n     * True when animation is paused\n     */\n    get paused() {\n        return this._paused;\n    }\n    tick(stats) {\n        if (this._paused)\n            return;\n        this.elapsedDuration = stats.currentTime - this.startTime - this.pausedDuration;\n        if (this.duration === 0) {\n            this.alpha = 1;\n        }\n        else {\n            this.alpha = smoothstep(0, 1, this.elapsedDuration / this.duration);\n        }\n        this._tick(stats);\n        if (this.done) {\n            this._resolveList.forEach(resolve => resolve());\n        }\n        return this.done;\n    }\n    /**\n     * Pause animation\n     * @param {boolean} [hold] - put animation on a hold which\n     *                           must be release before it can be resumed\n     */\n    pause(hold) {\n        if (hold)\n            this._hold = true;\n        if (this.pausedTime === -1) {\n            this.pausedTime = window.performance.now();\n        }\n        this._paused = true;\n    }\n    /**\n     * Resume animation\n     * @param {Boolean} [releaseHold] - release a hold on the animation\n     */\n    resume(releaseHold) {\n        if (!releaseHold && this._hold)\n            return;\n        this.pausedDuration += window.performance.now() - this.pausedTime;\n        this._paused = false;\n        this._hold = false;\n        this.pausedTime = -1;\n    }\n    /**\n     * Toggle animation\n     */\n    toggle() {\n        if (this._paused) {\n            this.resume();\n        }\n        else {\n            this.pause();\n        }\n    }\n    /**\n     * Promise-like interface\n     */\n    then(callback) {\n        let p;\n        if (this.done) {\n            p = Promise.resolve();\n        }\n        else {\n            p = new Promise(resolve => this._resolveList.push(resolve));\n        }\n        return p.then(callback);\n    }\n}\nexport default Animation;\n/**\n * Spin animation. Spin around an axis.\n */\nexport class SpinAnimation extends Animation {\n    constructor(duration, controls, ...args) {\n        super(defaults(duration, Infinity), controls, ...args);\n    }\n    _init(axis, angle) {\n        if (Array.isArray(axis)) {\n            this.axis = new Vector3().fromArray(axis);\n        }\n        else {\n            this.axis = defaults(axis, new Vector3(0, 1, 0));\n        }\n        this.angle = defaults(angle, 0.01);\n    }\n    _tick(stats) {\n        if (!this.axis || !this.angle)\n            return;\n        this.controls.spin(this.axis, this.angle * stats.lastDuration / 16);\n    }\n}\n/**\n * Rock animation. Rock around an axis.\n */\nexport class RockAnimation extends Animation {\n    constructor(duration, controls, ...args) {\n        super(defaults(duration, Infinity), controls, ...args);\n        this.angleSum = 0;\n        this.direction = 1;\n    }\n    _init(axis, angleStep, angleEnd) {\n        if (Array.isArray(axis)) {\n            this.axis = new Vector3().fromArray(axis);\n        }\n        else {\n            this.axis = defaults(axis, new Vector3(0, 1, 0));\n        }\n        this.angleStep = defaults(angleStep, 0.01);\n        this.angleEnd = defaults(angleEnd, 0.2);\n    }\n    _tick(stats) {\n        if (!this.axis || !this.angleStep || !this.angleEnd)\n            return;\n        const alpha = smoothstep(0, 1, Math.abs(this.angleSum) / this.angleEnd);\n        const angle = this.angleStep * this.direction * (1.1 - alpha);\n        this.controls.spin(this.axis, angle * stats.lastDuration / 16);\n        this.angleSum += this.angleStep;\n        if (this.angleSum >= this.angleEnd) {\n            this.direction *= -1;\n            this.angleSum = -this.angleEnd;\n        }\n    }\n}\n/**\n * Move animation. Move from one position to another.\n */\nexport class MoveAnimation extends Animation {\n    _init(moveFrom, moveTo) {\n        this.moveFrom = ensureVector3(defaults(moveFrom, new Vector3()));\n        this.moveTo = ensureVector3(defaults(moveTo, new Vector3()));\n    }\n    _tick( /* stats */) {\n        this.controls.position.lerpVectors(this.moveFrom, this.moveTo, this.alpha).negate();\n        this.controls.changed();\n    }\n}\n/**\n * Zoom animation. Gradually change the zoom level.\n */\nexport class ZoomAnimation extends Animation {\n    _init(zoomFrom, zoomTo) {\n        this.zoomFrom = zoomFrom;\n        this.zoomTo = zoomTo;\n    }\n    _tick() {\n        this.controls.distance(lerp(this.zoomFrom, this.zoomTo, this.alpha));\n    }\n}\n/**\n * Rotate animation. Rotate from one orientation to another.\n */\nexport class RotateAnimation extends Animation {\n    constructor() {\n        super(...arguments);\n        this._currentRotation = new Quaternion();\n    }\n    _init(rotateFrom, rotateTo) {\n        this.rotateFrom = ensureQuaternion(rotateFrom);\n        this.rotateTo = ensureQuaternion(rotateTo);\n        this._currentRotation = new Quaternion();\n    }\n    _tick() {\n        this._currentRotation\n            .copy(this.rotateFrom)\n            .slerp(this.rotateTo, this.alpha);\n        this.controls.rotate(this._currentRotation);\n    }\n}\n/**\n * Value animation. Call callback with interpolated value.\n */\nexport class ValueAnimation extends Animation {\n    _init(valueFrom, valueTo, callback) {\n        this.valueFrom = valueFrom;\n        this.valueTo = valueTo;\n        this.callback = callback;\n    }\n    _tick( /* stats */) {\n        this.callback(lerp(this.valueFrom, this.valueTo, this.alpha));\n    }\n}\n/**\n * Timeout animation. Call callback after duration.\n */\nexport class TimeoutAnimation extends Animation {\n    _init(callback) {\n        this.callback = callback;\n    }\n    _tick() {\n        if (this.alpha === 1)\n            this.callback();\n    }\n}\n/**\n * Animation list.\n */\nexport class AnimationList {\n    constructor(list = []) {\n        this._resolveList = [];\n        this._list = list;\n    }\n    /**\n     * True when all animations have finished\n     */\n    get done() {\n        return this._list.every(animation => {\n            return animation.done;\n        });\n    }\n    /**\n     * Promise-like interface\n     */\n    then(callback) {\n        let p;\n        if (this.done) {\n            p = Promise.resolve();\n        }\n        else {\n            p = new Promise(resolve => {\n                this._resolveList.push(resolve);\n                this._list.forEach(animation => {\n                    animation.then(() => {\n                        this._resolveList.forEach(callback => {\n                            callback();\n                        });\n                        this._resolveList.length = 0;\n                    });\n                });\n            });\n        }\n        return p.then(callback);\n    }\n}\n//# sourceMappingURL=animation.js.map","/**\n * @file Animation Controls\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3, Quaternion } from 'three';\nimport { ensureMatrix4 } from '../utils';\nimport { SpinAnimation, RockAnimation, MoveAnimation, ZoomAnimation, RotateAnimation, ValueAnimation, TimeoutAnimation, AnimationList } from '../animation/animation';\n/**\n * Animation controls\n */\nclass AnimationControls {\n    /**\n     * Create animation controls\n     * @param  {Stage} stage - the stage object\n     */\n    constructor(stage) {\n        this.stage = stage;\n        this.animationList = [];\n        this.finishedList = [];\n        this.viewer = stage.viewer;\n        this.controls = stage.viewerControls;\n    }\n    /**\n     * True when all animations are paused\n     * @type {Boolean}\n     */\n    get paused() {\n        return this.animationList.every((animation) => animation.paused);\n    }\n    /**\n     * Add an animation\n     */\n    add(animation) {\n        if (animation.duration === 0) {\n            animation.tick(this.viewer.stats);\n        }\n        else {\n            this.animationList.push(animation);\n        }\n        return animation;\n    }\n    /**\n     * Remove an animation\n     */\n    remove(animation) {\n        const list = this.animationList;\n        const index = list.indexOf(animation);\n        if (index > -1) {\n            list.splice(index, 1);\n        }\n    }\n    /**\n     * Run all animations\n     */\n    run(stats) {\n        const finishedList = this.finishedList;\n        const animationList = this.animationList;\n        const n = animationList.length;\n        for (let i = 0; i < n; ++i) {\n            const animation = animationList[i];\n            // tick returns true when finished\n            if (animation.tick(stats)) {\n                finishedList.push(animation);\n            }\n        }\n        const m = finishedList.length;\n        if (m) {\n            for (let j = 0; j < m; ++j) {\n                this.remove(finishedList[j]);\n            }\n            finishedList.length = 0;\n        }\n    }\n    /**\n     * Add a spin animation\n     * @param  {Vector3} axis - axis to spin around\n     * @param  {Number} angle - amount to spin per frame, radians\n     * @param  {Number} duration - animation time in milliseconds\n     * @return {SpinAnimation} the animation\n     */\n    spin(axis, angle, duration) {\n        return this.add(new SpinAnimation(duration, this.controls, axis, angle));\n    }\n    /**\n     * Add a rock animation\n     * @param  {Vector3} axis - axis to rock around\n     * @param  {Number} angle - amount to spin per frame, radians\n     * @param  {Number} end - maximum extend of motion, radians\n     * @param  {Number} duration - animation time in milliseconds\n     * @return {SpinAnimation} the animation\n     */\n    rock(axis, angle, end, duration) {\n        return this.add(new RockAnimation(duration, this.controls, axis, angle, end));\n    }\n    /**\n     * Add a rotate animation\n     * @param  {Quaternion} rotateTo - target rotation\n     * @param  {Number} duration - animation time in milliseconds\n     * @return {RotateAnimation} the animation\n     */\n    rotate(rotateTo, duration) {\n        const rotateFrom = this.viewer.rotationGroup.quaternion.clone();\n        return this.add(new RotateAnimation(duration, this.controls, rotateFrom, rotateTo));\n    }\n    /**\n     * Add a move animation\n     * @param  {Vector3} moveTo - target position\n     * @param  {Number} duration - animation time in milliseconds\n     * @return {MoveAnimation} the animation\n     */\n    move(moveTo, duration) {\n        const moveFrom = this.controls.position.clone().negate();\n        return this.add(new MoveAnimation(duration, this.controls, moveFrom, moveTo));\n    }\n    /**\n     * Add a zoom animation\n     * @param  {Number} zoomTo - target distance\n     * @param  {Number} duration - animation time in milliseconds\n     * @return {ZoomAnimation} the animation\n     */\n    zoom(zoomTo, duration) {\n        const zoomFrom = this.viewer.camera.position.z;\n        return this.add(new ZoomAnimation(duration, this.controls, zoomFrom, zoomTo));\n    }\n    /**\n     * Add a zoom and a move animation\n     * @param  {Vector3} moveTo - target position\n     * @param  {Number} zoomTo - target distance\n     * @param  {Number} duration - animation time in milliseconds\n     * @return {Array} the animations\n     */\n    zoomMove(moveTo, zoomTo, duration) {\n        return new AnimationList([\n            this.move(moveTo, duration),\n            this.zoom(zoomTo, duration)\n        ]);\n    }\n    /**\n     * Add an orient animation\n     * @param  {OrientationMatrix|Array} orientTo - target orientation\n     * @param  {Number} duration - animation time in milliseconds\n     * @return {Array} the animations\n     */\n    orient(orientTo, duration) {\n        const p = new Vector3();\n        const q = new Quaternion();\n        const s = new Vector3();\n        ensureMatrix4(orientTo).decompose(p, q, s);\n        return new AnimationList([\n            this.move(p.negate(), duration),\n            this.rotate(q, duration),\n            this.zoom(-s.x, duration)\n        ]);\n    }\n    /**\n     * Add a value animation\n     * @param  {Number} valueFrom - start value\n     * @param  {Number} valueTo - target value\n     * @param  {Function} callback - called on every tick\n     * @param  {Number} duration - animation time in milliseconds\n     * @return {ValueAnimation} the animation\n     */\n    value(valueFrom, valueTo, callback, duration) {\n        return this.add(new ValueAnimation(duration, this.controls, valueFrom, valueTo, callback));\n    }\n    /**\n     * Add a timeout animation\n     * @param  {Function} callback - called after duration\n     * @param  {Number} duration - timeout in milliseconds\n     * @return {TimeoutAnimation} the animation\n     */\n    timeout(callback, duration) {\n        return this.add(new TimeoutAnimation(duration, this.controls, callback));\n    }\n    /**\n     * Add a component spin animation\n     * @param  {Component} component - object to move\n     * @param  {Vector3} axis - axis to spin around\n     * @param  {Number} angle - amount to spin per frame, radians\n     * @param  {Number} duration - animation time in milliseconds\n     * @return {SpinAnimation} the animation\n     */\n    spinComponent(component, axis, angle, duration) {\n        return this.add(\n        // TODO\n        new SpinAnimation(duration, component.controls, axis, angle));\n    }\n    /**\n     * Add a component rock animation\n     * @param  {Component} component - object to move\n     * @param  {Vector3} axis - axis to rock around\n     * @param  {Number} angle - amount to spin per frame, radians\n     * @param  {Number} end - maximum extend of motion, radians\n     * @param  {Number} duration - animation time in milliseconds\n     * @return {SpinAnimation} the animation\n     */\n    rockComponent(component, axis, angle, end, duration) {\n        return this.add(\n        // TODO\n        new RockAnimation(duration, component.controls, axis, angle, end));\n    }\n    /**\n     * Add a component move animation\n     * @param  {Component} component - object to move\n     * @param  {Vector3} moveTo - target position\n     * @param  {Number} duration - animation time in milliseconds\n     * @return {MoveAnimation} the animation\n     */\n    moveComponent(component, moveTo, duration) {\n        const moveFrom = component.controls.position.clone().negate();\n        return this.add(\n        // TODO\n        new MoveAnimation(duration, component.controls, moveFrom, moveTo));\n    }\n    /**\n     * Pause all animations\n     * @return {undefined}\n     */\n    pause() {\n        this.animationList.forEach(animation => animation.pause());\n    }\n    /**\n     * Resume all animations\n     * @return {undefined}\n     */\n    resume() {\n        this.animationList.forEach(animation => animation.resume());\n    }\n    /**\n     * Toggle all animations\n     * @return {undefined}\n     */\n    toggle() {\n        if (this.paused) {\n            this.resume();\n        }\n        else {\n            this.pause();\n        }\n    }\n    /**\n     * Clear all animations\n     * @return {undefined}\n     */\n    clear() {\n        this.animationList.length = 0;\n    }\n    dispose() {\n        this.clear();\n    }\n}\nexport default AnimationControls;\n//# sourceMappingURL=animation-controls.js.map","/**\n * @file Queue\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nclass Queue {\n    constructor(fn, argList) {\n        this.fn = fn;\n        this.queue = [];\n        this.pending = false;\n        this.next = this.next.bind(this);\n        if (argList) {\n            for (let i = 0, il = argList.length; i < il; ++i) {\n                this.queue.push(argList[i]);\n            }\n            this.next();\n        }\n    }\n    run(arg) {\n        this.fn(arg, this.next);\n    }\n    next() {\n        const arg = this.queue.shift();\n        if (arg !== undefined) {\n            this.pending = true;\n            setTimeout(() => this.run(arg));\n        }\n        else {\n            this.pending = false;\n        }\n    }\n    push(arg) {\n        this.queue.push(arg);\n        if (!this.pending)\n            this.next();\n    }\n    kill() {\n        this.queue.length = 0;\n    }\n    length() {\n        return this.queue.length;\n    }\n}\nexport default Queue;\n//# sourceMappingURL=queue.js.map","/**\n * @file Representation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Color, Vector3, Matrix4 } from 'three';\nimport { Debug, Log, ColormakerRegistry, ExtensionFragDepth } from '../globals';\nimport { defaults } from '../utils';\nimport Queue from '../utils/queue';\nimport Counter from '../utils/counter';\n/**\n * Representation parameter object.\n * @typedef {Object} RepresentationParameters - representation parameters\n * @property {Boolean} [lazy] - only build & update the representation when visible\n *                            otherwise defer changes until set visible again\n * @property {Integer} [clipNear] - position of camera near/front clipping plane\n *                                in percent of scene bounding box\n * @property {Integer} [clipRadius] - radius of clipping sphere\n * @property {Vector3} [clipCenter] - position of for spherical clipping\n * @property {Boolean} [flatShaded] - render flat shaded\n * @property {Float} [opacity] - translucency: 1 is fully opaque, 0 is fully transparent\n * @property {Boolean} [depthWrite] - depth write\n * @property {String} [side] - which triangle sides to render, \"front\" front-side,\n *                            \"back\" back-side, \"double\" front- and back-side\n * @property {Boolean} [wireframe] - render as wireframe\n * @property {String} [colorScheme] - color scheme\n * @property {String} [colorScale] - color scale, either a string for a\n *                                 predefined scale or an array of\n *                                 colors to be used as the scale\n * @property {Boolean} [colorReverse] - reverse color scale\n * @property {Color} [colorValue] - color value\n * @property {Integer[]} [colorDomain] - scale value range\n * @property {Integer} colorDomain.0 - min value\n * @property {Integer} colorDomain.1 - max value\n * @property {String} [colorMode] - color mode, one of rgb, hsv, hsl, hsi, lab, hcl\n * @property {Float} [roughness] - how rough the material is, between 0 and 1\n * @property {Float} [metalness] - how metallic the material is, between 0 and 1\n * @property {Color} [diffuse] - diffuse color for lighting\n * @property {Boolean} [diffuseInterior] - diffuse interior, i.e. ignore normal\n * @property {Boolean} [useInteriorColor] - use interior color\n * @property {Color} [interiorColor] - interior color\n * @property {Float} [interiorDarkening] - interior darkening: 0 no darking, 1 fully darkened\n * @property {Boolean} [disablePicking] - disable picking\n */\n/**\n * Representation object\n * @interface\n * @param {Object} object - the object to be represented\n * @param {Viewer} viewer - a viewer object\n * @param {RepresentationParameters} [params] - representation parameters\n */\nclass Representation {\n    constructor(object, viewer, params) {\n        // eslint-disable-next-line no-unused-vars\n        // const p = params || {}\n        this.type = '';\n        this.parameters = {\n            lazy: {\n                type: 'boolean'\n            },\n            clipNear: {\n                type: 'range', step: 1, max: 100, min: 0, buffer: true\n            },\n            clipRadius: {\n                type: 'number', precision: 1, max: 1000, min: 0, buffer: true\n            },\n            clipCenter: {\n                type: 'vector3', precision: 1, buffer: true\n            },\n            flatShaded: {\n                type: 'boolean', buffer: true\n            },\n            opacity: {\n                type: 'range', step: 0.01, max: 1, min: 0, buffer: true\n            },\n            depthWrite: {\n                type: 'boolean', buffer: true\n            },\n            side: {\n                type: 'select',\n                buffer: true,\n                options: { front: 'front', back: 'back', double: 'double' }\n            },\n            wireframe: {\n                type: 'boolean', buffer: true\n            },\n            colorScheme: {\n                type: 'select',\n                update: 'color',\n                options: {}\n            },\n            colorScale: {\n                type: 'select',\n                update: 'color',\n                options: ColormakerRegistry.getScales()\n            },\n            colorReverse: {\n                type: 'boolean', update: 'color'\n            },\n            colorValue: {\n                type: 'color', update: 'color'\n            },\n            colorDomain: {\n                type: 'hidden', update: 'color'\n            },\n            colorMode: {\n                type: 'select',\n                update: 'color',\n                options: ColormakerRegistry.getModes()\n            },\n            roughness: {\n                type: 'range', step: 0.01, max: 1, min: 0, buffer: true\n            },\n            metalness: {\n                type: 'range', step: 0.01, max: 1, min: 0, buffer: true\n            },\n            diffuse: {\n                type: 'color', buffer: true\n            },\n            diffuseInterior: {\n                type: 'boolean', buffer: true\n            },\n            useInteriorColor: {\n                type: 'boolean', buffer: true\n            },\n            interiorColor: {\n                type: 'color', buffer: true\n            },\n            interiorDarkening: {\n                type: 'range', step: 0.01, max: 1, min: 0, buffer: true\n            },\n            matrix: {\n                type: 'hidden', buffer: true\n            },\n            disablePicking: {\n                type: 'boolean', rebuild: true\n            }\n        };\n        /**\n         * @type {Viewer}\n         */\n        this.viewer = viewer;\n        /**\n         * Counter that keeps track of tasks related to the creation of\n         * the representation, including surface calculations.\n         * @type {Counter}\n         */\n        this.tasks = new Counter();\n        /**\n         * @type {Queue}\n         * @private\n         */\n        this.queue = new Queue(this.make.bind(this));\n        /**\n         * @type {Array}\n         * @private\n         */\n        this.bufferList = [];\n        if (this.parameters.colorScheme) {\n            this.parameters.colorScheme.options = ColormakerRegistry.getSchemes();\n        }\n        this.toBePrepared = false;\n    }\n    init(params) {\n        const p = params || {};\n        this.clipNear = defaults(p.clipNear, 0);\n        this.clipRadius = defaults(p.clipRadius, 0);\n        this.clipCenter = defaults(p.clipCenter, new Vector3());\n        this.flatShaded = defaults(p.flatShaded, false);\n        this.side = defaults(p.side, 'double');\n        this.opacity = defaults(p.opacity, 1.0);\n        this.depthWrite = defaults(p.depthWrite, true);\n        this.wireframe = defaults(p.wireframe, false);\n        this.setColor(p.color, p);\n        this.colorScheme = defaults(p.colorScheme, 'uniform');\n        this.colorScale = defaults(p.colorScale, '');\n        this.colorReverse = defaults(p.colorReverse, false);\n        this.colorValue = defaults(p.colorValue, 0x909090);\n        this.colorDomain = defaults(p.colorDomain, undefined);\n        this.colorMode = defaults(p.colorMode, 'hcl');\n        this.visible = defaults(p.visible, true);\n        this.quality = defaults(p.quality, undefined);\n        this.roughness = defaults(p.roughness, 0.4);\n        this.metalness = defaults(p.metalness, 0.0);\n        this.diffuse = defaults(p.diffuse, 0xffffff);\n        this.diffuseInterior = defaults(p.diffuseInterior, false);\n        this.useInteriorColor = defaults(p.useInteriorColor, false);\n        this.interiorColor = defaults(p.interiorColor, 0x222222);\n        this.interiorDarkening = defaults(p.interiorDarkening, 0);\n        this.lazy = defaults(p.lazy, false);\n        this.lazyProps = {\n            build: false,\n            bufferParams: {},\n            what: {}\n        };\n        this.matrix = defaults(p.matrix, new Matrix4());\n        this.disablePicking = defaults(p.disablePicking, false);\n        // handle common parameters when applicable\n        const tp = this.parameters;\n        if (tp.sphereDetail === true) {\n            tp.sphereDetail = {\n                type: 'integer', max: 3, min: 0, rebuild: 'impostor'\n            };\n        }\n        if (tp.radialSegments === true) {\n            tp.radialSegments = {\n                type: 'integer', max: 25, min: 5, rebuild: 'impostor'\n            };\n        }\n        if (tp.openEnded === true) {\n            tp.openEnded = {\n                type: 'boolean', rebuild: 'impostor', buffer: true\n            };\n        }\n        if (tp.disableImpostor === true) {\n            tp.disableImpostor = {\n                type: 'boolean', rebuild: true\n            };\n        }\n        if (p.quality === 'low') {\n            if (tp.sphereDetail)\n                this.sphereDetail = 0;\n            if (tp.radialSegments)\n                this.radialSegments = 5;\n        }\n        else if (p.quality === 'medium') {\n            if (tp.sphereDetail)\n                this.sphereDetail = 1;\n            if (tp.radialSegments)\n                this.radialSegments = 10;\n        }\n        else if (p.quality === 'high') {\n            if (tp.sphereDetail)\n                this.sphereDetail = 2;\n            if (tp.radialSegments)\n                this.radialSegments = 20;\n        }\n        else {\n            if (tp.sphereDetail) {\n                this.sphereDetail = defaults(p.sphereDetail, 1);\n            }\n            if (tp.radialSegments) {\n                this.radialSegments = defaults(p.radialSegments, 10);\n            }\n        }\n        if (tp.openEnded) {\n            this.openEnded = defaults(p.openEnded, true);\n        }\n        if (tp.disableImpostor) {\n            this.disableImpostor = defaults(p.disableImpostor, false);\n        }\n    }\n    getColorParams(p) {\n        return Object.assign({\n            scheme: this.colorScheme,\n            scale: this.colorScale,\n            reverse: this.colorReverse,\n            value: this.colorValue,\n            domain: this.colorDomain,\n            mode: this.colorMode\n        }, p);\n    }\n    getBufferParams(p = {}) {\n        return Object.assign({\n            clipNear: this.clipNear,\n            clipRadius: this.clipRadius,\n            clipCenter: this.clipCenter,\n            flatShaded: this.flatShaded,\n            opacity: this.opacity,\n            depthWrite: this.depthWrite,\n            side: this.side,\n            wireframe: this.wireframe,\n            roughness: this.roughness,\n            metalness: this.metalness,\n            diffuse: this.diffuse,\n            diffuseInterior: this.diffuseInterior,\n            useInteriorColor: this.useInteriorColor,\n            interiorColor: this.interiorColor,\n            interiorDarkening: this.interiorDarkening,\n            matrix: this.matrix,\n            disablePicking: this.disablePicking\n        }, p);\n    }\n    setColor(value, p) {\n        const types = Object.keys(ColormakerRegistry.getSchemes());\n        if (typeof value === 'string' && types.includes(value.toLowerCase())) {\n            if (p) {\n                p.colorScheme = value;\n            }\n            else {\n                this.setParameters({ colorScheme: value });\n            }\n        }\n        else if (value !== undefined) {\n            let val = new Color(value).getHex(); //TODO\n            if (p) {\n                p.colorScheme = 'uniform';\n                p.colorValue = val;\n            }\n            else {\n                this.setParameters({\n                    colorScheme: 'uniform', colorValue: val\n                });\n            }\n        }\n        return this;\n    }\n    // TODO\n    prepare(cb) {\n    }\n    create() {\n        // this.bufferList.length = 0;\n    }\n    update(what) {\n        this.build();\n    }\n    build(updateWhat) {\n        if (this.lazy && (!this.visible || !this.opacity)) {\n            this.lazyProps.build = true;\n            return;\n        }\n        if (!this.toBePrepared) {\n            this.tasks.increment();\n            this.make();\n            return;\n        }\n        // don't let tasks accumulate\n        if (this.queue.length() > 0) {\n            this.tasks.change(1 - this.queue.length());\n            this.queue.kill();\n        }\n        else {\n            this.tasks.increment();\n        }\n        this.queue.push(updateWhat || false);\n    }\n    make(updateWhat, callback) {\n        if (Debug)\n            Log.time('Representation.make ' + this.type);\n        const _make = () => {\n            if (updateWhat) {\n                this.update(updateWhat);\n                this.viewer.requestRender();\n                this.tasks.decrement();\n                if (callback)\n                    callback();\n            }\n            else {\n                this.clear();\n                this.create();\n                if (!this.manualAttach && !this.disposed) {\n                    if (Debug)\n                        Log.time('Representation.attach ' + this.type);\n                    this.attach(() => {\n                        if (Debug)\n                            Log.timeEnd('Representation.attach ' + this.type);\n                        this.tasks.decrement();\n                        if (callback)\n                            callback();\n                    });\n                }\n            }\n            if (Debug)\n                Log.timeEnd('Representation.make ' + this.type);\n        };\n        if (this.toBePrepared) {\n            this.prepare(_make);\n        }\n        else {\n            _make();\n        }\n    }\n    attach(callback) {\n        this.setVisibility(this.visible);\n        callback();\n    }\n    /**\n     * Set the visibility of the representation\n     * @param {Boolean} value - visibility flag\n     * @param {Boolean} [noRenderRequest] - whether or not to request a re-render from the viewer\n     * @return {Representation} this object\n     */\n    setVisibility(value, noRenderRequest) {\n        this.visible = value;\n        if (this.visible && this.opacity) {\n            const lazyProps = this.lazyProps;\n            const bufferParams = lazyProps.bufferParams;\n            const what = lazyProps.what;\n            if (lazyProps.build) {\n                lazyProps.build = false;\n                this.build();\n                return this;\n            }\n            else if (Object.keys(bufferParams).length || Object.keys(what).length) {\n                lazyProps.bufferParams = {};\n                lazyProps.what = {};\n                this.updateParameters(bufferParams, what);\n            }\n        }\n        this.bufferList.forEach(function (buffer) {\n            buffer.setVisibility(value);\n        });\n        if (!noRenderRequest)\n            this.viewer.requestRender();\n        return this;\n    }\n    /**\n     * Set the visibility of the representation\n     * @param {RepresentationParameters} params - parameters object\n     * @param {Object} [what] - buffer data attributes to be updated,\n     *                        note that this needs to be implemented in the\n     *                        derived classes. Generally it allows more\n     *                        fine-grained control over updating than\n     *                        forcing a rebuild.\n     * @param {Boolean} what.position - update position data\n     * @param {Boolean} what.color - update color data\n     * @param {Boolean} [rebuild] - whether or not to rebuild the representation\n     * @return {Representation} this object\n     */\n    setParameters(params, what = {}, rebuild = false) {\n        const p = params || {};\n        const tp = this.parameters;\n        const bufferParams = {};\n        if (!this.opacity && p.opacity !== undefined) {\n            if (this.lazyProps.build) {\n                this.lazyProps.build = false;\n                rebuild = true;\n            }\n            else {\n                Object.assign(bufferParams, this.lazyProps.bufferParams);\n                Object.assign(what, this.lazyProps.what);\n                this.lazyProps.bufferParams = {};\n                this.lazyProps.what = {};\n            }\n        }\n        this.setColor(p.color, p);\n        for (let name in p) {\n            if (p[name] === undefined)\n                continue;\n            if (tp[name] === undefined)\n                continue;\n            if (tp[name].int)\n                p[name] = parseInt(p[name]);\n            if (tp[name].float)\n                p[name] = parseFloat(p[name]);\n            // no value change\n            if (p[name] === this[name] && (!p[name].equals || p[name].equals(this[name])))\n                continue;\n            if (this[name] && this[name].copy && p[name].copy) {\n                this[name].copy(p[name]);\n            }\n            else if (this[name] && this[name].set) {\n                this[name].set(p[name]);\n            }\n            else {\n                this[name] = p[name];\n            }\n            // buffer param\n            if (tp[name].buffer) {\n                if (tp[name].buffer === true) {\n                    bufferParams[name] = p[name];\n                }\n                else {\n                    let key = tp[name].buffer;\n                    bufferParams[key] = p[name];\n                }\n            }\n            // mark for update\n            if (tp[name].update) {\n                what[tp[name].update] = true;\n            }\n            // mark for rebuild\n            if (tp[name].rebuild &&\n                !(tp[name].rebuild === 'impostor' &&\n                    ExtensionFragDepth && !this.disableImpostor)) {\n                rebuild = true;\n            }\n        }\n        //\n        if (rebuild) {\n            this.build();\n        }\n        else {\n            this.updateParameters(bufferParams, what);\n        }\n        return this;\n    }\n    updateParameters(bufferParams = {}, what) {\n        if (this.lazy && (!this.visible || !this.opacity) && bufferParams.hasOwnProperty('opacity') === false) {\n            Object.assign(this.lazyProps.bufferParams, bufferParams);\n            Object.assign(this.lazyProps.what, what);\n            return;\n        }\n        this.bufferList.forEach(function (buffer) {\n            buffer.setParameters(bufferParams);\n        });\n        if (Object.keys(what).length) {\n            this.update(what); // update buffer attribute\n        }\n        this.viewer.requestRender();\n    }\n    getParameters() {\n        const params = {\n            lazy: this.lazy,\n            visible: this.visible,\n            quality: this.quality\n        };\n        Object.keys(this.parameters).forEach(name => {\n            if (this.parameters[name] !== null) {\n                params[name] = this[name];\n            }\n        });\n        return params;\n    }\n    clear() {\n        this.bufferList.forEach(buffer => {\n            this.viewer.remove(buffer);\n            buffer.dispose();\n        });\n        this.bufferList.length = 0;\n        this.viewer.requestRender();\n    }\n    dispose() {\n        this.disposed = true;\n        this.queue.kill();\n        this.tasks.dispose();\n        this.clear();\n    }\n}\nexport default Representation;\n//# sourceMappingURL=representation.js.map","/**\n * @file Worker\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Log, Debug, WorkerRegistry } from '../globals';\nexport default class _Worker {\n    constructor(name) {\n        this.pending = 0;\n        this.postCount = 0;\n        this.onmessageDict = {};\n        this.onerrorDict = {};\n        this.name = name;\n        this.blobUrl = window.URL.createObjectURL(WorkerRegistry.get(name));\n        this.worker = new Worker(this.blobUrl);\n        WorkerRegistry.activeWorkerCount += 1;\n        this.worker.onmessage = (event) => {\n            this.pending -= 1;\n            const postId = event.data.__postId;\n            if (Debug)\n                Log.timeEnd('Worker.postMessage ' + name + ' #' + postId);\n            const onmessage = this.onmessageDict[postId];\n            if (onmessage) {\n                onmessage.call(this.worker, event);\n            }\n            else {\n                // Log.debug('No onmessage', postId, name)\n            }\n            delete this.onmessageDict[postId];\n            delete this.onerrorDict[postId];\n        };\n        this.worker.onerror = (event) => {\n            this.pending -= 1;\n            if (event.data) {\n                const postId = event.data.__postId;\n                const onerror = this.onerrorDict[postId];\n                if (onerror) {\n                    onerror.call(this.worker, event);\n                }\n                else {\n                    Log.error('Worker.onerror', postId, name, event);\n                }\n                delete this.onmessageDict[postId];\n                delete this.onerrorDict[postId];\n            }\n            else {\n                Log.error('Worker.onerror', name, event);\n            }\n        };\n    }\n    post(aMessage = {}, transferList, onmessage, onerror) {\n        this.onmessageDict[this.postCount] = onmessage;\n        this.onerrorDict[this.postCount] = onerror;\n        aMessage.__name = this.name;\n        aMessage.__postId = this.postCount;\n        aMessage.__debug = Debug;\n        if (Debug)\n            Log.time(`Worker.postMessage ${this.name} #${this.postCount}`);\n        try {\n            this.worker.postMessage(aMessage, transferList);\n        }\n        catch (error) {\n            Log.error('worker.post:', error);\n            this.worker.postMessage(aMessage);\n        }\n        this.pending += 1;\n        this.postCount += 1;\n        return this;\n    }\n    terminate() {\n        if (this.worker) {\n            this.worker.terminate();\n            window.URL.revokeObjectURL(this.blobUrl);\n            WorkerRegistry.activeWorkerCount -= 1;\n        }\n        else {\n            Log.log('no worker to terminate');\n        }\n    }\n}\n//# sourceMappingURL=worker.js.map","/**\n * @file Worker Pool\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport Worker from './worker';\nclass WorkerPool {\n    constructor(name, maxCount = 2) {\n        this.pool = [];\n        this.count = 0;\n        this.maxCount = Math.min(8, maxCount);\n        this.name = name;\n    }\n    post(aMessage = {}, transferList, onmessage, onerror) {\n        const worker = this.getNextWorker();\n        if (worker) {\n            worker.post(aMessage, transferList, onmessage, onerror);\n        }\n        else {\n            console.error('unable to get worker from pool');\n        }\n        return this;\n    }\n    terminate() {\n        this.pool.forEach(function (worker) {\n            worker.terminate();\n        });\n    }\n    getNextWorker() {\n        let nextWorker;\n        let minPending = Infinity;\n        for (let i = 0; i < this.maxCount; ++i) {\n            if (i >= this.count) {\n                nextWorker = new Worker(this.name);\n                this.pool.push(nextWorker);\n                this.count += 1;\n                break;\n            }\n            const worker = this.pool[i];\n            if (worker.pending === 0) {\n                nextWorker = worker;\n                break;\n            }\n            else if (worker.pending < minPending) {\n                minPending = worker.pending;\n                nextWorker = worker;\n            }\n        }\n        return nextWorker;\n    }\n}\nWorkerPool.prototype.constructor = WorkerPool;\nexport default WorkerPool;\n//# sourceMappingURL=worker-pool.js.map","/**\n * @file Vector Utils\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3 } from 'three';\nimport { EPS } from './math-constants';\n/**\n * Calculate the two intersection points\n * Converted to JavaScript from\n * {@link http://paulbourke.net/geometry/pointlineplane/lineline.c}\n */\nexport function lineLineIntersect(p1, p2, p3, p4) {\n    const p13 = new Vector3();\n    const p43 = new Vector3();\n    const p21 = new Vector3();\n    let d1343, d4321, d1321, d4343, d2121;\n    let denom, numer;\n    p13.x = p1.x - p3.x;\n    p13.y = p1.y - p3.y;\n    p13.z = p1.z - p3.z;\n    p43.x = p4.x - p3.x;\n    p43.y = p4.y - p3.y;\n    p43.z = p4.z - p3.z;\n    if (Math.abs(p43.x) < EPS && Math.abs(p43.y) < EPS && Math.abs(p43.z) < EPS) {\n        return null;\n    }\n    p21.x = p2.x - p1.x;\n    p21.y = p2.y - p1.y;\n    p21.z = p2.z - p1.z;\n    if (Math.abs(p21.x) < EPS && Math.abs(p21.y) < EPS && Math.abs(p21.z) < EPS) {\n        return null;\n    }\n    d1343 = p13.x * p43.x + p13.y * p43.y + p13.z * p43.z;\n    d4321 = p43.x * p21.x + p43.y * p21.y + p43.z * p21.z;\n    d1321 = p13.x * p21.x + p13.y * p21.y + p13.z * p21.z;\n    d4343 = p43.x * p43.x + p43.y * p43.y + p43.z * p43.z;\n    d2121 = p21.x * p21.x + p21.y * p21.y + p21.z * p21.z;\n    denom = d2121 * d4343 - d4321 * d4321;\n    if (Math.abs(denom) < EPS) {\n        return null;\n    }\n    numer = d1343 * d4321 - d1321 * d4343;\n    const mua = numer / denom;\n    const mub = (d1343 + d4321 * mua) / d4343;\n    const pa = new Vector3(p1.x + mua * p21.x, p1.y + mua * p21.y, p1.z + mua * p21.z);\n    const pb = new Vector3(p3.x + mub * p43.x, p3.y + mub * p43.y, p3.z + mub * p43.z);\n    return [pa, pb];\n}\nexport function calculateMeanVector3(array) {\n    const n = array.length;\n    const m = n / 3;\n    let x = 0;\n    let y = 0;\n    let z = 0;\n    for (let i = 0; i < n; i += 3) {\n        x += array[i + 0];\n        y += array[i + 1];\n        z += array[i + 2];\n    }\n    return new Vector3(x / m, y / m, z / m);\n}\nexport function isPointOnSegment(p, l1, l2) {\n    const len = l1.distanceTo(l2);\n    return p.distanceTo(l1) <= len && p.distanceTo(l2) <= len;\n}\nexport function projectPointOnVector(point, vector, origin) {\n    if (origin) {\n        point.sub(origin).projectOnVector(vector).add(origin);\n    }\n    else {\n        point.projectOnVector(vector);\n    }\n    return point;\n}\nexport function computeBoundingBox(array) {\n    let minX = +Infinity;\n    let minY = +Infinity;\n    let minZ = +Infinity;\n    let maxX = -Infinity;\n    let maxY = -Infinity;\n    let maxZ = -Infinity;\n    for (let i = 0, l = array.length; i < l; i += 3) {\n        const x = array[i];\n        const y = array[i + 1];\n        const z = array[i + 2];\n        if (x < minX)\n            minX = x;\n        if (y < minY)\n            minY = y;\n        if (z < minZ)\n            minZ = z;\n        if (x > maxX)\n            maxX = x;\n        if (y > maxY)\n            maxY = y;\n        if (z > maxZ)\n            maxZ = z;\n    }\n    return [\n        v3new([minX, minY, minZ]),\n        v3new([maxX, maxY, maxZ])\n    ];\n}\ncomputeBoundingBox.__deps = [v3new];\nexport function applyMatrix4toVector3array(m, a) {\n    for (let i = 0, il = a.length; i < il; i += 3) {\n        const x = a[i];\n        const y = a[i + 1];\n        const z = a[i + 2];\n        a[i] = m[0] * x + m[4] * y + m[8] * z + m[12];\n        a[i + 1] = m[1] * x + m[5] * y + m[9] * z + m[13];\n        a[i + 2] = m[2] * x + m[6] * y + m[10] * z + m[14];\n    }\n}\nexport function applyMatrix3toVector3array(m, a) {\n    for (let i = 0, il = a.length; i < il; i += 3) {\n        const x = a[i];\n        const y = a[i + 1];\n        const z = a[i + 2];\n        a[i] = m[0] * x + m[3] * y + m[6] * z;\n        a[i + 1] = m[1] * x + m[4] * y + m[7] * z;\n        a[i + 2] = m[2] * x + m[5] * y + m[8] * z;\n    }\n}\nexport function normalizeVector3array(a) {\n    for (let i = 0, il = a.length; i < il; i += 3) {\n        const x = a[i];\n        const y = a[i + 1];\n        const z = a[i + 2];\n        const len2 = x * x + y * y + z * z;\n        if (len2 > 0) { // avoid divide by zero\n            const s = 1 / Math.sqrt(len2);\n            a[i] = x * s;\n            a[i + 1] = y * s;\n            a[i + 2] = z * s;\n        }\n        // else leave as all zeros\n    }\n}\nexport function v3new(array) {\n    return new Float32Array(array || 3); // TODO\n}\nexport function v3cross(out, a, b) {\n    const ax = a[0];\n    const ay = a[1];\n    const az = a[2];\n    const bx = b[0];\n    const by = b[1];\n    const bz = b[2];\n    out[0] = ay * bz - az * by;\n    out[1] = az * bx - ax * bz;\n    out[2] = ax * by - ay * bx;\n}\nexport function v3dot(a, b) {\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\nexport function v3sub(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    out[2] = a[2] - b[2];\n}\nexport function v3add(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    out[2] = a[2] + b[2];\n}\nexport function v3fromArray(out, array, offset = 0) {\n    out[0] = array[offset];\n    out[1] = array[offset + 1];\n    out[2] = array[offset + 2];\n}\nexport function v3toArray(input, array, offset = 0) {\n    array[offset] = input[0];\n    array[offset + 1] = input[1];\n    array[offset + 2] = input[2];\n}\nexport function v3forEach(array, fn, b) {\n    const a = v3new();\n    for (let i = 0, n = array.length; i < n; i += 3) {\n        v3fromArray(a, array, i);\n        fn(a, a, b);\n        v3toArray(a, array, i);\n    }\n}\nv3forEach.__deps = [v3new, v3fromArray, v3toArray];\nexport function v3length2(a) {\n    return a[0] * a[0] + a[1] * a[1] + a[2] * a[2];\n}\nexport function v3length(a) {\n    return Math.sqrt(a[0] * a[0] + a[1] * a[1] + a[2] * a[2]);\n}\nexport function v3divide(out, a, b) {\n    out[0] = a[0] / b[0];\n    out[1] = a[1] / b[1];\n    out[2] = a[2] / b[2];\n}\nexport function v3multiply(out, a, b) {\n    out[0] = a[0] * b[0];\n    out[1] = a[1] * b[1];\n    out[2] = a[2] * b[2];\n}\nexport function v3divideScalar(out, a, s) {\n    v3multiplyScalar(out, a, 1 / s);\n}\nv3divideScalar.__deps = [v3multiplyScalar];\nexport function v3multiplyScalar(out, a, s) {\n    out[0] = a[0] * s;\n    out[1] = a[1] * s;\n    out[2] = a[2] * s;\n}\nexport function v3normalize(out, a) {\n    const length2 = v3length2(a);\n    if (length2 == 0) {\n        out[0] = a[0];\n        out[1] = a[1];\n        out[2] = a[2];\n    }\n    else {\n        v3multiplyScalar(out, a, 1 / Math.sqrt(length2));\n    }\n}\nv3normalize.__deps = [v3multiplyScalar, v3length2];\nexport function v3subScalar(out, a, s) {\n    out[0] = a[0] - s;\n    out[1] = a[1] - s;\n    out[2] = a[2] - s;\n}\nexport function v3addScalar(out, a, s) {\n    out[0] = a[0] + s;\n    out[1] = a[1] + s;\n    out[2] = a[2] + s;\n}\nexport function v3floor(out, a) {\n    out[0] = Math.floor(a[0]);\n    out[1] = Math.floor(a[1]);\n    out[2] = Math.floor(a[2]);\n}\nexport function v3ceil(out, a) {\n    out[0] = Math.ceil(a[0]);\n    out[1] = Math.ceil(a[1]);\n    out[2] = Math.ceil(a[2]);\n}\nexport function v3round(out, a) {\n    out[0] = Math.round(a[0]);\n    out[1] = Math.round(a[1]);\n    out[2] = Math.round(a[2]);\n}\nexport function v3negate(out, a) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    out[2] = -a[2];\n}\nexport function v3angle(a, b) {\n    const ax = a[0];\n    const ay = a[1];\n    const az = a[2];\n    const bx = b[0];\n    const by = b[1];\n    const bz = b[2];\n    const cx = ay * bz - az * by;\n    const cy = az * bx - ax * bz;\n    const cz = ax * by - ay * bx;\n    const s = Math.sqrt(cx * cx + cy * cy + cz * cz);\n    const c = ax * bx + ay * by + az * bz;\n    return Math.atan2(s, c);\n}\n//# sourceMappingURL=vector-utils.js.map","/**\n * @file Dash\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3 } from 'three';\nimport { calculateDirectionArray, calculateCenterArray, replicateArrayEntries, replicateArray3Entries } from '../math/array-utils';\nexport function getFixedCountDashData(data, segmentCount = 9) {\n    const s = Math.floor(segmentCount / 2);\n    const n = data.position1.length / 3;\n    const sn = s * n;\n    const sn3 = sn * 3;\n    const step = 1 / segmentCount;\n    const direction = calculateDirectionArray(data.position1, data.position2);\n    const position1 = new Float32Array(sn3);\n    const position2 = new Float32Array(sn3);\n    const v = new Vector3();\n    for (let i = 0; i < n; ++i) {\n        const i3 = i * 3;\n        v.set(direction[i3], direction[i3 + 1], direction[i3 + 2]);\n        const x = data.position1[i3];\n        const y = data.position1[i3 + 1];\n        const z = data.position1[i3 + 2];\n        for (let j = 0; j < s; ++j) {\n            const j3 = s * i3 + j * 3;\n            const f1 = step * (j * 2 + 1);\n            const f2 = step * (j * 2 + 2);\n            position1[j3] = x + v.x * f1;\n            position1[j3 + 1] = y + v.y * f1;\n            position1[j3 + 2] = z + v.z * f1;\n            position2[j3] = x + v.x * f2;\n            position2[j3 + 1] = y + v.y * f2;\n            position2[j3 + 2] = z + v.z * f2;\n        }\n    }\n    const position = calculateCenterArray(position1, position2);\n    const color = replicateArray3Entries(data.color, s); // TODO\n    const color2 = color;\n    const d = { position, position1, position2, color, color2 };\n    if (data.radius) { // TODO\n        d.radius = replicateArrayEntries(data.radius, s); // TODO\n    }\n    if (data.picking && data.picking.array) {\n        data.picking.array = replicateArrayEntries(data.picking.array, s);\n        d.picking = data.picking;\n    }\n    if (data.primitiveId) {\n        d.primitiveId = replicateArrayEntries(data.primitiveId, s);\n    }\n    return d;\n}\nexport function getFixedLengthDashData(data, segmentLength = 0.1) {\n    const direction = calculateDirectionArray(data.position1, data.position2);\n    const pos1 = [];\n    const pos2 = [];\n    const col = [];\n    const rad = data.radius ? [] : undefined;\n    const pick = data.picking ? [] : undefined;\n    const id = data.primitiveId ? [] : undefined;\n    const v = new Vector3();\n    const n = data.position1.length / 3;\n    let k = 0;\n    for (let i = 0; i < n; ++i) {\n        const i3 = i * 3;\n        v.set(direction[i3], direction[i3 + 1], direction[i3 + 2]);\n        const vl = v.length();\n        const segmentCount = vl / segmentLength;\n        const s = Math.floor(segmentCount / 2);\n        const step = 1 / segmentCount;\n        const x = data.position1[i3];\n        const y = data.position1[i3 + 1];\n        const z = data.position1[i3 + 2];\n        for (let j = 0; j < s; ++j) {\n            const j3 = k * 3 + j * 3;\n            const f1 = step * (j * 2 + 1);\n            const f2 = step * (j * 2 + 2);\n            pos1[j3] = x + v.x * f1;\n            pos1[j3 + 1] = y + v.y * f1;\n            pos1[j3 + 2] = z + v.z * f1;\n            pos2[j3] = x + v.x * f2;\n            pos2[j3 + 1] = y + v.y * f2;\n            pos2[j3 + 2] = z + v.z * f2;\n            if (data.color) {\n                col[j3] = data.color[i3];\n                col[j3 + 1] = data.color[i3 + 1];\n                col[j3 + 2] = data.color[i3 + 2];\n            }\n            if (rad)\n                rad[k + j] = data.radius[i];\n            if (pick) {\n                if (data.picking.array) {\n                    pick[k + j] = data.picking.array[i];\n                }\n                else {\n                    pick[k + j] = i;\n                }\n            }\n            if (id)\n                id[k + j] = data.primitiveId[i];\n        }\n        k += s;\n    }\n    const position1 = new Float32Array(pos1);\n    const position2 = new Float32Array(pos2);\n    const position = calculateCenterArray(position1, position2);\n    const color = new Float32Array(col);\n    const color2 = color;\n    const d = { position, position1, position2, color, color2 };\n    if (rad)\n        d.radius = new Float32Array(rad);\n    if (pick && data.picking) {\n        data.picking.array = new Float32Array(pick);\n        d.picking = data.picking;\n    }\n    if (id)\n        d.primitiveId = new Float32Array(id);\n    return d;\n}\nexport function getFixedLengthWrappedDashData(data, segmentLength = 0.1) {\n    const direction = calculateDirectionArray(data.position1, data.position2);\n    const pos1 = [];\n    const pos2 = [];\n    const col = [];\n    const rad = data.radius ? [] : undefined;\n    const pick = data.picking ? [] : undefined;\n    const id = data.primitiveId ? [] : undefined;\n    const v = new Vector3();\n    const n = data.position1.length / 3;\n    let remaining = segmentLength;\n    let drawing = true;\n    let k = 0;\n    let k3 = 0;\n    let kprev = 0;\n    for (let i = 0; i < n; ++i) {\n        const i3 = i * 3;\n        const x = data.position1[i3];\n        const y = data.position1[i3 + 1];\n        const z = data.position1[i3 + 2];\n        v.set(direction[i3], direction[i3 + 1], direction[i3 + 2]);\n        const vl = v.length();\n        if (drawing) {\n            pos1[k3] = x;\n            pos1[k3 + 1] = y;\n            pos1[k3 + 2] = z;\n        }\n        let dist = remaining;\n        const inv = 1 / vl;\n        while (dist < vl) {\n            const a = drawing ? pos2 : pos1;\n            a[k3] = x + v.x * dist * inv;\n            a[k3 + 1] = y + v.y * dist * inv;\n            a[k3 + 2] = z + v.z * dist * inv;\n            if (drawing) {\n                k++;\n                k3 = k * 3;\n            }\n            drawing = !drawing;\n            remaining = segmentLength;\n            dist += segmentLength;\n        }\n        if (drawing) {\n            pos2[k3] = data.position2[i3];\n            pos2[k3 + 1] = data.position2[i3 + 1];\n            pos2[k3 + 2] = data.position2[i3 + 2];\n            k++;\n            k3 = k * 3;\n        }\n        remaining = dist - vl;\n        for (let j = kprev; j < k; j++) {\n            if (data.color) {\n                const j3 = j * 3;\n                col[j3] = data.color[i3];\n                col[j3 + 1] = data.color[i3 + 1];\n                col[j3 + 2] = data.color[i3 + 2];\n            }\n            if (rad)\n                rad[j] = data.radius[i];\n            if (pick) {\n                if (data.picking.array) {\n                    pick[j] = data.picking.array[i];\n                }\n                else {\n                    pick[j] = i;\n                }\n            }\n            if (id)\n                id[j] = data.primitiveId[i];\n        }\n        kprev = k;\n    }\n    if (!drawing && n > 0) {\n        const k3 = k * 3;\n        pos2[k3] = data.position2[3 * n - 3];\n        pos2[k3 + 1] = data.position2[3 * n - 2];\n        pos2[k3 + 1] = data.position2[3 * n - 1];\n    }\n    const position1 = new Float32Array(pos1);\n    const position2 = new Float32Array(pos2);\n    const position = calculateCenterArray(position1, position2);\n    const color = new Float32Array(col);\n    const color2 = color;\n    const d = { position, position1, position2, color, color2 };\n    if (rad)\n        d.radius = new Float32Array(rad);\n    if (pick && data.picking) {\n        data.picking.array = new Float32Array(pick);\n        d.picking = data.picking;\n    }\n    if (id)\n        d.primitiveId = new Float32Array(id);\n    return d;\n}\n//# sourceMappingURL=dash.js.map","/**\n * @file Primitive\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3, Color } from 'three';\nimport { BufferRegistry, PickerRegistry } from '../globals';\nimport { getFixedLengthDashData } from './dash';\nfunction addElement(elm, array) {\n    if (elm.toArray !== undefined) {\n        elm = elm.toArray();\n    }\n    else if (elm.x !== undefined) {\n        elm = [elm.x, elm.y, elm.z];\n    }\n    else if (elm.r !== undefined) {\n        elm = [elm.r, elm.g, elm.b];\n    }\n    array.push.apply(array, elm);\n}\nconst tmpVec = new Vector3();\n/**\n * Base class for geometry primitives\n * @interface\n */\nexport class Primitive {\n    static get Picker() { return PickerRegistry.get(this.type); }\n    static get Buffer() { return BufferRegistry.get(this.type); }\n    static getShapeKey(name) {\n        return this.type + name[0].toUpperCase() + name.substr(1);\n    }\n    static expandBoundingBox(box, data) { }\n    static valueToShape(shape, name, value) {\n        const data = shape._primitiveData[this.getShapeKey(name)];\n        const type = this.fields[name];\n        switch (type) {\n            case 'v3':\n            case 'c':\n                addElement(value, data);\n                break;\n            default:\n                data.push(value);\n        }\n    }\n    static objectToShape(shape, data) {\n        Object.keys(this.fields).forEach(name => {\n            this.valueToShape(shape, name, data[name]);\n        });\n        this.valueToShape(shape, 'name', data.name);\n        this.expandBoundingBox(shape.boundingBox, data);\n    }\n    static valueFromShape(shape, pid, name) {\n        const data = shape._primitiveData[this.getShapeKey(name)];\n        const type = this.fields[name];\n        switch (type) {\n            case 'v3':\n                return new Vector3().fromArray(data, 3 * pid);\n            case 'c':\n                return new Color().fromArray(data, 3 * pid);\n            default:\n                return data[pid];\n        }\n    }\n    static objectFromShape(shape, pid) {\n        let name = this.valueFromShape(shape, pid, 'name');\n        if (name === undefined) {\n            name = `${this.type}: ${pid} (${shape.name})`;\n        }\n        const o = { shape, name };\n        Object.keys(this.fields).forEach(name => {\n            o[name] = this.valueFromShape(shape, pid, name);\n        });\n        return o;\n    }\n    static arrayFromShape(shape, name) {\n        const data = shape._primitiveData[this.getShapeKey(name)];\n        const type = this.fields[name];\n        switch (type) {\n            case 's':\n                return data;\n            default:\n                return new Float32Array(data);\n        }\n    }\n    static dataFromShape(shape) {\n        const data = {};\n        if (this.Picker) {\n            data.picking = new this.Picker(shape);\n        }\n        Object.keys(this.fields).forEach(name => {\n            data[name] = this.arrayFromShape(shape, name);\n        });\n        return data;\n    }\n    static bufferFromShape(shape, params) {\n        return new this.Buffer(this.dataFromShape(shape), params);\n    }\n}\nPrimitive.type = '';\nPrimitive.fields = {};\n/**\n * Sphere geometry primitive\n */\nexport class SpherePrimitive extends Primitive {\n    static positionFromShape(shape, pid) {\n        return this.valueFromShape(shape, pid, 'position');\n    }\n    static expandBoundingBox(box, data) {\n        box.expandByPoint(tmpVec.fromArray(data.position));\n    }\n}\nSpherePrimitive.type = 'sphere';\nSpherePrimitive.fields = {\n    position: 'v3',\n    color: 'c',\n    radius: 'f'\n};\n/**\n * Box geometry primitive\n */\nexport class BoxPrimitive extends Primitive {\n    static positionFromShape(shape, pid) {\n        return this.valueFromShape(shape, pid, 'position');\n    }\n    static expandBoundingBox(box, data) {\n        box.expandByPoint(tmpVec.fromArray(data.position));\n    }\n}\nBoxPrimitive.type = 'box';\nBoxPrimitive.fields = {\n    position: 'v3',\n    color: 'c',\n    size: 'f',\n    heightAxis: 'v3',\n    depthAxis: 'v3'\n};\n/**\n * Octahedron geometry primitive\n */\nexport class OctahedronPrimitive extends BoxPrimitive {\n}\nOctahedronPrimitive.type = 'octahedron';\n/**\n * Tetrahedron geometry primitive\n */\nexport class TetrahedronPrimitive extends BoxPrimitive {\n}\nTetrahedronPrimitive.type = 'tetrahedron';\n/**\n * Cylinder geometry primitive\n */\nexport class CylinderPrimitive extends Primitive {\n    static positionFromShape(shape, pid) {\n        const p1 = this.valueFromShape(shape, pid, 'position1');\n        const p2 = this.valueFromShape(shape, pid, 'position2');\n        return p1.add(p2).multiplyScalar(0.5);\n    }\n    static expandBoundingBox(box, data) {\n        box.expandByPoint(tmpVec.fromArray(data.position1));\n        box.expandByPoint(tmpVec.fromArray(data.position2));\n    }\n    static bufferFromShape(shape, params = {}) {\n        let data = this.dataFromShape(shape);\n        if (this.type === 'cylinder' && params.dashedCylinder) {\n            data = getFixedLengthDashData(data);\n        }\n        return new this.Buffer(data, params);\n    }\n}\nCylinderPrimitive.type = 'cylinder';\nCylinderPrimitive.fields = {\n    position1: 'v3',\n    position2: 'v3',\n    color: 'c',\n    radius: 'f'\n};\n/**\n * Arrow geometry primitive\n */\nexport class ArrowPrimitive extends CylinderPrimitive {\n}\nArrowPrimitive.type = 'arrow';\n/**\n * Cone geometry primitive\n */\nexport class ConePrimitive extends CylinderPrimitive {\n}\nConePrimitive.type = 'cone';\n/**\n * Ellipsoid geometry primitive\n */\nexport class EllipsoidPrimitive extends SpherePrimitive {\n}\nEllipsoidPrimitive.type = 'ellipsoid';\nEllipsoidPrimitive.fields = {\n    position: 'v3',\n    color: 'c',\n    radius: 'f',\n    majorAxis: 'v3',\n    minorAxis: 'v3'\n};\n/**\n * Torus geometry primitive\n */\nexport class TorusPrimitive extends EllipsoidPrimitive {\n}\nTorusPrimitive.type = 'torus';\n/**\n * Text geometry primitive\n */\nexport class TextPrimitive extends Primitive {\n    static positionFromShape(shape, pid) {\n        return this.valueFromShape(shape, pid, 'position');\n    }\n    static expandBoundingBox(box, data) {\n        box.expandByPoint(tmpVec.fromArray(data.position));\n    }\n}\nTextPrimitive.type = 'text';\nTextPrimitive.fields = {\n    position: 'v3',\n    color: 'c',\n    size: 'f',\n    text: 's'\n};\n/**\n * Point primitive\n */\nexport class PointPrimitive extends Primitive {\n    static positionFromShape(shape, pid) {\n        return this.valueFromShape(shape, pid, 'position');\n    }\n    static expandBoundingBox(box, data) {\n        box.expandByPoint(tmpVec.fromArray(data.position));\n    }\n}\nPointPrimitive.type = 'point';\nPointPrimitive.fields = {\n    position: 'v3',\n    color: 'c',\n};\n/**\n * Wideline geometry primitive\n */\nexport class WidelinePrimitive extends Primitive {\n    static positionFromShape(shape, pid) {\n        const p1 = this.valueFromShape(shape, pid, 'position1');\n        const p2 = this.valueFromShape(shape, pid, 'position2');\n        return p1.add(p2).multiplyScalar(0.5);\n    }\n    static expandBoundingBox(box, data) {\n        box.expandByPoint(tmpVec.fromArray(data.position1));\n        box.expandByPoint(tmpVec.fromArray(data.position2));\n    }\n}\nWidelinePrimitive.type = 'wideline';\nWidelinePrimitive.fields = {\n    position1: 'v3',\n    position2: 'v3',\n    color: 'c'\n};\n//# sourceMappingURL=primitive.js.map","/**\n * @file Spatial Hash\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Box3 } from 'three';\nfunction createBoundingBox(positions) {\n    const { x, y, z } = positions;\n    const boundingBox = new Box3();\n    const count = x.length;\n    const { min, max } = boundingBox;\n    for (let i = 0; i < count; i++) {\n        min.x = Math.min(x[i], min.x);\n        min.y = Math.min(y[i], min.y);\n        min.z = Math.min(z[i], min.z);\n        max.x = Math.max(x[i], max.x);\n        max.y = Math.max(y[i], max.y);\n        max.z = Math.max(z[i], max.z);\n    }\n    return boundingBox;\n}\nexport default class SpatialHash {\n    constructor(positions, boundingBox) {\n        this.exp = 3;\n        const bb = boundingBox || createBoundingBox(positions);\n        this.minX = bb.min.x;\n        this.minY = bb.min.y;\n        this.minZ = bb.min.z;\n        this.boundX = ((bb.max.x - this.minX) >> this.exp) + 1;\n        this.boundY = ((bb.max.y - this.minY) >> this.exp) + 1;\n        this.boundZ = ((bb.max.z - this.minZ) >> this.exp) + 1;\n        const n = this.boundX * this.boundY * this.boundZ;\n        const an = (positions.count !== undefined) ? positions.count : positions.x.length;\n        const xArray = positions.x;\n        const yArray = positions.y;\n        const zArray = positions.z;\n        let count = 0;\n        const grid = new Uint32Array(n);\n        const bucketIndex = new Int32Array(an);\n        for (let i = 0; i < an; ++i) {\n            const x = (xArray[i] - this.minX) >> this.exp;\n            const y = (yArray[i] - this.minY) >> this.exp;\n            const z = (zArray[i] - this.minZ) >> this.exp;\n            const idx = (((x * this.boundY) + y) * this.boundZ) + z;\n            if ((grid[idx] += 1) === 1) {\n                count += 1;\n            }\n            bucketIndex[i] = idx;\n        }\n        const bucketCount = new Uint16Array(count);\n        for (let i = 0, j = 0; i < n; ++i) {\n            const c = grid[i];\n            if (c > 0) {\n                grid[i] = j + 1;\n                bucketCount[j] = c;\n                j += 1;\n            }\n        }\n        const bucketOffset = new Uint32Array(count);\n        for (let i = 1; i < count; ++i) {\n            bucketOffset[i] += bucketOffset[i - 1] + bucketCount[i - 1];\n        }\n        const bucketFill = new Uint16Array(count);\n        const bucketArray = new Int32Array(an);\n        for (let i = 0; i < an; ++i) {\n            const bucketIdx = grid[bucketIndex[i]];\n            if (bucketIdx > 0) {\n                const k = bucketIdx - 1;\n                bucketArray[bucketOffset[k] + bucketFill[k]] = i;\n                bucketFill[k] += 1;\n            }\n        }\n        this.grid = grid;\n        this.bucketCount = bucketCount;\n        this.bucketOffset = bucketOffset;\n        this.bucketArray = bucketArray;\n        this.xArray = xArray;\n        this.yArray = yArray;\n        this.zArray = zArray;\n    }\n    within(x, y, z, r) {\n        const result = [];\n        this.eachWithin(x, y, z, r, atomIndex => result.push(atomIndex));\n        return result;\n    }\n    eachWithin(x, y, z, r, callback) {\n        const rSq = r * r;\n        const loX = Math.max(0, (x - r - this.minX) >> this.exp);\n        const loY = Math.max(0, (y - r - this.minY) >> this.exp);\n        const loZ = Math.max(0, (z - r - this.minZ) >> this.exp);\n        const hiX = Math.min(this.boundX, ((x + r - this.minX) >> this.exp) + 1);\n        const hiY = Math.min(this.boundY, ((y + r - this.minY) >> this.exp) + 1);\n        const hiZ = Math.min(this.boundZ, ((z + r - this.minZ) >> this.exp) + 1);\n        for (let ix = loX; ix < hiX; ++ix) {\n            for (let iy = loY; iy < hiY; ++iy) {\n                for (let iz = loZ; iz < hiZ; ++iz) {\n                    const idx = (((ix * this.boundY) + iy) * this.boundZ) + iz;\n                    const bucketIdx = this.grid[idx];\n                    if (bucketIdx > 0) {\n                        const k = bucketIdx - 1;\n                        const offset = this.bucketOffset[k];\n                        const count = this.bucketCount[k];\n                        const end = offset + count;\n                        for (let i = offset; i < end; ++i) {\n                            const atomIndex = this.bucketArray[i];\n                            const dx = this.xArray[atomIndex] - x;\n                            const dy = this.yArray[atomIndex] - y;\n                            const dz = this.zArray[atomIndex] - z;\n                            const dSq = dx * dx + dy * dy + dz * dz;\n                            if (dSq <= rSq)\n                                callback(atomIndex, dSq);\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n//# sourceMappingURL=spatial-hash.js.map","/**\n * @file Store\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Log } from '../globals';\nimport { getTypedArray } from '../utils';\n/**\n * Store base class\n * @interface\n */\nexport default class Store {\n    /**\n     * @param {Integer} [size] - initial size\n     */\n    constructor(size = 0) {\n        this._fields = this._defaultFields;\n        this._init(0);\n    }\n    /**\n     * Initialize the store\n     * @param  {Integer} size - size to initialize\n     * @return {undefined}\n     */\n    _init(size) {\n        this.length = size;\n        this.count = 0;\n        for (let i = 0, il = this._fields.length; i < il; ++i) {\n            const [name, size, type] = this._fields[i];\n            this._initField(name, size, type);\n        }\n    }\n    /**\n     * Initialize a field\n     * @param  {String} name - field name\n     * @param  {Integer} size - element size\n     * @param  {String} type - data type, one of int8, int16, int32,\n     *                         uint8, uint16, uint32, float32\n     * @return {undefined}\n     */\n    _initField(name, size, type) {\n        this[name] = getTypedArray(type, this.length * size);\n    }\n    /**\n     * Add a field\n     * @param  {String} name - field name\n     * @param  {Integer} size - element size\n     * @param  {String} type - data type, one of int8, int16, int32,\n     *                         uint8, uint16, uint32, float32\n     * @return {undefined}\n     */\n    addField(name, size, type) {\n        this._fields.push([name, size, type]);\n        this._initField(name, size, type);\n    }\n    /**\n     * Resize the store to the new size\n     * @param  {Integer} size - new size\n     * @return {undefined}\n     */\n    resize(size) {\n        // Log.time( \"Store.resize\" );\n        this.length = Math.round(size || 0);\n        this.count = Math.min(this.count, this.length);\n        for (let i = 0, il = this._fields.length; i < il; ++i) {\n            const name = this._fields[i][0];\n            const itemSize = this._fields[i][1];\n            const arraySize = this.length * itemSize;\n            const tmpArray = new this[name].constructor(arraySize);\n            if (this[name].length > arraySize) {\n                tmpArray.set(this[name].subarray(0, arraySize));\n            }\n            else {\n                tmpArray.set(this[name]);\n            }\n            this[name] = tmpArray;\n        }\n        // Log.timeEnd( \"Store.resize\" );\n    }\n    /**\n     * Resize the store to 1.5 times its current size if full\n     * @return {undefined}\n     */\n    growIfFull() {\n        if (this.count >= this.length) {\n            const size = Math.round(this.length * 1.5);\n            this.resize(Math.max(256, size));\n        }\n    }\n    /**\n     * Copy data from one store to another\n     * @param  {Store} other - store to copy from\n     * @param  {Integer} thisOffset - offset to start copying to\n     * @param  {Integer} otherOffset - offset to start copying from\n     * @param  {Integer} length - number of entries to copy\n     * @return {undefined}\n     */\n    copyFrom(other, thisOffset, otherOffset, length) {\n        for (let i = 0, il = this._fields.length; i < il; ++i) {\n            const name = this._fields[i][0];\n            const itemSize = this._fields[i][1];\n            const thisField = this[name];\n            const otherField = other[name];\n            for (let j = 0; j < length; ++j) {\n                const thisIndex = itemSize * (thisOffset + j);\n                const otherIndex = itemSize * (otherOffset + j);\n                for (let k = 0; k < itemSize; ++k) {\n                    thisField[thisIndex + k] = otherField[otherIndex + k];\n                }\n            }\n        }\n    }\n    /**\n     * Copy data within this store\n     * @param  {Integer} thisOffset - offset to start copying to\n     * @param  {Integer} otherOffset - offset to start copying from\n     * @param  {Integer} length - number of entries to copy\n     * @return {undefined}\n     */\n    copyWithin(offsetTarget, offsetSource, length) {\n        for (let i = 0, il = this._fields.length; i < il; ++i) {\n            const name = this._fields[i][0];\n            const itemSize = this._fields[i][1];\n            const thisField = this[name];\n            for (let j = 0; j < length; ++j) {\n                const targetIndex = itemSize * (offsetTarget + j);\n                const sourceIndex = itemSize * (offsetSource + j);\n                for (let k = 0; k < itemSize; ++k) {\n                    thisField[targetIndex + k] = thisField[sourceIndex + k];\n                }\n            }\n        }\n    }\n    /**\n     * Sort entries in the store given the compare function\n     * @param  {[type]} compareFunction - function to sort by\n     * @return {undefined}\n     */\n    sort(compareFunction) {\n        Log.time('Store.sort');\n        const thisStore = this;\n        const tmpStore = new this.constructor(1);\n        function swap(index1, index2) {\n            if (index1 === index2)\n                return;\n            tmpStore.copyFrom(thisStore, 0, index1, 1);\n            thisStore.copyWithin(index1, index2, 1);\n            thisStore.copyFrom(tmpStore, index2, 0, 1);\n        }\n        function quicksort(left, right) {\n            if (left < right) {\n                let pivot = Math.floor((left + right) / 2);\n                let leftNew = left;\n                let rightNew = right;\n                do {\n                    while (compareFunction(leftNew, pivot) < 0) {\n                        leftNew += 1;\n                    }\n                    while (compareFunction(rightNew, pivot) > 0) {\n                        rightNew -= 1;\n                    }\n                    if (leftNew <= rightNew) {\n                        if (leftNew === pivot) {\n                            pivot = rightNew;\n                        }\n                        else if (rightNew === pivot) {\n                            pivot = leftNew;\n                        }\n                        swap(leftNew, rightNew);\n                        leftNew += 1;\n                        rightNew -= 1;\n                    }\n                } while (leftNew <= rightNew);\n                quicksort(left, rightNew);\n                quicksort(leftNew, right);\n            }\n        }\n        quicksort(0, this.count - 1);\n        Log.timeEnd('Store.sort');\n    }\n    /**\n     * Empty the store\n     * @return {undefined}\n     */\n    clear() {\n        this.count = 0;\n    }\n    /**\n     * Dispose of the store entries and fields\n     * @return {undefined}\n     */\n    dispose() {\n        delete this.length;\n        delete this.count;\n        for (let i = 0, il = this._fields.length; i < il; ++i) {\n            const name = this._fields[i][0];\n            delete this[name];\n        }\n    }\n}\n//# sourceMappingURL=store.js.map","/**\n * @file Contact Store\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport Store from './store';\n/**\n * Bond store\n */\nexport default class ContactStore extends Store {\n    get _defaultFields() {\n        return [\n            ['index1', 1, 'int32'],\n            ['index2', 1, 'int32'],\n            ['type', 1, 'int8']\n        ];\n    }\n    addContact(index1, index2, type) {\n        this.growIfFull();\n        const i = this.count;\n        if (index1 < index2) {\n            this.index1[i] = index1;\n            this.index2[i] = index2;\n        }\n        else {\n            this.index2[i] = index1;\n            this.index1[i] = index2;\n        }\n        if (type)\n            this.type[i] = type;\n        this.count += 1;\n    }\n}\n//# sourceMappingURL=contact-store.js.map","/**\n * @file Bit array\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author Paul Pillot <paulpillot@gmail.com>\n * @private\n */\n/**\n * Compute the Hamming weight of a 32-bit unsigned integer\n * @param  {Integer} v - a 32-bit unsigned integer\n * @return {Integer} the Hamming weight\n */\nfunction hammingWeight(v) {\n    // works with signed or unsigned shifts\n    v -= ((v >>> 1) & 0x55555555);\n    v = (v & 0x33333333) + ((v >>> 2) & 0x33333333);\n    return ((v + (v >>> 4) & 0xF0F0F0F) * 0x1010101) >>> 24;\n}\n/**\n * Bit array\n *\n * Based heavily on https://github.com/lemire/FastBitSet.js\n * which is licensed under the Apache License, Version 2.0.\n */\nexport default class BitArray {\n    /**\n     * @param  {Integer} length - array length\n     * @param  {Boolean} [setAll] - initialize with true\n     */\n    constructor(length, setAll) {\n        this.length = length;\n        this._words = new Uint32Array((length + 32) >>> 5);\n        if (setAll === true) {\n            this.setAll();\n        }\n    }\n    /**\n     * Get value at index\n     * @param  {Integer} index - the index\n     * @return {Boolean} value\n     */\n    get(index) {\n        return (this._words[index >>> 5] & (1 << index)) !== 0;\n    }\n    /**\n     * Set value at index to true\n     * @param  {Integer} index - the index\n     * @return {undefined}\n     */\n    set(index) {\n        this._words[index >>> 5] |= 1 << index;\n    }\n    /**\n     * Set value at index to false\n     * @param  {Integer} index - the index\n     * @return {undefined}\n     */\n    clear(index) {\n        this._words[index >>> 5] &= ~(1 << index);\n    }\n    /**\n     * Flip value at index\n     * @param  {Integer} index - the index\n     * @return {undefined}\n     */\n    flip(index) {\n        this._words[index >>> 5] ^= 1 << index;\n    }\n    _assignRange(start, end, value) {\n        if (end < start)\n            return;\n        const words = this._words;\n        const wordValue = value === true ? 0xFFFFFFFF : 0;\n        const wordStart = start >>> 5;\n        const wordEnd = end >>> 5;\n        // set complete words when applicable\n        for (let k = wordStart; k < wordEnd; ++k) {\n            words[k] = wordValue;\n        }\n        // set parts of the range not spanning complete words\n        const startWord = wordStart << 5;\n        const endWord = wordEnd << 5;\n        if (value === true) {\n            if (end - start < 32) {\n                for (let i = start, n = end + 1; i < n; ++i) {\n                    words[i >>> 5] |= 1 << i;\n                }\n            }\n            else {\n                for (let i = start, n = startWord; i < n; ++i) {\n                    words[i >>> 5] |= 1 << i;\n                }\n                for (let i = endWord, n = end + 1; i < n; ++i) {\n                    words[i >>> 5] |= 1 << i;\n                }\n            }\n        }\n        else {\n            if (end - start < 32) {\n                for (let i = start, n = end + 1; i < n; ++i) {\n                    words[i >>> 5] &= ~(1 << i);\n                }\n            }\n            else {\n                for (let i = start, n = startWord; i < n; ++i) {\n                    words[i >>> 5] &= ~(1 << i);\n                }\n                for (let i = endWord, n = end + 1; i < n; ++i) {\n                    words[i >>> 5] &= ~(1 << i);\n                }\n            }\n        }\n        return this;\n    }\n    /**\n     * Set bits of the given range\n     * @param {Integer} start - start index\n     * @param {Integer} end - end index\n     * @return {BitArray} this object\n     */\n    setRange(start, end) {\n        return this._assignRange(start, end, true);\n    }\n    /**\n     * Clear bits of the given range\n     * @param {Integer} start - start index\n     * @param {Integer} end - end index\n     * @return {BitArray} this object\n     */\n    clearRange(start, end) {\n        return this._assignRange(start, end, false);\n    }\n    /**\n     * Set bits at all given indices\n     * @param {...Integer} arguments - indices\n     * @return {Boolean} this object\n     */\n    setBits(...indices) {\n        const words = this._words;\n        const n = indices.length;\n        for (let i = 0; i < n; ++i) {\n            const index = indices[i];\n            words[index >>> 5] |= 1 << index;\n        }\n        return this;\n    }\n    /**\n     * Clear bits at all given indices\n     * @param {...Integer} arguments - indices\n     * @return {Boolean} this object\n     */\n    clearBits(...indices) {\n        const words = this._words;\n        const n = indices.length;\n        for (let i = 0; i < n; ++i) {\n            const index = indices[i];\n            words[index >>> 5] &= ~(1 << index);\n        }\n        return this;\n    }\n    /**\n     * Set all bits of the array\n     * @return {BitArray} this object\n     */\n    setAll() {\n        return this._assignRange(0, this.length - 1, true);\n    }\n    /**\n     * Clear all bits of the array\n     * @return {BitArray} this object\n     */\n    clearAll() {\n        return this._assignRange(0, this.length - 1, false);\n    }\n    /**\n     * Flip all the values in the array\n     * @return {BitArray} this object\n     */\n    flipAll() {\n        const count = this._words.length;\n        const words = this._words;\n        const bs = 32 - this.length % 32;\n        for (let k = 0; k < count - 1; ++k) {\n            words[k] = ~words[k];\n        }\n        words[count - 1] = (~(words[count - 1] << bs)) >>> bs;\n        return this;\n    }\n    _isRangeValue(start, end, value) {\n        if (end < start)\n            return;\n        const words = this._words;\n        const wordValue = value === true ? 0xFFFFFFFF : 0;\n        const wordStart = start >>> 5;\n        const wordEnd = end >>> 5;\n        // set complete words when applicable\n        for (let k = wordStart; k < wordEnd; ++k) {\n            if (words[k] !== wordValue)\n                return false;\n        }\n        // set parts of the range not spanning complete words\n        if (end - start < 32) {\n            for (let i = start, n = end + 1; i < n; ++i) {\n                if (!!(words[i >>> 5] & (1 << i)) !== value)\n                    return false;\n            }\n        }\n        else {\n            const startWord = wordStart << 5;\n            const endWord = wordEnd << 5;\n            for (let i = start, n = startWord << 5; i < n; ++i) {\n                if (!!(words[i >>> 5] & (1 << i)) !== value)\n                    return false;\n            }\n            for (let i = endWord, n = end + 1; i < n; ++i) {\n                if (!!(words[i >>> 5] & (1 << i)) !== value)\n                    return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * Test if bits in given range are set\n     * @param {Integer} start - start index\n     * @param {Integer} end - end index\n     * @return {BitArray} this object\n     */\n    isRangeSet(start, end) {\n        return this._isRangeValue(start, end, true);\n    }\n    /**\n     * Test if bits in given range are clear\n     * @param {Integer} start - start index\n     * @param {Integer} end - end index\n     * @return {BitArray} this object\n     */\n    isRangeClear(start, end) {\n        return this._isRangeValue(start, end, false);\n    }\n    /**\n     * Test if all bits in the array are set\n     * @return {Boolean} test result\n     */\n    isAllSet() {\n        return this._isRangeValue(0, this.length - 1, true);\n    }\n    /**\n     * Test if all bits in the array are clear\n     * @return {Boolean} test result\n     */\n    isAllClear() {\n        return this._isRangeValue(0, this.length - 1, false);\n    }\n    /**\n     * Test if bits at all given indices are set\n     * @param {...Integer} arguments - indices\n     * @return {Boolean} test result\n     */\n    isSet(...indices) {\n        const words = this._words;\n        const n = indices.length;\n        for (let i = 0; i < n; ++i) {\n            const index = indices[i];\n            if ((words[index >>> 5] & (1 << index)) === 0)\n                return false;\n        }\n        return true;\n    }\n    /**\n     * Test if bits at all given indices are clear\n     * @param {...Integer} arguments - indices\n     * @return {Boolean} test result\n     */\n    isClear(...indices) {\n        const words = this._words;\n        const n = indices.length;\n        for (let i = 0; i < n; ++i) {\n            const index = indices[i];\n            if ((words[index >>> 5] & (1 << index)) !== 0)\n                return false;\n        }\n        return true;\n    }\n    /**\n     * Test if two BitArrays are identical in all their values\n     * @param {BitArray} otherBitarray - the other BitArray\n     * @return {Boolean} test result\n     */\n    isEqualTo(otherBitarray) {\n        const words1 = this._words;\n        const words2 = otherBitarray._words;\n        const count = Math.min(words1.length, words2.length);\n        for (let k = 0; k < count; ++k) {\n            if (words1[k] !== words2[k]) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * How many set bits?\n     * @return {Integer} number of set bits\n     */\n    getSize() {\n        const count = this._words.length;\n        const words = this._words;\n        let size = 0;\n        for (let i = 0; i < count; ++i) {\n            size += hammingWeight(words[i]);\n        }\n        return size;\n    }\n    /**\n     * Calculate difference betwen this and another bit array.\n     * Store result in this object.\n     * @param  {BitArray} otherBitarray - the other bit array\n     * @return {BitArray} this object\n     */\n    difference(otherBitarray) {\n        const words1 = this._words;\n        const words2 = otherBitarray._words;\n        const count = Math.min(words1.length, words2.length);\n        for (let k = 0; k < count; ++k) {\n            words1[k] = words1[k] & ~words2[k];\n        }\n        for (let k = words1.length; k < count; ++k) {\n            words1[k] = 0;\n        }\n        return this;\n    }\n    /**\n     * Calculate union betwen this and another bit array.\n     * Store result in this object.\n     * @param  {BitArray} otherBitarray - the other bit array\n     * @return {BitArray} this object\n     */\n    union(otherBitarray) {\n        const words1 = this._words;\n        const words2 = otherBitarray._words;\n        const count = Math.min(words1.length, words2.length);\n        for (let k = 0; k < count; ++k) {\n            words1[k] |= words2[k];\n        }\n        for (let k = words1.length; k < count; ++k) {\n            words1[k] = 0;\n        }\n        return this;\n    }\n    /**\n     * Calculate intersection betwen this and another bit array.\n     * Store result in this object.\n     * @param  {BitArray} otherBitarray - the other bit array\n     * @return {BitArray} this object\n     */\n    intersection(otherBitarray) {\n        const words1 = this._words;\n        const words2 = otherBitarray._words;\n        const count = Math.min(words1.length, words2.length);\n        for (let k = 0; k < count; ++k) {\n            words1[k] &= words2[k];\n        }\n        for (let k = words1.length; k < count; ++k) {\n            words1[k] = 0;\n        }\n        return this;\n    }\n    /**\n     * Test if there is any intersection betwen this and another bit array.\n     * @param  {BitArray} otherBitarray - the other bit array\n     * @return {Boolean} test result\n     */\n    intersects(otherBitarray) {\n        const words1 = this._words;\n        const words2 = otherBitarray._words;\n        const count = Math.min(words1.length, words2.length);\n        for (let k = 0; k < count; ++k) {\n            if ((words1[k] & words2[k]) !== 0) {\n                return true;\n            }\n        }\n        return false;\n    }\n    /**\n     * Calculate the number of bits in common betwen this and another bit array.\n     * @param  {BitArray} otherBitarray - the other bit array\n     * @return {Integer} size\n     */\n    getIntersectionSize(otherBitarray) {\n        const words1 = this._words;\n        const words2 = otherBitarray._words;\n        const count = Math.min(words1.length, words2.length);\n        let size = 0;\n        for (let k = 0; k < count; ++k) {\n            size += hammingWeight(words1[k] & words2[k]);\n        }\n        return size;\n    }\n    /**\n     * Calculate intersection betwen this and another bit array.\n     * Store result in a new bit array.\n     * @param  {BitArray} otherBitarray - the other bit array\n     * @return {BitArray} the new bit array\n     */\n    makeIntersection(otherBitarray) {\n        const words1 = this._words;\n        const words2 = otherBitarray._words;\n        const count = Math.min(words1.length, words2.length);\n        const wordsA = new Uint32Array(count);\n        const intersection = Object.create(BitArray.prototype);\n        intersection._words = wordsA;\n        intersection.length = Math.min(this.length, otherBitarray.length);\n        for (let k = 0; k < count; ++k) {\n            wordsA[k] = words1[k] & words2[k];\n        }\n        return intersection;\n    }\n    /**\n     * Iterate over all set bits in the array\n     * @param  {function( index: Integer, i: Integer )} callback - the callback\n     * @return {undefined}\n     */\n    forEach(callback) {\n        const count = this._words.length;\n        const words = this._words;\n        let i = 0;\n        for (let k = 0; k < count; ++k) {\n            let w = words[k];\n            while (w !== 0) {\n                const t = w & -w;\n                const index = (k << 5) + hammingWeight(t - 1);\n                callback(index, i);\n                w ^= t;\n                ++i;\n            }\n        }\n    }\n    /**\n     * Get an array with the set bits\n     * @return {Array} bit indices\n     */\n    toArray() {\n        const words = this._words;\n        const answer = new Array(this.getSize());\n        const count = this._words.length;\n        let pos = 0;\n        for (let k = 0; k < count; ++k) {\n            let w = words[k];\n            while (w !== 0) {\n                const t = w & -w;\n                answer[pos++] = (k << 5) + hammingWeight(t - 1);\n                w ^= t;\n            }\n        }\n        return answer;\n    }\n    toString() {\n        return '{' + this.toArray().join(',') + '}';\n    }\n    toSeleString() {\n        const sele = this.toArray().join(',');\n        return sele ? '@' + sele : 'NONE';\n    }\n    /**\n     * Clone this object\n     * @return {BitArray} the cloned object\n     */\n    clone() {\n        const clone = Object.create(BitArray.prototype);\n        clone.length = this.length;\n        clone._words = new Uint32Array(this._words);\n        return clone;\n    }\n}\n//# sourceMappingURL=bitarray.js.map","/**\n * @file Adjacency List\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nexport function createAdjacencyList(edges) {\n    const { edgeCount, nodeCount, nodeArray1, nodeArray2 } = edges;\n    const countArray = new Uint8Array(nodeCount);\n    const offsetArray = new Int32Array(nodeCount);\n    // count edges per node\n    for (let i = 0; i < edgeCount; ++i) {\n        countArray[nodeArray1[i]] += 1;\n        countArray[nodeArray2[i]] += 1;\n    }\n    // get offsets to node edges\n    for (let i = 1; i < nodeCount; ++i) {\n        offsetArray[i] += offsetArray[i - 1] + countArray[i - 1];\n    }\n    // prepare index array\n    const bondCount2 = edgeCount * 2;\n    const indexArray = new Int32Array(bondCount2);\n    for (let j = 0; j < bondCount2; ++j) {\n        indexArray[j] = -1;\n    }\n    // build index array\n    for (let i = 0; i < edgeCount; ++i) {\n        const idx1 = nodeArray1[i];\n        const idx2 = nodeArray2[i];\n        let j1 = offsetArray[idx1];\n        while (indexArray[j1] !== -1 && j1 < bondCount2) {\n            j1 += 1;\n        }\n        indexArray[j1] = i;\n        let j2 = offsetArray[idx2];\n        while (indexArray[j2] !== -1 && j2 < bondCount2) {\n            j2 += 1;\n        }\n        indexArray[j2] = i;\n    }\n    return { countArray, offsetArray, indexArray };\n}\n//# sourceMappingURL=adjacency-list.js.map","/**\n * @file Features\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nexport function createFeatures() {\n    return {\n        types: [],\n        groups: [],\n        centers: { x: [], y: [], z: [] },\n        atomSets: []\n    };\n}\nexport function createFeatureState(type = 0 /* Unknown */, group = 0 /* Unknown */) {\n    return { type, group, x: 0, y: 0, z: 0, atomSet: [] };\n}\nexport function addAtom(state, atom) {\n    state.x += atom.x;\n    state.y += atom.y;\n    state.z += atom.z;\n    state.atomSet.push(atom.index);\n}\nexport function addFeature(features, state) {\n    const n = state.atomSet.length;\n    if (n > 0) {\n        const { types, groups, centers, atomSets } = features;\n        types.push(state.type);\n        groups.push(state.group);\n        centers.x.push(state.x / n);\n        centers.y.push(state.y / n);\n        centers.z.push(state.z / n);\n        atomSets.push(state.atomSet);\n    }\n}\n//# sourceMappingURL=features.js.map","/**\n * @file Structure Constants\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\n// entity types\nexport const UnknownEntity = 0;\nexport const PolymerEntity = 1;\nexport const NonPolymerEntity = 2;\nexport const MacrolideEntity = 3;\nexport const WaterEntity = 4;\n// molecule types\nexport const UnknownType = 0;\nexport const WaterType = 1;\nexport const IonType = 2;\nexport const ProteinType = 3;\nexport const RnaType = 4;\nexport const DnaType = 5;\nexport const SaccharideType = 6;\n// backbone types\nexport const UnknownBackboneType = 0;\nexport const ProteinBackboneType = 1;\nexport const RnaBackboneType = 2;\nexport const DnaBackboneType = 3;\nexport const CgProteinBackboneType = 4;\nexport const CgRnaBackboneType = 5;\nexport const CgDnaBackboneType = 6;\n// chemical component types\nexport const ChemCompProtein = [\n    'D-BETA-PEPTIDE, C-GAMMA LINKING', 'D-GAMMA-PEPTIDE, C-DELTA LINKING',\n    'D-PEPTIDE COOH CARBOXY TERMINUS', 'D-PEPTIDE NH3 AMINO TERMINUS', 'D-PEPTIDE LINKING',\n    'L-BETA-PEPTIDE, C-GAMMA LINKING', 'L-GAMMA-PEPTIDE, C-DELTA LINKING',\n    'L-PEPTIDE COOH CARBOXY TERMINUS', 'L-PEPTIDE NH3 AMINO TERMINUS', 'L-PEPTIDE LINKING',\n    'PEPTIDE LINKING', 'PEPTIDE-LIKE'\n];\nexport const ChemCompRna = [\n    'RNA OH 3 PRIME TERMINUS', 'RNA OH 5 PRIME TERMINUS', 'RNA LINKING'\n];\nexport const ChemCompDna = [\n    'DNA OH 3 PRIME TERMINUS', 'DNA OH 5 PRIME TERMINUS', 'DNA LINKING',\n    'L-DNA LINKING', 'L-RNA LINKING'\n];\nexport const ChemCompSaccharide = [\n    'D-SACCHARIDE', 'D-SACCHARIDE 1,4 AND 1,4 LINKING', 'D-SACCHARIDE 1,4 AND 1,6 LINKING',\n    'L-SACCHARIDE', 'L-SACCHARIDE 1,4 AND 1,4 LINKING', 'L-SACCHARIDE 1,4 AND 1,6 LINKING',\n    'SACCHARIDE'\n];\nexport const ChemCompOther = [\n    'OTHER'\n];\nexport const ChemCompNonPolymer = [\n    'NON-POLYMER'\n];\nexport const ChemCompHetero = ChemCompNonPolymer.concat(ChemCompOther, ChemCompSaccharide);\n// secondary structure\nexport const SecStrucHelix = ['h', 'g', 'i'];\nexport const SecStrucSheet = ['e', 'b'];\nexport const SecStrucTurn = ['s', 't', 'l', ''];\nexport const AtomicNumbers = {\n    'H': 1, 'D': 1, 'T': 1, 'HE': 2, 'LI': 3, 'BE': 4, 'B': 5, 'C': 6, 'N': 7, 'O': 8, 'F': 9, 'NE': 10, 'NA': 11, 'MG': 12, 'AL': 13, 'SI': 14, 'P': 15, 'S': 16, 'CL': 17, 'AR': 18, 'K': 19, 'CA': 20, 'SC': 21, 'TI': 22, 'V': 23, 'CR': 24, 'MN': 25, 'FE': 26, 'CO': 27, 'NI': 28, 'CU': 29, 'ZN': 30, 'GA': 31, 'GE': 32, 'AS': 33, 'SE': 34, 'BR': 35, 'KR': 36, 'RB': 37, 'SR': 38, 'Y': 39, 'ZR': 40, 'NB': 41, 'MO': 42, 'TC': 43, 'RU': 44, 'RH': 45, 'PD': 46, 'AG': 47, 'CD': 48, 'IN': 49, 'SN': 50, 'SB': 51, 'TE': 52, 'I': 53, 'XE': 54, 'CS': 55, 'BA': 56, 'LA': 57, 'CE': 58, 'PR': 59, 'ND': 60, 'PM': 61, 'SM': 62, 'EU': 63, 'GD': 64, 'TB': 65, 'DY': 66, 'HO': 67, 'ER': 68, 'TM': 69, 'YB': 70, 'LU': 71, 'HF': 72, 'TA': 73, 'W': 74, 'RE': 75, 'OS': 76, 'IR': 77, 'PT': 78, 'AU': 79, 'HG': 80, 'TL': 81, 'PB': 82, 'BI': 83, 'PO': 84, 'AT': 85, 'RN': 86, 'FR': 87, 'RA': 88, 'AC': 89, 'TH': 90, 'PA': 91, 'U': 92, 'NP': 93, 'PU': 94, 'AM': 95, 'CM': 96, 'BK': 97, 'CF': 98, 'ES': 99, 'FM': 100, 'MD': 101, 'NO': 102, 'LR': 103, 'RF': 104, 'DB': 105, 'SG': 106, 'BH': 107, 'HS': 108, 'MT': 109, 'DS': 110, 'RG': 111, 'CN': 112, 'NH': 113, 'FL': 114, 'MC': 115, 'LV': 116, 'TS': 117, 'OG': 118\n};\nexport const DefaultAtomicNumber = 0;\n// https://doi.org/10.1515/pac-2015-0305 (table 2, 3, and 4)\nexport const AtomWeights = {\n    1: 1.008, 2: 4.0026, 3: 6.94, 4: 9.0122, 5: 10.81, 6: 10.81, 7: 14.007, 8: 15.999, 9: 18.998, 10: 20.180, 11: 22.990, 12: 24.305, 13: 26.982, 14: 28.085, 15: 30.974, 16: 32.06, 17: 35.45, 18: 39.948, 19: 39.098, 20: 40.078, 21: 44.956, 22: 47.867, 23: 50.942, 24: 51.996, 25: 54.938, 26: 55.845, 27: 58.933, 28: 58.693, 29: 63.546, 30: 65.38, 31: 69.723, 32: 72.630, 33: 74.922, 34: 78.971, 35: 79.904, 36: 83.798, 37: 85.468, 38: 87.62, 39: 88.906, 40: 91.224, 41: 92.906, 42: 95.95, 43: 96.906, 44: 101.07, 45: 102.91, 46: 106.42, 47: 107.87, 48: 112.41, 49: 114.82, 50: 118.71, 51: 121.76, 52: 127.60, 53: 127.60, 54: 131.29, 55: 132.91, 56: 137.33, 57: 138.91, 58: 140.12, 59: 140.91, 60: 144.24, 61: 144.912, 62: 150.36, 63: 151.96, 64: 157.25, 65: 158.93, 66: 162.50, 67: 164.93, 68: 167.26, 69: 168.93, 70: 173.05, 71: 174.97, 72: 178.49, 73: 180.95, 74: 183.84, 75: 186.21, 76: 190.23, 77: 192.22, 78: 195.08, 79: 196.97, 80: 200.59, 81: 204.38, 82: 207.2, 83: 208.98, 84: 1.97, 85: 2.02, 86: 2.2, 87: 3.48, 88: 2.83, 89: 2.0, 90: 232.04, 91: 231.04, 92: 238.03, 93: 237.048, 94: 244.064, 95: 243.061, 96: 247.070, 97: 247.070, 98: 251.079, 99: 252.083, 100: 257.095, 101: 258.098, 102: 259.101, 103: 262.110, 104: 267.122, 105: 270.131, 106: 271.134, 107: 270.133, 108: 270.134, 109: 278.156, 110: 281.165, 111: 281.166, 112: 285.177, 113: 286.182, 114: 289.190, 115: 289.194, 116: 293.204, 117: 293.208, 118: 294.214\n};\nexport const DefaultAtomWeight = 10.81; // C\n// http://dx.doi.org/10.1021/jp8111556 (or 2.0)\nexport const VdwRadii = {\n    1: 1.1, 2: 1.4, 3: 1.81, 4: 1.53, 5: 1.92, 6: 1.7, 7: 1.55, 8: 1.52, 9: 1.47, 10: 1.54, 11: 2.27, 12: 1.73, 13: 1.84, 14: 2.1, 15: 1.8, 16: 1.8, 17: 1.75, 18: 1.88, 19: 2.75, 20: 2.31, 21: 2.3, 22: 2.15, 23: 2.05, 24: 2.05, 25: 2.05, 26: 2.05, 27: 2.0, 28: 2.0, 29: 2.0, 30: 2.1, 31: 1.87, 32: 2.11, 33: 1.85, 34: 1.9, 35: 1.83, 36: 2.02, 37: 3.03, 38: 2.49, 39: 2.4, 40: 2.3, 41: 2.15, 42: 2.1, 43: 2.05, 44: 2.05, 45: 2.0, 46: 2.05, 47: 2.1, 48: 2.2, 49: 2.2, 50: 1.93, 51: 2.17, 52: 2.06, 53: 1.98, 54: 2.16, 55: 3.43, 56: 2.68, 57: 2.5, 58: 2.48, 59: 2.47, 60: 2.45, 61: 2.43, 62: 2.42, 63: 2.4, 64: 2.38, 65: 2.37, 66: 2.35, 67: 2.33, 68: 2.32, 69: 2.3, 70: 2.28, 71: 2.27, 72: 2.25, 73: 2.2, 74: 2.1, 75: 2.05, 76: 2.0, 77: 2.0, 78: 2.05, 79: 2.1, 80: 2.05, 81: 1.96, 82: 2.02, 83: 2.07, 84: 1.97, 85: 2.02, 86: 2.2, 87: 3.48, 88: 2.83, 89: 2.0, 90: 2.4, 91: 2.0, 92: 2.3, 93: 2.0, 94: 2.0, 95: 2.0, 96: 2.0, 97: 2.0, 98: 2.0, 99: 2.0, 100: 2.0, 101: 2.0, 102: 2.0, 103: 2.0, 104: 2.0, 105: 2.0, 106: 2.0, 107: 2.0, 108: 2.0, 109: 2.0, 110: 2.0, 111: 2.0, 112: 2.0, 113: 2.0, 114: 2.0, 115: 2.0, 116: 2.0, 117: 2.0, 118: 2.0\n};\nexport const DefaultVdwRadius = 2.0; // C\n// Peter Rose (peter.rose@rcsb.org), private communication, average accross PDB\nexport const ResidueRadii = {\n    '2QY': 6.58,\n    'CY0': 11.98,\n    '2QZ': 2.52,\n    'CY1': 6.59,\n    'HHK': 5.11,\n    'CXM': 4.69,\n    'HHI': 4.58,\n    'CY4': 4.57,\n    'S12': 18.57,\n    'CY3': 2.79,\n    'C5C': 5.35,\n    'PFX': 11.84,\n    '2R3': 6.94,\n    '2R1': 3.78,\n    'ILX': 4.99,\n    '32S': 5.68,\n    'BTK': 8.59,\n    '32T': 5.72,\n    'FAK': 9.8,\n    'B27': 2.78,\n    'ILM': 3.84,\n    'C4R': 5.63,\n    '32L': 6.75,\n    'SYS': 3.01,\n    '1MH': 5.04,\n    'ILE': 3.65,\n    'YNM': 6.39,\n    '2RX': 4.91,\n    'B3A': 2.48,\n    'GEE': 4.76,\n    '7MN': 7.34,\n    'B3E': 5.4,\n    'ARG': 6.33,\n    '200': 6.89,\n    'HIP': 5.47,\n    'HIA': 4.64,\n    'B3K': 5.89,\n    'HIC': 5.76,\n    'B3L': 4.96,\n    'B3M': 5.07,\n    'ARM': 6.86,\n    'ARO': 7.35,\n    'AR4': 8.42,\n    'PG1': 10.67,\n    'YOF': 6.44,\n    'IML': 3.74,\n    'SXE': 6.65,\n    'HIQ': 7.98,\n    'PFF': 6.31,\n    'HIS': 4.52,\n    '0TD': 3.62,\n    'C3Y': 5.24,\n    '1OP': 11.55,\n    '02Y': 4.77,\n    '02V': 4.83,\n    'ASB': 5.59,\n    '30V': 8.53,\n    'S2P': 4.81,\n    'ASP': 3.55,\n    'ASN': 3.54,\n    '2OR': 6.91,\n    'QMM': 6.13,\n    '2P0': 8.52,\n    'ASL': 5.36,\n    'HFA': 5.14,\n    '5PG': 5.69,\n    'B3X': 4.38,\n    'AS9': 4.1,\n    'ARV': 7.59,\n    'B3U': 6.06,\n    'S2C': 7.54,\n    'B3T': 3.34,\n    '175': 5.64,\n    'GFT': 8.18,\n    'HG7': 6.8,\n    'B3Q': 4.48,\n    'ASA': 3.64,\n    '02K': 2.94,\n    'B3Y': 7.45,\n    'PHD': 5.35,\n    'C6C': 6.42,\n    'BUC': 5.8,\n    'HGL': 8.07,\n    'PHE': 5.06,\n    '03Y': 2.6,\n    'PHA': 5.11,\n    'OCY': 5.0,\n    '4PH': 6.79,\n    '5OH': 4.7,\n    '31Q': 10.46,\n    'BTR': 7.98,\n    '3PX': 4.7,\n    '1PA': 8.07,\n    'ASX': 3.54,\n    'IOR': 7.23,\n    '03E': 3.38,\n    'PHL': 5.17,\n    'KWS': 5.09,\n    'PHI': 7.12,\n    'NAL': 7.22,\n    'S1H': 19.21,\n    '2ML': 3.86,\n    '2MR': 7.35,\n    'GHG': 4.83,\n    'TYY': 6.54,\n    '2MT': 3.67,\n    '56A': 13.01,\n    'SVA': 5.46,\n    'TYX': 8.31,\n    'TYS': 8.59,\n    'TYR': 6.38,\n    'TYQ': 6.43,\n    'HLU': 3.99,\n    'MYK': 19.47,\n    'TYO': 7.71,\n    'HLX': 4.98,\n    'TYN': 9.87,\n    'TYJ': 6.25,\n    'TYI': 6.49,\n    'LYH': 5.13,\n    'LYF': 12.19,\n    'SUN': 6.73,\n    'LYR': 18.28,\n    'TYB': 6.46,\n    '11W': 14.39,\n    'LYS': 5.54,\n    'LYN': 4.8,\n    '11Q': 4.85,\n    'LYO': 4.71,\n    'LYZ': 1.76,\n    'TXY': 6.44,\n    'MYN': 4.71,\n    'TY5': 10.6,\n    'HMR': 5.09,\n    '01W': 8.55,\n    'LYX': 13.36,\n    'TY8': 7.22,\n    'TY2': 6.49,\n    'KYN': 6.18,\n    'KYQ': 9.75,\n    'CZZ': 5.14,\n    'IIL': 3.81,\n    'HNC': 10.41,\n    'OIC': 4.62,\n    'LVN': 2.89,\n    'QIL': 3.84,\n    'JJL': 8.3,\n    'VAH': 3.88,\n    'JJJ': 7.5,\n    'JJK': 7.43,\n    'VAD': 2.56,\n    'CYW': 4.65,\n    '0QL': 5.72,\n    '143': 8.22,\n    'SVX': 7.04,\n    'CYJ': 11.64,\n    'SVY': 7.1,\n    'SVZ': 6.6,\n    'CYG': 8.03,\n    'CYF': 13.54,\n    'SVV': 5.09,\n    'GL3': 2.72,\n    '8SP': 14.26,\n    'CYS': 2.78,\n    '004': 4.33,\n    'CYR': 10.33,\n    'PLJ': 3.71,\n    'EXY': 7.37,\n    'HL2': 3.75,\n    'A5N': 5.21,\n    'CYQ': 5.67,\n    'CZ2': 5.16,\n    'LWY': 4.12,\n    'PM3': 8.78,\n    'OHS': 6.98,\n    'OHI': 5.35,\n    '3TY': 8.42,\n    'CYD': 8.55,\n    'DYS': 7.87,\n    'DAH': 6.47,\n    '4IK': 11.81,\n    '3EG': 3.66,\n    'AYA': 3.65,\n    '4IN': 6.31,\n    'DAB': 3.48,\n    '4HT': 6.03,\n    'RGL': 7.03,\n    'DAM': 2.49,\n    'NFA': 5.04,\n    'WFP': 6.07,\n    '2JC': 2.97,\n    'HAR': 7.55,\n    '2JG': 5.67,\n    'MH6': 1.72,\n    '2JF': 9.13,\n    '3FG': 4.96,\n    'MGN': 4.84,\n    'AZH': 5.36,\n    'AZK': 6.03,\n    'ZBZ': 7.79,\n    'TBG': 2.58,\n    'VAL': 2.51,\n    'MGG': 7.34,\n    'AZS': 5.61,\n    'FHL': 9.75,\n    '2JH': 4.56,\n    'IEL': 7.07,\n    'FHO': 6.75,\n    'DA2': 7.79,\n    'FH7': 6.99,\n    'ME0': 4.52,\n    '3GL': 4.84,\n    'MDO': 5.03,\n    'AZY': 7.37,\n    'A8E': 3.76,\n    'ZCL': 6.71,\n    'MDH': 2.58,\n    'LA2': 14.07,\n    '4FW': 6.1,\n    'YCM': 5.32,\n    'MDF': 4.95,\n    'YCP': 3.01,\n    'TEF': 8.63,\n    'FGP': 4.34,\n    'UF0': 19.72,\n    'XCN': 4.57,\n    'FGL': 2.56,\n    'MF3': 6.37,\n    'MEQ': 5.13,\n    'LAA': 3.23,\n    'IGL': 5.52,\n    'MET': 4.49,\n    'NIY': 6.81,\n    'QCS': 5.18,\n    'TCQ': 8.56,\n    'MEN': 4.33,\n    '4HL': 8.79,\n    'MEA': 4.95,\n    'EFC': 5.28,\n    'LAL': 2.41,\n    '2HF': 5.52,\n    'KBE': 5.64,\n    'OCS': 3.94,\n    'CAF': 5.46,\n    'NC1': 11.4,\n    'NBQ': 9.82,\n    'CAB': 4.19,\n    'MBQ': 9.55,\n    '193': 7.38,\n    '192': 2.44,\n    '0WZ': 7.61,\n    'CAS': 5.35,\n    'NB8': 11.98,\n    'OBS': 11.71,\n    '1AC': 2.42,\n    'PCA': 3.48,\n    'MCL': 9.73,\n    'LBY': 7.75,\n    'GAU': 4.67,\n    'PBF': 9.75,\n    'MCG': 6.46,\n    'DDE': 6.86,\n    '19W': 3.94,\n    'MD5': 9.33,\n    'MD6': 6.44,\n    'MD3': 8.41,\n    'MCS': 7.56,\n    'OBF': 3.64,\n    'UAL': 4.68,\n    'PAT': 6.05,\n    'IAM': 8.88,\n    'PAQ': 8.77,\n    'FDL': 9.49,\n    'NCB': 3.45,\n    'LCK': 9.81,\n    'DDZ': 2.52,\n    '2FM': 5.54,\n    'IAR': 6.77,\n    'OAS': 4.8,\n    'HBN': 8.8,\n    'TA4': 5.55,\n    '1C3': 7.43,\n    'ECX': 5.51,\n    'PF5': 6.28,\n    'RE3': 5.29,\n    'FCL': 6.25,\n    'ECC': 4.79,\n    'LDH': 7.06,\n    'NCY': 2.91,\n    'CCS': 4.58,\n    'PEC': 6.54,\n    '2CO': 4.45,\n    'LE1': 2.72,\n    'HCM': 5.53,\n    '07O': 8.05,\n    'HCL': 4.96,\n    'NEP': 6.94,\n    'PE1': 8.01,\n    'LEF': 4.37,\n    'FC0': 5.18,\n    'LED': 4.34,\n    'HCS': 4.09,\n    'DBU': 2.49,\n    'RE0': 5.53,\n    'LEN': 3.82,\n    '1E3': 8.71,\n    'BB9': 2.56,\n    'BB8': 5.14,\n    'PCS': 5.05,\n    'BB7': 4.56,\n    'BB6': 2.62,\n    'LEU': 3.83,\n    'DBZ': 7.08,\n    'LET': 11.29,\n    'DBY': 6.46,\n    'ICY': 7.76,\n    'MAA': 2.4,\n    'CGA': 7.91,\n    '5CS': 8.34,\n    'UGY': 3.7,\n    'LGY': 11.71,\n    'N10': 8.96,\n    'AAR': 6.39,\n    'FT6': 7.5,\n    'MOD': 12.62,\n    '5CW': 7.21,\n    'PVH': 4.58,\n    'BBC': 6.42,\n    'YYA': 7.3,\n    'O12': 14.08,\n    'NOT': 7.15,\n    'KGC': 9.88,\n    'MP4': 5.86,\n    '0CS': 4.07,\n    'MP8': 3.75,\n    'VLL': 2.54,\n    'VLM': 2.51,\n    'BCS': 8.03,\n    'MNL': 4.9,\n    'AA4': 4.47,\n    'SAC': 3.49,\n    'BCX': 2.99,\n    '3CF': 6.47,\n    'SAH': 11.7,\n    'NNH': 6.86,\n    'CGU': 4.71,\n    'SIB': 12.41,\n    'TLY': 8.78,\n    'SIC': 4.81,\n    'VMS': 8.82,\n    'TMD': 6.76,\n    'MMO': 6.53,\n    'PXU': 2.46,\n    '4AW': 6.22,\n    'OTH': 3.6,\n    'DLS': 6.84,\n    'MME': 4.99,\n    'DM0': 6.99,\n    '0FL': 2.76,\n    'SBL': 8.96,\n    'CDV': 3.72,\n    'OTY': 6.51,\n    'PYA': 7.75,\n    '2AS': 3.57,\n    'DMH': 4.92,\n    'ELY': 7.42,\n    'GVL': 9.6,\n    'FVA': 2.9,\n    'SAR': 2.48,\n    '4BF': 6.92,\n    'EME': 4.69,\n    'CDE': 2.51,\n    '3AR': 7.86,\n    '3AH': 9.11,\n    'AC5': 2.44,\n    'FTR': 6.08,\n    'MLL': 3.76,\n    'NPH': 11.66,\n    'NPI': 6.9,\n    'DMT': 6.67,\n    'PYX': 11.3,\n    'MLE': 3.87,\n    'PYL': 9.67,\n    'ZZU': 6.94,\n    'H5M': 3.61,\n    'SCH': 4.46,\n    'DMK': 3.52,\n    'FTY': 9.07,\n    '2AG': 3.7,\n    'ABA': 2.55,\n    'ZZJ': 2.44,\n    'MLZ': 6.8,\n    'MLY': 6.88,\n    'KCX': 7.28,\n    'ZZD': 8.16,\n    '3A5': 5.37,\n    'LHC': 7.75,\n    '9AT': 2.47,\n    'OZT': 3.4,\n    'THO': 2.62,\n    'THR': 2.5,\n    'DFI': 3.93,\n    'MKD': 6.42,\n    '4CY': 4.6,\n    'SDP': 6.07,\n    'DFO': 3.94,\n    '0A0': 3.45,\n    '4DB': 9.73,\n    'ML3': 6.26,\n    'BG1': 8.02,\n    'SD4': 4.57,\n    'THC': 3.8,\n    'SCS': 5.48,\n    'TH5': 4.65,\n    'BFD': 5.33,\n    'AEI': 6.34,\n    'TH6': 2.85,\n    'SCY': 4.53,\n    'TIS': 4.81,\n    'SEE': 4.53,\n    'BHD': 3.48,\n    'SEB': 8.18,\n    'SEC': 2.96,\n    'SEP': 4.8,\n    'CLH': 7.13,\n    'TIH': 5.02,\n    'CLG': 13.62,\n    'SEN': 6.43,\n    'XXA': 7.34,\n    'SEL': 2.46,\n    'SE7': 4.19,\n    '4CF': 7.72,\n    'G8M': 3.57,\n    'BH2': 3.51,\n    'UN2': 3.22,\n    'VR0': 10.51,\n    'MK8': 4.76,\n    'DHA': 2.32,\n    'LMQ': 4.69,\n    'SFE': 5.01,\n    'AHB': 3.47,\n    'OXX': 7.05,\n    'BIF': 9.63,\n    'IZO': 4.47,\n    'NMM': 8.25,\n    '0BN': 7.0,\n    'HZP': 3.12,\n    'NMC': 4.23,\n    'DHL': 2.69,\n    '9DS': 9.29,\n    'SER': 2.41,\n    'CHG': 4.2,\n    'MIR': 6.54,\n    'AGQ': 7.79,\n    'SET': 2.46,\n    'MIS': 6.32,\n    '4FB': 3.08,\n    '0AR': 8.46,\n    'LME': 3.99,\n    'FZN': 24.42,\n    'AGT': 9.04,\n    'IYR': 6.46,\n    '9DN': 9.31,\n    'CHP': 5.75,\n    'UNK': 1.64,\n    'XX1': 9.92,\n    'AGM': 6.57,\n    '0AH': 5.78,\n    'LLP': 10.22,\n    '0AF': 6.72,\n    '4DP': 9.28,\n    'HYP': 2.25,\n    'DIR': 5.8,\n    'LLY': 8.71,\n    '0AK': 6.11,\n    'NLE': 4.67,\n    'OYL': 6.42,\n    'WVL': 4.69,\n    '0A8': 8.1,\n    'NLY': 6.37,\n    'MHO': 4.89,\n    'VOL': 2.55,\n    '0A1': 7.1,\n    'MHL': 3.92,\n    'NLP': 4.81,\n    'NLQ': 4.65,\n    'MHW': 2.74,\n    'BIL': 4.7,\n    'NLO': 4.8,\n    'MHU': 7.51,\n    'XW1': 9.36,\n    'LLO': 10.13,\n    'SGB': 6.88,\n    'MHV': 3.6,\n    'MHS': 4.51,\n    '0A9': 5.17,\n    '0LF': 9.96,\n    'HT7': 6.82,\n    'X2W': 6.6,\n    'YPZ': 9.38,\n    'I58': 6.73,\n    'FLA': 2.4,\n    'M0H': 4.83,\n    'HSL': 2.46,\n    'FLE': 6.17,\n    'KOR': 10.1,\n    '1VR': 3.89,\n    'HSO': 4.56,\n    'TTS': 9.41,\n    'RVX': 7.01,\n    'TTQ': 7.71,\n    'H14': 5.27,\n    'HTI': 7.8,\n    'ONH': 6.14,\n    'LP6': 8.58,\n    'ONL': 4.83,\n    'AHH': 5.06,\n    'HS8': 7.4,\n    'HS9': 4.71,\n    'BL2': 5.82,\n    'AHP': 5.26,\n    '6HN': 7.34,\n    'HRP': 5.46,\n    'POM': 3.6,\n    'WPA': 5.11,\n    '2ZC': 4.29,\n    'CPC': 2.65,\n    'AIB': 2.4,\n    'XSN': 3.47,\n    'M2S': 5.28,\n    'GND': 6.67,\n    'GNC': 4.6,\n    'MVA': 2.56,\n    'OLZ': 5.32,\n    'M2L': 6.15,\n    'TRF': 6.69,\n    'NZH': 7.66,\n    'SRZ': 5.27,\n    'OLD': 10.47,\n    'CME': 5.86,\n    'CMH': 5.3,\n    'ALA': 2.38,\n    'TRQ': 7.36,\n    'PPN': 7.24,\n    'TRP': 6.07,\n    'TRO': 5.82,\n    'TRN': 5.95,\n    'NYS': 8.1,\n    'ALC': 5.26,\n    'U3X': 11.7,\n    'HVA': 2.58,\n    'TS9': 3.92,\n    'TRX': 7.27,\n    'TRW': 11.8,\n    'LPL': 7.51,\n    'GMA': 4.4,\n    'OMT': 5.07,\n    'CMT': 3.54,\n    'GME': 4.66,\n    'NYB': 6.07,\n    'PR3': 5.12,\n    'LPD': 2.48,\n    'GLU': 4.49,\n    '1X6': 6.84,\n    'LPG': 2.39,\n    'GLX': 4.52,\n    'PR4': 4.52,\n    'CML': 6.16,\n    'FME': 4.52,\n    'HTR': 6.48,\n    'PR7': 4.66,\n    'Z3E': 7.2,\n    'GLZ': 2.39,\n    'BMT': 6.37,\n    'WRP': 8.16,\n    'GLY': 2.37,\n    'OMY': 6.11,\n    'MTY': 5.46,\n    'OMX': 6.15,\n    'GLN': 4.46,\n    '2XA': 8.25,\n    '28X': 7.84,\n    '7JA': 9.46,\n    'FLT': 9.65,\n    'GLJ': 3.7,\n    'OMH': 5.26,\n    'TSY': 4.26,\n    'PRV': 4.28,\n    'CS4': 11.21,\n    'DOA': 12.33,\n    '23P': 5.42,\n    'CS3': 8.24,\n    '6CL': 6.47,\n    'PRR': 5.58,\n    'KST': 11.58,\n    'CS1': 7.23,\n    'PRS': 2.63,\n    'ZYJ': 11.4,\n    'IT1': 9.75,\n    'UU5': 4.98,\n    'ESB': 6.69,\n    'UU4': 2.49,\n    'ESC': 5.65,\n    'LSO': 10.58,\n    'ZYK': 11.45,\n    '9NV': 8.99,\n    '23F': 5.27,\n    'ORN': 4.25,\n    'HOX': 6.61,\n    'CSD': 3.95,\n    'FP9': 3.03,\n    'DO2': 4.44,\n    'SLL': 11.53,\n    'P3Q': 9.54,\n    'ORQ': 6.04,\n    'MSL': 5.21,\n    'DNP': 2.45,\n    'CSB': 3.51,\n    'WLU': 4.24,\n    'CSA': 5.7,\n    'MT2': 5.51,\n    'CSO': 3.53,\n    'TPO': 4.73,\n    'MSP': 13.11,\n    '23S': 6.09,\n    'MSO': 4.96,\n    'PRO': 2.41,\n    'TPL': 5.41,\n    'DNS': 8.79,\n    'CSK': 3.91,\n    'Z70': 7.4,\n    'CSJ': 7.51,\n    'DNW': 7.97,\n    'PRK': 9.15,\n    'GSU': 11.81,\n    'LTA': 6.57,\n    'HPE': 6.63,\n    'TPQ': 6.48,\n    'PRJ': 5.26,\n    'PSW': 4.65,\n    'L3O': 3.89,\n    'CSU': 4.89,\n    'ALY': 7.38,\n    'M3L': 7.12,\n    'CSW': 3.68,\n    'XPR': 7.68,\n    'D4P': 5.66,\n    'FOE': 8.17,\n    'SLZ': 5.69,\n    'CSP': 5.26,\n    'TQI': 7.68,\n    'ALT': 2.72,\n    'CSR': 5.42,\n    'CSS': 3.61,\n    'M3R': 7.18,\n    'ALO': 2.57,\n    'R4K': 4.67,\n    'SMF': 9.0,\n    'MSA': 2.73,\n    'SMC': 3.39,\n    'CSX': 3.47,\n    'SME': 4.8,\n    'ETA': 2.4,\n    'CSZ': 3.6,\n    '22G': 8.8,\n    'MSE': 4.62,\n    'ALN': 6.16,\n    'PSH': 7.26,\n    'CTE': 7.27,\n    'DON': 6.72,\n    'CTH': 3.45,\n    'U2X': 11.54,\n    '6CW': 7.56,\n    'TQZ': 6.97,\n    '3YM': 6.52,\n    'OSE': 4.49,\n    '2VA': 9.82,\n    'TQQ': 7.76,\n    'NRG': 8.35,\n    'BPE': 7.24,\n    'F2F': 6.25,\n    '1TQ': 8.58,\n    'I2M': 3.13,\n    'NVA': 3.76,\n    'R1A': 8.2,\n    'QPA': 6.95,\n    'C1X': 11.63,\n    'FRD': 5.05,\n    'HR7': 6.98,\n    'SNC': 3.93,\n    'QPH': 5.15,\n    '26B': 8.39,\n    'DPQ': 6.54,\n    'DPP': 2.51,\n    '2TY': 8.65,\n    'TNR': 6.88,\n    'PTH': 8.35,\n    'DPL': 3.58,\n    'APK': 8.79,\n    '1TY': 8.84,\n    'HRG': 7.36,\n    'PTM': 8.74,\n    '1U8': 3.62,\n    'PTR': 8.64,\n    'LVG': 3.01,\n    '6FL': 4.85,\n    'SOC': 4.05,\n    'KPI': 9.79,\n    'IPG': 2.91,\n    'P2Y': 2.51,\n    'N2C': 3.55,\n    'T0I': 7.34,\n    'MPH': 5.29,\n    'R2T': 4.71,\n    'TOX': 6.78,\n    'P2Q': 9.8,\n    'GPL': 10.77,\n    'MPJ': 5.07,\n    'F2Y': 6.2,\n    'T11': 8.58,\n    '9NR': 9.33,\n    'FPR': 8.85,\n    '9NF': 8.93,\n    'KPY': 10.17,\n    '9NE': 9.77,\n    'TOQ': 7.5,\n    'MPQ': 4.2,\n    'FPK': 3.08,\n    'HQA': 7.25,\n    'SOY': 10.94\n};\nexport const DefaultResidueRadius = 5.0;\n// http://dx.doi.org/10.1039/b801115j (or 1.6)\nexport const CovalentRadii = {\n    1: 0.31, 2: 0.28, 3: 1.28, 4: 0.96, 5: 0.84, 6: 0.76, 7: 0.71, 8: 0.66, 9: 0.57, 10: 0.58, 11: 1.66, 12: 1.41, 13: 1.21, 14: 1.11, 15: 1.07, 16: 1.05, 17: 1.02, 18: 1.06, 19: 2.03, 20: 1.76, 21: 1.7, 22: 1.6, 23: 1.53, 24: 1.39, 25: 1.39, 26: 1.32, 27: 1.26, 28: 1.24, 29: 1.32, 30: 1.22, 31: 1.22, 32: 1.2, 33: 1.19, 34: 1.2, 35: 1.2, 36: 1.16, 37: 2.2, 38: 1.95, 39: 1.9, 40: 1.75, 41: 1.64, 42: 1.54, 43: 1.47, 44: 1.46, 45: 1.42, 46: 1.39, 47: 1.45, 48: 1.44, 49: 1.42, 50: 1.39, 51: 1.39, 52: 1.38, 53: 1.39, 54: 1.4, 55: 2.44, 56: 2.15, 57: 2.07, 58: 2.04, 59: 2.03, 60: 2.01, 61: 1.99, 62: 1.98, 63: 1.98, 64: 1.96, 65: 1.94, 66: 1.92, 67: 1.92, 68: 1.89, 69: 1.9, 70: 1.87, 71: 1.87, 72: 1.75, 73: 1.7, 74: 1.62, 75: 1.51, 76: 1.44, 77: 1.41, 78: 1.36, 79: 1.36, 80: 1.32, 81: 1.45, 82: 1.46, 83: 1.48, 84: 1.4, 85: 1.5, 86: 1.5, 87: 2.6, 88: 2.21, 89: 2.15, 90: 2.06, 91: 2.0, 92: 1.96, 93: 1.9, 94: 1.87, 95: 1.8, 96: 1.69, 97: 1.6, 98: 1.6, 99: 1.6, 100: 1.6, 101: 1.6, 102: 1.6, 103: 1.6, 104: 1.6, 105: 1.6, 106: 1.6, 107: 1.6, 108: 1.6, 109: 1.6, 110: 1.6, 111: 1.6, 112: 1.6, 113: 1.6, 114: 1.6, 115: 1.6, 116: 1.6, 117: 1.6, 118: 1.6\n};\nexport const DefaultCovalentRadius = 1.6;\nexport const Valences = {\n    1: [1],\n    2: [0],\n    3: [1],\n    4: [2],\n    5: [3],\n    6: [4],\n    7: [3],\n    8: [2],\n    9: [1],\n    10: [0],\n    11: [1],\n    12: [2],\n    13: [6],\n    14: [6],\n    15: [3, 5, 7],\n    16: [2, 4, 6],\n    17: [1],\n    18: [0],\n    19: [1],\n    20: [2],\n    31: [3],\n    32: [4],\n    33: [3, 5],\n    34: [2, 4, 6],\n    35: [1],\n    36: [0],\n    37: [1],\n    38: [2],\n    49: [3],\n    50: [4],\n    51: [3, 5],\n    52: [2],\n    53: [1, 2, 5],\n    54: [0, 2],\n    55: [1],\n    56: [2],\n    81: [3],\n    82: [4],\n    83: [3],\n    84: [2],\n    85: [1],\n    86: [0],\n    87: [1],\n    88: [2]\n};\nexport const DefaultValence = -1;\nexport const OuterShellElectronCounts = {\n    1: 1, 2: 2, 3: 1, 4: 2, 5: 3, 6: 4, 7: 5, 8: 6, 9: 7, 10: 8, 11: 1, 12: 2, 13: 3, 14: 4, 15: 5, 16: 6, 17: 7, 18: 8, 19: 1, 20: 2, 21: 3, 22: 4, 23: 5, 24: 6, 25: 7, 26: 8, 27: 9, 28: 10, 29: 11, 30: 2, 31: 3, 32: 4, 33: 5, 34: 6, 35: 7, 36: 8, 37: 1, 38: 2, 39: 3, 40: 4, 41: 5, 42: 6, 43: 7, 44: 8, 45: 9, 46: 10, 47: 11, 48: 2, 49: 3, 50: 4, 51: 5, 52: 6, 53: 7, 54: 8, 55: 1, 56: 2, 57: 3, 58: 4, 59: 3, 60: 4, 61: 5, 62: 6, 63: 7, 64: 8, 65: 9, 66: 10, 67: 11, 68: 12, 69: 13, 70: 14, 71: 15, 72: 4, 73: 5, 74: 6, 75: 7, 76: 8, 77: 9, 78: 10, 79: 11, 80: 2, 81: 3, 82: 4, 83: 5, 84: 6, 85: 7, 86: 8, 87: 1, 88: 2, 89: 3, 90: 4, 91: 3, 92: 4, 93: 5, 94: 6, 95: 7, 96: 8, 97: 9, 98: 10, 99: 11, 100: 12, 101: 13, 102: 14, 103: 15, 104: 2, 105: 2, 106: 2, 107: 2, 108: 2, 109: 2, 110: 2, 111: 2, 112: 2, 113: 3, 114: 4, 115: 5, 116: 6, 117: 7, 118: 8\n};\nexport const DefaultOuterShellElectronCount = 2;\n// http://blanco.biomol.uci.edu/Whole_residue_HFscales.txt\n// https://www.nature.com/articles/nsb1096-842\nexport const ResidueHydrophobicity = {\n    // AA  DGwif   DGwoct  Oct-IF\n    'ALA': [0.17, 0.50, 0.33],\n    'ARG': [0.81, 1.81, 1.00],\n    'ASN': [0.42, 0.85, 0.43],\n    'ASP': [1.23, 3.64, 2.41],\n    'ASH': [-0.07, 0.43, 0.50],\n    'CYS': [-0.24, -0.02, 0.22],\n    'GLN': [0.58, 0.77, 0.19],\n    'GLU': [2.02, 3.63, 1.61],\n    'GLH': [-0.01, 0.11, 0.12],\n    'GLY': [0.01, 1.15, 1.14],\n    // \"His+\": [  0.96,  2.33,  1.37 ],\n    'HIS': [0.17, 0.11, -0.06],\n    'ILE': [-0.31, -1.12, -0.81],\n    'LEU': [-0.56, -1.25, -0.69],\n    'LYS': [0.99, 2.80, 1.81],\n    'MET': [-0.23, -0.67, -0.44],\n    'PHE': [-1.13, -1.71, -0.58],\n    'PRO': [0.45, 0.14, -0.31],\n    'SER': [0.13, 0.46, 0.33],\n    'THR': [0.14, 0.25, 0.11],\n    'TRP': [-1.85, -2.09, -0.24],\n    'TYR': [-0.94, -0.71, 0.23],\n    'VAL': [0.07, -0.46, -0.53]\n};\nexport const DefaultResidueHydrophobicity = [0.00, 0.00, 0.00];\nexport const AA1 = {\n    'HIS': 'H',\n    'ARG': 'R',\n    'LYS': 'K',\n    'ILE': 'I',\n    'PHE': 'F',\n    'LEU': 'L',\n    'TRP': 'W',\n    'ALA': 'A',\n    'MET': 'M',\n    'PRO': 'P',\n    'CYS': 'C',\n    'ASN': 'N',\n    'VAL': 'V',\n    'GLY': 'G',\n    'SER': 'S',\n    'GLN': 'Q',\n    'TYR': 'Y',\n    'ASP': 'D',\n    'GLU': 'E',\n    'THR': 'T',\n    'SEC': 'U',\n    'PYL': 'O',\n};\nexport const AA3 = Object.keys(AA1);\nexport const RnaBases = ['A', 'C', 'T', 'G', 'U', 'I'];\nexport const DnaBases = ['DA', 'DC', 'DT', 'DG', 'DU', 'DI'];\nexport const PurinBases = ['A', 'G', 'I', 'DA', 'DG', 'DI'];\nexport const Bases = RnaBases.concat(DnaBases);\nexport const WaterNames = [\n    'SOL', 'WAT', 'HOH', 'H2O', 'W', 'DOD', 'D3O', 'TIP3', 'TIP4', 'SPC'\n];\n// all chemical components with the word \"ion\" in their name, Sep 2016\n//\n// SET SESSION group_concat_max_len = 1000000;\n// SELECT GROUP_CONCAT(id_ ORDER BY id_ ASC SEPARATOR '\", \"') from\n// (\n//     SELECT count(obj_id) as c, id_\n//     FROM pdb.chem_comp WHERE name LIKE \"% ION%\"\n//     GROUP BY id_\n// ) AS t1;\nexport const IonNames = [\n    '118', '119', '1AL', '1CU', '2FK', '2HP', '2OF', '3CO',\n    '3MT', '3NI', '3OF', '3P8', '4MO', '4PU', '543', '6MO', 'ACT', 'AG', 'AL',\n    'ALF', 'AM', 'ATH', 'AU', 'AU3', 'AUC', 'AZI', 'BA', 'BCT', 'BEF', 'BF4', 'BO4',\n    'BR', 'BS3', 'BSY', 'CA', 'CAC', 'CD', 'CD1', 'CD3', 'CD5', 'CE', 'CHT', 'CL',\n    'CO', 'CO3', 'CO5', 'CON', 'CR', 'CS', 'CSB', 'CU', 'CU1', 'CU3', 'CUA', 'CUZ',\n    'CYN', 'DME', 'DMI', 'DSC', 'DTI', 'DY', 'E4N', 'EDR', 'EMC', 'ER3', 'EU',\n    'EU3', 'F', 'FE', 'FE2', 'FPO', 'GA', 'GD3', 'GEP', 'HAI', 'HG', 'HGC', 'IN',\n    'IOD', 'IR', 'IR3', 'IRI', 'IUM', 'K', 'KO4', 'LA', 'LCO', 'LCP', 'LI', 'LU',\n    'MAC', 'MG', 'MH2', 'MH3', 'MLI', 'MLT', 'MMC', 'MN', 'MN3', 'MN5', 'MN6',\n    'MO1', 'MO2', 'MO3', 'MO4', 'MO5', 'MO6', 'MOO', 'MOS', 'MOW', 'MW1', 'MW2',\n    'MW3', 'NA', 'NA2', 'NA5', 'NA6', 'NAO', 'NAW', 'NCO', 'NET', 'NH4', 'NI',\n    'NI1', 'NI2', 'NI3', 'NO2', 'NO3', 'NRU', 'O4M', 'OAA', 'OC1', 'OC2', 'OC3',\n    'OC4', 'OC5', 'OC6', 'OC7', 'OC8', 'OCL', 'OCM', 'OCN', 'OCO', 'OF1', 'OF2',\n    'OF3', 'OH', 'OS', 'OS4', 'OXL', 'PB', 'PBM', 'PD', 'PDV', 'PER', 'PI', 'PO3',\n    'PO4', 'PR', 'PT', 'PT4', 'PTN', 'RB', 'RH3', 'RHD', 'RU', 'SB', 'SCN', 'SE4',\n    'SEK', 'SM', 'SMO', 'SO3', 'SO4', 'SR', 'T1A', 'TB', 'TBA', 'TCN', 'TEA', 'TH',\n    'THE', 'TL', 'TMA', 'TRA', 'UNX', 'V', 'VN3', 'VO4', 'W', 'WO5', 'Y1', 'YB',\n    'YB2', 'YH', 'YT3', 'ZCM', 'ZN', 'ZN2', 'ZN3', 'ZNO', 'ZO3',\n    // additional ion names\n    'OHX'\n];\n// all chemical components with the word \"%saccharide%\" in their type, Sep 2016\n//\n// SET SESSION group_concat_max_len = 1000000;\n// select GROUP_CONCAT(id_ ORDER BY id_ ASC SEPARATOR '\", \"') from\n// (\n//     SELECT count(obj_id), id_\n//     FROM pdb.chem_comp WHERE type like \"%SACCHARIDE%\"\n//     GROUP BY id_\n// ) AS t1;\nexport const SaccharideNames = [\n    '045', '0AT', '0BD', '0MK', '0NZ', '0TS', '0V4', '0XY', '0YT', '10M',\n    '147', '149', '14T', '15L', '16G', '18T', '18Y', '1AR', '1BW', '1GL', '1GN',\n    '1JB', '1LL', '1NA', '1S3', '26M', '26Q', '26R', '26V', '26W', '26Y', '27C',\n    '289', '291', '293', '2DG', '2F8', '2FG', '2FL', '2FP', '2GL', '2M4', '2M5',\n    '32O', '34V', '3CM', '3DO', '3DY', '3FM', '3LR', '3MF', '3MG', '3SA', '3ZW',\n    '46D', '46M', '46Z', '48Z', '4CQ', '4GC', '4NN', '50A', '5DI', '5GF', '5MM',\n    '5RP', '5SA', '5SP', '64K', '6PG', '6SA', '7JZ', '7SA', 'A1Q', 'A2G', 'AAB',\n    'AAL', 'AAO', 'ABC', 'ABD', 'ABE', 'ABF', 'ABL', 'ACG', 'ACI', 'ACR', 'ACX',\n    'ADA', 'ADG', 'ADR', 'AF1', 'AFD', 'AFL', 'AFO', 'AFP', 'AFR', 'AGC', 'AGH',\n    'AGL', 'AHR', 'AIG', 'ALL', 'ALX', 'AMU', 'AOG', 'AOS', 'ARA', 'ARB', 'ARE',\n    'ARI', 'ASG', 'ASO', 'AXP', 'AXR', 'B0D', 'B16', 'B2G', 'B4G', 'B6D', 'B8D',\n    'B9D', 'BBK', 'BCD', 'BDG', 'BDP', 'BDR', 'BEM', 'BFP', 'BGC', 'BGL', 'BGP',\n    'BGS', 'BHG', 'BMA', 'BMX', 'BNG', 'BNX', 'BOG', 'BRI', 'BXF', 'BXP', 'BXX',\n    'BXY', 'C3X', 'C4X', 'C5X', 'CAP', 'CBI', 'CBK', 'CBS', 'CDR', 'CEG', 'CGF',\n    'CHO', 'CR1', 'CR6', 'CRA', 'CT3', 'CTO', 'CTR', 'CTT', 'D6G', 'DAF', 'DAG',\n    'DDA', 'DDB', 'DDL', 'DEL', 'DFR', 'DFX', 'DG0', 'DGC', 'DGD', 'DGM', 'DGS',\n    'DIG', 'DLF', 'DLG', 'DMU', 'DNO', 'DOM', 'DP5', 'DQQ', 'DQR', 'DR2', 'DR3',\n    'DR4', 'DRI', 'DSR', 'DT6', 'DVC', 'E4P', 'E5G', 'EAG', 'EBG', 'EBQ', 'EGA',\n    'EJT', 'EPG', 'ERE', 'ERI', 'F1P', 'F1X', 'F6P', 'FBP', 'FCA', 'FCB', 'FCT',\n    'FDP', 'FDQ', 'FFC', 'FIX', 'FMO', 'FRU', 'FSI', 'FU4', 'FUB', 'FUC', 'FUD',\n    'FUL', 'FXP', 'G16', 'G1P', 'G2F', 'G3I', 'G4D', 'G4S', 'G6D', 'G6P', 'G6S',\n    'GAC', 'GAD', 'GAL', 'GC1', 'GC4', 'GCD', 'GCN', 'GCO', 'GCS', 'GCT', 'GCU',\n    'GCV', 'GCW', 'GCX', 'GE1', 'GFG', 'GFP', 'GIV', 'GL0', 'GL2', 'GL5', 'GL6',\n    'GL7', 'GL9', 'GLA', 'GLB', 'GLC', 'GLD', 'GLF', 'GLG', 'GLO', 'GLP', 'GLS',\n    'GLT', 'GLW', 'GMH', 'GN1', 'GNX', 'GP1', 'GP4', 'GPH', 'GPM', 'GQ1', 'GQ2',\n    'GQ4', 'GS1', 'GS4', 'GSA', 'GSD', 'GTE', 'GTH', 'GTK', 'GTR', 'GTZ', 'GU0',\n    'GU1', 'GU2', 'GU3', 'GU4', 'GU5', 'GU6', 'GU8', 'GU9', 'GUF', 'GUP', 'GUZ',\n    'GYP', 'GYV', 'H2P', 'HDL', 'HMS', 'HS2', 'HSD', 'HSG', 'HSH', 'HSJ', 'HSQ',\n    'HSR', 'HSU', 'HSX', 'HSY', 'HSZ', 'IAB', 'IDG', 'IDR', 'IDS', 'IDT', 'IDU',\n    'IDX', 'IDY', 'IMK', 'IN1', 'IPT', 'ISL', 'KBG', 'KD2', 'KDA', 'KDM', 'KDO',\n    'KFN', 'KO1', 'KO2', 'KTU', 'L6S', 'LAG', 'LAI', 'LAK', 'LAO', 'LAT', 'LB2',\n    'LBT', 'LCN', 'LDY', 'LGC', 'LGU', 'LM2', 'LMT', 'LMU', 'LOG', 'LOX', 'LPK',\n    'LSM', 'LTM', 'LVZ', 'LXB', 'LXZ', 'M1F', 'M3M', 'M6P', 'M8C', 'MA1', 'MA2',\n    'MA3', 'MAB', 'MAG', 'MAL', 'MAN', 'MAT', 'MAV', 'MAW', 'MBG', 'MCU', 'MDA',\n    'MDM', 'MDP', 'MFA', 'MFB', 'MFU', 'MG5', 'MGA', 'MGL', 'MLB', 'MMA', 'MMN',\n    'MN0', 'MRP', 'MTT', 'MUG', 'MVP', 'MXY', 'N1L', 'N9S', 'NAA', 'NAG', 'NBG',\n    'NDG', 'NED', 'NG1', 'NG6', 'NGA', 'NGB', 'NGC', 'NGE', 'NGF', 'NGL', 'NGS',\n    'NGY', 'NHF', 'NM6', 'NM9', 'NTF', 'NTO', 'NTP', 'NXD', 'NYT', 'OPG', 'OPM',\n    'ORP', 'OX2', 'P3M', 'P53', 'P6P', 'PA5', 'PNA', 'PNG', 'PNW', 'PRP', 'PSJ',\n    'PSV', 'PTQ', 'QDK', 'QPS', 'QV4', 'R1P', 'R1X', 'R2B', 'R5P', 'RAA', 'RAE',\n    'RAF', 'RAM', 'RAO', 'RAT', 'RB5', 'RBL', 'RCD', 'RDP', 'REL', 'RER', 'RF5',\n    'RG1', 'RGG', 'RHA', 'RIB', 'RIP', 'RNS', 'RNT', 'ROB', 'ROR', 'RPA', 'RST',\n    'RUB', 'RUU', 'RZM', 'S6P', 'S7P', 'SA0', 'SCR', 'SDD', 'SF6', 'SF9', 'SG4',\n    'SG5', 'SG6', 'SG7', 'SGA', 'SGC', 'SGD', 'SGN', 'SGS', 'SHB', 'SHG', 'SI3',\n    'SIO', 'SOE', 'SOL', 'SSG', 'SUC', 'SUP', 'SUS', 'T6P', 'T6T', 'TAG', 'TCB',\n    'TDG', 'TGK', 'TGY', 'TH1', 'TIA', 'TM5', 'TM6', 'TM9', 'TMR', 'TMX', 'TOA',\n    'TOC', 'TRE', 'TYV', 'UCD', 'UDC', 'VG1', 'X0X', 'X1X', 'X2F', 'X4S', 'X5S',\n    'X6X', 'XBP', 'XDN', 'XDP', 'XIF', 'XIM', 'XLF', 'XLS', 'XMM', 'XUL', 'XXR',\n    'XYP', 'XYS', 'YO5', 'Z3Q', 'Z6J', 'Z9M', 'ZDC', 'ZDM'\n];\nexport const ProteinBackboneAtoms = [\n    'CA', 'C', 'N', 'O',\n    'O1', 'O2', 'OC1', 'OC2', 'OX1', 'OXT', 'OT1', 'OT2',\n    'H', 'H1', 'H2', 'H3', 'HA', 'HN',\n    'BB'\n];\nexport const NucleicBackboneAtoms = [\n    'P', 'OP1', 'OP2', 'HOP2', 'HOP3',\n    \"O2'\", \"O3'\", \"O4'\", \"O5'\", \"C1'\", \"C2'\", \"C3'\", \"C4'\", \"C5'\",\n    \"H1'\", \"H2'\", \"H2''\", \"HO2'\", \"H3'\", \"H4'\", \"H5'\", \"H5''\", \"HO3'\", \"HO5'\",\n    'O2*', 'O3*', 'O4*', 'O5*', 'C1*', 'C2*', 'C3*', 'C4*', 'C5*'\n];\nexport const ResidueTypeAtoms = {};\nResidueTypeAtoms[ProteinBackboneType] = {\n    trace: 'CA',\n    direction1: 'C',\n    direction2: ['O', 'OC1', 'O1', 'OX1', 'OXT', 'OT1', 'OT2'],\n    backboneStart: 'N',\n    backboneEnd: 'C'\n};\nResidueTypeAtoms[RnaBackboneType] = {\n    trace: [\"C4'\", 'C4*'],\n    direction1: [\"C1'\", 'C1*'],\n    direction2: [\"C3'\", 'C3*'],\n    backboneStart: 'P',\n    backboneEnd: [\"O3'\", 'O3*']\n};\nResidueTypeAtoms[DnaBackboneType] = {\n    trace: [\"C3'\", 'C3*'],\n    direction1: [\"C2'\", 'C2*'],\n    direction2: [\"O4'\", 'O4*'],\n    backboneStart: 'P',\n    backboneEnd: [\"O3'\", 'O3*']\n};\nResidueTypeAtoms[CgProteinBackboneType] = {\n    trace: ['CA', 'BB'],\n    backboneStart: ['CA', 'BB'],\n    backboneEnd: ['CA', 'BB']\n};\nResidueTypeAtoms[CgRnaBackboneType] = {\n    trace: [\"C4'\", 'C4*', 'P'],\n    backboneStart: [\"C4'\", 'C4*', 'P'],\n    backboneEnd: [\"C4'\", 'C4*', 'P']\n};\nResidueTypeAtoms[CgDnaBackboneType] = {\n    trace: [\"C3'\", 'C3*', \"C2'\", 'P'],\n    backboneStart: [\"C3'\", 'C3*', \"C2'\", 'P'],\n    backboneEnd: [\"C3'\", 'C3*', \"C2'\", 'P']\n};\nResidueTypeAtoms[UnknownBackboneType] = {};\n//# sourceMappingURL=structure-constants.js.map","/**\n * @file Geometry\n * @author Fred Ludlow <Fred.Ludlow@astx.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { Vector3 } from 'three';\nimport { degToRad } from '../math/math-utils';\nexport function assignGeometry(totalCoordination) {\n    switch (totalCoordination) {\n        case 0:\n            return 0 /* Spherical */;\n        case 1:\n            return 1 /* Terminal */;\n        case 2:\n            return 2 /* Linear */;\n        case 3:\n            return 3 /* Trigonal */;\n        case 4:\n            return 4 /* Tetrahedral */;\n        default:\n            return 8 /* Unknown */;\n    }\n}\nexport const Angles = new Map([\n    [2 /* Linear */, degToRad(180)],\n    [3 /* Trigonal */, degToRad(120)],\n    [4 /* Tetrahedral */, degToRad(109.4721)],\n    [6 /* Octahedral */, degToRad(90)]\n]);\n/**\n * Calculate the angles x-1-2 for all x where x is a heavy atom bonded to ap1.\n * @param  {AtomProxy} ap1 First atom (angle centre)\n * @param  {AtomProxy} ap2 Second atom\n * @return {number[]}        Angles in radians\n */\nexport function calcAngles(ap1, ap2) {\n    let angles = [];\n    const d1 = new Vector3();\n    const d2 = new Vector3();\n    d1.subVectors(ap2, ap1);\n    ap1.eachBondedAtom(x => {\n        if (x.number !== 1 /* H */) {\n            d2.subVectors(x, ap1);\n            angles.push(d1.angleTo(d2));\n        }\n    });\n    return angles;\n}\n/**\n * Find two neighbours of ap1 to define a plane (if possible) and\n * measure angle out of plane to ap2\n * @param  {AtomProxy} ap1 First atom (angle centre)\n * @param  {AtomProxy} ap2 Second atom (out-of-plane)\n * @return {number}        Angle from plane to second atom\n */\nexport function calcPlaneAngle(ap1, ap2) {\n    const x1 = ap1.clone();\n    const v12 = new Vector3();\n    v12.subVectors(ap2, ap1);\n    const neighbours = [new Vector3(), new Vector3()];\n    let ni = 0;\n    ap1.eachBondedAtom(x => {\n        if (ni > 1) {\n            return;\n        }\n        if (x.number !== 1 /* H */) {\n            x1.index = x.index;\n            neighbours[ni++].subVectors(x, ap1);\n        }\n    });\n    if (ni === 1) {\n        x1.eachBondedAtom(x => {\n            if (ni > 1) {\n                return;\n            }\n            if (x.number !== 1 /* H */ && x.index !== ap1.index) {\n                neighbours[ni++].subVectors(x, ap1);\n            }\n        });\n    }\n    if (ni !== 2) {\n        return;\n    }\n    const cp = neighbours[0].cross(neighbours[1]);\n    return Math.abs((Math.PI / 2) - cp.angleTo(v12));\n}\n//# sourceMappingURL=geometry.js.map","/**\n * @file Valence Model\n * @author Fred Ludlow <Fred.Ludlow@astx.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { assignGeometry } from './geometry';\n/**\n * Are we involved in some kind of pi system. Either explicitly forming\n * double bond or N, O next to a double bond, except:\n *\n *   N,O with degree 4 cannot be conjugated.\n *   N,O adjacent to P=O or S=O do not qualify (keeps sulfonamide N sp3 geom)\n */\nfunction isConjugated(a) {\n    const _bp = a.structure.getBondProxy();\n    const atomicNumber = a.number;\n    const hetero = atomicNumber === 8 /* O */ || atomicNumber === 7 /* N */;\n    if (hetero && a.bondCount === 4) {\n        return false;\n    }\n    let flag = false;\n    a.eachBond(b => {\n        if (b.bondOrder > 1) {\n            flag = true;\n            return;\n        }\n        if (hetero) {\n            const a2 = b.getOtherAtom(a);\n            a2.eachBond(b2 => {\n                if (b2.bondOrder > 1) {\n                    const atomicNumber2 = a2.number;\n                    if ((atomicNumber2 === 15 /* P */ || atomicNumber2 === 16 /* S */) &&\n                        b2.getOtherAtom(a2).number === 8 /* O */) {\n                        return;\n                    }\n                    flag = true;\n                }\n            }, _bp); // Avoid reuse of structure._bp\n        }\n    });\n    return flag;\n}\n/* function hasExplicitCharge(r: ResidueProxy) {\n  let flag = false\n  r.eachAtom(a => {\n    if (a.formalCharge != null && a.formalCharge !== 0) flag = true\n  })\n  return flag\n}\n\nfunction hasExplicitHydrogen(r: ResidueProxy) {\n  let flag = false\n  r.eachAtom(a => {\n    if (a.number === Elements.H) flag = true\n  })\n  return flag\n} */\nexport function explicitValence(a) {\n    let v = 0;\n    a.eachBond(b => v += b.bondOrder);\n    return v;\n}\n/**\n * Attempts to produce a consistent charge and implicit\n * H-count for an atom.\n *\n * If both params.assignCharge and params.assignH, this\n * approximately followsthe rules described in\n * https://docs.eyesopen.com/toolkits/python/oechemtk/valence.html#openeye-hydrogen-count-model\n *\n * If only charge or hydrogens are to be assigned it takes\n * a much simpler view and deduces one from the other\n *\n * @param {AtomProxy}           a      Atom to analyze\n * @param {assignChargeHParams} params What to assign\n */\nexport function calculateHydrogensCharge(a, params) {\n    const hydrogenCount = a.bondToElementCount(1 /* H */);\n    let charge = a.formalCharge || 0;\n    const assignCharge = (params.assignCharge === 'always' ||\n        (params.assignCharge === 'auto' && charge === 0));\n    const assignH = (params.assignH === 'always' ||\n        (params.assignH === 'auto' && hydrogenCount === 0));\n    const degree = a.bondCount;\n    const valence = explicitValence(a);\n    const conjugated = isConjugated(a);\n    const multiBond = (valence - degree > 0);\n    let implicitHCount = 0;\n    let geom = 8 /* Unknown */;\n    switch (a.number) {\n        case 1 /* H */:\n            if (assignCharge) {\n                if (degree === 0) {\n                    charge = 1;\n                    geom = 0 /* Spherical */;\n                }\n                else if (degree === 1) {\n                    charge = 0;\n                    geom = 1 /* Terminal */;\n                }\n            }\n            break;\n        case 6 /* C */:\n            // TODO: Isocyanide?\n            if (assignCharge) {\n                charge = 0; // Assume carbon always neutral\n            }\n            if (assignH) {\n                // Carbocation/carbanion are 3-valent\n                implicitHCount = Math.max(0, 4 - valence - Math.abs(charge));\n            }\n            // Carbocation is planar, carbanion is tetrahedral\n            geom = assignGeometry(degree + implicitHCount + Math.max(0, -charge));\n            break;\n        case 7 /* N */:\n            if (assignCharge) {\n                if (!assignH) { // Trust input H explicitly:\n                    charge = valence - 3;\n                }\n                else if (conjugated && valence < 4) {\n                    // Neutral unless amidine/guanidine double-bonded N:\n                    if (degree - hydrogenCount === 1 && valence - hydrogenCount === 2) {\n                        charge = 1;\n                    }\n                    else {\n                        charge = 0;\n                    }\n                }\n                else {\n                    // Sulfonamide nitrogen and classed as sp3 in conjugation model but\n                    // they won't be charged\n                    // Don't assign charge to nitrogens bound to metals\n                    let flag = false;\n                    a.eachBondedAtom(ba => {\n                        if (ba.number === 16 /* S */ || ba.isMetal())\n                            flag = true;\n                    });\n                    if (flag)\n                        charge = 0;\n                    else\n                        charge = 1;\n                    // TODO: Planarity sanity check?\n                }\n            }\n            if (assignH) {\n                // NH4+ -> 4, 1' amide -> 2, nitro N/N+ depiction -> 0\n                implicitHCount = Math.max(0, 3 - valence + charge);\n            }\n            if (conjugated && !multiBond) {\n                // Amide, anilinic N etc. cannot consider lone-pair for geometry purposes\n                // Anilinic N geometry is depenent on ring electronics, for our purposes we\n                // assume it's trigonal!\n                geom = assignGeometry(degree + implicitHCount - charge);\n            }\n            else {\n                // Everything else, pyridine, amine, nitrile, lp plays normal role:\n                geom = assignGeometry(degree + implicitHCount + 1 - charge);\n            }\n            break;\n        case 8 /* O */:\n            if (assignCharge) {\n                if (!assignH) {\n                    charge = valence - 2; //\n                }\n                if (valence === 1) {\n                    a.eachBondedAtom(ba => {\n                        ba.eachBond(b => {\n                            const oa = b.getOtherAtom(ba);\n                            if (oa.index !== a.index && oa.number === 8 /* O */ && b.bondOrder === 2) {\n                                charge = -1;\n                            }\n                        });\n                    });\n                }\n            }\n            if (assignH) {\n                // ethanol -> 1, carboxylate -> -1\n                implicitHCount = Math.max(0, 2 - valence + charge);\n            }\n            if (conjugated && !multiBond) {\n                // carboxylate OH, phenol OH, one lone-pair taken up with conjugation\n                geom = assignGeometry(degree + implicitHCount - charge + 1);\n            }\n            else {\n                // Carbonyl (trigonal)\n                geom = assignGeometry(degree + implicitHCount - charge + 2);\n            }\n            break;\n        // Only handles thiols/thiolates/thioether/sulfonium. Sulfoxides and higher\n        // oxidiation states are assumed neutral S (charge carried on O if required)\n        case 16 /* S */:\n            if (assignCharge) {\n                if (!assignH) {\n                    if (valence <= 3 && !a.bondToElementCount(8 /* O */)) {\n                        charge = valence - 2; // e.g. explicitly deprotonated thiol\n                    }\n                    else {\n                        charge = 0;\n                    }\n                }\n            }\n            if (assignH) {\n                if (valence < 2) {\n                    implicitHCount = Math.max(0, 2 - valence + charge);\n                }\n            }\n            if (valence <= 3) {\n                // Thiol, thiolate, tioether -> tetrahedral\n                geom = assignGeometry(degree + implicitHCount - charge + 2);\n            }\n            break;\n        case 9 /* F */:\n        case 17 /* CL */:\n        case 35 /* BR */:\n        case 53 /* I */:\n        case 85 /* AT */:\n            // Never implicitly protonate halides\n            if (assignCharge) {\n                charge = valence - 1;\n            }\n            break;\n        case 3 /* LI */:\n        case 11 /* NA */:\n        case 19 /* K */:\n        case 37 /* RB */:\n        case 55 /* CS */:\n        case 87 /* FR */:\n            if (assignCharge) {\n                charge = 1 - valence;\n            }\n            break;\n        case 4 /* BE */:\n        case 12 /* MG */:\n        case 20 /* CA */:\n        case 38 /* SR */:\n        case 56 /* BA */:\n        case 88 /* RA */:\n            if (assignCharge) {\n                charge = 2 - valence;\n            }\n            break;\n        default:\n            console.warn('Requested charge, protonation for an unhandled element', a.element);\n    }\n    return [charge, implicitHCount, implicitHCount + hydrogenCount, geom];\n}\nexport function ValenceModel(data, params) {\n    const structure = data.structure;\n    const n = structure.atomCount;\n    const charge = new Int8Array(n);\n    const implicitH = new Int8Array(n);\n    const totalH = new Int8Array(n);\n    const idealGeometry = new Int8Array(n);\n    structure.eachAtom(a => {\n        const i = a.index;\n        const [chg, implH, totH, geom] = calculateHydrogensCharge(a, params);\n        charge[i] = chg;\n        implicitH[i] = implH;\n        totalH[i] = totH;\n        idealGeometry[i] = geom;\n    });\n    return { charge, implicitH, totalH, idealGeometry };\n}\n//# sourceMappingURL=valence-model.js.map","import SpatialHash from '../geometry/spatial-hash';\nimport { ValenceModel } from '../chemistry/valence-model';\nexport function createData(structure) {\n    return {\n        structure,\n        '@spatialLookup': undefined,\n        '@valenceModel': undefined\n    };\n}\nexport function spatialLookup(data) {\n    if (data['@spatialLookup'])\n        return data['@spatialLookup'];\n    const lookup = new SpatialHash(data.structure.atomStore, data.structure.boundingBox);\n    data['@spatialLookup'] = lookup;\n    return lookup;\n}\nexport function valenceModel(data) {\n    if (data['@valenceModel'])\n        return data['@valenceModel'];\n    const valenceModel = ValenceModel(data, { assignCharge: 'auto', assignH: 'auto' });\n    data['@valenceModel'] = valenceModel;\n    return valenceModel;\n}\n//# sourceMappingURL=data.js.map","/**\n * @file Functional Groups\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\n/**\n * Nitrogen in a quaternary amine\n */\nexport function isQuaternaryAmine(a) {\n    return (a.number === 7 &&\n        a.bondCount === 4 &&\n        a.bondToElementCount(1 /* H */) === 0);\n}\n/**\n * Nitrogen in a tertiary amine\n */\nexport function isTertiaryAmine(a, idealValence) {\n    return (a.number === 7 &&\n        a.bondCount >= 3 &&\n        idealValence === 3);\n}\n/**\n * Nitrogen in an imide\n */\nexport function isImide(a) {\n    let flag = false;\n    if (a.number === 7 /* N */ && (a.bondCount - a.bondToElementCount(1 /* H */)) === 2) {\n        let carbonylCount = 0;\n        a.eachBondedAtom(ba => {\n            if (isCarbonyl(ba))\n                ++carbonylCount;\n        });\n        flag = carbonylCount === 2;\n    }\n    return flag;\n}\n/**\n * Nitrogen in an amide\n */\nexport function isAmide(a) {\n    let flag = false;\n    if (a.number === 7 /* N */ && (a.bondCount - a.bondToElementCount(1 /* H */)) === 2) {\n        let carbonylCount = 0;\n        a.eachBondedAtom(ba => {\n            if (isCarbonyl(ba))\n                ++carbonylCount;\n        });\n        flag = carbonylCount === 1;\n    }\n    return flag;\n}\n/**\n * Sulfur in a sulfonium group\n */\nexport function isSulfonium(a) {\n    return (a.number === 16 &&\n        a.bondCount === 3 &&\n        a.bondToElementCount(1 /* H */) === 0);\n}\n/**\n * Sulfur in a sulfonic acid or sulfonate group\n */\nexport function isSulfonicAcid(a) {\n    return (a.number === 16 &&\n        a.bondToElementCount(8 /* O */) === 3);\n}\n/**\n * Sulfur in a sulfate group\n */\nexport function isSulfate(a) {\n    return (a.number === 16 &&\n        a.bondToElementCount(8 /* O */) === 4);\n}\n/**\n * Phosphor in a phosphate group\n */\nexport function isPhosphate(a) {\n    return (a.number === 15 &&\n        a.bondToElementCount(8 /* O */) === a.bondCount);\n}\n/**\n * Halogen with one bond to a carbon\n */\nexport function isHalocarbon(a) {\n    return (a.isHalogen() &&\n        a.bondCount === 1 &&\n        a.bondToElementCount(6 /* C */) === 1);\n}\n/**\n * Carbon in a carbonyl/acyl group\n */\nexport function isCarbonyl(a) {\n    let flag = false;\n    if (a.number === 6 /* C */) {\n        a.eachBond(b => {\n            if (b.bondOrder === 2 && b.getOtherAtom(a).number === 8 /* O */) {\n                flag = true;\n            }\n        });\n    }\n    return flag;\n}\n/**\n * Carbon in a carboxylate group\n */\nexport function isCarboxylate(a) {\n    let terminalOxygenCount = 0;\n    if (a.number === 6 &&\n        a.bondToElementCount(8 /* O */) === 2 &&\n        a.bondToElementCount(6 /* C */) === 1) {\n        a.eachBondedAtom(ba => {\n            if (ba.number === 8 && ba.bondCount - ba.bondToElementCount(1 /* H */) === 1) {\n                ++terminalOxygenCount;\n            }\n        });\n    }\n    return terminalOxygenCount === 2;\n}\n/**\n * Carbon in a guanidine group\n */\nexport function isGuanidine(a) {\n    let terminalNitrogenCount = 0;\n    if (a.number === 6 &&\n        a.bondCount === 3 &&\n        a.bondToElementCount(7 /* N */) === 3) {\n        a.eachBondedAtom(ba => {\n            if (ba.bondCount - ba.bondToElementCount(1 /* H */) === 1) {\n                ++terminalNitrogenCount;\n            }\n        });\n    }\n    return terminalNitrogenCount === 2;\n}\n/**\n * Carbon in a acetamidine group\n */\nexport function isAcetamidine(a) {\n    let terminalNitrogenCount = 0;\n    if (a.number === 6 &&\n        a.bondCount === 3 &&\n        a.bondToElementCount(7 /* N */) === 2 &&\n        a.bondToElementCount(6 /* C */) === 1) {\n        a.eachBondedAtom(ba => {\n            if (ba.bondCount - ba.bondToElementCount(1 /* H */) === 1) {\n                ++terminalNitrogenCount;\n            }\n        });\n    }\n    return terminalNitrogenCount === 2;\n}\nconst PolarElements = [\n    7 /* N */, 8 /* O */, 16 /* S */,\n    9 /* F */, 17 /* CL */, 35 /* BR */, 53 /* I */\n];\nexport function isPolar(a) {\n    return PolarElements.includes(a.number);\n}\nexport function hasPolarNeighbour(a) {\n    let flag = false;\n    a.eachBondedAtom(ba => {\n        if (isPolar(ba))\n            flag = true;\n    });\n    return flag;\n}\nexport function hasAromaticNeighbour(a) {\n    let flag = false;\n    a.eachBondedAtom(function (bap) {\n        if (bap.aromatic)\n            flag = true;\n    });\n    return flag;\n}\n//# sourceMappingURL=functional-groups.js.map","/**\n * @file Charged\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author Fred Ludlow <Fred.Ludlow@astx.com>\n */\nimport { Vector3 } from 'three';\nimport { defaults } from '../../utils';\nimport { radToDeg } from '../../math/math-utils';\nimport { AA3, Bases } from '../../structure/structure-constants';\nimport { valenceModel } from '../../structure/data';\nimport { isGuanidine, isAcetamidine, isSulfonicAcid, isPhosphate, isSulfate, isCarboxylate } from '../functional-groups';\nimport { addAtom, addFeature, createFeatureState, } from './features';\nimport { ContactDefaultParams, invalidAtomContact } from './contact';\nconst PositvelyCharged = ['ARG', 'HIS', 'LYS'];\nconst NegativelyCharged = ['GLU', 'ASP'];\nexport function addPositiveCharges(structure, features) {\n    const { charge } = valenceModel(structure.data);\n    const atomInGroupDict = {};\n    structure.eachResidue(r => {\n        if (PositvelyCharged.includes(r.resname)) {\n            const state = createFeatureState(1 /* PositiveCharge */);\n            r.eachAtom(a => {\n                if (a.number === 7 /* N */ && a.isSidechain()) {\n                    addAtom(state, a);\n                }\n            });\n            addFeature(features, state);\n        }\n        else if (!AA3.includes(r.resname) && !r.isNucleic()) {\n            r.eachAtom(a => {\n                let addGroup = false;\n                const state = createFeatureState(1 /* PositiveCharge */);\n                if (isGuanidine(a)) {\n                    state.group = 8 /* Guanidine */;\n                    addGroup = true;\n                }\n                else if (isAcetamidine(a)) {\n                    state.group = 9 /* Acetamidine */;\n                    addGroup = true;\n                }\n                if (addGroup) {\n                    a.eachBondedAtom(a => {\n                        if (a.number === 7 /* N */) {\n                            atomInGroupDict[a.index] = true;\n                            addAtom(state, a);\n                        }\n                    });\n                    addFeature(features, state);\n                }\n            });\n            r.eachAtom(a => {\n                const state = createFeatureState(1 /* PositiveCharge */);\n                if (charge[a.index] > 0) {\n                    if (!atomInGroupDict[a.index]) {\n                        addAtom(state, a);\n                        addFeature(features, state);\n                    }\n                }\n            });\n        }\n    });\n}\nexport function addNegativeCharges(structure, features) {\n    const { charge } = valenceModel(structure.data);\n    const atomInGroupDict = {};\n    structure.eachResidue(r => {\n        if (NegativelyCharged.includes(r.resname)) {\n            const state = createFeatureState(2 /* NegativeCharge */);\n            r.eachAtom(a => {\n                if (a.number === 8 /* O */ && a.isSidechain()) {\n                    addAtom(state, a);\n                }\n            });\n            addFeature(features, state);\n        }\n        else if (Bases.includes(r.resname)) {\n            const state = createFeatureState(2 /* NegativeCharge */);\n            r.eachAtom(a => {\n                if (isPhosphate(a)) {\n                    state.group = 6 /* Phosphate */;\n                    a.eachBondedAtom(a => {\n                        if (a.number === 8 /* O */)\n                            addAtom(state, a);\n                    });\n                    addFeature(features, state);\n                }\n            });\n        }\n        else if (!AA3.includes(r.resname) && !Bases.includes(r.resname)) {\n            r.eachAtom(a => {\n                let addGroup = false;\n                const state = createFeatureState(2 /* NegativeCharge */);\n                if (isSulfonicAcid(a)) {\n                    state.group = 4 /* SulfonicAcid */;\n                    addGroup = true;\n                }\n                else if (isPhosphate(a)) {\n                    state.group = 6 /* Phosphate */;\n                    addGroup = true;\n                }\n                else if (isSulfate(a)) {\n                    state.group = 5 /* Sulfate */;\n                    addGroup = true;\n                }\n                else if (isCarboxylate(a)) {\n                    state.group = 10 /* Carboxylate */;\n                    addGroup = true;\n                }\n                if (addGroup) {\n                    a.eachBondedAtom(a => {\n                        if (a.number === 8 /* O */) {\n                            atomInGroupDict[a.index] = true;\n                            addAtom(state, a);\n                        }\n                    });\n                    addFeature(features, state);\n                }\n            });\n            r.eachAtom(a => {\n                const state = createFeatureState(2 /* NegativeCharge */);\n                if (charge[a.index] < 0) {\n                    if (!atomInGroupDict[a.index]) {\n                        addAtom(state, a);\n                        addFeature(features, state);\n                    }\n                }\n            });\n        }\n    });\n}\nexport function addAromaticRings(structure, features) {\n    const a = structure.getAtomProxy();\n    structure.eachResidue(r => {\n        const rings = r.getAromaticRings();\n        if (rings) {\n            const offset = r.atomOffset;\n            rings.forEach(ring => {\n                const state = createFeatureState(3 /* AromaticRing */);\n                ring.forEach(i => {\n                    a.index = i + offset;\n                    addAtom(state, a);\n                });\n                addFeature(features, state);\n            });\n        }\n    });\n}\nfunction isIonicInteraction(ti, tj) {\n    return ((ti === 2 /* NegativeCharge */ && tj === 1 /* PositiveCharge */) ||\n        (ti === 1 /* PositiveCharge */ && tj === 2 /* NegativeCharge */));\n}\nfunction isPiStacking(ti, tj) {\n    return ti === 3 /* AromaticRing */ && tj === 3 /* AromaticRing */;\n}\nfunction isCationPi(ti, tj) {\n    return ((ti === 3 /* AromaticRing */ && tj === 1 /* PositiveCharge */) ||\n        (ti === 1 /* PositiveCharge */ && tj === 3 /* AromaticRing */));\n}\nexport function addChargedContacts(structure, contacts, params = {}) {\n    const maxIonicDist = defaults(params.maxIonicDist, ContactDefaultParams.maxIonicDist);\n    const maxPiStackingDist = defaults(params.maxPiStackingDist, ContactDefaultParams.maxPiStackingDist);\n    const maxPiStackingOffset = defaults(params.maxPiStackingOffset, ContactDefaultParams.maxPiStackingOffset);\n    const maxPiStackingAngle = defaults(params.maxPiStackingAngle, ContactDefaultParams.maxPiStackingAngle);\n    const maxCationPiDist = defaults(params.maxCationPiDist, ContactDefaultParams.maxCationPiDist);\n    const maxCationPiOffset = defaults(params.maxCationPiOffset, ContactDefaultParams.maxCationPiOffset);\n    const masterIdx = defaults(params.masterModelIndex, ContactDefaultParams.masterModelIndex);\n    const maxDistance = Math.max(maxIonicDist + 2, maxPiStackingDist, maxCationPiDist);\n    // const maxSaltBridgeDistSq = maxSaltBridgeDist * maxSaltBridgeDist\n    const maxPiStackingDistSq = maxPiStackingDist * maxPiStackingDist;\n    const maxCationPiDistSq = maxCationPiDist * maxCationPiDist;\n    const { features, spatialHash, contactStore, featureSet } = contacts;\n    const { types, centers, atomSets } = features;\n    const { x, y, z } = centers;\n    const n = types.length;\n    const ax = structure.atomStore.x;\n    const ay = structure.atomStore.y;\n    const az = structure.atomStore.z;\n    const ap1 = structure.getAtomProxy();\n    const ap2 = structure.getAtomProxy();\n    const areAtomSetsWithinDist = function (atomSet1, atomSet2, maxDist) {\n        const sn = atomSet1.length;\n        const sm = atomSet2.length;\n        for (let si = 0; si < sn; ++si) {\n            ap1.index = atomSet1[si];\n            for (let sj = 0; sj < sm; ++sj) {\n                ap2.index = atomSet2[sj];\n                if (ap1.distanceTo(ap2) <= maxDist) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    const v1 = new Vector3();\n    const v2 = new Vector3();\n    const v3 = new Vector3();\n    const d1 = new Vector3();\n    const d2 = new Vector3();\n    const n1 = new Vector3();\n    const n2 = new Vector3();\n    const getNormal = function (atoms, normal) {\n        v1.set(ax[atoms[0]], ay[atoms[0]], az[atoms[0]]);\n        v2.set(ax[atoms[1]], ay[atoms[1]], az[atoms[1]]);\n        v3.set(ax[atoms[2]], ay[atoms[2]], az[atoms[2]]);\n        d1.subVectors(v1, v2);\n        d2.subVectors(v1, v3);\n        normal.crossVectors(d1, d2);\n    };\n    const getOffset = function (i, j, normal) {\n        v1.set(x[i], y[i], z[i]);\n        v2.set(x[j], y[j], z[j]);\n        return v1.sub(v2).projectOnPlane(normal).add(v2).distanceTo(v2);\n    };\n    const add = function (i, j, ct) {\n        featureSet.setBits(i, j);\n        contactStore.addContact(i, j, ct);\n    };\n    for (let i = 0; i < n; ++i) {\n        spatialHash.eachWithin(x[i], y[i], z[i], maxDistance, (j, dSq) => {\n            if (j <= i)\n                return;\n            ap1.index = atomSets[i][0];\n            ap2.index = atomSets[j][0];\n            if (invalidAtomContact(ap1, ap2, masterIdx))\n                return;\n            const ti = types[i];\n            const tj = types[j];\n            if (isIonicInteraction(ti, tj)) {\n                if (areAtomSetsWithinDist(atomSets[i], atomSets[j], maxIonicDist)) {\n                    add(i, j, 1 /* IonicInteraction */);\n                }\n            }\n            else if (isPiStacking(ti, tj)) {\n                if (dSq <= maxPiStackingDistSq) {\n                    getNormal(atomSets[i], n1);\n                    getNormal(atomSets[j], n2);\n                    const angle = radToDeg(n1.angleTo(n2));\n                    const offset = Math.min(getOffset(i, j, n2), getOffset(j, i, n1));\n                    if (offset <= maxPiStackingOffset) {\n                        if (angle <= maxPiStackingAngle || angle >= 180 - maxPiStackingAngle) {\n                            add(i, j, 3 /* PiStacking */); // parallel\n                        }\n                        else if (angle <= maxPiStackingAngle + 90 && angle >= 90 - maxPiStackingAngle) {\n                            add(i, j, 3 /* PiStacking */); // t-shaped\n                        }\n                    }\n                }\n            }\n            else if (isCationPi(ti, tj)) {\n                if (dSq <= maxCationPiDistSq) {\n                    const [l, k] = ti === 3 /* AromaticRing */ ? [i, j] : [j, i];\n                    getNormal(atomSets[l], n1);\n                    const offset = getOffset(k, l, n1);\n                    if (offset <= maxCationPiOffset) {\n                        add(l, k, 2 /* CationPi */);\n                    }\n                }\n            }\n        });\n    }\n}\n//# sourceMappingURL=charged.js.map","/**\n * @file Hydrogen Bonds\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author Fred Ludlow <Fred.Ludlow@astx.com>\n */\nimport { defaults } from '../../utils';\nimport { degToRad } from '../../math/math-utils';\nimport { valenceModel } from '../../structure/data';\nimport { Angles, calcAngles, calcPlaneAngle } from '../geometry';\nimport { addAtom, addFeature, createFeatureState, } from './features';\nimport { ContactDefaultParams, invalidAtomContact } from './contact';\n// Geometric characteristics of hydrogen bonds involving sulfur atoms in proteins\n// https://doi.org/10.1002/prot.22327\n// Satisfying Hydrogen Bonding Potential in Proteins (HBPLUS)\n// https://doi.org/10.1006/jmbi.1994.1334\n// http://www.csb.yale.edu/userguides/datamanip/hbplus/hbplus_descrip.html\n/**\n * Potential hydrogen donor\n */\nexport function addHydrogenDonors(structure, features) {\n    const { totalH } = valenceModel(structure.data);\n    structure.eachAtom(a => {\n        const state = createFeatureState(4 /* HydrogenDonor */);\n        const an = a.number;\n        if (isHistidineNitrogen(a)) {\n            // include both nitrogen atoms in histidine due to\n            // their often ambiguous protonation assignment\n            addAtom(state, a);\n            addFeature(features, state);\n        }\n        else if (totalH[a.index] > 0 &&\n            (an === 7 /* N */ || an === 8 /* O */ || an === 16 /* S */)) {\n            addAtom(state, a);\n            addFeature(features, state);\n        }\n    });\n}\n/**\n * Weak hydrogen donor.\n */\nexport function addWeakHydrogenDonors(structure, features) {\n    const { totalH } = valenceModel(structure.data);\n    structure.eachAtom(a => {\n        if (a.number === 6 /* C */ &&\n            totalH[a.index] > 0 &&\n            (a.bondToElementCount(7 /* N */) > 0 ||\n                a.bondToElementCount(8 /* O */) > 0 ||\n                inAromaticRingWithElectronNegativeElement(a))) {\n            const state = createFeatureState(9 /* WeakHydrogenDonor */);\n            addAtom(state, a);\n            addFeature(features, state);\n        }\n    });\n}\nfunction inAromaticRingWithElectronNegativeElement(a) {\n    if (!a.isAromatic())\n        return false;\n    const ringData = a.residueType.getRings();\n    if (!ringData)\n        return false;\n    let hasElement = false;\n    const rings = ringData.rings;\n    rings.forEach(ring => {\n        if (hasElement)\n            return; // already found one\n        if (ring.some(idx => (a.index - a.residueAtomOffset) === idx)) { // in ring\n            hasElement = ring.some(idx => {\n                const atomTypeId = a.residueType.atomTypeIdList[idx];\n                const number = a.atomMap.get(atomTypeId).number;\n                return number === 7 /* N */ || number === 8 /* O */;\n            });\n        }\n    });\n    return hasElement;\n}\n/**\n * Potential hydrogen acceptor\n */\nexport function addHydrogenAcceptors(structure, features) {\n    const { charge, implicitH, idealGeometry } = valenceModel(structure.data);\n    structure.eachAtom(a => {\n        const state = createFeatureState(5 /* HydrogenAcceptor */);\n        const an = a.number;\n        if (an === 8 /* O */) {\n            // Basically assume all oxygen atoms are acceptors!\n            addAtom(state, a);\n            addFeature(features, state);\n        }\n        else if (an === 7 /* N */) {\n            if (isHistidineNitrogen(a)) {\n                // include both nitrogen atoms in histidine due to\n                // their often ambiguous protonation assignment\n                addAtom(state, a);\n                addFeature(features, state);\n            }\n            else if (charge[a.index] < 1) {\n                // Neutral nitrogen might be an acceptor\n                // It must have at least one lone pair not conjugated\n                const totalBonds = a.bondCount + implicitH[a.index];\n                const ig = idealGeometry[a.index];\n                if ((ig === 4 /* Tetrahedral */ && totalBonds < 4) ||\n                    (ig === 3 /* Trigonal */ && totalBonds < 3) ||\n                    (ig === 2 /* Linear */ && totalBonds < 2)) {\n                    addAtom(state, a);\n                    addFeature(features, state);\n                }\n            }\n        }\n        else if (an === 16) { // S\n            if (a.resname === 'CYS' || a.resname === 'MET' || a.formalCharge === -1) {\n                addAtom(state, a);\n                addFeature(features, state);\n            }\n        }\n    });\n}\n/**\n * Atom that is only bound to carbon or hydrogen\n */\n// function isHydrocarbon (atom: AtomProxy) {\n//   let flag = true\n//   atom.eachBondedAtom(ap => {\n//     const e = ap.element\n//     if (e !== 'C' && e !== 'H') flag = false\n//   })\n//   return flag\n// }\nfunction isHistidineNitrogen(ap) {\n    return ap.resname === 'HIS' && ap.number == 7 /* N */ && ap.isRing();\n}\nfunction isBackboneHydrogenBond(ap1, ap2) {\n    return ap1.isBackbone() && ap2.isBackbone();\n}\nfunction isWaterHydrogenBond(ap1, ap2) {\n    return ap1.isWater() && ap2.isWater();\n}\nfunction isHydrogenBond(ti, tj) {\n    return ((ti === 5 /* HydrogenAcceptor */ && tj === 4 /* HydrogenDonor */) ||\n        (ti === 4 /* HydrogenDonor */ && tj === 5 /* HydrogenAcceptor */));\n}\nfunction isWeakHydrogenBond(ti, tj) {\n    return ((ti === 9 /* WeakHydrogenDonor */ && tj === 5 /* HydrogenAcceptor */) ||\n        (ti === 5 /* HydrogenAcceptor */ && tj === 9 /* WeakHydrogenDonor */));\n}\nfunction getHydrogenBondType(ap1, ap2) {\n    if (isWaterHydrogenBond(ap1, ap2)) {\n        return 9 /* WaterHydrogenBond */;\n    }\n    else if (isBackboneHydrogenBond(ap1, ap2)) {\n        return 10 /* BackboneHydrogenBond */;\n    }\n    else {\n        return 4 /* HydrogenBond */;\n    }\n}\n/**\n * All pairs of hydrogen donor and acceptor atoms\n */\nexport function addHydrogenBonds(structure, contacts, params = {}) {\n    const maxHbondDist = defaults(params.maxHbondDist, ContactDefaultParams.maxHbondDist);\n    const maxHbondSulfurDist = defaults(params.maxHbondSulfurDist, ContactDefaultParams.maxHbondSulfurDist);\n    const maxHbondAccAngle = degToRad(defaults(params.maxHbondAccAngle, ContactDefaultParams.maxHbondAccAngle));\n    const maxHbondDonAngle = degToRad(defaults(params.maxHbondDonAngle, ContactDefaultParams.maxHbondDonAngle));\n    const maxHbondAccPlaneAngle = degToRad(defaults(params.maxHbondAccPlaneAngle, ContactDefaultParams.maxHbondAccPlaneAngle));\n    const maxHbondDonPlaneAngle = degToRad(defaults(params.maxHbondDonPlaneAngle, ContactDefaultParams.maxHbondDonPlaneAngle));\n    const masterIdx = defaults(params.masterModelIndex, ContactDefaultParams.masterModelIndex);\n    const maxDist = Math.max(maxHbondDist, maxHbondSulfurDist);\n    const maxHbondDistSq = maxHbondDist * maxHbondDist;\n    const { features, spatialHash, contactStore, featureSet } = contacts;\n    const { types, centers, atomSets } = features;\n    const { x, y, z } = centers;\n    const n = types.length;\n    const { idealGeometry } = valenceModel(structure.data);\n    const donor = structure.getAtomProxy();\n    const acceptor = structure.getAtomProxy();\n    for (let i = 0; i < n; ++i) {\n        spatialHash.eachWithin(x[i], y[i], z[i], maxDist, (j, dSq) => {\n            if (j <= i)\n                return;\n            const ti = types[i];\n            const tj = types[j];\n            const isWeak = isWeakHydrogenBond(ti, tj);\n            if (!isWeak && !isHydrogenBond(ti, tj))\n                return;\n            const [l, k] = tj === 5 /* HydrogenAcceptor */ ? [i, j] : [j, i];\n            donor.index = atomSets[l][0];\n            acceptor.index = atomSets[k][0];\n            if (acceptor.index === donor.index)\n                return; // DA to self\n            if (invalidAtomContact(donor, acceptor, masterIdx))\n                return;\n            if (donor.number !== 16 /* S */ && acceptor.number !== 16 /* S */ && dSq > maxHbondDistSq)\n                return;\n            if (donor.connectedTo(acceptor))\n                return;\n            const donorAngles = calcAngles(donor, acceptor);\n            const idealDonorAngle = Angles.get(idealGeometry[donor.index]) || degToRad(120);\n            if (donorAngles.some(donorAngle => {\n                return Math.abs(idealDonorAngle - donorAngle) > maxHbondDonAngle;\n            }))\n                return;\n            if (idealGeometry[donor.index] === 3 /* Trigonal */) {\n                const outOfPlane = calcPlaneAngle(donor, acceptor);\n                if (outOfPlane !== undefined && outOfPlane > maxHbondDonPlaneAngle)\n                    return;\n            }\n            const acceptorAngles = calcAngles(acceptor, donor);\n            const idealAcceptorAngle = Angles.get(idealGeometry[acceptor.index]) || degToRad(120);\n            if (acceptorAngles.some(acceptorAngle => {\n                // Do not limit large acceptor angles\n                return idealAcceptorAngle - acceptorAngle > maxHbondAccAngle;\n            }))\n                return;\n            if (idealGeometry[acceptor.index] === 3 /* Trigonal */) {\n                const outOfPlane = calcPlaneAngle(acceptor, donor);\n                if (outOfPlane !== undefined && outOfPlane > maxHbondAccPlaneAngle)\n                    return;\n            }\n            featureSet.setBits(l, k);\n            const bondType = isWeak ? 8 /* WeakHydrogenBond */ : getHydrogenBondType(donor, acceptor);\n            contactStore.addContact(l, k, bondType);\n        });\n    }\n}\n//# sourceMappingURL=hydrogen-bonds.js.map","/**\n * @file Metal Binding\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { defaults } from '../../utils';\n// import { valenceModel } from '../../structure/data'\nimport { AA3, Bases } from '../../structure/structure-constants';\n// import { hasAromaticNeighbour } from '../functional-groups'\nimport { addAtom, addFeature, createFeatureState, } from './features';\nimport { ContactDefaultParams, invalidAtomContact } from './contact';\nconst IonicTypeMetals = [\n    3 /* LI */, 11 /* NA */, 19 /* K */, 37 /* RB */, 55 /* CS */,\n    12 /* MG */, 20 /* CA */, 38 /* SR */, 56 /* BA */, 13 /* AL */,\n    31 /* GA */, 49 /* IN */, 81 /* TL */, 21 /* SC */, 50 /* SN */,\n    82 /* PB */, 83 /* BI */, 51 /* SB */, 80 /* HG */\n];\n/**\n * Metal binding partners (dative bond or ionic-type interaction)\n */\nexport function addMetalBinding(structure, features) {\n    structure.eachAtom(a => {\n        let dative = false;\n        let ionic = false;\n        const isStandardAminoacid = AA3.includes(a.resname);\n        const isStandardBase = Bases.includes(a.resname);\n        if (!isStandardAminoacid && !isStandardBase) {\n            if (a.isHalogen() || a.number === 8 /* O */ || a.number === 16 /* S */) {\n                dative = true;\n                ionic = true;\n            }\n            else if (a.number === 7 /* N */) {\n                dative = true;\n            }\n        }\n        else if (isStandardAminoacid) {\n            // main chain oxygen atom or oxygen, nitrogen and sulfur from specific amino acids\n            if (a.number === 8 /* O */) {\n                if (['ASP', 'GLU', 'SER', 'THR', 'TYR', 'ASN', 'GLN'].includes(a.resname) && a.isSidechain()) {\n                    dative = true;\n                    ionic = true;\n                }\n                else if (a.isBackbone()) {\n                    dative = true;\n                    ionic = true;\n                }\n            }\n            else if (a.number === 16 /* S */ && 'CYS' === a.resname) {\n                dative = true;\n                ionic = true;\n            }\n            else if (a.number === 7 /* N */) {\n                if (a.resname === 'HIS' && a.isSidechain()) {\n                    dative = true;\n                }\n            }\n        }\n        else if (isStandardBase) {\n            // http://pubs.acs.org/doi/pdf/10.1021/acs.accounts.6b00253\n            // http://onlinelibrary.wiley.com/doi/10.1002/anie.200900399/full\n            if (a.number === 8 /* O */ && a.isBackbone()) {\n                dative = true;\n                ionic = true;\n            }\n            else if (['N3', 'N4', 'N7'].includes(a.atomname)) {\n                dative = true;\n            }\n            else if (['O2', 'O4', 'O6'].includes(a.atomname)) {\n                dative = true;\n                ionic = true;\n            }\n        }\n        if (dative) {\n            const state = createFeatureState(11 /* DativeBondPartner */);\n            addAtom(state, a);\n            addFeature(features, state);\n        }\n        if (ionic) {\n            const state = createFeatureState(10 /* IonicTypePartner */);\n            addAtom(state, a);\n            addFeature(features, state);\n        }\n    });\n}\n/**\n * Metal Pi complexation partner\n */\n// export function addMetalPiPartners (structure: Structure, features: Features) {\n//   const { charge } = valenceModel(structure.data)\n//   structure.eachAtom(a => {\n//     const state = createFeatureState(FeatureType.MetalPiPartner)\n//     const resname = a.resname\n//     const element = a.element\n//     const atomname = a.atomname\n//     if (!a.isPolymer()) {\n//       // water oxygen, as well as oxygen from carboxylate, phosphoryl, phenolate, alcohol;\n//       // nitrogen from imidazole; sulfur from thiolate\n//       if (element === 'O') {\n//         // Water oxygen\n//         if (a.bondCount === 0 || a.isWater()) {\n//           addAtom(state, a)\n//           addFeature(features, state)\n//           return\n//         }\n//         // Oxygen in alcohol (R-[O]-H)\n//         if (a.bondCount === 2 && charge[ a.index ] || a.hasBondToElement('H')) {\n//           addAtom(state, a)\n//           addFeature(features, state)\n//           return\n//         }\n//         // Phenolate oxygen\n//         if (hasAromaticNeighbour(a) && !a.aromatic) {\n//           addAtom(state, a)\n//           addFeature(features, state)\n//           return\n//         }\n//         // Carboxylic acid oxygen\n//         if (a.bondToElementCount('C') === 1) {\n//           let flag = false\n//           a.eachBondedAtom(ba => {\n//             if (ba.element === 'C' && ba.bondToElementCount('O') === 2 && ba.bondToElementCount('C') === 1) {\n//               flag = true\n//             }\n//           })\n//           if (flag) {\n//             addAtom(state, a)\n//             addFeature(features, state)\n//             return\n//           }\n//         }\n//         // Phosphoryl oxygen\n//         if (a.bondToElementCount('P') === 1) {\n//           let flag = false\n//           a.eachBondedAtom(ba => {\n//             if (ba.element === 'P' && ba.bondToElementCount('O') >= 3) {\n//               flag = true\n//             }\n//           })\n//           if (flag) {\n//             addAtom(state, a)\n//             addFeature(features, state)\n//             return\n//           }\n//         }\n//       } else if (element === 'N') {\n//         // Imidazole/pyrrole or similar\n//         if (a.bondToElementCount('C') === 2) {\n//           addAtom(state, a)\n//           addFeature(features, state)\n//           return\n//         }\n//       } else if (element === 'S') {\n//         // Thiolate\n//         if (hasAromaticNeighbour(a) && !a.aromatic) {\n//           addAtom(state, a)\n//           addFeature(features, state)\n//           return\n//         }\n//         // Sulfur in Iron sulfur cluster\n//         const ironCount = a.bondToElementCount('FE')\n//         if (ironCount > 0 && ironCount === a.bondCount) {\n//           addAtom(state, a)\n//           addFeature(features, state)\n//           return\n//         }\n//       }\n//     }\n//   })\n// }\nexport function addMetals(structure, features) {\n    structure.eachAtom(a => {\n        if (a.isTransitionMetal() || a.number === 30 /* ZN */ || a.number === 48 /* CD */) {\n            const state = createFeatureState(12 /* TransitionMetal */);\n            addAtom(state, a);\n            addFeature(features, state);\n        }\n        else if (IonicTypeMetals.includes(a.number)) {\n            const state = createFeatureState(13 /* IonicTypeMetal */);\n            addAtom(state, a);\n            addFeature(features, state);\n        }\n    });\n}\nfunction isMetalComplex(ti, tj) {\n    if (ti === 12 /* TransitionMetal */) {\n        return (tj === 11 /* DativeBondPartner */ ||\n            tj === 12 /* TransitionMetal */);\n    }\n    else if (ti === 13 /* IonicTypeMetal */) {\n        return (tj === 10 /* IonicTypePartner */);\n    }\n}\n/**\n * Metal complexes of metals and appropriate groups in protein and ligand, including water\n */\nexport function addMetalComplexation(structure, contacts, params = {}) {\n    const maxMetalDist = defaults(params.maxMetalDist, ContactDefaultParams.maxMetalDist);\n    const masterIdx = defaults(params.masterModelIndex, ContactDefaultParams.masterModelIndex);\n    const { features, spatialHash, contactStore, featureSet } = contacts;\n    const { types, centers, atomSets } = features;\n    const { x, y, z } = centers;\n    const n = types.length;\n    const ap1 = structure.getAtomProxy();\n    const ap2 = structure.getAtomProxy();\n    for (let i = 0; i < n; ++i) {\n        spatialHash.eachWithin(x[i], y[i], z[i], maxMetalDist, (j, dSq) => {\n            if (j <= i)\n                return;\n            ap1.index = atomSets[i][0];\n            ap2.index = atomSets[j][0];\n            if (invalidAtomContact(ap1, ap2, masterIdx))\n                return;\n            const m1 = ap1.isMetal();\n            const m2 = ap2.isMetal();\n            if (!m1 && !m2)\n                return;\n            const [ti, tj] = m1 ? [types[i], types[j]] : [types[j], types[i]];\n            if (isMetalComplex(ti, tj)) {\n                featureSet.setBits(i, j);\n                contactStore.addContact(i, j, 7 /* MetalCoordination */);\n            }\n        });\n    }\n}\n//# sourceMappingURL=metal-binding.js.map","/**\n * @file Hydrophobic\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { defaults } from '../../utils';\nimport { addAtom, addFeature, createFeatureState, } from './features';\nimport { ContactDefaultParams, invalidAtomContact } from './contact';\n/**\n * Hydrophobic carbon (only bonded to carbon or hydrogen); fluorine\n */\nexport function addHydrophobic(structure, features) {\n    structure.eachAtom(a => {\n        const state = createFeatureState(8 /* Hydrophobic */);\n        let flag = false;\n        if (a.number === 6 /* C */) {\n            flag = true;\n            a.eachBondedAtom(ap => {\n                const an = ap.number;\n                if (an !== 6 /* C */ && an !== 1 /* H */)\n                    flag = false;\n            });\n        }\n        else if (a.number === 9 /* F */) {\n            flag = true;\n        }\n        if (flag) {\n            addAtom(state, a);\n            addFeature(features, state);\n        }\n    });\n}\nfunction isHydrophobicContact(ti, tj) {\n    return ti === 8 /* Hydrophobic */ && tj === 8 /* Hydrophobic */;\n}\n/**\n * All hydrophobic contacts\n */\nexport function addHydrophobicContacts(structure, contacts, params = {}) {\n    const maxHydrophobicDist = defaults(params.maxHydrophobicDist, ContactDefaultParams.maxHydrophobicDist);\n    const masterIdx = defaults(params.masterModelIndex, ContactDefaultParams.masterModelIndex);\n    const { features, spatialHash, contactStore, featureSet } = contacts;\n    const { types, centers, atomSets } = features;\n    const { x, y, z } = centers;\n    const n = types.length;\n    const ap1 = structure.getAtomProxy();\n    const ap2 = structure.getAtomProxy();\n    for (let i = 0; i < n; ++i) {\n        spatialHash.eachWithin(x[i], y[i], z[i], maxHydrophobicDist, (j, dSq) => {\n            if (j <= i)\n                return;\n            ap1.index = atomSets[i][0];\n            ap2.index = atomSets[j][0];\n            if (invalidAtomContact(ap1, ap2, masterIdx))\n                return;\n            if (ap1.number === 9 /* F */ && ap2.number === 9 /* F */)\n                return;\n            if (ap1.connectedTo(ap2))\n                return;\n            if (isHydrophobicContact(types[i], types[j])) {\n                featureSet.setBits(i, j);\n                contactStore.addContact(i, j, 6 /* Hydrophobic */);\n            }\n        });\n    }\n}\n//# sourceMappingURL=hydrophobic.js.map","/**\n * @file Halogen Bonds\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author Fred Ludlow <Fred.Ludlow@astx.com>\n */\nimport { defaults } from '../../utils';\nimport { degToRad } from '../../math/math-utils';\nimport { addAtom, addFeature, createFeatureState, } from './features';\nimport { ContactDefaultParams, invalidAtomContact } from './contact';\nimport { calcAngles } from '../geometry';\nconst halBondElements = [17, 35, 53, 85];\n/**\n * Halogen bond donors (X-C, with X one of Cl, Br, I or At) not F!\n */\nexport function addHalogenDonors(structure, features) {\n    structure.eachAtom(a => {\n        if (halBondElements.includes(a.number) && a.bondToElementCount(6 /* C */) === 1) {\n            const state = createFeatureState(6 /* HalogenDonor */);\n            addAtom(state, a);\n            addFeature(features, state);\n        }\n    });\n}\nconst X = [7 /* N */, 8 /* O */, 16 /* S */];\nconst Y = [6 /* C */, 7 /* N */, 15 /* P */, 16 /* S */];\n/**\n * Halogen bond acceptors (Y-{O|N|S}, with Y=C,P,N,S)\n */\nexport function addHalogenAcceptors(structure, features) {\n    structure.eachAtom(a => {\n        if (X.includes(a.number)) {\n            let flag = false;\n            a.eachBondedAtom(ba => {\n                if (Y.includes(ba.number)) {\n                    flag = true;\n                }\n            });\n            if (flag) {\n                const state = createFeatureState(7 /* HalogenAcceptor */);\n                addAtom(state, a);\n                addFeature(features, state);\n            }\n        }\n    });\n}\nfunction isHalogenBond(ti, tj) {\n    return ((ti === 7 /* HalogenAcceptor */ && tj === 6 /* HalogenDonor */) ||\n        (ti === 6 /* HalogenDonor */ && tj === 7 /* HalogenAcceptor */));\n}\n// http://www.pnas.org/content/101/48/16789.full\nconst OptimalHalogenAngle = degToRad(180); // adjusted from 165 to account for spherical statistics\nconst OptimalAcceptorAngle = degToRad(120);\n/**\n * All pairs of halogen donor and acceptor atoms\n */\nexport function addHalogenBonds(structure, contacts, params = {}) {\n    const maxHalogenBondDist = defaults(params.maxHalogenBondDist, ContactDefaultParams.maxHalogenBondDist);\n    const maxHalogenBondAngle = degToRad(defaults(params.maxHalogenBondAngle, ContactDefaultParams.maxHalogenBondAngle));\n    const masterIdx = defaults(params.masterModelIndex, ContactDefaultParams.masterModelIndex);\n    const { features, spatialHash, contactStore, featureSet } = contacts;\n    const { types, centers, atomSets } = features;\n    const { x, y, z } = centers;\n    const n = types.length;\n    const ap1 = structure.getAtomProxy();\n    const ap2 = structure.getAtomProxy();\n    for (let i = 0; i < n; ++i) {\n        spatialHash.eachWithin(x[i], y[i], z[i], maxHalogenBondDist, (j, dSq) => {\n            if (j <= i)\n                return;\n            ap1.index = atomSets[i][0];\n            ap2.index = atomSets[j][0];\n            if (invalidAtomContact(ap1, ap2, masterIdx))\n                return;\n            if (!isHalogenBond(types[i], types[j]))\n                return;\n            const [halogen, acceptor] = types[i] === 6 /* HalogenDonor */ ? [ap1, ap2] : [ap2, ap1];\n            const halogenAngles = calcAngles(halogen, acceptor);\n            // Singly bonded halogen only (not bromide ion for example)\n            if (halogenAngles.length !== 1)\n                return;\n            if (OptimalHalogenAngle - halogenAngles[0] > maxHalogenBondAngle)\n                return;\n            const acceptorAngles = calcAngles(acceptor, halogen);\n            // Angle must be defined. Excludes water as acceptor. Debatable\n            if (acceptorAngles.length === 0)\n                return;\n            if (acceptorAngles.some(acceptorAngle => {\n                return (OptimalAcceptorAngle - acceptorAngle > maxHalogenBondAngle);\n            }))\n                return;\n            featureSet.setBits(i, j);\n            contactStore.addContact(i, j, 5 /* HalogenBond */);\n        });\n    }\n}\n//# sourceMappingURL=halogen-bonds.js.map","/**\n * @file Refine Contacts\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3 } from 'three';\nimport { Debug, Log } from '../../globals';\nimport { defaults } from '../../utils';\nimport { ContactDefaultParams, isMasterContact } from './contact';\n// also allows intra-residue contacts\nexport function invalidAtomContact(ap1, ap2, masterIdx) {\n    return !isMasterContact(ap1, ap2, masterIdx) && (ap1.modelIndex !== ap2.modelIndex ||\n        (ap1.altloc && ap2.altloc && ap1.altloc !== ap2.altloc));\n}\nexport function refineLineOfSight(structure, contacts, params = {}) {\n    if (Debug)\n        Log.time('refineLineOfSight');\n    const lineOfSightDistFactor = defaults(params.lineOfSightDistFactor, ContactDefaultParams.lineOfSightDistFactor);\n    const masterIdx = defaults(params.masterModelIndex, ContactDefaultParams.masterModelIndex);\n    const spatialHash = structure.spatialHash;\n    const { contactSet, contactStore, features } = contacts;\n    const { index1, index2 } = contactStore;\n    const { centers, atomSets } = features;\n    const { x, y, z } = centers;\n    const ac1 = structure.getAtomProxy();\n    const ac2 = structure.getAtomProxy();\n    const aw = structure.getAtomProxy();\n    const c1 = new Vector3();\n    const c2 = new Vector3();\n    const lineOfSightDist = 3 * lineOfSightDistFactor;\n    const lineOfSightDistFactorSq = lineOfSightDistFactor * lineOfSightDistFactor;\n    contactSet.forEach(i => {\n        c1.set(x[index1[i]], y[index1[i]], z[index1[i]]);\n        c2.set(x[index2[i]], y[index2[i]], z[index2[i]]);\n        const cx = (c1.x + c2.x) / 2;\n        const cy = (c1.y + c2.y) / 2;\n        const cz = (c1.z + c2.z) / 2;\n        const as1 = atomSets[index1[i]];\n        const as2 = atomSets[index2[i]];\n        ac1.index = as1[0];\n        ac2.index = as2[0];\n        spatialHash.eachWithin(cx, cy, cz, lineOfSightDist, (j, dSq) => {\n            aw.index = j;\n            if (aw.number !== 1 /* H */ &&\n                (aw.vdw * aw.vdw * lineOfSightDistFactorSq) > dSq &&\n                !invalidAtomContact(ac1, aw, masterIdx) &&\n                !invalidAtomContact(ac2, aw, masterIdx) &&\n                !as1.includes(j) &&\n                !as2.includes(j) &&\n                // to ignore atoms in the center of functional groups\n                c1.distanceToSquared(aw) > 1 &&\n                c2.distanceToSquared(aw) > 1) {\n                contactSet.clear(i);\n                if (Debug)\n                    Log.log('removing', ac1.qualifiedName(), ac2.qualifiedName(), 'because', aw.qualifiedName());\n            }\n        });\n    });\n    if (Debug)\n        Log.timeEnd('refineLineOfSight');\n}\n/**\n * For atoms interacting with several atoms in the same residue\n * only the one with the closest distance is kept.\n */\nexport function refineHydrophobicContacts(structure, contacts) {\n    const { contactSet, contactStore, features } = contacts;\n    const { type, index1, index2 } = contactStore;\n    const { atomSets } = features;\n    const ap1 = structure.getAtomProxy();\n    const ap2 = structure.getAtomProxy();\n    const residueContactDict = {};\n    /* keep only closest contact between residues */\n    const handleResidueContact = function (dist, i, key) {\n        const [minDist, minIndex] = residueContactDict[key] || [Infinity, -1];\n        if (dist < minDist) {\n            if (minIndex !== -1)\n                contactSet.clear(minIndex);\n            residueContactDict[key] = [dist, i];\n        }\n        else {\n            contactSet.clear(i);\n        }\n    };\n    contactSet.forEach(i => {\n        if (type[i] !== 6 /* Hydrophobic */)\n            return;\n        ap1.index = atomSets[index1[i]][0];\n        ap2.index = atomSets[index2[i]][0];\n        const dist = ap1.distanceTo(ap2);\n        handleResidueContact(dist, i, `${ap1.index}|${ap2.residueIndex}`);\n        handleResidueContact(dist, i, `${ap2.index}|${ap1.residueIndex}`);\n    });\n}\nfunction isHydrogenBondType(type) {\n    return (type === 4 /* HydrogenBond */ ||\n        type === 9 /* WaterHydrogenBond */ ||\n        type === 10 /* BackboneHydrogenBond */);\n}\n/**\n * Remove weak hydrogen bonds when the acceptor is involved in\n * a normal/strong hydrogen bond\n */\nexport function refineWeakHydrogenBonds(structure, contacts) {\n    const { contactSet, contactStore, features, adjacencyList } = contacts;\n    const { type, index1, index2 } = contactStore;\n    const { types } = features;\n    contactSet.forEach(i => {\n        if (type[i] !== 8 /* WeakHydrogenBond */)\n            return;\n        let accFeat;\n        if (types[index1[i]] === 9 /* WeakHydrogenDonor */) {\n            accFeat = index2[i];\n        }\n        else {\n            accFeat = index1[i];\n        }\n        const n = adjacencyList.countArray[accFeat];\n        const offset = adjacencyList.offsetArray[accFeat];\n        for (let j = 0; j < n; ++j) {\n            const ci = adjacencyList.indexArray[offset + j];\n            if (isHydrogenBondType(type[ci])) {\n                contactSet.clear(i);\n                return;\n            }\n        }\n    });\n}\n/**\n * Remove hydrogen bonds between groups that also form\n * a salt bridge between each other\n */\nexport function refineSaltBridges(structure, contacts) {\n    const { contactSet, contactStore, features } = contacts;\n    const { type, index1, index2 } = contactStore;\n    const { atomSets } = features;\n    const ionicInteractionDict = {};\n    const add = function (idx, i) {\n        if (!ionicInteractionDict[idx])\n            ionicInteractionDict[idx] = [];\n        ionicInteractionDict[idx].push(i);\n    };\n    contactSet.forEach(i => {\n        if (type[i] !== 1 /* IonicInteraction */)\n            return;\n        atomSets[index1[i]].forEach(idx => add(idx, i));\n        atomSets[index2[i]].forEach(idx => add(idx, i));\n    });\n    contactSet.forEach(i => {\n        if (!isHydrogenBondType(type[i]))\n            return;\n        const iil1 = ionicInteractionDict[atomSets[index1[i]][0]];\n        const iil2 = ionicInteractionDict[atomSets[index2[i]][0]];\n        if (!iil1 || !iil2)\n            return;\n        const n = iil1.length;\n        for (let j = 0; j < n; ++j) {\n            if (iil2.includes(iil1[j])) {\n                contactSet.clear(i);\n                return;\n            }\n        }\n    });\n}\n/**\n * Remove hydrophobic and cation-pi interactions between groups that also form\n * a pi-stacking interaction between each other\n */\nexport function refinePiStacking(structure, contacts) {\n    const { contactSet, contactStore, features } = contacts;\n    const { type, index1, index2 } = contactStore;\n    const { atomSets } = features;\n    const piStackingDict = {};\n    const add = function (idx, i) {\n        if (!piStackingDict[idx])\n            piStackingDict[idx] = [];\n        piStackingDict[idx].push(i);\n    };\n    contactSet.forEach(i => {\n        if (type[i] !== 3 /* PiStacking */)\n            return;\n        atomSets[index1[i]].forEach(idx => add(idx, i));\n        atomSets[index2[i]].forEach(idx => add(idx, i));\n    });\n    contactSet.forEach(i => {\n        if (type[i] !== 6 /* Hydrophobic */ &&\n            type[i] !== 2 /* CationPi */)\n            return;\n        const pil1 = piStackingDict[atomSets[index1[i]][0]];\n        const pil2 = piStackingDict[atomSets[index2[i]][0]];\n        if (!pil1 || !pil2)\n            return;\n        const n = pil1.length;\n        for (let j = 0; j < n; ++j) {\n            if (pil2.includes(pil1[j])) {\n                contactSet.clear(i);\n                return;\n            }\n        }\n    });\n}\n/**\n * Remove ionic interactions between groups that also form\n * a metal coordination between each other\n */\nexport function refineMetalCoordination(structure, contacts) {\n    const { contactSet, contactStore, features } = contacts;\n    const { type, index1, index2 } = contactStore;\n    const { atomSets } = features;\n    const ionicInteractionDict = {};\n    const add = function (idx, i) {\n        if (!ionicInteractionDict[idx])\n            ionicInteractionDict[idx] = [];\n        ionicInteractionDict[idx].push(i);\n    };\n    contactSet.forEach(i => {\n        if (type[i] !== 1 /* IonicInteraction */)\n            return;\n        atomSets[index1[i]].forEach(idx => add(idx, i));\n        atomSets[index2[i]].forEach(idx => add(idx, i));\n    });\n    contactSet.forEach(i => {\n        if (type[i] !== 7 /* MetalCoordination */)\n            return;\n        const iil1 = ionicInteractionDict[atomSets[index1[i]][0]];\n        const iil2 = ionicInteractionDict[atomSets[index2[i]][0]];\n        if (!iil1 || !iil2)\n            return;\n        const n = iil1.length;\n        for (let j = 0; j < n; ++j) {\n            if (iil2.includes(iil1[j])) {\n                contactSet.clear(iil1[j]);\n                return;\n            }\n        }\n    });\n}\n// TODO: refactor refineSaltBridges, refinePiStacking and refineMetalCoordination to be DRY\n//# sourceMappingURL=refine-contacts.js.map","/**\n * @file Contact\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { Color } from 'three';\nimport { Debug, Log } from '../../globals';\nimport { createParams } from '../../utils';\nimport SpatialHash from '../../geometry/spatial-hash';\nimport { calculateCenterArray, calculateDirectionArray, uniformArray } from '../../math/array-utils';\nimport ContactStore from '../../store/contact-store';\nimport BitArray from '../../utils/bitarray';\nimport Selection from '../../selection/selection';\nimport { ContactPicker } from '../../utils/picker';\nimport { createAdjacencyList } from '../../utils/adjacency-list';\nimport { createFeatures } from './features';\nimport { addAromaticRings, addNegativeCharges, addPositiveCharges, addChargedContacts } from './charged';\nimport { addHydrogenAcceptors, addHydrogenDonors, addHydrogenBonds, addWeakHydrogenDonors } from './hydrogen-bonds';\nimport { addMetalBinding, addMetals, addMetalComplexation } from './metal-binding';\nimport { addHydrophobic, addHydrophobicContacts } from './hydrophobic';\nimport { addHalogenAcceptors, addHalogenDonors, addHalogenBonds } from './halogen-bonds';\nimport { refineLineOfSight, refineHydrophobicContacts, refineSaltBridges, refinePiStacking, refineMetalCoordination } from './refine-contacts';\nexport const ContactDefaultParams = {\n    maxHydrophobicDist: 4.0,\n    maxHbondDist: 3.5,\n    maxHbondSulfurDist: 4.1,\n    maxHbondAccAngle: 45,\n    maxHbondDonAngle: 45,\n    maxHbondAccPlaneAngle: 90,\n    maxHbondDonPlaneAngle: 30,\n    maxPiStackingDist: 5.5,\n    maxPiStackingOffset: 2.0,\n    maxPiStackingAngle: 30,\n    maxCationPiDist: 6.0,\n    maxCationPiOffset: 2.0,\n    maxIonicDist: 5.0,\n    maxHalogenBondDist: 4.0,\n    maxHalogenBondAngle: 30,\n    maxMetalDist: 3.0,\n    refineSaltBridges: true,\n    masterModelIndex: -1,\n    lineOfSightDistFactor: 1.0\n};\nexport function isMasterContact(ap1, ap2, masterIdx) {\n    return ((ap1.modelIndex === masterIdx && ap2.modelIndex !== masterIdx) ||\n        (ap2.modelIndex === masterIdx && ap1.modelIndex !== masterIdx));\n}\nexport function invalidAtomContact(ap1, ap2, masterIdx) {\n    return !isMasterContact(ap1, ap2, masterIdx) && (ap1.modelIndex !== ap2.modelIndex ||\n        ap1.residueIndex === ap2.residueIndex ||\n        (ap1.altloc && ap2.altloc && ap1.altloc !== ap2.altloc));\n}\nexport function createContacts(features) {\n    const { types, centers } = features;\n    const spatialHash = new SpatialHash(centers);\n    const contactStore = new ContactStore();\n    const featureSet = new BitArray(types.length, false);\n    return { features, spatialHash, contactStore, featureSet };\n}\nexport function createFrozenContacts(contacts) {\n    const { index1, index2, count } = contacts.contactStore;\n    const adjacencyList = createAdjacencyList({\n        nodeArray1: index1,\n        nodeArray2: index2,\n        edgeCount: count,\n        nodeCount: contacts.featureSet.length\n    });\n    const contactSet = new BitArray(contacts.contactStore.count, true);\n    return Object.assign({ adjacencyList, contactSet }, contacts);\n}\nfunction calculateFeatures(structure) {\n    const features = createFeatures();\n    if (Debug)\n        Log.time('calculateFeatures');\n    addPositiveCharges(structure, features);\n    addNegativeCharges(structure, features);\n    addAromaticRings(structure, features);\n    addHydrogenAcceptors(structure, features);\n    addHydrogenDonors(structure, features);\n    addWeakHydrogenDonors(structure, features);\n    addMetalBinding(structure, features);\n    addMetals(structure, features);\n    addHydrophobic(structure, features);\n    addHalogenAcceptors(structure, features);\n    addHalogenDonors(structure, features);\n    if (Debug)\n        Log.timeEnd('calculateFeatures');\n    return features;\n}\nexport function calculateContacts(structure, params = ContactDefaultParams) {\n    const features = calculateFeatures(structure);\n    const contacts = createContacts(features);\n    if (Debug)\n        Log.time('calculateContacts');\n    addChargedContacts(structure, contacts, params);\n    addHydrogenBonds(structure, contacts, params);\n    addMetalComplexation(structure, contacts, params);\n    addHydrophobicContacts(structure, contacts, params);\n    addHalogenBonds(structure, contacts, params);\n    const frozenContacts = createFrozenContacts(contacts);\n    refineLineOfSight(structure, frozenContacts, params);\n    refineHydrophobicContacts(structure, frozenContacts);\n    if (params.refineSaltBridges)\n        refineSaltBridges(structure, frozenContacts);\n    refinePiStacking(structure, frozenContacts);\n    refineMetalCoordination(structure, frozenContacts);\n    if (Debug)\n        Log.timeEnd('calculateContacts');\n    return frozenContacts;\n}\nexport function contactTypeName(type) {\n    switch (type) {\n        case 4 /* HydrogenBond */:\n        case 9 /* WaterHydrogenBond */:\n        case 10 /* BackboneHydrogenBond */:\n            return 'hydrogen bond';\n        case 6 /* Hydrophobic */:\n            return 'hydrophobic contact';\n        case 5 /* HalogenBond */:\n            return 'halogen bond';\n        case 1 /* IonicInteraction */:\n            return 'ionic interaction';\n        case 7 /* MetalCoordination */:\n            return 'metal coordination';\n        case 2 /* CationPi */:\n            return 'cation-pi interaction';\n        case 3 /* PiStacking */:\n            return 'pi-pi stacking';\n        case 8 /* WeakHydrogenBond */:\n            return 'weak hydrogen bond';\n        default:\n            return 'unknown contact';\n    }\n}\nexport const ContactDataDefaultParams = {\n    hydrogenBond: true,\n    hydrophobic: true,\n    halogenBond: true,\n    ionicInteraction: true,\n    metalCoordination: true,\n    cationPi: true,\n    piStacking: true,\n    weakHydrogenBond: true,\n    waterHydrogenBond: true,\n    backboneHydrogenBond: true,\n    radius: 1,\n    filterSele: ''\n};\nexport const ContactLabelDefaultParams = {\n    unit: '',\n    size: 2.0\n};\nconst tmpColor = new Color();\nfunction contactColor(type) {\n    switch (type) {\n        case 4 /* HydrogenBond */:\n        case 9 /* WaterHydrogenBond */:\n        case 10 /* BackboneHydrogenBond */:\n            return tmpColor.setHex(0x2B83BA).toArray();\n        case 6 /* Hydrophobic */:\n            return tmpColor.setHex(0x808080).toArray();\n        case 5 /* HalogenBond */:\n            return tmpColor.setHex(0x40FFBF).toArray();\n        case 1 /* IonicInteraction */:\n            return tmpColor.setHex(0xF0C814).toArray();\n        case 7 /* MetalCoordination */:\n            return tmpColor.setHex(0x8C4099).toArray();\n        case 2 /* CationPi */:\n            return tmpColor.setHex(0xFF8000).toArray();\n        case 3 /* PiStacking */:\n            return tmpColor.setHex(0x8CB366).toArray();\n        case 8 /* WeakHydrogenBond */:\n            return tmpColor.setHex(0xC5DDEC).toArray();\n        default:\n            return tmpColor.setHex(0xCCCCCC).toArray();\n    }\n}\nexport function getContactData(contacts, structure, params) {\n    const p = createParams(params, ContactDataDefaultParams);\n    const types = [];\n    if (p.hydrogenBond)\n        types.push(4 /* HydrogenBond */);\n    if (p.hydrophobic)\n        types.push(6 /* Hydrophobic */);\n    if (p.halogenBond)\n        types.push(5 /* HalogenBond */);\n    if (p.ionicInteraction)\n        types.push(1 /* IonicInteraction */);\n    if (p.metalCoordination)\n        types.push(7 /* MetalCoordination */);\n    if (p.cationPi)\n        types.push(2 /* CationPi */);\n    if (p.piStacking)\n        types.push(3 /* PiStacking */);\n    if (p.weakHydrogenBond)\n        types.push(8 /* WeakHydrogenBond */);\n    if (p.waterHydrogenBond)\n        types.push(9 /* WaterHydrogenBond */);\n    if (p.backboneHydrogenBond)\n        types.push(10 /* BackboneHydrogenBond */);\n    const { features, contactSet, contactStore } = contacts;\n    const { centers, atomSets } = features;\n    const { x, y, z } = centers;\n    const { index1, index2, type } = contactStore;\n    const position1 = [];\n    const position2 = [];\n    const color = [];\n    const radius = [];\n    const picking = [];\n    let filterSet;\n    if (p.filterSele) {\n        if (Array.isArray(p.filterSele)) {\n            filterSet = p.filterSele.map(sele => {\n                return structure.getAtomSet(new Selection(sele));\n            });\n        }\n        else {\n            filterSet = structure.getAtomSet(new Selection(p.filterSele));\n        }\n    }\n    contactSet.forEach(i => {\n        const ti = type[i];\n        if (!types.includes(ti))\n            return;\n        if (filterSet) {\n            const idx1 = atomSets[index1[i]][0];\n            const idx2 = atomSets[index2[i]][0];\n            if (Array.isArray(filterSet)) {\n                if (!(filterSet[0].isSet(idx1) && filterSet[1].isSet(idx2) || (filterSet[1].isSet(idx1) && filterSet[0].isSet(idx2))))\n                    return;\n            }\n            else {\n                if (!filterSet.isSet(idx1) && !filterSet.isSet(idx2))\n                    return;\n            }\n        }\n        const k = index1[i];\n        const l = index2[i];\n        position1.push(x[k], y[k], z[k]);\n        position2.push(x[l], y[l], z[l]);\n        color.push(...contactColor(ti));\n        radius.push(p.radius);\n        picking.push(i);\n    });\n    return {\n        position1: new Float32Array(position1),\n        position2: new Float32Array(position2),\n        color: new Float32Array(color),\n        color2: new Float32Array(color),\n        radius: new Float32Array(radius),\n        picking: new ContactPicker(picking, contacts, structure)\n    };\n}\nexport function getLabelData(contactData, params) {\n    const position = calculateCenterArray(contactData.position1, contactData.position2);\n    const text = [];\n    const direction = calculateDirectionArray(contactData.position1, contactData.position2);\n    const n = direction.length / 3;\n    for (let i = 0; i < n; i++) {\n        const j = 3 * i;\n        const d = Math.sqrt(Math.pow(direction[j], 2) + Math.pow(direction[j + 1], 2) + Math.pow(direction[j + 2], 2));\n        switch (params.unit) {\n            case 'angstrom':\n                text[i] = d.toFixed(2) + ' ' + String.fromCharCode(0x212B);\n                break;\n            case 'nm':\n                text[i] = (d / 10).toFixed(2) + ' nm';\n                break;\n            default:\n                text[i] = d.toFixed(2);\n                break;\n        }\n    }\n    return {\n        position,\n        size: uniformArray(position.length / 3, params.size),\n        color: contactData.color,\n        text\n    };\n}\n//# sourceMappingURL=contact.js.map","/**\n * @file Picker\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3 } from 'three';\nimport { PickerRegistry } from '../globals';\nimport { calculateMeanVector3 } from '../math/vector-utils';\nimport Selection from '../selection/selection';\nimport { ArrowPrimitive, BoxPrimitive, ConePrimitive, CylinderPrimitive, EllipsoidPrimitive, OctahedronPrimitive, SpherePrimitive, TetrahedronPrimitive, TorusPrimitive, PointPrimitive, WidelinePrimitive } from '../geometry/primitive';\nimport { contactTypeName } from '../chemistry/interactions/contact';\n/**\n * Picker class\n * @interface\n */\nclass Picker {\n    /**\n     * @param  {Array|TypedArray} [array] - mapping\n     */\n    constructor(array) {\n        this.array = array;\n    }\n    get type() { return ''; }\n    get data() { return {}; }\n    /**\n     * Get the index for the given picking id\n     * @param  {Integer} pid - the picking id\n     * @return {Integer} the index\n     */\n    getIndex(pid) {\n        return this.array ? this.array[pid] : pid;\n    }\n    /**\n     * Get object data\n     * @abstract\n     * @param  {Integer} pid - the picking id\n     * @return {Object} the object data\n     */\n    getObject(pid) {\n        return {};\n    }\n    _applyTransformations(vector, instance, component) {\n        if (instance) {\n            vector.applyMatrix4(instance.matrix);\n        }\n        if (component) {\n            vector.applyMatrix4(component.matrix);\n        }\n        return vector;\n    }\n    /**\n     * Get object position\n     * @abstract\n     * @param  {Integer} pid - the picking id\n     * @return {Vector3} the object position\n     */\n    _getPosition(pid) {\n        return new Vector3();\n    }\n    /**\n     * Get position for the given picking id\n     * @param  {Integer} pid - the picking id\n     * @param  {Object} instance - the instance that should be applied\n     * @param  {Component} component - the component of the picked object\n     * @return {Vector3} the position\n     */\n    getPosition(pid, instance, component) {\n        return this._applyTransformations(this._getPosition(pid), instance, component);\n    }\n}\n/**\n * Shape picker class\n * @interface\n */\nclass ShapePicker extends Picker {\n    /**\n     * @param  {Shape} shape - shape object\n     */\n    constructor(shape) {\n        super();\n        this.shape = shape;\n    }\n    get primitive() { return; }\n    get data() { return this.shape; }\n    get type() { return this.primitive.type; }\n    getObject(pid) {\n        return this.primitive.objectFromShape(this.shape, this.getIndex(pid));\n    }\n    _getPosition(pid) {\n        return this.primitive.positionFromShape(this.shape, this.getIndex(pid));\n    }\n}\n//\nclass CylinderPicker extends ShapePicker {\n    get primitive() { return CylinderPrimitive; }\n}\nclass ArrowPicker extends ShapePicker {\n    get primitive() { return ArrowPrimitive; }\n}\nclass AtomPicker extends Picker {\n    constructor(array, structure) {\n        super(array);\n        this.structure = structure;\n    }\n    get type() { return 'atom'; }\n    get data() { return this.structure; }\n    getObject(pid) {\n        return this.structure.getAtomProxy(this.getIndex(pid));\n    }\n    _getPosition(pid) {\n        return new Vector3().copy(this.getObject(pid));\n    }\n}\nclass AxesPicker extends Picker {\n    constructor(axes) {\n        super();\n        this.axes = axes;\n    }\n    get type() { return 'axes'; }\n    get data() { return this.axes; }\n    getObject( /* pid */) {\n        return {\n            axes: this.axes\n        };\n    }\n    _getPosition( /* pid */) {\n        return this.axes.center.clone();\n    }\n}\nclass BondPicker extends Picker {\n    constructor(array, structure, bondStore) {\n        super(array);\n        this.structure = structure;\n        this.bondStore = bondStore || structure.bondStore;\n    }\n    get type() { return 'bond'; }\n    get data() { return this.structure; }\n    getObject(pid) {\n        const bp = this.structure.getBondProxy(this.getIndex(pid));\n        bp.bondStore = this.bondStore;\n        return bp;\n    }\n    _getPosition(pid) {\n        const b = this.getObject(pid);\n        return new Vector3()\n            .copy(b.atom1)\n            .add(b.atom2)\n            .multiplyScalar(0.5);\n    }\n}\nclass ContactPicker extends Picker {\n    constructor(array, contacts, structure) {\n        super(array);\n        this.contacts = contacts;\n        this.structure = structure;\n    }\n    get type() { return 'contact'; }\n    get data() { return this.contacts; }\n    getObject(pid) {\n        const idx = this.getIndex(pid);\n        const { features, contactStore } = this.contacts;\n        const { centers, atomSets } = features;\n        const { x, y, z } = centers;\n        const { index1, index2, type } = contactStore;\n        const k = index1[idx];\n        const l = index2[idx];\n        return {\n            center1: new Vector3(x[k], y[k], z[k]),\n            center2: new Vector3(x[l], y[l], z[l]),\n            atom1: this.structure.getAtomProxy(atomSets[k][0]),\n            atom2: this.structure.getAtomProxy(atomSets[l][0]),\n            type: contactTypeName(type[idx])\n        };\n    }\n    _getPosition(pid) {\n        const { center1, center2 } = this.getObject(pid);\n        return new Vector3().addVectors(center1, center2).multiplyScalar(0.5);\n    }\n}\nclass ConePicker extends ShapePicker {\n    get primitive() { return ConePrimitive; }\n}\nclass ClashPicker extends Picker {\n    constructor(array, validation, structure) {\n        super(array);\n        this.validation = validation;\n        this.structure = structure;\n    }\n    get type() { return 'clash'; }\n    get data() { return this.validation; }\n    getObject(pid) {\n        const val = this.validation;\n        const idx = this.getIndex(pid);\n        return {\n            validation: val,\n            index: idx,\n            clash: val.clashArray[idx]\n        };\n    }\n    _getAtomProxyFromSele(sele) {\n        const selection = new Selection(sele);\n        const idx = this.structure.getAtomIndices(selection)[0];\n        return this.structure.getAtomProxy(idx);\n    }\n    _getPosition(pid) {\n        const clash = this.getObject(pid).clash;\n        const ap1 = this._getAtomProxyFromSele(clash.sele1);\n        const ap2 = this._getAtomProxyFromSele(clash.sele2);\n        return new Vector3().copy(ap1).add(ap2).multiplyScalar(0.5);\n    }\n}\nclass DistancePicker extends BondPicker {\n    get type() { return 'distance'; }\n}\nclass EllipsoidPicker extends ShapePicker {\n    get primitive() { return EllipsoidPrimitive; }\n}\nclass OctahedronPicker extends ShapePicker {\n    get primitive() { return OctahedronPrimitive; }\n}\nclass BoxPicker extends ShapePicker {\n    get primitive() { return BoxPrimitive; }\n}\nclass IgnorePicker extends Picker {\n    get type() { return 'ignore'; }\n}\nclass MeshPicker extends ShapePicker {\n    constructor(shape, mesh) {\n        super(shape);\n        this.mesh = mesh;\n    }\n    get type() { return 'mesh'; }\n    getObject( /* pid */) {\n        const m = this.mesh;\n        return {\n            shape: this.shape,\n            name: m.name,\n            serial: m.serial\n        };\n    }\n    _getPosition( /* pid */) {\n        if (!this.__position) {\n            this.__position = calculateMeanVector3(this.mesh.position);\n        }\n        return this.__position;\n    }\n}\nclass SpherePicker extends ShapePicker {\n    get primitive() { return SpherePrimitive; }\n}\nclass SurfacePicker extends Picker {\n    constructor(array, surface) {\n        super(array);\n        this.surface = surface;\n    }\n    get type() { return 'surface'; }\n    get data() { return this.surface; }\n    getObject(pid) {\n        return {\n            surface: this.surface,\n            index: this.getIndex(pid)\n        };\n    }\n    _getPosition( /* pid */) {\n        return this.surface.center.clone();\n    }\n}\nclass TetrahedronPicker extends ShapePicker {\n    get primitive() { return TetrahedronPrimitive; }\n}\nclass TorusPicker extends ShapePicker {\n    get primitive() { return TorusPrimitive; }\n}\nclass UnitcellPicker extends Picker {\n    constructor(unitcell, structure) {\n        super();\n        this.unitcell = unitcell;\n        this.structure = structure;\n    }\n    get type() { return 'unitcell'; }\n    get data() { return this.unitcell; }\n    getObject( /* pid */) {\n        return {\n            unitcell: this.unitcell,\n            structure: this.structure\n        };\n    }\n    _getPosition( /* pid */) {\n        return this.unitcell.getCenter(this.structure);\n    }\n}\nclass UnknownPicker extends Picker {\n    get type() { return 'unknown'; }\n}\nclass VolumePicker extends Picker {\n    constructor(array, volume) {\n        super(array);\n        this.volume = volume;\n    }\n    get type() { return 'volume'; }\n    get data() { return this.volume; }\n    getObject(pid) {\n        const vol = this.volume;\n        const idx = this.getIndex(pid);\n        return {\n            volume: vol,\n            index: idx,\n            value: vol.data[idx]\n        };\n    }\n    _getPosition(pid) {\n        const dp = this.volume.position;\n        const idx = this.getIndex(pid);\n        return new Vector3(dp[idx * 3], dp[idx * 3 + 1], dp[idx * 3 + 2]);\n    }\n}\nclass SlicePicker extends VolumePicker {\n    get type() { return 'slice'; }\n}\nclass PointPicker extends ShapePicker {\n    get primitive() { return PointPrimitive; }\n}\nclass WidelinePicker extends ShapePicker {\n    get primitive() { return WidelinePrimitive; }\n}\nPickerRegistry.add('arrow', ArrowPicker);\nPickerRegistry.add('box', BoxPicker);\nPickerRegistry.add('cone', ConePicker);\nPickerRegistry.add('cylinder', CylinderPicker);\nPickerRegistry.add('ellipsoid', EllipsoidPicker);\nPickerRegistry.add('octahedron', OctahedronPicker);\nPickerRegistry.add('sphere', SpherePicker);\nPickerRegistry.add('tetrahedron', TetrahedronPicker);\nPickerRegistry.add('torus', TorusPicker);\nPickerRegistry.add('point', PointPicker);\nPickerRegistry.add('wideline', WidelinePicker);\nexport { Picker, ShapePicker, ArrowPicker, AtomPicker, AxesPicker, BondPicker, BoxPicker, ConePicker, ContactPicker, CylinderPicker, ClashPicker, DistancePicker, EllipsoidPicker, IgnorePicker, OctahedronPicker, MeshPicker, SlicePicker, SpherePicker, SurfacePicker, TetrahedronPicker, TorusPicker, UnitcellPicker, UnknownPicker, VolumePicker, PointPicker, WidelinePicker };\n//# sourceMappingURL=picker.js.map","/**\n * @file Marching Cubes\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { getUintArray } from '../utils';\nfunction getEdgeTable() {\n    return new Uint32Array([\n        0x0, 0x109, 0x203, 0x30a, 0x406, 0x50f, 0x605, 0x70c,\n        0x80c, 0x905, 0xa0f, 0xb06, 0xc0a, 0xd03, 0xe09, 0xf00,\n        0x190, 0x99, 0x393, 0x29a, 0x596, 0x49f, 0x795, 0x69c,\n        0x99c, 0x895, 0xb9f, 0xa96, 0xd9a, 0xc93, 0xf99, 0xe90,\n        0x230, 0x339, 0x33, 0x13a, 0x636, 0x73f, 0x435, 0x53c,\n        0xa3c, 0xb35, 0x83f, 0x936, 0xe3a, 0xf33, 0xc39, 0xd30,\n        0x3a0, 0x2a9, 0x1a3, 0xaa, 0x7a6, 0x6af, 0x5a5, 0x4ac,\n        0xbac, 0xaa5, 0x9af, 0x8a6, 0xfaa, 0xea3, 0xda9, 0xca0,\n        0x460, 0x569, 0x663, 0x76a, 0x66, 0x16f, 0x265, 0x36c,\n        0xc6c, 0xd65, 0xe6f, 0xf66, 0x86a, 0x963, 0xa69, 0xb60,\n        0x5f0, 0x4f9, 0x7f3, 0x6fa, 0x1f6, 0xff, 0x3f5, 0x2fc,\n        0xdfc, 0xcf5, 0xfff, 0xef6, 0x9fa, 0x8f3, 0xbf9, 0xaf0,\n        0x650, 0x759, 0x453, 0x55a, 0x256, 0x35f, 0x55, 0x15c,\n        0xe5c, 0xf55, 0xc5f, 0xd56, 0xa5a, 0xb53, 0x859, 0x950,\n        0x7c0, 0x6c9, 0x5c3, 0x4ca, 0x3c6, 0x2cf, 0x1c5, 0xcc,\n        0xfcc, 0xec5, 0xdcf, 0xcc6, 0xbca, 0xac3, 0x9c9, 0x8c0,\n        0x8c0, 0x9c9, 0xac3, 0xbca, 0xcc6, 0xdcf, 0xec5, 0xfcc,\n        0xcc, 0x1c5, 0x2cf, 0x3c6, 0x4ca, 0x5c3, 0x6c9, 0x7c0,\n        0x950, 0x859, 0xb53, 0xa5a, 0xd56, 0xc5f, 0xf55, 0xe5c,\n        0x15c, 0x55, 0x35f, 0x256, 0x55a, 0x453, 0x759, 0x650,\n        0xaf0, 0xbf9, 0x8f3, 0x9fa, 0xef6, 0xfff, 0xcf5, 0xdfc,\n        0x2fc, 0x3f5, 0xff, 0x1f6, 0x6fa, 0x7f3, 0x4f9, 0x5f0,\n        0xb60, 0xa69, 0x963, 0x86a, 0xf66, 0xe6f, 0xd65, 0xc6c,\n        0x36c, 0x265, 0x16f, 0x66, 0x76a, 0x663, 0x569, 0x460,\n        0xca0, 0xda9, 0xea3, 0xfaa, 0x8a6, 0x9af, 0xaa5, 0xbac,\n        0x4ac, 0x5a5, 0x6af, 0x7a6, 0xaa, 0x1a3, 0x2a9, 0x3a0,\n        0xd30, 0xc39, 0xf33, 0xe3a, 0x936, 0x83f, 0xb35, 0xa3c,\n        0x53c, 0x435, 0x73f, 0x636, 0x13a, 0x33, 0x339, 0x230,\n        0xe90, 0xf99, 0xc93, 0xd9a, 0xa96, 0xb9f, 0x895, 0x99c,\n        0x69c, 0x795, 0x49f, 0x596, 0x29a, 0x393, 0x99, 0x190,\n        0xf00, 0xe09, 0xd03, 0xc0a, 0xb06, 0xa0f, 0x905, 0x80c,\n        0x70c, 0x605, 0x50f, 0x406, 0x30a, 0x203, 0x109, 0x0\n    ]);\n}\nfunction getTriTable() {\n    return new Int32Array([\n        -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        0, 8, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        0, 1, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        1, 8, 3, 9, 8, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        1, 2, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        0, 8, 3, 1, 2, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        9, 2, 10, 0, 2, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        2, 8, 3, 2, 10, 8, 10, 9, 8, -1, -1, -1, -1, -1, -1, -1,\n        3, 11, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        0, 11, 2, 8, 11, 0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        1, 9, 0, 2, 3, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        1, 11, 2, 1, 9, 11, 9, 8, 11, -1, -1, -1, -1, -1, -1, -1,\n        3, 10, 1, 11, 10, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        0, 10, 1, 0, 8, 10, 8, 11, 10, -1, -1, -1, -1, -1, -1, -1,\n        3, 9, 0, 3, 11, 9, 11, 10, 9, -1, -1, -1, -1, -1, -1, -1,\n        9, 8, 10, 10, 8, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        4, 7, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        4, 3, 0, 7, 3, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        0, 1, 9, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        4, 1, 9, 4, 7, 1, 7, 3, 1, -1, -1, -1, -1, -1, -1, -1,\n        1, 2, 10, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        3, 4, 7, 3, 0, 4, 1, 2, 10, -1, -1, -1, -1, -1, -1, -1,\n        9, 2, 10, 9, 0, 2, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1,\n        2, 10, 9, 2, 9, 7, 2, 7, 3, 7, 9, 4, -1, -1, -1, -1,\n        8, 4, 7, 3, 11, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        11, 4, 7, 11, 2, 4, 2, 0, 4, -1, -1, -1, -1, -1, -1, -1,\n        9, 0, 1, 8, 4, 7, 2, 3, 11, -1, -1, -1, -1, -1, -1, -1,\n        4, 7, 11, 9, 4, 11, 9, 11, 2, 9, 2, 1, -1, -1, -1, -1,\n        3, 10, 1, 3, 11, 10, 7, 8, 4, -1, -1, -1, -1, -1, -1, -1,\n        1, 11, 10, 1, 4, 11, 1, 0, 4, 7, 11, 4, -1, -1, -1, -1,\n        4, 7, 8, 9, 0, 11, 9, 11, 10, 11, 0, 3, -1, -1, -1, -1,\n        4, 7, 11, 4, 11, 9, 9, 11, 10, -1, -1, -1, -1, -1, -1, -1,\n        9, 5, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        9, 5, 4, 0, 8, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        0, 5, 4, 1, 5, 0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        8, 5, 4, 8, 3, 5, 3, 1, 5, -1, -1, -1, -1, -1, -1, -1,\n        1, 2, 10, 9, 5, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        3, 0, 8, 1, 2, 10, 4, 9, 5, -1, -1, -1, -1, -1, -1, -1,\n        5, 2, 10, 5, 4, 2, 4, 0, 2, -1, -1, -1, -1, -1, -1, -1,\n        2, 10, 5, 3, 2, 5, 3, 5, 4, 3, 4, 8, -1, -1, -1, -1,\n        9, 5, 4, 2, 3, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        0, 11, 2, 0, 8, 11, 4, 9, 5, -1, -1, -1, -1, -1, -1, -1,\n        0, 5, 4, 0, 1, 5, 2, 3, 11, -1, -1, -1, -1, -1, -1, -1,\n        2, 1, 5, 2, 5, 8, 2, 8, 11, 4, 8, 5, -1, -1, -1, -1,\n        10, 3, 11, 10, 1, 3, 9, 5, 4, -1, -1, -1, -1, -1, -1, -1,\n        4, 9, 5, 0, 8, 1, 8, 10, 1, 8, 11, 10, -1, -1, -1, -1,\n        5, 4, 0, 5, 0, 11, 5, 11, 10, 11, 0, 3, -1, -1, -1, -1,\n        5, 4, 8, 5, 8, 10, 10, 8, 11, -1, -1, -1, -1, -1, -1, -1,\n        9, 7, 8, 5, 7, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        9, 3, 0, 9, 5, 3, 5, 7, 3, -1, -1, -1, -1, -1, -1, -1,\n        0, 7, 8, 0, 1, 7, 1, 5, 7, -1, -1, -1, -1, -1, -1, -1,\n        1, 5, 3, 3, 5, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        9, 7, 8, 9, 5, 7, 10, 1, 2, -1, -1, -1, -1, -1, -1, -1,\n        10, 1, 2, 9, 5, 0, 5, 3, 0, 5, 7, 3, -1, -1, -1, -1,\n        8, 0, 2, 8, 2, 5, 8, 5, 7, 10, 5, 2, -1, -1, -1, -1,\n        2, 10, 5, 2, 5, 3, 3, 5, 7, -1, -1, -1, -1, -1, -1, -1,\n        7, 9, 5, 7, 8, 9, 3, 11, 2, -1, -1, -1, -1, -1, -1, -1,\n        9, 5, 7, 9, 7, 2, 9, 2, 0, 2, 7, 11, -1, -1, -1, -1,\n        2, 3, 11, 0, 1, 8, 1, 7, 8, 1, 5, 7, -1, -1, -1, -1,\n        11, 2, 1, 11, 1, 7, 7, 1, 5, -1, -1, -1, -1, -1, -1, -1,\n        9, 5, 8, 8, 5, 7, 10, 1, 3, 10, 3, 11, -1, -1, -1, -1,\n        5, 7, 0, 5, 0, 9, 7, 11, 0, 1, 0, 10, 11, 10, 0, -1,\n        11, 10, 0, 11, 0, 3, 10, 5, 0, 8, 0, 7, 5, 7, 0, -1,\n        11, 10, 5, 7, 11, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        10, 6, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        0, 8, 3, 5, 10, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        9, 0, 1, 5, 10, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        1, 8, 3, 1, 9, 8, 5, 10, 6, -1, -1, -1, -1, -1, -1, -1,\n        1, 6, 5, 2, 6, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        1, 6, 5, 1, 2, 6, 3, 0, 8, -1, -1, -1, -1, -1, -1, -1,\n        9, 6, 5, 9, 0, 6, 0, 2, 6, -1, -1, -1, -1, -1, -1, -1,\n        5, 9, 8, 5, 8, 2, 5, 2, 6, 3, 2, 8, -1, -1, -1, -1,\n        2, 3, 11, 10, 6, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        11, 0, 8, 11, 2, 0, 10, 6, 5, -1, -1, -1, -1, -1, -1, -1,\n        0, 1, 9, 2, 3, 11, 5, 10, 6, -1, -1, -1, -1, -1, -1, -1,\n        5, 10, 6, 1, 9, 2, 9, 11, 2, 9, 8, 11, -1, -1, -1, -1,\n        6, 3, 11, 6, 5, 3, 5, 1, 3, -1, -1, -1, -1, -1, -1, -1,\n        0, 8, 11, 0, 11, 5, 0, 5, 1, 5, 11, 6, -1, -1, -1, -1,\n        3, 11, 6, 0, 3, 6, 0, 6, 5, 0, 5, 9, -1, -1, -1, -1,\n        6, 5, 9, 6, 9, 11, 11, 9, 8, -1, -1, -1, -1, -1, -1, -1,\n        5, 10, 6, 4, 7, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        4, 3, 0, 4, 7, 3, 6, 5, 10, -1, -1, -1, -1, -1, -1, -1,\n        1, 9, 0, 5, 10, 6, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1,\n        10, 6, 5, 1, 9, 7, 1, 7, 3, 7, 9, 4, -1, -1, -1, -1,\n        6, 1, 2, 6, 5, 1, 4, 7, 8, -1, -1, -1, -1, -1, -1, -1,\n        1, 2, 5, 5, 2, 6, 3, 0, 4, 3, 4, 7, -1, -1, -1, -1,\n        8, 4, 7, 9, 0, 5, 0, 6, 5, 0, 2, 6, -1, -1, -1, -1,\n        7, 3, 9, 7, 9, 4, 3, 2, 9, 5, 9, 6, 2, 6, 9, -1,\n        3, 11, 2, 7, 8, 4, 10, 6, 5, -1, -1, -1, -1, -1, -1, -1,\n        5, 10, 6, 4, 7, 2, 4, 2, 0, 2, 7, 11, -1, -1, -1, -1,\n        0, 1, 9, 4, 7, 8, 2, 3, 11, 5, 10, 6, -1, -1, -1, -1,\n        9, 2, 1, 9, 11, 2, 9, 4, 11, 7, 11, 4, 5, 10, 6, -1,\n        8, 4, 7, 3, 11, 5, 3, 5, 1, 5, 11, 6, -1, -1, -1, -1,\n        5, 1, 11, 5, 11, 6, 1, 0, 11, 7, 11, 4, 0, 4, 11, -1,\n        0, 5, 9, 0, 6, 5, 0, 3, 6, 11, 6, 3, 8, 4, 7, -1,\n        6, 5, 9, 6, 9, 11, 4, 7, 9, 7, 11, 9, -1, -1, -1, -1,\n        10, 4, 9, 6, 4, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        4, 10, 6, 4, 9, 10, 0, 8, 3, -1, -1, -1, -1, -1, -1, -1,\n        10, 0, 1, 10, 6, 0, 6, 4, 0, -1, -1, -1, -1, -1, -1, -1,\n        8, 3, 1, 8, 1, 6, 8, 6, 4, 6, 1, 10, -1, -1, -1, -1,\n        1, 4, 9, 1, 2, 4, 2, 6, 4, -1, -1, -1, -1, -1, -1, -1,\n        3, 0, 8, 1, 2, 9, 2, 4, 9, 2, 6, 4, -1, -1, -1, -1,\n        0, 2, 4, 4, 2, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        8, 3, 2, 8, 2, 4, 4, 2, 6, -1, -1, -1, -1, -1, -1, -1,\n        10, 4, 9, 10, 6, 4, 11, 2, 3, -1, -1, -1, -1, -1, -1, -1,\n        0, 8, 2, 2, 8, 11, 4, 9, 10, 4, 10, 6, -1, -1, -1, -1,\n        3, 11, 2, 0, 1, 6, 0, 6, 4, 6, 1, 10, -1, -1, -1, -1,\n        6, 4, 1, 6, 1, 10, 4, 8, 1, 2, 1, 11, 8, 11, 1, -1,\n        9, 6, 4, 9, 3, 6, 9, 1, 3, 11, 6, 3, -1, -1, -1, -1,\n        8, 11, 1, 8, 1, 0, 11, 6, 1, 9, 1, 4, 6, 4, 1, -1,\n        3, 11, 6, 3, 6, 0, 0, 6, 4, -1, -1, -1, -1, -1, -1, -1,\n        6, 4, 8, 11, 6, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        7, 10, 6, 7, 8, 10, 8, 9, 10, -1, -1, -1, -1, -1, -1, -1,\n        0, 7, 3, 0, 10, 7, 0, 9, 10, 6, 7, 10, -1, -1, -1, -1,\n        10, 6, 7, 1, 10, 7, 1, 7, 8, 1, 8, 0, -1, -1, -1, -1,\n        10, 6, 7, 10, 7, 1, 1, 7, 3, -1, -1, -1, -1, -1, -1, -1,\n        1, 2, 6, 1, 6, 8, 1, 8, 9, 8, 6, 7, -1, -1, -1, -1,\n        2, 6, 9, 2, 9, 1, 6, 7, 9, 0, 9, 3, 7, 3, 9, -1,\n        7, 8, 0, 7, 0, 6, 6, 0, 2, -1, -1, -1, -1, -1, -1, -1,\n        7, 3, 2, 6, 7, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        2, 3, 11, 10, 6, 8, 10, 8, 9, 8, 6, 7, -1, -1, -1, -1,\n        2, 0, 7, 2, 7, 11, 0, 9, 7, 6, 7, 10, 9, 10, 7, -1,\n        1, 8, 0, 1, 7, 8, 1, 10, 7, 6, 7, 10, 2, 3, 11, -1,\n        11, 2, 1, 11, 1, 7, 10, 6, 1, 6, 7, 1, -1, -1, -1, -1,\n        8, 9, 6, 8, 6, 7, 9, 1, 6, 11, 6, 3, 1, 3, 6, -1,\n        0, 9, 1, 11, 6, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        7, 8, 0, 7, 0, 6, 3, 11, 0, 11, 6, 0, -1, -1, -1, -1,\n        7, 11, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        7, 6, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        3, 0, 8, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        0, 1, 9, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        8, 1, 9, 8, 3, 1, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1,\n        10, 1, 2, 6, 11, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        1, 2, 10, 3, 0, 8, 6, 11, 7, -1, -1, -1, -1, -1, -1, -1,\n        2, 9, 0, 2, 10, 9, 6, 11, 7, -1, -1, -1, -1, -1, -1, -1,\n        6, 11, 7, 2, 10, 3, 10, 8, 3, 10, 9, 8, -1, -1, -1, -1,\n        7, 2, 3, 6, 2, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        7, 0, 8, 7, 6, 0, 6, 2, 0, -1, -1, -1, -1, -1, -1, -1,\n        2, 7, 6, 2, 3, 7, 0, 1, 9, -1, -1, -1, -1, -1, -1, -1,\n        1, 6, 2, 1, 8, 6, 1, 9, 8, 8, 7, 6, -1, -1, -1, -1,\n        10, 7, 6, 10, 1, 7, 1, 3, 7, -1, -1, -1, -1, -1, -1, -1,\n        10, 7, 6, 1, 7, 10, 1, 8, 7, 1, 0, 8, -1, -1, -1, -1,\n        0, 3, 7, 0, 7, 10, 0, 10, 9, 6, 10, 7, -1, -1, -1, -1,\n        7, 6, 10, 7, 10, 8, 8, 10, 9, -1, -1, -1, -1, -1, -1, -1,\n        6, 8, 4, 11, 8, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        3, 6, 11, 3, 0, 6, 0, 4, 6, -1, -1, -1, -1, -1, -1, -1,\n        8, 6, 11, 8, 4, 6, 9, 0, 1, -1, -1, -1, -1, -1, -1, -1,\n        9, 4, 6, 9, 6, 3, 9, 3, 1, 11, 3, 6, -1, -1, -1, -1,\n        6, 8, 4, 6, 11, 8, 2, 10, 1, -1, -1, -1, -1, -1, -1, -1,\n        1, 2, 10, 3, 0, 11, 0, 6, 11, 0, 4, 6, -1, -1, -1, -1,\n        4, 11, 8, 4, 6, 11, 0, 2, 9, 2, 10, 9, -1, -1, -1, -1,\n        10, 9, 3, 10, 3, 2, 9, 4, 3, 11, 3, 6, 4, 6, 3, -1,\n        8, 2, 3, 8, 4, 2, 4, 6, 2, -1, -1, -1, -1, -1, -1, -1,\n        0, 4, 2, 4, 6, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        1, 9, 0, 2, 3, 4, 2, 4, 6, 4, 3, 8, -1, -1, -1, -1,\n        1, 9, 4, 1, 4, 2, 2, 4, 6, -1, -1, -1, -1, -1, -1, -1,\n        8, 1, 3, 8, 6, 1, 8, 4, 6, 6, 10, 1, -1, -1, -1, -1,\n        10, 1, 0, 10, 0, 6, 6, 0, 4, -1, -1, -1, -1, -1, -1, -1,\n        4, 6, 3, 4, 3, 8, 6, 10, 3, 0, 3, 9, 10, 9, 3, -1,\n        10, 9, 4, 6, 10, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        4, 9, 5, 7, 6, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        0, 8, 3, 4, 9, 5, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1,\n        5, 0, 1, 5, 4, 0, 7, 6, 11, -1, -1, -1, -1, -1, -1, -1,\n        11, 7, 6, 8, 3, 4, 3, 5, 4, 3, 1, 5, -1, -1, -1, -1,\n        9, 5, 4, 10, 1, 2, 7, 6, 11, -1, -1, -1, -1, -1, -1, -1,\n        6, 11, 7, 1, 2, 10, 0, 8, 3, 4, 9, 5, -1, -1, -1, -1,\n        7, 6, 11, 5, 4, 10, 4, 2, 10, 4, 0, 2, -1, -1, -1, -1,\n        3, 4, 8, 3, 5, 4, 3, 2, 5, 10, 5, 2, 11, 7, 6, -1,\n        7, 2, 3, 7, 6, 2, 5, 4, 9, -1, -1, -1, -1, -1, -1, -1,\n        9, 5, 4, 0, 8, 6, 0, 6, 2, 6, 8, 7, -1, -1, -1, -1,\n        3, 6, 2, 3, 7, 6, 1, 5, 0, 5, 4, 0, -1, -1, -1, -1,\n        6, 2, 8, 6, 8, 7, 2, 1, 8, 4, 8, 5, 1, 5, 8, -1,\n        9, 5, 4, 10, 1, 6, 1, 7, 6, 1, 3, 7, -1, -1, -1, -1,\n        1, 6, 10, 1, 7, 6, 1, 0, 7, 8, 7, 0, 9, 5, 4, -1,\n        4, 0, 10, 4, 10, 5, 0, 3, 10, 6, 10, 7, 3, 7, 10, -1,\n        7, 6, 10, 7, 10, 8, 5, 4, 10, 4, 8, 10, -1, -1, -1, -1,\n        6, 9, 5, 6, 11, 9, 11, 8, 9, -1, -1, -1, -1, -1, -1, -1,\n        3, 6, 11, 0, 6, 3, 0, 5, 6, 0, 9, 5, -1, -1, -1, -1,\n        0, 11, 8, 0, 5, 11, 0, 1, 5, 5, 6, 11, -1, -1, -1, -1,\n        6, 11, 3, 6, 3, 5, 5, 3, 1, -1, -1, -1, -1, -1, -1, -1,\n        1, 2, 10, 9, 5, 11, 9, 11, 8, 11, 5, 6, -1, -1, -1, -1,\n        0, 11, 3, 0, 6, 11, 0, 9, 6, 5, 6, 9, 1, 2, 10, -1,\n        11, 8, 5, 11, 5, 6, 8, 0, 5, 10, 5, 2, 0, 2, 5, -1,\n        6, 11, 3, 6, 3, 5, 2, 10, 3, 10, 5, 3, -1, -1, -1, -1,\n        5, 8, 9, 5, 2, 8, 5, 6, 2, 3, 8, 2, -1, -1, -1, -1,\n        9, 5, 6, 9, 6, 0, 0, 6, 2, -1, -1, -1, -1, -1, -1, -1,\n        1, 5, 8, 1, 8, 0, 5, 6, 8, 3, 8, 2, 6, 2, 8, -1,\n        1, 5, 6, 2, 1, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        1, 3, 6, 1, 6, 10, 3, 8, 6, 5, 6, 9, 8, 9, 6, -1,\n        10, 1, 0, 10, 0, 6, 9, 5, 0, 5, 6, 0, -1, -1, -1, -1,\n        0, 3, 8, 5, 6, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        10, 5, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        11, 5, 10, 7, 5, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        11, 5, 10, 11, 7, 5, 8, 3, 0, -1, -1, -1, -1, -1, -1, -1,\n        5, 11, 7, 5, 10, 11, 1, 9, 0, -1, -1, -1, -1, -1, -1, -1,\n        10, 7, 5, 10, 11, 7, 9, 8, 1, 8, 3, 1, -1, -1, -1, -1,\n        11, 1, 2, 11, 7, 1, 7, 5, 1, -1, -1, -1, -1, -1, -1, -1,\n        0, 8, 3, 1, 2, 7, 1, 7, 5, 7, 2, 11, -1, -1, -1, -1,\n        9, 7, 5, 9, 2, 7, 9, 0, 2, 2, 11, 7, -1, -1, -1, -1,\n        7, 5, 2, 7, 2, 11, 5, 9, 2, 3, 2, 8, 9, 8, 2, -1,\n        2, 5, 10, 2, 3, 5, 3, 7, 5, -1, -1, -1, -1, -1, -1, -1,\n        8, 2, 0, 8, 5, 2, 8, 7, 5, 10, 2, 5, -1, -1, -1, -1,\n        9, 0, 1, 5, 10, 3, 5, 3, 7, 3, 10, 2, -1, -1, -1, -1,\n        9, 8, 2, 9, 2, 1, 8, 7, 2, 10, 2, 5, 7, 5, 2, -1,\n        1, 3, 5, 3, 7, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        0, 8, 7, 0, 7, 1, 1, 7, 5, -1, -1, -1, -1, -1, -1, -1,\n        9, 0, 3, 9, 3, 5, 5, 3, 7, -1, -1, -1, -1, -1, -1, -1,\n        9, 8, 7, 5, 9, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        5, 8, 4, 5, 10, 8, 10, 11, 8, -1, -1, -1, -1, -1, -1, -1,\n        5, 0, 4, 5, 11, 0, 5, 10, 11, 11, 3, 0, -1, -1, -1, -1,\n        0, 1, 9, 8, 4, 10, 8, 10, 11, 10, 4, 5, -1, -1, -1, -1,\n        10, 11, 4, 10, 4, 5, 11, 3, 4, 9, 4, 1, 3, 1, 4, -1,\n        2, 5, 1, 2, 8, 5, 2, 11, 8, 4, 5, 8, -1, -1, -1, -1,\n        0, 4, 11, 0, 11, 3, 4, 5, 11, 2, 11, 1, 5, 1, 11, -1,\n        0, 2, 5, 0, 5, 9, 2, 11, 5, 4, 5, 8, 11, 8, 5, -1,\n        9, 4, 5, 2, 11, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        2, 5, 10, 3, 5, 2, 3, 4, 5, 3, 8, 4, -1, -1, -1, -1,\n        5, 10, 2, 5, 2, 4, 4, 2, 0, -1, -1, -1, -1, -1, -1, -1,\n        3, 10, 2, 3, 5, 10, 3, 8, 5, 4, 5, 8, 0, 1, 9, -1,\n        5, 10, 2, 5, 2, 4, 1, 9, 2, 9, 4, 2, -1, -1, -1, -1,\n        8, 4, 5, 8, 5, 3, 3, 5, 1, -1, -1, -1, -1, -1, -1, -1,\n        0, 4, 5, 1, 0, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        8, 4, 5, 8, 5, 3, 9, 0, 5, 0, 3, 5, -1, -1, -1, -1,\n        9, 4, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        4, 11, 7, 4, 9, 11, 9, 10, 11, -1, -1, -1, -1, -1, -1, -1,\n        0, 8, 3, 4, 9, 7, 9, 11, 7, 9, 10, 11, -1, -1, -1, -1,\n        1, 10, 11, 1, 11, 4, 1, 4, 0, 7, 4, 11, -1, -1, -1, -1,\n        3, 1, 4, 3, 4, 8, 1, 10, 4, 7, 4, 11, 10, 11, 4, -1,\n        4, 11, 7, 9, 11, 4, 9, 2, 11, 9, 1, 2, -1, -1, -1, -1,\n        9, 7, 4, 9, 11, 7, 9, 1, 11, 2, 11, 1, 0, 8, 3, -1,\n        11, 7, 4, 11, 4, 2, 2, 4, 0, -1, -1, -1, -1, -1, -1, -1,\n        11, 7, 4, 11, 4, 2, 8, 3, 4, 3, 2, 4, -1, -1, -1, -1,\n        2, 9, 10, 2, 7, 9, 2, 3, 7, 7, 4, 9, -1, -1, -1, -1,\n        9, 10, 7, 9, 7, 4, 10, 2, 7, 8, 7, 0, 2, 0, 7, -1,\n        3, 7, 10, 3, 10, 2, 7, 4, 10, 1, 10, 0, 4, 0, 10, -1,\n        1, 10, 2, 8, 7, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        4, 9, 1, 4, 1, 7, 7, 1, 3, -1, -1, -1, -1, -1, -1, -1,\n        4, 9, 1, 4, 1, 7, 0, 8, 1, 8, 7, 1, -1, -1, -1, -1,\n        4, 0, 3, 7, 4, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        4, 8, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        9, 10, 8, 10, 11, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        3, 0, 9, 3, 9, 11, 11, 9, 10, -1, -1, -1, -1, -1, -1, -1,\n        0, 1, 10, 0, 10, 8, 8, 10, 11, -1, -1, -1, -1, -1, -1, -1,\n        3, 1, 10, 11, 3, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        1, 2, 11, 1, 11, 9, 9, 11, 8, -1, -1, -1, -1, -1, -1, -1,\n        3, 0, 9, 3, 9, 11, 1, 2, 9, 2, 11, 9, -1, -1, -1, -1,\n        0, 2, 11, 8, 0, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        3, 2, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        2, 3, 8, 2, 8, 10, 10, 8, 9, -1, -1, -1, -1, -1, -1, -1,\n        9, 10, 2, 0, 9, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        2, 3, 8, 2, 8, 10, 0, 1, 8, 1, 10, 8, -1, -1, -1, -1,\n        1, 10, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        1, 3, 8, 9, 1, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        0, 9, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        0, 3, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1\n    ]);\n}\n// Triangles are constructed between points on cube edges.\n// allowedContours[edge1][edge1] indicates which lines from a given\n// triangle should be shown in line mode.\n// Values are bitmasks:\n// In loop over cubes we keep another bitmask indicating whether our current\n// cell is the first x-value (1),\n// first y-value (2) or first z-value (4) of the current loop.\n// We draw all lines on leading faces but only draw trailing face lines the first\n// time through the loop\n// A value of 8 below means the edge is always drawn (leading face)\n// E.g. the first row, lines between edge0 and other edges in the bottom\n// x-y plane are only drawn for the first value of z, edges in the\n// x-z plane are only drawn for the first value of y. No other lines\n// are drawn as they're redundant\n// The line between edge 1 and 5 is always drawn as it's on the leading edge\nfunction getAllowedContours() {\n    return [\n        [0, 4, 4, 4, 2, 0, 0, 0, 2, 2, 0, 0],\n        [4, 0, 4, 4, 0, 8, 0, 0, 0, 8, 8, 0],\n        [4, 4, 0, 4, 0, 0, 8, 0, 0, 0, 8, 8],\n        [4, 4, 4, 0, 0, 0, 0, 1, 1, 0, 0, 1],\n        [2, 0, 0, 0, 0, 8, 8, 8, 2, 2, 0, 0],\n        [0, 8, 0, 0, 8, 0, 8, 8, 0, 8, 8, 0],\n        [0, 0, 8, 0, 8, 8, 0, 8, 0, 0, 8, 8],\n        [0, 0, 0, 1, 8, 8, 8, 0, 1, 0, 0, 1],\n        [2, 0, 0, 1, 2, 0, 0, 1, 0, 2, 0, 1],\n        [2, 8, 0, 0, 2, 8, 0, 0, 2, 0, 8, 0],\n        [0, 8, 8, 0, 0, 8, 8, 0, 0, 8, 0, 8],\n        [0, 0, 8, 1, 0, 0, 8, 1, 1, 0, 8, 0]\n    ];\n}\nfunction MarchingCubes(field, nx, ny, nz, atomindex) {\n    // Based on alteredq / http://alteredqualia.com/\n    // port of greggman's ThreeD version of marching cubes to Three.js\n    // http://webglsamples.googlecode.com/hg/blob/blob.html\n    //\n    // Adapted for NGL by Alexander Rose\n    var isolevel = 0;\n    var noNormals = false;\n    var contour = false;\n    var wrap = false;\n    var isNegativeIso = false;\n    var normalFactor = -1;\n    var n = nx * ny * nz;\n    // deltas\n    var yd = nx;\n    var zd = nx * ny;\n    var normalCache, vertexIndex;\n    var count, icount;\n    var ilist = new Int32Array(12);\n    var positionArray = [];\n    var normalArray = [];\n    var indexArray = [];\n    var atomindexArray = [];\n    var edgeTable = getEdgeTable();\n    var triTable = getTriTable();\n    var allowedContours = getAllowedContours();\n    var mx, my, mz;\n    //\n    this.triangulate = function (_isolevel, _noNormals, _box, _contour, _wrap) {\n        isolevel = _isolevel;\n        isNegativeIso = isolevel < 0.0;\n        contour = _contour;\n        wrap = _wrap;\n        // Normals currently disabled in contour mode for performance (unused)\n        noNormals = _noNormals || contour;\n        if (!noNormals) {\n            normalFactor = isolevel > 0 ? -1.0 : 1.0;\n            if (!normalCache) {\n                normalCache = new Float32Array(n * 3);\n            }\n        }\n        var vIndexLength = n * 3;\n        if (!vertexIndex || vertexIndex.length !== vIndexLength) {\n            vertexIndex = new Int32Array(vIndexLength);\n        }\n        count = 0;\n        icount = 0;\n        if (_box !== undefined) {\n            var min = _box[0].map(Math.round);\n            var max = _box[1].map(Math.round);\n            mx = nx * Math.ceil(Math.abs(min[0]) / nx);\n            my = ny * Math.ceil(Math.abs(min[1]) / ny);\n            mz = nz * Math.ceil(Math.abs(min[2]) / nz);\n            triangulate(min[0], min[1], min[2], max[0], max[1], max[2]);\n        }\n        else {\n            mx = my = mz = 0;\n            triangulate();\n        }\n        positionArray.length = count * 3;\n        if (!noNormals)\n            normalArray.length = count * 3;\n        indexArray.length = icount;\n        if (atomindex)\n            atomindexArray.length = count;\n        return {\n            position: new Float32Array(positionArray),\n            normal: noNormals ? undefined : new Float32Array(normalArray),\n            index: getUintArray(indexArray, positionArray.length / 3),\n            atomindex: atomindex ? new Int32Array(atomindexArray) : undefined,\n            contour: contour\n        };\n    };\n    // polygonization\n    function lerp(a, b, t) { return a + (b - a) * t; }\n    function index(x, y, z) {\n        x = (x + mx) % nx;\n        y = (y + my) % ny;\n        z = (z + mz) % nz;\n        return ((zd * z) + yd * y) + x;\n    }\n    function VIntX(q, offset, x, y, z, valp1, valp2) {\n        var _q = 3 * q;\n        if (vertexIndex[_q] < 0) {\n            var mu = (isolevel - valp1) / (valp2 - valp1);\n            var nc = normalCache;\n            var c = count * 3;\n            positionArray[c + 0] = x + mu;\n            positionArray[c + 1] = y;\n            positionArray[c + 2] = z;\n            if (!noNormals) {\n                var q3 = q * 3;\n                normalArray[c] = normalFactor * lerp(nc[q3], nc[q3 + 3], mu);\n                normalArray[c + 1] = normalFactor * lerp(nc[q3 + 1], nc[q3 + 4], mu);\n                normalArray[c + 2] = normalFactor * lerp(nc[q3 + 2], nc[q3 + 5], mu);\n            }\n            if (atomindex)\n                atomindexArray[count] = atomindex[q + Math.round(mu)];\n            vertexIndex[_q] = count;\n            ilist[offset] = count;\n            count += 1;\n        }\n        else {\n            ilist[offset] = vertexIndex[_q];\n        }\n    }\n    function VIntY(q, offset, x, y, z, valp1, valp2) {\n        var _q = 3 * q + 1;\n        if (vertexIndex[_q] < 0) {\n            var mu = (isolevel - valp1) / (valp2 - valp1);\n            var nc = normalCache;\n            var c = count * 3;\n            positionArray[c] = x;\n            positionArray[c + 1] = y + mu;\n            positionArray[c + 2] = z;\n            if (!noNormals) {\n                var q3 = q * 3;\n                var q6 = q3 + yd * 3;\n                normalArray[c] = normalFactor * lerp(nc[q3], nc[q6], mu);\n                normalArray[c + 1] = normalFactor * lerp(nc[q3 + 1], nc[q6 + 1], mu);\n                normalArray[c + 2] = normalFactor * lerp(nc[q3 + 2], nc[q6 + 2], mu);\n            }\n            if (atomindex)\n                atomindexArray[count] = atomindex[q + Math.round(mu) * yd];\n            vertexIndex[_q] = count;\n            ilist[offset] = count;\n            count += 1;\n        }\n        else {\n            ilist[offset] = vertexIndex[_q];\n        }\n    }\n    function VIntZ(q, offset, x, y, z, valp1, valp2) {\n        var _q = 3 * q + 2;\n        if (vertexIndex[_q] < 0) {\n            var mu = (isolevel - valp1) / (valp2 - valp1);\n            var nc = normalCache;\n            var c = count * 3;\n            positionArray[c] = x;\n            positionArray[c + 1] = y;\n            positionArray[c + 2] = z + mu;\n            if (!noNormals) {\n                var q3 = q * 3;\n                var q6 = q3 + zd * 3;\n                normalArray[c] = normalFactor * lerp(nc[q3], nc[q6], mu);\n                normalArray[c + 1] = normalFactor * lerp(nc[q3 + 1], nc[q6 + 1], mu);\n                normalArray[c + 2] = normalFactor * lerp(nc[q3 + 2], nc[q6 + 2], mu);\n            }\n            if (atomindex)\n                atomindexArray[count] = atomindex[q + Math.round(mu) * zd];\n            vertexIndex[_q] = count;\n            ilist[offset] = count;\n            count += 1;\n        }\n        else {\n            ilist[offset] = vertexIndex[_q];\n        }\n    }\n    function compNorm(q) {\n        var q3 = q * 3;\n        if (normalCache[q3] === 0.0) {\n            normalCache[q3] = field[(q - 1 + n) % n] - field[(q + 1) % n];\n            normalCache[q3 + 1] = field[(q - yd + n) % n] - field[(q + yd) % n];\n            normalCache[q3 + 2] = field[(q - zd + n) % n] - field[(q + zd) % n];\n        }\n    }\n    function polygonize(fx, fy, fz, q, edgeFilter) {\n        // cache indices\n        var q1;\n        var qy;\n        var qz;\n        var q1y;\n        var q1z;\n        var qyz;\n        var q1yz;\n        if (wrap) {\n            q = index(fx, fy, fz);\n            q1 = index(fx + 1, fy, fz);\n            qy = index(fx, fy + 1, fz);\n            qz = index(fx, fy, fz + 1);\n            q1y = index(fx + 1, fy + 1, fz);\n            q1z = index(fx + 1, fy, fz + 1);\n            qyz = index(fx, fy + 1, fz + 1);\n            q1yz = index(fx + 1, fy + 1, fz + 1);\n        }\n        else {\n            q1 = q + 1;\n            qy = q + yd;\n            qz = q + zd;\n            q1y = qy + 1;\n            q1z = qz + 1;\n            qyz = qy + zd;\n            q1yz = qyz + 1;\n        }\n        var cubeindex = 0;\n        var field0 = field[q];\n        var field1 = field[q1];\n        var field2 = field[qy];\n        var field3 = field[q1y];\n        var field4 = field[qz];\n        var field5 = field[q1z];\n        var field6 = field[qyz];\n        var field7 = field[q1yz];\n        if (field0 < isolevel)\n            cubeindex |= 1;\n        if (field1 < isolevel)\n            cubeindex |= 2;\n        if (field2 < isolevel)\n            cubeindex |= 8;\n        if (field3 < isolevel)\n            cubeindex |= 4;\n        if (field4 < isolevel)\n            cubeindex |= 16;\n        if (field5 < isolevel)\n            cubeindex |= 32;\n        if (field6 < isolevel)\n            cubeindex |= 128;\n        if (field7 < isolevel)\n            cubeindex |= 64;\n        // if cube is entirely in/out of the surface - bail, nothing to draw\n        var bits = edgeTable[cubeindex];\n        if (bits === 0)\n            return 0;\n        var fx2 = fx + 1;\n        var fy2 = fy + 1;\n        var fz2 = fz + 1;\n        // top of the cube\n        if (bits & 1) {\n            if (!noNormals) {\n                compNorm(q);\n                compNorm(q1);\n            }\n            VIntX(q, 0, fx, fy, fz, field0, field1);\n        }\n        if (bits & 2) {\n            if (!noNormals) {\n                compNorm(q1);\n                compNorm(q1y);\n            }\n            VIntY(q1, 1, fx2, fy, fz, field1, field3);\n        }\n        if (bits & 4) {\n            if (!noNormals) {\n                compNorm(qy);\n                compNorm(q1y);\n            }\n            VIntX(qy, 2, fx, fy2, fz, field2, field3);\n        }\n        if (bits & 8) {\n            if (!noNormals) {\n                compNorm(q);\n                compNorm(qy);\n            }\n            VIntY(q, 3, fx, fy, fz, field0, field2);\n        }\n        // bottom of the cube\n        if (bits & 16) {\n            if (!noNormals) {\n                compNorm(qz);\n                compNorm(q1z);\n            }\n            VIntX(qz, 4, fx, fy, fz2, field4, field5);\n        }\n        if (bits & 32) {\n            if (!noNormals) {\n                compNorm(q1z);\n                compNorm(q1yz);\n            }\n            VIntY(q1z, 5, fx2, fy, fz2, field5, field7);\n        }\n        if (bits & 64) {\n            if (!noNormals) {\n                compNorm(qyz);\n                compNorm(q1yz);\n            }\n            VIntX(qyz, 6, fx, fy2, fz2, field6, field7);\n        }\n        if (bits & 128) {\n            if (!noNormals) {\n                compNorm(qz);\n                compNorm(qyz);\n            }\n            VIntY(qz, 7, fx, fy, fz2, field4, field6);\n        }\n        // vertical lines of the cube\n        if (bits & 256) {\n            if (!noNormals) {\n                compNorm(q);\n                compNorm(qz);\n            }\n            VIntZ(q, 8, fx, fy, fz, field0, field4);\n        }\n        if (bits & 512) {\n            if (!noNormals) {\n                compNorm(q1);\n                compNorm(q1z);\n            }\n            VIntZ(q1, 9, fx2, fy, fz, field1, field5);\n        }\n        if (bits & 1024) {\n            if (!noNormals) {\n                compNorm(q1y);\n                compNorm(q1yz);\n            }\n            VIntZ(q1y, 10, fx2, fy2, fz, field3, field7);\n        }\n        if (bits & 2048) {\n            if (!noNormals) {\n                compNorm(qy);\n                compNorm(qyz);\n            }\n            VIntZ(qy, 11, fx, fy2, fz, field2, field6);\n        }\n        var triIndex = cubeindex << 4; // re-purpose cubeindex into an offset into triTable\n        var e1;\n        var e2;\n        var e3;\n        var i = 0;\n        // here is where triangles are created\n        while (triTable[triIndex + i] !== -1) {\n            e1 = triTable[triIndex + i];\n            e2 = triTable[triIndex + i + 1];\n            e3 = triTable[triIndex + i + 2];\n            if (contour) {\n                if (allowedContours[e1][e2] & edgeFilter) {\n                    indexArray[icount++] = ilist[e1];\n                    indexArray[icount++] = ilist[e2];\n                }\n                if (allowedContours[e2][e3] & edgeFilter) {\n                    indexArray[icount++] = ilist[e2];\n                    indexArray[icount++] = ilist[e3];\n                }\n                if (allowedContours[e1][e3] & edgeFilter) {\n                    indexArray[icount++] = ilist[e1];\n                    indexArray[icount++] = ilist[e3];\n                }\n            }\n            else {\n                indexArray[icount++] = ilist[isNegativeIso ? e1 : e2];\n                indexArray[icount++] = ilist[isNegativeIso ? e2 : e1];\n                indexArray[icount++] = ilist[e3];\n            }\n            i += 3;\n        }\n    }\n    function triangulate(xBeg, yBeg, zBeg, xEnd, yEnd, zEnd) {\n        let q;\n        let q3;\n        let x;\n        let y;\n        let z;\n        let yOffset;\n        let zOffset;\n        xBeg = xBeg !== undefined ? xBeg : 0;\n        yBeg = yBeg !== undefined ? yBeg : 0;\n        zBeg = zBeg !== undefined ? zBeg : 0;\n        xEnd = xEnd !== undefined ? xEnd : nx - 1;\n        yEnd = yEnd !== undefined ? yEnd : ny - 1;\n        zEnd = zEnd !== undefined ? zEnd : nz - 1;\n        if (!wrap) {\n            if (noNormals) {\n                xBeg = Math.max(0, xBeg);\n                yBeg = Math.max(0, yBeg);\n                zBeg = Math.max(0, zBeg);\n                xEnd = Math.min(nx - 1, xEnd);\n                yEnd = Math.min(ny - 1, yEnd);\n                zEnd = Math.min(nz - 1, zEnd);\n            }\n            else {\n                xBeg = Math.max(1, xBeg);\n                yBeg = Math.max(1, yBeg);\n                zBeg = Math.max(1, zBeg);\n                xEnd = Math.min(nx - 2, xEnd);\n                yEnd = Math.min(ny - 2, yEnd);\n                zEnd = Math.min(nz - 2, zEnd);\n            }\n        }\n        let xBeg2, yBeg2, zBeg2, xEnd2, yEnd2, zEnd2;\n        if (!wrap) {\n            // init part of the vertexIndex\n            // (takes a significant amount of time to do for all)\n            xBeg2 = Math.max(0, xBeg - 2);\n            yBeg2 = Math.max(0, yBeg - 2);\n            zBeg2 = Math.max(0, zBeg - 2);\n            xEnd2 = Math.min(nx, xEnd + 2);\n            yEnd2 = Math.min(ny, yEnd + 2);\n            zEnd2 = Math.min(nz, zEnd + 2);\n            for (z = zBeg2; z < zEnd2; ++z) {\n                zOffset = zd * z;\n                for (y = yBeg2; y < yEnd2; ++y) {\n                    yOffset = zOffset + yd * y;\n                    for (x = xBeg2; x < xEnd2; ++x) {\n                        q = 3 * (yOffset + x);\n                        vertexIndex[q] = -1;\n                        vertexIndex[q + 1] = -1;\n                        vertexIndex[q + 2] = -1;\n                    }\n                }\n            }\n        }\n        else {\n            xBeg2 = xBeg - 2;\n            yBeg2 = yBeg - 2;\n            zBeg2 = zBeg - 2;\n            xEnd2 = xEnd + 2;\n            yEnd2 = yEnd + 2;\n            zEnd2 = zEnd + 2;\n            for (z = zBeg2; z < zEnd2; ++z) {\n                for (y = yBeg2; y < yEnd2; ++y) {\n                    for (x = xBeg2; x < xEnd2; ++x) {\n                        q3 = index(x, y, z) * 3;\n                        vertexIndex[q3] = -1;\n                        vertexIndex[q3 + 1] = -1;\n                        vertexIndex[q3 + 2] = -1;\n                    }\n                }\n            }\n        }\n        if (!wrap) {\n            // clip space where the isovalue is too low\n            var __break;\n            var __xBeg = xBeg;\n            var __yBeg = yBeg;\n            var __zBeg = zBeg;\n            var __xEnd = xEnd;\n            var __yEnd = yEnd;\n            var __zEnd = zEnd;\n            __break = false;\n            for (z = zBeg; z < zEnd; ++z) {\n                for (y = yBeg; y < yEnd; ++y) {\n                    for (x = xBeg; x < xEnd; ++x) {\n                        q = ((nx * ny) * z) + (nx * y) + x;\n                        if (field[q] >= isolevel) {\n                            __zBeg = z;\n                            __break = true;\n                            break;\n                        }\n                    }\n                    if (__break)\n                        break;\n                }\n                if (__break)\n                    break;\n            }\n            __break = false;\n            for (y = yBeg; y < yEnd; ++y) {\n                for (z = __zBeg; z < zEnd; ++z) {\n                    for (x = xBeg; x < xEnd; ++x) {\n                        q = ((nx * ny) * z) + (nx * y) + x;\n                        if (field[q] >= isolevel) {\n                            __yBeg = y;\n                            __break = true;\n                            break;\n                        }\n                    }\n                    if (__break)\n                        break;\n                }\n                if (__break)\n                    break;\n            }\n            __break = false;\n            for (x = xBeg; x < xEnd; ++x) {\n                for (y = __yBeg; y < yEnd; ++y) {\n                    for (z = __zBeg; z < zEnd; ++z) {\n                        q = ((nx * ny) * z) + (nx * y) + x;\n                        if (field[q] >= isolevel) {\n                            __xBeg = x;\n                            __break = true;\n                            break;\n                        }\n                    }\n                    if (__break)\n                        break;\n                }\n                if (__break)\n                    break;\n            }\n            __break = false;\n            for (z = zEnd; z >= zBeg; --z) {\n                for (y = yEnd; y >= yBeg; --y) {\n                    for (x = xEnd; x >= xBeg; --x) {\n                        q = ((nx * ny) * z) + (nx * y) + x;\n                        if (field[q] >= isolevel) {\n                            __zEnd = z;\n                            __break = true;\n                            break;\n                        }\n                    }\n                    if (__break)\n                        break;\n                }\n                if (__break)\n                    break;\n            }\n            __break = false;\n            for (y = yEnd; y >= yBeg; --y) {\n                for (z = __zEnd; z >= zBeg; --z) {\n                    for (x = xEnd; x >= xBeg; --x) {\n                        q = ((nx * ny) * z) + (nx * y) + x;\n                        if (field[q] >= isolevel) {\n                            __yEnd = y;\n                            __break = true;\n                            break;\n                        }\n                    }\n                    if (__break)\n                        break;\n                }\n                if (__break)\n                    break;\n            }\n            __break = false;\n            for (x = xEnd; x >= xBeg; --x) {\n                for (y = __yEnd; y >= yBeg; --y) {\n                    for (z = __zEnd; z >= zBeg; --z) {\n                        q = ((nx * ny) * z) + (nx * y) + x;\n                        if (field[q] >= isolevel) {\n                            __xEnd = x;\n                            __break = true;\n                            break;\n                        }\n                    }\n                    if (__break)\n                        break;\n                }\n                if (__break)\n                    break;\n            }\n            //\n            if (noNormals) {\n                xBeg = Math.max(0, __xBeg - 1);\n                yBeg = Math.max(0, __yBeg - 1);\n                zBeg = Math.max(0, __zBeg - 1);\n                xEnd = Math.min(nx - 1, __xEnd + 1);\n                yEnd = Math.min(ny - 1, __yEnd + 1);\n                zEnd = Math.min(nz - 1, __zEnd + 1);\n            }\n            else {\n                xBeg = Math.max(1, __xBeg - 1);\n                yBeg = Math.max(1, __yBeg - 1);\n                zBeg = Math.max(1, __zBeg - 1);\n                xEnd = Math.min(nx - 2, __xEnd + 1);\n                yEnd = Math.min(ny - 2, __yEnd + 1);\n                zEnd = Math.min(nz - 2, __zEnd + 1);\n            }\n        }\n        // polygonize part of the grid\n        var edgeFilter = 15;\n        for (z = zBeg; z < zEnd; ++z, edgeFilter &= ~4) {\n            zOffset = zd * z;\n            edgeFilter |= 2;\n            for (y = yBeg; y < yEnd; ++y, edgeFilter &= ~2) {\n                yOffset = zOffset + yd * y;\n                edgeFilter |= 1;\n                for (x = xBeg; x < xEnd; ++x, edgeFilter &= ~1) {\n                    q = yOffset + x;\n                    polygonize(x, y, z, q, edgeFilter);\n                }\n            }\n        }\n    }\n}\nObject.assign(MarchingCubes, { __deps: [getEdgeTable, getTriTable, getAllowedContours, getUintArray] });\nexport default MarchingCubes;\n//# sourceMappingURL=marching-cubes.js.map","/**\n * @file Matrix Utils\n * @private\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n *\n * svd methods from Eugene Zatepyakin / http://inspirit.github.io/jsfeat/\n */\nimport { v3new, v3cross } from './vector-utils';\nexport class Matrix {\n    constructor(cols, rows) {\n        this.cols = cols;\n        this.rows = rows;\n        this.size = this.cols * this.rows;\n        this.data = new Float32Array(this.size);\n    }\n    copyTo(matrix) {\n        matrix.data.set(this.data);\n    }\n}\nexport function transpose(At, A) {\n    let i = 0;\n    let j = 0;\n    const nrows = A.rows;\n    const ncols = A.cols;\n    let Ai = 0;\n    let Ati = 0;\n    let pAt = 0;\n    const ad = A.data;\n    const atd = At.data;\n    for (; i < nrows; Ati += 1, Ai += ncols, i++) {\n        pAt = Ati;\n        for (j = 0; j < ncols; pAt += nrows, j++)\n            atd[pAt] = ad[Ai + j];\n    }\n}\n// C = A * B\nexport function multiply(C, A, B) {\n    let i = 0;\n    let j = 0;\n    let k = 0;\n    let Ap = 0;\n    let pA = 0;\n    let pB = 0;\n    let _pB = 0;\n    let Cp = 0;\n    const ncols = A.cols;\n    const nrows = A.rows;\n    const mcols = B.cols;\n    const ad = A.data;\n    const bd = B.data;\n    const cd = C.data;\n    let sum = 0.0;\n    for (; i < nrows; Ap += ncols, i++) {\n        for (_pB = 0, j = 0; j < mcols; Cp++, _pB++, j++) {\n            pB = _pB;\n            pA = Ap;\n            sum = 0.0;\n            for (k = 0; k < ncols; pA++, pB += mcols, k++) {\n                sum += ad[pA] * bd[pB];\n            }\n            cd[Cp] = sum;\n        }\n    }\n}\n// C = A * B'\nexport function multiplyABt(C, A, B) {\n    let i = 0;\n    let j = 0;\n    let k = 0;\n    let Ap = 0;\n    let pA = 0;\n    let pB = 0;\n    let Cp = 0;\n    const ncols = A.cols;\n    const nrows = A.rows;\n    const mrows = B.rows;\n    const ad = A.data;\n    const bd = B.data;\n    const cd = C.data;\n    let sum = 0.0;\n    for (; i < nrows; Ap += ncols, i++) {\n        for (pB = 0, j = 0; j < mrows; Cp++, j++) {\n            pA = Ap;\n            sum = 0.0;\n            for (k = 0; k < ncols; pA++, pB++, k++) {\n                sum += ad[pA] * bd[pB];\n            }\n            cd[Cp] = sum;\n        }\n    }\n}\n// C = A' * B\nexport function multiplyAtB(C, A, B) {\n    let i = 0;\n    let j = 0;\n    let k = 0;\n    let Ap = 0;\n    let pA = 0;\n    let pB = 0;\n    let _pB = 0;\n    let Cp = 0;\n    const ncols = A.cols;\n    const nrows = A.rows;\n    const mcols = B.cols;\n    const ad = A.data;\n    const bd = B.data;\n    const cd = C.data;\n    let sum = 0.0;\n    for (; i < ncols; Ap++, i++) {\n        for (_pB = 0, j = 0; j < mcols; Cp++, _pB++, j++) {\n            pB = _pB;\n            pA = Ap;\n            sum = 0.0;\n            for (k = 0; k < nrows; pA += ncols, pB += mcols, k++) {\n                sum += ad[pA] * bd[pB];\n            }\n            cd[Cp] = sum;\n        }\n    }\n}\nexport function invert3x3(from, to) {\n    const A = from.data;\n    const invA = to.data;\n    const t1 = A[4];\n    const t2 = A[8];\n    const t4 = A[5];\n    const t5 = A[7];\n    const t8 = A[0];\n    const t9 = t8 * t1;\n    const t11 = t8 * t4;\n    const t13 = A[3];\n    const t14 = A[1];\n    const t15 = t13 * t14;\n    const t17 = A[2];\n    const t18 = t13 * t17;\n    const t20 = A[6];\n    const t21 = t20 * t14;\n    const t23 = t20 * t17;\n    const t26 = 1.0 / (t9 * t2 - t11 * t5 - t15 * t2 + t18 * t5 + t21 * t4 - t23 * t1);\n    invA[0] = (t1 * t2 - t4 * t5) * t26;\n    invA[1] = -(t14 * t2 - t17 * t5) * t26;\n    invA[2] = -(-t14 * t4 + t17 * t1) * t26;\n    invA[3] = -(t13 * t2 - t4 * t20) * t26;\n    invA[4] = (t8 * t2 - t23) * t26;\n    invA[5] = -(t11 - t18) * t26;\n    invA[6] = -(-t13 * t5 + t1 * t20) * t26;\n    invA[7] = -(t8 * t5 - t21) * t26;\n    invA[8] = (t9 - t15) * t26;\n}\nexport function mat3x3determinant(M) {\n    const md = M.data;\n    return md[0] * md[4] * md[8] -\n        md[0] * md[5] * md[7] -\n        md[3] * md[1] * md[8] +\n        md[3] * md[2] * md[7] +\n        md[6] * md[1] * md[5] -\n        md[6] * md[2] * md[4];\n}\n// C = A * B\nexport function multiply3x3(C, A, B) {\n    const Cd = C.data;\n    const Ad = A.data;\n    const Bd = B.data;\n    const m10 = Ad[0];\n    const m11 = Ad[1];\n    const m12 = Ad[2];\n    const m13 = Ad[3];\n    const m14 = Ad[4];\n    const m15 = Ad[5];\n    const m16 = Ad[6];\n    const m17 = Ad[7];\n    const m18 = Ad[8];\n    const m20 = Bd[0];\n    const m21 = Bd[1];\n    const m22 = Bd[2];\n    const m23 = Bd[3];\n    const m24 = Bd[4];\n    const m25 = Bd[5];\n    const m26 = Bd[6];\n    const m27 = Bd[7];\n    const m28 = Bd[8];\n    Cd[0] = m10 * m20 + m11 * m23 + m12 * m26;\n    Cd[1] = m10 * m21 + m11 * m24 + m12 * m27;\n    Cd[2] = m10 * m22 + m11 * m25 + m12 * m28;\n    Cd[3] = m13 * m20 + m14 * m23 + m15 * m26;\n    Cd[4] = m13 * m21 + m14 * m24 + m15 * m27;\n    Cd[5] = m13 * m22 + m14 * m25 + m15 * m28;\n    Cd[6] = m16 * m20 + m17 * m23 + m18 * m26;\n    Cd[7] = m16 * m21 + m17 * m24 + m18 * m27;\n    Cd[8] = m16 * m22 + m17 * m25 + m18 * m28;\n}\nexport function meanRows(A) {\n    const nrows = A.rows;\n    const ncols = A.cols;\n    const Ad = A.data;\n    const mean = new Array(ncols);\n    for (let j = 0; j < ncols; ++j) {\n        mean[j] = 0.0;\n    }\n    for (let i = 0, p = 0; i < nrows; ++i) {\n        for (let j = 0; j < ncols; ++j, ++p) {\n            mean[j] += Ad[p];\n        }\n    }\n    for (let j = 0; j < ncols; ++j) {\n        mean[j] /= nrows;\n    }\n    return mean;\n}\nexport function meanCols(A) {\n    const nrows = A.rows;\n    const ncols = A.cols;\n    const Ad = A.data;\n    const mean = new Array(nrows);\n    for (let j = 0; j < nrows; ++j) {\n        mean[j] = 0.0;\n    }\n    for (let i = 0, p = 0; i < ncols; ++i) {\n        for (let j = 0; j < nrows; ++j, ++p) {\n            mean[j] += Ad[p];\n        }\n    }\n    for (let j = 0; j < nrows; ++j) {\n        mean[j] /= ncols;\n    }\n    return mean;\n}\nexport function subRows(A, row) {\n    const nrows = A.rows;\n    const ncols = A.cols;\n    const Ad = A.data;\n    for (let i = 0, p = 0; i < nrows; ++i) {\n        for (let j = 0; j < ncols; ++j, ++p) {\n            Ad[p] -= row[j];\n        }\n    }\n}\nexport function subCols(A, col) {\n    const nrows = A.rows;\n    const ncols = A.cols;\n    const Ad = A.data;\n    for (let i = 0, p = 0; i < ncols; ++i) {\n        for (let j = 0; j < nrows; ++j, ++p) {\n            Ad[p] -= col[j];\n        }\n    }\n}\nexport function addRows(A, row) {\n    const nrows = A.rows;\n    const ncols = A.cols;\n    const Ad = A.data;\n    for (let i = 0, p = 0; i < nrows; ++i) {\n        for (let j = 0; j < ncols; ++j, ++p) {\n            Ad[p] += row[j];\n        }\n    }\n}\nexport function addCols(A, col) {\n    const nrows = A.rows;\n    const ncols = A.cols;\n    const Ad = A.data;\n    for (let i = 0, p = 0; i < ncols; ++i) {\n        for (let j = 0; j < nrows; ++j, ++p) {\n            Ad[p] += col[j];\n        }\n    }\n}\nexport function swap(A, i0, i1, t) {\n    t = A[i0];\n    A[i0] = A[i1];\n    A[i1] = t;\n}\nexport function hypot(a, b) {\n    a = Math.abs(a);\n    b = Math.abs(b);\n    if (a > b) {\n        b /= a;\n        return a * Math.sqrt(1.0 + b * b);\n    }\n    if (b > 0) {\n        a /= b;\n        return b * Math.sqrt(1.0 + a * a);\n    }\n    return 0.0;\n}\nconst EPSILON = 0.0000001192092896;\nconst FLT_MIN = 1E-37;\nexport function JacobiSVDImpl(At, astep, _W, Vt, vstep, m, n, n1) {\n    const eps = EPSILON * 2.0;\n    const minval = FLT_MIN;\n    let i = 0;\n    let j = 0;\n    let k = 0;\n    let iter = 0;\n    const maxIter = Math.max(m, 30);\n    let Ai = 0;\n    let Aj = 0;\n    let Vi = 0;\n    let Vj = 0;\n    let changed = 0;\n    let c = 0.0;\n    let s = 0.0;\n    let t = 0.0;\n    let t0 = 0.0;\n    let t1 = 0.0;\n    let sd = 0.0;\n    let beta = 0.0;\n    let gamma = 0.0;\n    let delta = 0.0;\n    let a = 0.0;\n    let p = 0.0;\n    let b = 0.0;\n    let seed = 0x1234;\n    let val = 0.0;\n    let val0 = 0.0;\n    let asum = 0.0;\n    const W = new Float64Array(n << 3);\n    for (; i < n; i++) {\n        for (k = 0, sd = 0; k < m; k++) {\n            t = At[i * astep + k];\n            sd += t * t;\n        }\n        W[i] = sd;\n        if (Vt) {\n            for (k = 0; k < n; k++) {\n                Vt[i * vstep + k] = 0;\n            }\n            Vt[i * vstep + i] = 1;\n        }\n    }\n    for (; iter < maxIter; iter++) {\n        changed = 0;\n        for (i = 0; i < n - 1; i++) {\n            for (j = i + 1; j < n; j++) {\n                Ai = (i * astep) | 0;\n                Aj = (j * astep) | 0;\n                a = W[i];\n                p = 0;\n                b = W[j];\n                k = 2;\n                p += At[Ai] * At[Aj];\n                p += At[Ai + 1] * At[Aj + 1];\n                for (; k < m; k++) {\n                    p += At[Ai + k] * At[Aj + k];\n                }\n                if (Math.abs(p) <= eps * Math.sqrt(a * b))\n                    continue;\n                p *= 2.0;\n                beta = a - b;\n                gamma = hypot(p, beta);\n                if (beta < 0) {\n                    delta = (gamma - beta) * 0.5;\n                    s = Math.sqrt(delta / gamma);\n                    c = (p / (gamma * s * 2.0));\n                }\n                else {\n                    c = Math.sqrt((gamma + beta) / (gamma * 2.0));\n                    s = (p / (gamma * c * 2.0));\n                }\n                a = 0.0;\n                b = 0.0;\n                k = 2; // unroll\n                t0 = c * At[Ai] + s * At[Aj];\n                t1 = -s * At[Ai] + c * At[Aj];\n                At[Ai] = t0;\n                At[Aj] = t1;\n                a += t0 * t0;\n                b += t1 * t1;\n                t0 = c * At[Ai + 1] + s * At[Aj + 1];\n                t1 = -s * At[Ai + 1] + c * At[Aj + 1];\n                At[Ai + 1] = t0;\n                At[Aj + 1] = t1;\n                a += t0 * t0;\n                b += t1 * t1;\n                for (; k < m; k++) {\n                    t0 = c * At[Ai + k] + s * At[Aj + k];\n                    t1 = -s * At[Ai + k] + c * At[Aj + k];\n                    At[Ai + k] = t0;\n                    At[Aj + k] = t1;\n                    a += t0 * t0;\n                    b += t1 * t1;\n                }\n                W[i] = a;\n                W[j] = b;\n                changed = 1;\n                if (Vt) {\n                    Vi = (i * vstep) | 0;\n                    Vj = (j * vstep) | 0;\n                    k = 2;\n                    t0 = c * Vt[Vi] + s * Vt[Vj];\n                    t1 = -s * Vt[Vi] + c * Vt[Vj];\n                    Vt[Vi] = t0;\n                    Vt[Vj] = t1;\n                    t0 = c * Vt[Vi + 1] + s * Vt[Vj + 1];\n                    t1 = -s * Vt[Vi + 1] + c * Vt[Vj + 1];\n                    Vt[Vi + 1] = t0;\n                    Vt[Vj + 1] = t1;\n                    for (; k < n; k++) {\n                        t0 = c * Vt[Vi + k] + s * Vt[Vj + k];\n                        t1 = -s * Vt[Vi + k] + c * Vt[Vj + k];\n                        Vt[Vi + k] = t0;\n                        Vt[Vj + k] = t1;\n                    }\n                }\n            }\n        }\n        if (changed === 0)\n            break;\n    }\n    for (i = 0; i < n; i++) {\n        for (k = 0, sd = 0; k < m; k++) {\n            t = At[i * astep + k];\n            sd += t * t;\n        }\n        W[i] = Math.sqrt(sd);\n    }\n    for (i = 0; i < n - 1; i++) {\n        j = i;\n        for (k = i + 1; k < n; k++) {\n            if (W[j] < W[k]) {\n                j = k;\n            }\n        }\n        if (i !== j) {\n            swap(W, i, j, sd);\n            if (Vt) {\n                for (k = 0; k < m; k++) {\n                    swap(At, i * astep + k, j * astep + k, t);\n                }\n                for (k = 0; k < n; k++) {\n                    swap(Vt, i * vstep + k, j * vstep + k, t);\n                }\n            }\n        }\n    }\n    for (i = 0; i < n; i++) {\n        _W[i] = W[i];\n    }\n    if (!Vt) {\n        return;\n    }\n    for (i = 0; i < n1; i++) {\n        sd = i < n ? W[i] : 0;\n        while (sd <= minval) {\n            // if we got a zero singular value, then in order to get the corresponding left singular vector\n            // we generate a random vector, project it to the previously computed left singular vectors,\n            // subtract the projection and normalize the difference.\n            val0 = (1.0 / m);\n            for (k = 0; k < m; k++) {\n                seed = (seed * 214013 + 2531011);\n                val = (((seed >> 16) & 0x7fff) & 256) !== 0 ? val0 : -val0;\n                At[i * astep + k] = val;\n            }\n            for (iter = 0; iter < 2; iter++) {\n                for (j = 0; j < i; j++) {\n                    sd = 0;\n                    for (k = 0; k < m; k++) {\n                        sd += At[i * astep + k] * At[j * astep + k];\n                    }\n                    asum = 0.0;\n                    for (k = 0; k < m; k++) {\n                        t = (At[i * astep + k] - sd * At[j * astep + k]);\n                        At[i * astep + k] = t;\n                        asum += Math.abs(t);\n                    }\n                    asum = asum ? 1.0 / asum : 0;\n                    for (k = 0; k < m; k++) {\n                        At[i * astep + k] *= asum;\n                    }\n                }\n            }\n            sd = 0;\n            for (k = 0; k < m; k++) {\n                t = At[i * astep + k];\n                sd += t * t;\n            }\n            sd = Math.sqrt(sd);\n        }\n        s = (1.0 / sd);\n        for (k = 0; k < m; k++) {\n            At[i * astep + k] *= s;\n        }\n    }\n}\nexport function svd(A, W, U, V) {\n    let at = 0;\n    let i = 0;\n    const _m = A.rows;\n    const _n = A.cols;\n    let m = _m;\n    let n = _n;\n    if (m < n) {\n        at = 1;\n        i = m;\n        m = n;\n        n = i;\n    }\n    const amt = new Matrix(m, m);\n    const wmt = new Matrix(1, n);\n    const vmt = new Matrix(n, n);\n    if (at === 0) {\n        transpose(amt, A);\n    }\n    else {\n        for (i = 0; i < _n * _m; i++) {\n            amt.data[i] = A.data[i];\n        }\n        for (; i < n * m; i++) {\n            amt.data[i] = 0;\n        }\n    }\n    JacobiSVDImpl(amt.data, m, wmt.data, vmt.data, n, m, n, m);\n    if (W) {\n        for (i = 0; i < n; i++) {\n            W.data[i] = wmt.data[i];\n        }\n        for (; i < _n; i++) {\n            W.data[i] = 0;\n        }\n    }\n    if (at === 0) {\n        if (U)\n            transpose(U, amt);\n        if (V)\n            transpose(V, vmt);\n    }\n    else {\n        if (U)\n            transpose(U, vmt);\n        if (V)\n            transpose(V, amt);\n    }\n}\n//\nexport function m4new() {\n    return new Float32Array([\n        1, 0, 0, 0,\n        0, 1, 0, 0,\n        0, 0, 1, 0,\n        0, 0, 0, 1\n    ]);\n}\nexport function m4set(out, n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44) {\n    out[0] = n11;\n    out[4] = n12;\n    out[8] = n13;\n    out[12] = n14;\n    out[1] = n21;\n    out[5] = n22;\n    out[9] = n23;\n    out[13] = n24;\n    out[2] = n31;\n    out[6] = n32;\n    out[10] = n33;\n    out[14] = n34;\n    out[3] = n41;\n    out[7] = n42;\n    out[11] = n43;\n    out[15] = n44;\n}\nexport function m4identity(out) {\n    m4set(out, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n}\nm4identity.__deps = [m4set];\nexport function m4multiply(out, a, b) {\n    const a11 = a[0];\n    const a12 = a[4];\n    const a13 = a[8];\n    const a14 = a[12];\n    const a21 = a[1];\n    const a22 = a[5];\n    const a23 = a[9];\n    const a24 = a[13];\n    const a31 = a[2];\n    const a32 = a[6];\n    const a33 = a[10];\n    const a34 = a[14];\n    const a41 = a[3];\n    const a42 = a[7];\n    const a43 = a[11];\n    const a44 = a[15];\n    const b11 = b[0];\n    const b12 = b[4];\n    const b13 = b[8];\n    const b14 = b[12];\n    const b21 = b[1];\n    const b22 = b[5];\n    const b23 = b[9];\n    const b24 = b[13];\n    const b31 = b[2];\n    const b32 = b[6];\n    const b33 = b[10];\n    const b34 = b[14];\n    const b41 = b[3];\n    const b42 = b[7];\n    const b43 = b[11];\n    const b44 = b[15];\n    out[0] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n    out[4] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n    out[8] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n    out[12] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n    out[1] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n    out[5] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n    out[9] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n    out[13] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n    out[2] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n    out[6] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n    out[10] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n    out[14] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n    out[3] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n    out[7] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n    out[11] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n    out[15] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n}\nexport function m4makeScale(out, x, y, z) {\n    m4set(out, x, 0, 0, 0, 0, y, 0, 0, 0, 0, z, 0, 0, 0, 0, 1);\n}\nm4makeScale.__deps = [m4set];\nexport function m4makeTranslation(out, x, y, z) {\n    m4set(out, 1, 0, 0, x, 0, 1, 0, y, 0, 0, 1, z, 0, 0, 0, 1);\n}\nm4makeTranslation.__deps = [m4set];\nexport function m4makeRotationY(out, theta) {\n    const c = Math.cos(theta);\n    const s = Math.sin(theta);\n    m4set(out, c, 0, s, 0, 0, 1, 0, 0, -s, 0, c, 0, 0, 0, 0, 1);\n}\nm4makeRotationY.__deps = [m4set];\n//\nexport function m3new() {\n    return new Float32Array([\n        1, 0, 0,\n        0, 1, 0,\n        0, 0, 1\n    ]);\n}\nexport function m3makeNormal(out, m4) {\n    const r0 = v3new([m4[0], m4[1], m4[2]]);\n    const r1 = v3new([m4[4], m4[5], m4[6]]);\n    const r2 = v3new([m4[8], m4[9], m4[10]]);\n    const cp = v3new();\n    //        [ r0 ]       [ r1 x r2 ]\n    // M3x3 = [ r1 ]   N = [ r2 x r0 ]\n    //        [ r2 ]       [ r0 x r1 ]\n    v3cross(cp, r1, r2);\n    out[0] = cp[0];\n    out[1] = cp[1];\n    out[2] = cp[2];\n    v3cross(cp, r2, r0);\n    out[3] = cp[0];\n    out[4] = cp[1];\n    out[5] = cp[2];\n    v3cross(cp, r0, r1);\n    out[6] = cp[0];\n    out[7] = cp[1];\n    out[8] = cp[2];\n}\nm3makeNormal.__deps = [v3new, v3cross];\n//# sourceMappingURL=matrix-utils.js.map","/**\n * @file Surface Utils\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { degToRad } from '../math/math-utils';\nimport { m4new, m4multiply, m4makeTranslation, m4makeScale, m4makeRotationY } from '../math/matrix-utils';\nimport { v3addScalar, v3subScalar, v3divideScalar, v3multiplyScalar, v3floor, v3ceil, v3sub, v3negate, v3cross, v3fromArray, normalizeVector3array } from '../math/vector-utils';\nfunction laplacianSmooth(verts, faces, numiter, inflate) {\n    // based on D. Xu, Y. Zhang (2009) Generating Triangulated Macromolecular\n    // Surfaces by Euclidean Distance Transform. PLoS ONE 4(12): e8140.\n    //\n    // Permission to use, copy, modify, and distribute this program for\n    // any purpose, with or without fee, is hereby granted, provided that\n    // the notices on the head, the reference information, and this\n    // copyright notice appear in all copies or substantial portions of\n    // the Software. It is provided \"as is\" without express or implied\n    // warranty.\n    //\n    // ported to JavaScript and adapted to NGL by Alexander Rose\n    numiter = numiter || 1;\n    inflate = inflate || true;\n    const nv = verts.length / 3;\n    const nf = faces.length / 3;\n    let norms = undefined;\n    if (inflate) {\n        norms = new Float32Array(nv * 3);\n    }\n    const tps = new Float32Array(nv * 3);\n    let i;\n    const ndeg = 20;\n    const vertdeg = new Array(ndeg);\n    for (i = 0; i < ndeg; ++i) {\n        vertdeg[i] = new Uint32Array(nv);\n    }\n    for (i = 0; i < nv; ++i) {\n        vertdeg[0][i] = 0;\n    }\n    let j, jl;\n    let flagvert;\n    // for each face\n    for (i = 0; i < nf; ++i) {\n        var ao = i * 3;\n        var bo = i * 3 + 1;\n        var co = i * 3 + 2;\n        // vertex a\n        flagvert = true;\n        for (j = 0, jl = vertdeg[0][faces[ao]]; j < jl; ++j) {\n            if (faces[bo] === vertdeg[j + 1][faces[ao]]) {\n                flagvert = false;\n                break;\n            }\n        }\n        if (flagvert) {\n            vertdeg[0][faces[ao]]++;\n            vertdeg[vertdeg[0][faces[ao]]][faces[ao]] = faces[bo];\n        }\n        flagvert = true;\n        for (j = 0, jl = vertdeg[0][faces[ao]]; j < jl; ++j) {\n            if (faces[co] === vertdeg[j + 1][faces[ao]]) {\n                flagvert = false;\n                break;\n            }\n        }\n        if (flagvert) {\n            vertdeg[0][faces[ao]]++;\n            vertdeg[vertdeg[0][faces[ao]]][faces[ao]] = faces[co];\n        }\n        // vertex b\n        flagvert = true;\n        for (j = 0, jl = vertdeg[0][faces[bo]]; j < jl; ++j) {\n            if (faces[ao] === vertdeg[j + 1][faces[bo]]) {\n                flagvert = false;\n                break;\n            }\n        }\n        if (flagvert) {\n            vertdeg[0][faces[bo]]++;\n            vertdeg[vertdeg[0][faces[bo]]][faces[bo]] = faces[ao];\n        }\n        flagvert = true;\n        for (j = 0, jl = vertdeg[0][faces[bo]]; j < jl; ++j) {\n            if (faces[co] === vertdeg[j + 1][faces[bo]]) {\n                flagvert = false;\n                break;\n            }\n        }\n        if (flagvert) {\n            vertdeg[0][faces[bo]]++;\n            vertdeg[vertdeg[0][faces[bo]]][faces[bo]] = faces[co];\n        }\n        // vertex c\n        flagvert = true;\n        for (j = 0; j < vertdeg[0][faces[co]]; ++j) {\n            if (faces[ao] === vertdeg[j + 1][faces[co]]) {\n                flagvert = false;\n                break;\n            }\n        }\n        if (flagvert) {\n            vertdeg[0][faces[co]]++;\n            vertdeg[vertdeg[0][faces[co]]][faces[co]] = faces[ao];\n        }\n        flagvert = true;\n        for (j = 0, jl = vertdeg[0][faces[co]]; j < jl; ++j) {\n            if (faces[bo] === vertdeg[j + 1][faces[co]]) {\n                flagvert = false;\n                break;\n            }\n        }\n        if (flagvert) {\n            vertdeg[0][faces[co]]++;\n            vertdeg[vertdeg[0][faces[co]]][faces[co]] = faces[bo];\n        }\n    }\n    var wt = 1.0;\n    var wt2 = 0.5;\n    var i3, vi3, vdi, wtvi, wt2vi;\n    var ssign = -1;\n    var scaleFactor = 1;\n    var outwt = 0.75 / (scaleFactor + 3.5); // area-preserving\n    // smoothing iterations\n    for (var k = 0; k < numiter; ++k) {\n        // for each vertex\n        for (i = 0; i < nv; ++i) {\n            i3 = i * 3;\n            vdi = vertdeg[0][i];\n            if (vdi < 3) {\n                tps[i3] = verts[i3];\n                tps[i3 + 1] = verts[i3 + 1];\n                tps[i3 + 2] = verts[i3 + 2];\n            }\n            else if (vdi === 3 || vdi === 4) {\n                tps[i3] = 0;\n                tps[i3 + 1] = 0;\n                tps[i3 + 2] = 0;\n                for (j = 0; j < vdi; ++j) {\n                    vi3 = vertdeg[j + 1][i] * 3;\n                    tps[i3] += verts[vi3];\n                    tps[i3 + 1] += verts[vi3 + 1];\n                    tps[i3 + 2] += verts[vi3 + 2];\n                }\n                tps[i3] += wt2 * verts[i3];\n                tps[i3 + 1] += wt2 * verts[i3 + 1];\n                tps[i3 + 2] += wt2 * verts[i3 + 2];\n                wt2vi = wt2 + vdi;\n                tps[i3] /= wt2vi;\n                tps[i3 + 1] /= wt2vi;\n                tps[i3 + 2] /= wt2vi;\n            }\n            else {\n                tps[i3] = 0;\n                tps[i3 + 1] = 0;\n                tps[i3 + 2] = 0;\n                for (j = 0; j < vdi; ++j) {\n                    vi3 = vertdeg[j + 1][i] * 3;\n                    tps[i3] += verts[vi3];\n                    tps[i3 + 1] += verts[vi3 + 1];\n                    tps[i3 + 2] += verts[vi3 + 2];\n                }\n                tps[i3] += wt * verts[i3];\n                tps[i3 + 1] += wt * verts[i3 + 1];\n                tps[i3 + 2] += wt * verts[i3 + 2];\n                wtvi = wt + vdi;\n                tps[i3] /= wtvi;\n                tps[i3 + 1] /= wtvi;\n                tps[i3 + 2] /= wtvi;\n            }\n        }\n        verts.set(tps); // copy smoothed positions\n        if (inflate) {\n            computeVertexNormals(verts, faces, norms);\n            var nv3 = nv * 3;\n            for (i3 = 0; i3 < nv3; i3 += 3) {\n                // if(verts[i].inout) ssign=1;\n                // else ssign=-1;\n                verts[i3] += ssign * outwt * norms[i3];\n                verts[i3 + 1] += ssign * outwt * norms[i3 + 1];\n                verts[i3 + 2] += ssign * outwt * norms[i3 + 2];\n            }\n        }\n    }\n}\nObject.assign(laplacianSmooth, { __deps: [computeVertexNormals] });\nfunction computeVertexNormals(position, index, normal) {\n    var i, il;\n    if (normal === undefined) {\n        normal = new Float32Array(position.length);\n    }\n    else {\n        // reset existing normals to zero\n        for (i = 0, il = normal.length; i < il; i++) {\n            normal[i] = 0;\n        }\n    }\n    var a = new Float32Array(3);\n    var b = new Float32Array(3);\n    var c = new Float32Array(3);\n    var cb = new Float32Array(3);\n    var ab = new Float32Array(3);\n    if (index) {\n        // indexed elements\n        for (i = 0, il = index.length; i < il; i += 3) {\n            var ai = index[i] * 3;\n            var bi = index[i + 1] * 3;\n            var ci = index[i + 2] * 3;\n            v3fromArray(a, position, ai);\n            v3fromArray(b, position, bi);\n            v3fromArray(c, position, ci);\n            v3sub(cb, c, b);\n            v3sub(ab, a, b);\n            v3cross(cb, cb, ab);\n            normal[ai] += cb[0];\n            normal[ai + 1] += cb[1];\n            normal[ai + 2] += cb[2];\n            normal[bi] += cb[0];\n            normal[bi + 1] += cb[1];\n            normal[bi + 2] += cb[2];\n            normal[ci] += cb[0];\n            normal[ci + 1] += cb[1];\n            normal[ci + 2] += cb[2];\n        }\n    }\n    else {\n        // non-indexed elements (unconnected triangle soup)\n        for (i = 0, il = position.length; i < il; i += 9) {\n            v3fromArray(a, position, i);\n            v3fromArray(b, position, i + 3);\n            v3fromArray(c, position, i + 6);\n            v3sub(cb, c, b);\n            v3sub(ab, a, b);\n            v3cross(cb, cb, ab);\n            normal[i] = cb[0];\n            normal[i + 1] = cb[1];\n            normal[i + 2] = cb[2];\n            normal[i + 3] = cb[0];\n            normal[i + 4] = cb[1];\n            normal[i + 5] = cb[2];\n            normal[i + 6] = cb[0];\n            normal[i + 7] = cb[1];\n            normal[i + 8] = cb[2];\n        }\n    }\n    normalizeVector3array(normal);\n    return normal;\n}\nObject.assign(computeVertexNormals, { __deps: [\n        v3sub, v3cross, v3fromArray, normalizeVector3array\n    ] });\nfunction getRadiusDict(radiusList) {\n    var radiusDict = {};\n    for (var i = 0, il = radiusList.length; i < il; ++i) {\n        radiusDict[radiusList[i]] = true;\n    }\n    return radiusDict;\n}\nfunction getSurfaceGrid(min, max, maxRadius, scaleFactor, extraMargin) {\n    // need margin to avoid boundary/round off effects\n    var margin = (1 / scaleFactor) * 3;\n    margin += maxRadius;\n    v3subScalar(min, min, extraMargin + margin);\n    v3addScalar(max, max, extraMargin + margin);\n    v3multiplyScalar(min, min, scaleFactor);\n    v3floor(min, min);\n    v3divideScalar(min, min, scaleFactor);\n    v3multiplyScalar(max, max, scaleFactor);\n    v3ceil(max, max);\n    v3divideScalar(max, max, scaleFactor);\n    var dim = new Float32Array(3);\n    v3sub(dim, max, min);\n    v3multiplyScalar(dim, dim, scaleFactor);\n    v3ceil(dim, dim);\n    v3addScalar(dim, dim, 1);\n    var maxSize = Math.pow(10, 6) * 256;\n    var tmpSize = dim[0] * dim[1] * dim[2] * 3;\n    if (maxSize <= tmpSize) {\n        scaleFactor *= Math.pow(maxSize / tmpSize, 1 / 3);\n        v3multiplyScalar(min, min, scaleFactor);\n        v3floor(min, min);\n        v3divideScalar(min, min, scaleFactor);\n        v3multiplyScalar(max, max, scaleFactor);\n        v3ceil(max, max);\n        v3divideScalar(max, max, scaleFactor);\n        v3sub(dim, max, min);\n        v3multiplyScalar(dim, dim, scaleFactor);\n        v3ceil(dim, dim);\n        v3addScalar(dim, dim, 1);\n    }\n    var tran = new Float32Array(min);\n    v3negate(tran, tran);\n    // coordinate transformation matrix\n    var matrix = m4new();\n    var mroty = m4new();\n    m4makeRotationY(mroty, degToRad(90));\n    m4multiply(matrix, matrix, mroty);\n    var mscale = m4new();\n    m4makeScale(mscale, -1 / scaleFactor, 1 / scaleFactor, 1 / scaleFactor);\n    m4multiply(matrix, matrix, mscale);\n    var mtrans = m4new();\n    m4makeTranslation(mtrans, -scaleFactor * tran[2], -scaleFactor * tran[1], -scaleFactor * tran[0]);\n    m4multiply(matrix, matrix, mtrans);\n    return {\n        dim: dim,\n        tran: tran,\n        matrix: matrix,\n        scaleFactor: scaleFactor\n    };\n}\nObject.assign(getSurfaceGrid, { '__deps': [\n        degToRad,\n        v3subScalar, v3addScalar, v3divideScalar, v3multiplyScalar,\n        v3floor, v3ceil, v3sub, v3negate,\n        m4new, m4multiply, m4makeTranslation, m4makeScale, m4makeRotationY\n    ] });\nexport { laplacianSmooth, computeVertexNormals, getRadiusDict, getSurfaceGrid };\n//# sourceMappingURL=surface-utils.js.map","/**\n * @file Surface\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3, Box3, Geometry, BufferGeometry, Group, Color } from 'three';\nimport { Debug, Log, ColormakerRegistry } from '../globals';\nimport { getUintArray } from '../utils';\nimport { AtomPicker, SurfacePicker } from '../utils/picker';\nimport { uniformArray, uniformArray3, serialArray } from '../math/array-utils';\nimport Selection from '../selection/selection';\n/**\n * Surface\n */\nclass Surface {\n    /**\n     * @param {String} name - surface name\n     * @param {String} path - source path\n     * @param {Object} data - surface data\n     * @param {Float32Array} data.position - surface positions\n     * @param {Int32Array} data.index - surface indices\n     * @param {Float32Array} data.normal - surface normals\n     * @param {Float32Array} data.color - surface colors\n     * @param {Int32Array} data.atomindex - atom indices\n     * @param {boolean} data.contour - contour mode flag\n     */\n    constructor(name, path, data) {\n        this.name = name || '';\n        this.path = path || '';\n        this.info = {};\n        this.center = new Vector3();\n        this.boundingBox = new Box3();\n        if (data instanceof Geometry ||\n            data instanceof BufferGeometry ||\n            data instanceof Group) {\n            // to be removed\n            this.fromGeometry(data);\n        }\n        else if (data) {\n            this.set(data.position, data.index, data.normal, data.color, data.atomindex, data.contour);\n            this.boundingBox.setFromArray(data.position);\n            this.boundingBox.getCenter(this.center);\n        }\n    }\n    get type() { return 'Surface'; }\n    /**\n     * set surface data\n     * @param {Float32Array} position - surface positions\n     * @param {Int32Array} index - surface indices\n     * @param {Float32Array} normal - surface normals\n     * @param {Float32Array} color - surface colors\n     * @param {Int32Array} atomindex - atom indices\n     * @param {boolean} contour - contour mode flag\n     * @return {undefined}\n     */\n    set(position, index, normal, color, atomindex, contour = false) {\n        /**\n         * @type {Float32Array}\n         */\n        this.position = position;\n        /**\n         * @type {Uint32Array|Uint16Array|undefined}\n         */\n        this.index = index;\n        /**\n         * @type {Float32Array|undefined}\n         */\n        this.normal = normal;\n        /**\n         * @type {Float32Array|undefined}\n         */\n        this.color = color;\n        /**\n         * @type {Int32Array|undefined}\n         */\n        this.atomindex = atomindex;\n        this.size = position.length / 3;\n        this.contour = contour;\n    }\n    fromGeometry(geometry) {\n        if (Debug)\n            Log.time('GeometrySurface.fromGeometry');\n        let geo;\n        if (geometry instanceof Geometry) {\n            geometry.computeVertexNormals(true);\n            geo = new BufferGeometry().fromGeometry(geometry);\n        }\n        else if (geometry instanceof BufferGeometry) {\n            geo = geometry;\n        }\n        else {\n            geo = geometry[0];\n        }\n        if (!geo.boundingBox)\n            geo.computeBoundingBox();\n        this.boundingBox.copy(geo.boundingBox);\n        this.boundingBox.getCenter(this.center);\n        let position, color, index, normal;\n        if (geo instanceof BufferGeometry) {\n            const attr = geo.attributes;\n            const an = attr.normal ? attr.normal.array : false;\n            // assume there are no normals if the first is zero\n            if (!an || (an[0] === 0 && an[1] === 0 && an[2] === 0)) {\n                geo.computeVertexNormals();\n            }\n            position = attr.position.array;\n            index = attr.index ? attr.index.array : null;\n            normal = attr.normal.array;\n        }\n        this.set(position, index, normal, color, undefined);\n        if (Debug)\n            Log.timeEnd('GeometrySurface.setGeometry');\n    }\n    getPosition() {\n        return this.position;\n    }\n    getColor(params) {\n        const p = params || {};\n        p.surface = this;\n        const n = this.size;\n        const array = new Float32Array(n * 3);\n        const colormaker = ColormakerRegistry.getScheme(p);\n        if (colormaker.volumeColor || p.scheme === 'random') {\n            for (let i = 0; i < n; ++i) {\n                colormaker.volumeColorToArray(i, array, i * 3);\n            }\n        }\n        else if (colormaker.positionColor) {\n            const v = new Vector3();\n            const pos = this.position;\n            for (let i = 0; i < n; ++i) {\n                var i3 = i * 3;\n                v.set(pos[i3], pos[i3 + 1], pos[i3 + 2]);\n                colormaker.positionColorToArray(v, array, i3);\n            }\n        }\n        else if (colormaker.atomColor && this.atomindex) {\n            const atomProxy = p.structure.getAtomProxy();\n            const atomindex = this.atomindex;\n            for (let i = 0; i < n; ++i) {\n                atomProxy.index = atomindex[i];\n                colormaker.atomColorToArray(atomProxy, array, i * 3);\n            }\n        }\n        else {\n            const tc = new Color(p.value);\n            uniformArray3(n, tc.r, tc.g, tc.b, array);\n        }\n        return array;\n    }\n    getPicking(structure) {\n        if (this.atomindex && structure) {\n            return new AtomPicker(this.atomindex, structure);\n        }\n        else {\n            return new SurfacePicker(serialArray(this.size), this);\n        }\n    }\n    getNormal() {\n        return this.normal;\n    }\n    getSize(size, scale) {\n        return uniformArray(this.size, size * scale);\n    }\n    getIndex() {\n        return this.index;\n    }\n    getFilteredIndex(sele, structure) {\n        if (sele && this.atomindex) {\n            const selection = new Selection(sele);\n            const atomSet = structure.getAtomSet(selection);\n            const filteredIndex = [];\n            const atomindex = this.atomindex;\n            const index = this.index;\n            const n = index.length;\n            const elementSize = this.contour ? 2 : 3;\n            let j = 0;\n            for (let i = 0; i < n; i += elementSize) {\n                let include = true;\n                for (let a = 0; a < elementSize; a++) {\n                    const idx = index[i + a];\n                    const ai = atomindex[idx];\n                    if (!atomSet.get(ai)) {\n                        include = false;\n                        break;\n                    }\n                }\n                if (!include) {\n                    continue;\n                }\n                for (let a = 0; a < elementSize; a++, j++) {\n                    filteredIndex[j] = index[i + a];\n                }\n            }\n            return getUintArray(filteredIndex, this.position.length / 3);\n        }\n        else {\n            return this.index;\n        }\n    }\n    getAtomindex() {\n        return this.atomindex;\n    }\n    dispose() {\n        //\n    }\n}\nexport default Surface;\n//# sourceMappingURL=surface.js.map","/**\n * @file Volume\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3, Box3, Matrix3, Matrix4 } from 'three';\nimport { WorkerRegistry, ColormakerRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport WorkerPool from '../worker/worker-pool';\nimport { VolumePicker } from '../utils/picker';\nimport { uniformArray, serialArray, arrayMin, arrayMax, arraySum, arrayMean, arrayRms } from '../math/array-utils';\nimport MarchingCubes from './marching-cubes';\nimport { laplacianSmooth, computeVertexNormals } from './surface-utils';\nimport { applyMatrix4toVector3array, applyMatrix3toVector3array } from '../math/vector-utils';\nimport { m3new, m3makeNormal } from '../math/matrix-utils';\nimport Surface from './surface';\nexport function VolumeSurface(data, nx, ny, nz, atomindex) {\n    var mc = new MarchingCubes(data, nx, ny, nz, atomindex);\n    function getSurface(isolevel, smooth, box, matrix, contour, wrap = false) {\n        const sd = mc.triangulate(isolevel, smooth, box, contour, wrap);\n        if (smooth && !contour) {\n            laplacianSmooth(sd.position, sd.index, smooth, true);\n            sd.normal = computeVertexNormals(sd.position, sd.index);\n        }\n        if (matrix) {\n            applyMatrix4toVector3array(matrix, sd.position);\n            if (sd.normal) {\n                const normalMatrix = m3new();\n                m3makeNormal(normalMatrix, matrix);\n                applyMatrix3toVector3array(normalMatrix, sd.normal);\n            }\n        }\n        return sd;\n    }\n    this.getSurface = getSurface;\n}\nObject.assign(VolumeSurface, { __deps: [\n        laplacianSmooth, computeVertexNormals, MarchingCubes,\n        applyMatrix4toVector3array, applyMatrix3toVector3array,\n        m3new, m3makeNormal\n    ] });\nWorkerRegistry.add('surf', function func(e, callback) {\n    const a = e.data.args;\n    const p = e.data.params;\n    if (a) {\n        /* global self */\n        self.volsurf = new VolumeSurface(a[0], a[1], a[2], a[3], a[4]);\n    }\n    if (p) {\n        const sd = self.volsurf.getSurface(p.isolevel, p.smooth, p.box, p.matrix, p.contour, p.wrap);\n        const transferList = [sd.position.buffer, sd.index.buffer];\n        if (sd.normal)\n            transferList.push(sd.normal.buffer);\n        if (sd.atomindex)\n            transferList.push(sd.atomindex.buffer);\n        const data = {\n            sd: sd,\n            p: p\n        };\n        callback(data, transferList);\n    }\n}, [VolumeSurface]);\n/**\n * Volume\n */\nclass Volume {\n    /**\n     * Make Volume instance\n     * @param {String} name - volume name\n     * @param {String} path - source path\n     * @param {Float32array} data - volume 3d grid\n     * @param {Integer} nx - x dimension of the 3d volume\n     * @param {Integer} ny - y dimension of the 3d volume\n     * @param {Integer} nz - z dimension of the 3d volume\n     * @param {Int32Array} atomindex - atom indices corresponding to the cells in the 3d grid\n     */\n    constructor(name, path, data, nx, ny, nz, atomindex) {\n        this.name = name;\n        this.path = path;\n        this.matrix = new Matrix4();\n        this.normalMatrix = new Matrix3();\n        this.inverseMatrix = new Matrix4();\n        this.center = new Vector3();\n        this.boundingBox = new Box3();\n        this.setData(data, nx, ny, nz, atomindex);\n    }\n    get type() { return 'Volume'; }\n    /**\n     * set volume data\n     * @param {Float32array} data - volume 3d grid\n     * @param {Integer} nx - x dimension of the 3d volume\n     * @param {Integer} ny - y dimension of the 3d volume\n     * @param {Integer} nz - z dimension of the 3d volume\n     * @param {Int32Array} atomindex - atom indices corresponding to the cells in the 3d grid\n     * @return {undefined}\n     */\n    setData(data, nx, ny, nz, atomindex) {\n        this.nx = nx || 1;\n        this.ny = ny || 1;\n        this.nz = nz || 1;\n        this.data = data || new Float32Array(1);\n        this.setAtomindex(atomindex);\n        delete this._position;\n        delete this._min;\n        delete this._max;\n        delete this._mean;\n        delete this._rms;\n        if (this.worker)\n            this.worker.terminate();\n    }\n    /**\n     * Set statistics, which can be different from the data in this volume,\n     * if this volume is a slice of a bigger volume\n     * @param {Number|undefined} min - minimum value of the whole data set\n     * @param {Number|undefined} max - maximum value of the whole data set\n     * @param {Number|undefined} mean - average value of the whole data set\n     * @param {Number|undefined} rms - sigma value of the whole data set\n     */\n    setStats(min, max, mean, rms) {\n        this._min = min;\n        this._max = max;\n        this._mean = mean;\n        this._rms = rms;\n    }\n    /**\n     * set transformation matrix\n     * @param {Matrix4} matrix - 4x4 transformation matrix\n     * @return {undefined}\n     */\n    setMatrix(matrix) {\n        this.matrix.copy(matrix);\n        const bb = this.boundingBox;\n        const v = this.center; // temporary re-purposing\n        const x = this.nx - 1;\n        const y = this.ny - 1;\n        const z = this.nz - 1;\n        bb.makeEmpty();\n        bb.expandByPoint(v.set(x, y, z));\n        bb.expandByPoint(v.set(x, y, 0));\n        bb.expandByPoint(v.set(x, 0, z));\n        bb.expandByPoint(v.set(x, 0, 0));\n        bb.expandByPoint(v.set(0, y, z));\n        bb.expandByPoint(v.set(0, 0, z));\n        bb.expandByPoint(v.set(0, y, 0));\n        bb.expandByPoint(v.set(0, 0, 0));\n        bb.applyMatrix4(this.matrix);\n        bb.getCenter(this.center);\n        // make normal matrix\n        const me = this.matrix.elements;\n        const r0 = new Vector3(me[0], me[1], me[2]);\n        const r1 = new Vector3(me[4], me[5], me[6]);\n        const r2 = new Vector3(me[8], me[9], me[10]);\n        const cp = new Vector3();\n        //        [ r0 ]       [ r1 x r2 ]\n        // M3x3 = [ r1 ]   N = [ r2 x r0 ]\n        //        [ r2 ]       [ r0 x r1 ]\n        const ne = this.normalMatrix.elements;\n        cp.crossVectors(r1, r2);\n        ne[0] = cp.x;\n        ne[1] = cp.y;\n        ne[2] = cp.z;\n        cp.crossVectors(r2, r0);\n        ne[3] = cp.x;\n        ne[4] = cp.y;\n        ne[5] = cp.z;\n        cp.crossVectors(r0, r1);\n        ne[6] = cp.x;\n        ne[7] = cp.y;\n        ne[8] = cp.z;\n        this.inverseMatrix.getInverse(this.matrix);\n    }\n    /**\n     * set atom indices\n     * @param {Int32Array} atomindex - atom indices corresponding to the cells in the 3d grid\n     * @return {undefined}\n       */\n    setAtomindex(atomindex) {\n        this.atomindex = atomindex;\n    }\n    getBox(center, size, target) {\n        if (!target)\n            target = new Box3();\n        target.set(center, center);\n        target.expandByScalar(size);\n        target.applyMatrix4(this.inverseMatrix);\n        target.min.round();\n        target.max.round();\n        return target;\n    }\n    _getBox(center, size) {\n        if (!center || !size)\n            return;\n        if (!this.__box)\n            this.__box = new Box3();\n        const box = this.getBox(center, size, this.__box);\n        return [box.min.toArray(), box.max.toArray()];\n    }\n    _makeSurface(sd, isolevel, smooth) {\n        const name = this.name + '@' + isolevel.toPrecision(2);\n        const surface = new Surface(name, '', sd);\n        surface.info.isolevel = isolevel;\n        surface.info.smooth = smooth;\n        surface.info.volume = this;\n        return surface;\n    }\n    getSurface(isolevel, smooth, center, size, contour, wrap = false) {\n        isolevel = isNaN(isolevel) ? this.getValueForSigma(2) : isolevel;\n        smooth = defaults(smooth, 0);\n        //\n        if (this.volsurf === undefined) {\n            this.volsurf = new VolumeSurface(this.data, this.nx, this.ny, this.nz, this.atomindex);\n        }\n        const box = this._getBox(center, size);\n        const sd = this.volsurf.getSurface(isolevel, smooth, box, this.matrix.elements, contour, wrap);\n        return this._makeSurface(sd, isolevel, smooth);\n    }\n    getSurfaceWorker(isolevel, smooth, center, size, contour, wrap, callback) {\n        isolevel = isNaN(isolevel) ? this.getValueForSigma(2) : isolevel;\n        smooth = smooth || 0;\n        //\n        if (window.hasOwnProperty('Worker')) {\n            if (this.workerPool === undefined) {\n                this.workerPool = new WorkerPool('surf', 2);\n            }\n            const msg = {};\n            const worker = this.workerPool.getNextWorker();\n            if (worker.postCount === 0) {\n                Object.assign(msg, {\n                    args: [\n                        this.data, this.nx, this.ny, this.nz, this.atomindex\n                    ]\n                });\n            }\n            Object.assign(msg, {\n                params: {\n                    isolevel: isolevel,\n                    smooth: smooth,\n                    box: this._getBox(center, size),\n                    matrix: this.matrix.elements,\n                    contour: contour,\n                    wrap: wrap\n                }\n            });\n            worker.post(msg, undefined, (e) => {\n                const sd = e.data.sd;\n                const p = e.data.p;\n                callback(this._makeSurface(sd, p.isolevel, p.smooth));\n            }, (e) => {\n                console.warn('Volume.getSurfaceWorker error - trying without worker', e);\n                const surface = this.getSurface(isolevel, smooth, center, size, contour, wrap);\n                callback(surface);\n            });\n        }\n        else {\n            const surface = this.getSurface(isolevel, smooth, center, size, contour, wrap);\n            callback(surface);\n        }\n    }\n    getValueForSigma(sigma) {\n        return this.mean + defaults(sigma, 2) * this.rms;\n    }\n    getSigmaForValue(value) {\n        return (defaults(value, 0) - this.mean) / this.rms;\n    }\n    get position() {\n        if (!this._position) {\n            const nz = this.nz;\n            const ny = this.ny;\n            const nx = this.nx;\n            const position = new Float32Array(nx * ny * nz * 3);\n            let p = 0;\n            for (let z = 0; z < nz; ++z) {\n                for (let y = 0; y < ny; ++y) {\n                    for (let x = 0; x < nx; ++x) {\n                        position[p + 0] = x;\n                        position[p + 1] = y;\n                        position[p + 2] = z;\n                        p += 3;\n                    }\n                }\n            }\n            applyMatrix4toVector3array(this.matrix.elements, position);\n            this._position = position;\n        }\n        return this._position;\n    }\n    getDataAtomindex() {\n        return this.atomindex;\n    }\n    getDataPosition() {\n        return this.position;\n    }\n    getDataColor(params) {\n        const p = params || {};\n        p.volume = this;\n        p.scale = p.scale || 'Spectral';\n        p.domain = p.domain || [this.min, this.max];\n        const colormaker = ColormakerRegistry.getScheme(p);\n        const n = this.position.length / 3;\n        const array = new Float32Array(n * 3);\n        // var atoms = p.structure.atoms;\n        // var atomindex = this.atomindex;\n        for (let i = 0; i < n; ++i) {\n            colormaker.volumeColorToArray(i, array, i * 3);\n            // a = atoms[ atomindex[ i ] ];\n            // if( a ) colormaker.atomColorToArray( a, array, i * 3 );\n        }\n        return array;\n    }\n    getDataPicking() {\n        const picking = serialArray(this.position.length / 3);\n        return new VolumePicker(picking, this);\n    }\n    getDataSize(size, scale) {\n        const data = this.data;\n        const n = this.position.length / 3;\n        let array;\n        switch (size) {\n            case 'value':\n                array = new Float32Array(data);\n                break;\n            case 'abs-value':\n                array = new Float32Array(data);\n                for (let i = 0; i < n; ++i) {\n                    array[i] = Math.abs(array[i]);\n                }\n                break;\n            case 'value-min': {\n                array = new Float32Array(data);\n                const min = this.min;\n                for (let i = 0; i < n; ++i) {\n                    array[i] -= min;\n                }\n                break;\n            }\n            case 'deviation':\n                array = new Float32Array(data);\n                break;\n            default:\n                array = uniformArray(n, size);\n                break;\n        }\n        if (scale !== 1.0) {\n            for (let i = 0; i < n; ++i) {\n                array[i] *= scale;\n            }\n        }\n        return array;\n    }\n    get min() {\n        if (this._min === undefined) {\n            this._min = arrayMin(this.data);\n        }\n        return this._min;\n    }\n    get max() {\n        if (this._max === undefined) {\n            this._max = arrayMax(this.data);\n        }\n        return this._max;\n    }\n    get sum() {\n        if (this._sum === undefined) {\n            this._sum = arraySum(this.data);\n        }\n        return this._sum;\n    }\n    get mean() {\n        if (this._mean === undefined) {\n            this._mean = arrayMean(this.data);\n        }\n        return this._mean;\n    }\n    get rms() {\n        if (this._rms === undefined) {\n            this._rms = arrayRms(this.data);\n        }\n        return this._rms;\n    }\n    clone() {\n        const vol = new Volume(this.name, this.path, this.data, this.nx, this.ny, this.nz, this.atomindex);\n        vol.matrix.copy(this.matrix);\n        vol.header = Object.assign({}, this.header);\n        return vol;\n    }\n    dispose() {\n        if (this.workerPool)\n            this.workerPool.terminate();\n    }\n}\nexport default Volume;\n//# sourceMappingURL=volume.js.map","/**\n * @file Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Color, Vector3, Matrix4, FrontSide, BackSide, DoubleSide, \n// VertexColors,\nNoBlending, BufferGeometry, BufferAttribute, UniformsUtils, UniformsLib, Group, LineSegments, Points, Mesh, ShaderMaterial } from 'three';\nimport { Log } from '../globals';\nimport { createParams, getTypedArray, getUintArray } from '../utils';\nimport { getShader } from '../shader/shader-utils';\nimport { serialArray } from '../math/array-utils';\nfunction getThreeSide(side) {\n    if (side === 'front') {\n        return FrontSide;\n    }\n    else if (side === 'back') {\n        return BackSide;\n    }\n    else if (side === 'double') {\n        return DoubleSide;\n    }\n    else {\n        return DoubleSide;\n    }\n}\nconst itemSize = {\n    'f': 1, 'v2': 2, 'v3': 3, 'c': 3\n};\nfunction setObjectMatrix(object, matrix) {\n    object.matrix.copy(matrix);\n    object.matrix.decompose(object.position, object.quaternion, object.scale);\n    object.matrixWorldNeedsUpdate = true;\n}\nexport const BufferDefaultParameters = {\n    opaqueBack: false,\n    side: 'double',\n    opacity: 1.0,\n    depthWrite: true,\n    clipNear: 0,\n    clipRadius: 0,\n    clipCenter: new Vector3(),\n    flatShaded: false,\n    wireframe: false,\n    roughness: 0.4,\n    metalness: 0.0,\n    diffuse: 0xffffff,\n    diffuseInterior: false,\n    useInteriorColor: false,\n    interiorColor: 0xdddddd,\n    interiorDarkening: 0,\n    forceTransparent: false,\n    matrix: new Matrix4(),\n    disablePicking: false,\n    sortParticles: false,\n    background: false\n};\nexport const BufferParameterTypes = {\n    opaqueBack: { updateShader: true },\n    side: { updateShader: true, property: true },\n    opacity: { uniform: true },\n    depthWrite: { property: true },\n    clipNear: { updateShader: true, property: true },\n    clipRadius: { updateShader: true, uniform: true },\n    clipCenter: { uniform: true },\n    flatShaded: { updateShader: true },\n    background: { updateShader: true },\n    wireframe: { updateVisibility: true },\n    roughness: { uniform: true },\n    metalness: { uniform: true },\n    diffuse: { uniform: true },\n    diffuseInterior: { updateShader: true },\n    useInteriorColor: { updateShader: true },\n    interiorColor: { uniform: true },\n    interiorDarkening: { uniform: true },\n    matrix: {}\n};\n/**\n * Buffer class. Base class for buffers.\n * @interface\n */\nclass Buffer {\n    /**\n     * @param {Object} data - attribute object\n     * @param {Float32Array} data.position - positions\n     * @param {Float32Array} data.color - colors\n     * @param {Uint32Array|Uint16Array} data.index - triangle indices\n     * @param {Picker} [data.picking] - picking ids\n     * @param {BufferParameters} params - parameters object\n     */\n    constructor(data, params = {}) {\n        this.parameterTypes = BufferParameterTypes;\n        this.geometry = new BufferGeometry();\n        this.indexVersion = 0;\n        this.wireframeIndexVersion = -1;\n        this.group = new Group();\n        this.wireframeGroup = new Group();\n        this.pickingGroup = new Group();\n        this.vertexShader = '';\n        this.fragmentShader = '';\n        this.isImpostor = false;\n        this.isText = false;\n        this.isSurface = false;\n        this.isPoint = false;\n        this.isLine = false;\n        this.dynamic = true;\n        this.visible = true;\n        this.wireframeIndexCount = 0;\n        this.parameters = createParams(params, this.defaultParameters);\n        this.uniforms = UniformsUtils.merge([\n            UniformsLib.common,\n            {\n                fogColor: { value: new Color(0x000000) },\n                fogNear: { value: 0.0 },\n                fogFar: { value: 0.0 },\n                opacity: { value: this.parameters.opacity },\n                clipNear: { value: 0.0 },\n                clipRadius: { value: this.parameters.clipRadius },\n                clipCenter: { value: this.parameters.clipCenter }\n            },\n            {\n                emissive: { value: new Color(0x000000) },\n                roughness: { value: this.parameters.roughness },\n                metalness: { value: this.parameters.metalness },\n                interiorColor: { value: new Color(this.parameters.interiorColor) },\n                interiorDarkening: { value: this.parameters.interiorDarkening },\n            },\n            UniformsLib.lights\n        ]);\n        this.uniforms.diffuse.value.set(this.parameters.diffuse);\n        this.pickingUniforms = {\n            clipNear: { value: 0.0 },\n            objectId: { value: 0 },\n            opacity: { value: this.parameters.opacity }\n        };\n        //\n        const position = data.position || data.position1;\n        this._positionDataSize = position ? position.length / 3 : 0;\n        if (!data.primitiveId) {\n            data.primitiveId = serialArray(this._positionDataSize);\n        }\n        this.addAttributes({\n            position: { type: 'v3', value: data.position },\n            color: { type: 'c', value: data.color },\n            primitiveId: { type: 'f', value: data.primitiveId }\n        });\n        if (params.matrix) {\n            this.matrix = params.matrix;\n        }\n        if (data.index) {\n            this.initIndex(data.index);\n        }\n        this.picking = data.picking;\n        this.makeWireframeGeometry();\n    }\n    get defaultParameters() { return BufferDefaultParameters; }\n    set matrix(m) {\n        this.setMatrix(m);\n    }\n    get matrix() {\n        return this.group.matrix.clone();\n    }\n    get transparent() {\n        return this.parameters.opacity < 1 || this.parameters.forceTransparent;\n    }\n    get size() {\n        return this._positionDataSize;\n    }\n    get attributeSize() {\n        return this.size;\n    }\n    get pickable() {\n        return !!this.picking && !this.parameters.disablePicking;\n    }\n    setMatrix(m) {\n        setObjectMatrix(this.group, m);\n        setObjectMatrix(this.wireframeGroup, m);\n        setObjectMatrix(this.pickingGroup, m);\n    }\n    initIndex(index) {\n        this.geometry.setIndex(new BufferAttribute(index, 1));\n        const nindex = this.geometry.getIndex();\n        if (!nindex) {\n            Log.error('Index is null');\n            return;\n        }\n        nindex.setUsage(this.dynamic ? WebGLRenderingContext.DYNAMIC_DRAW : 0);\n    }\n    makeMaterial() {\n        const side = getThreeSide(this.parameters.side);\n        const m = new ShaderMaterial({\n            uniforms: this.uniforms,\n            vertexShader: '',\n            fragmentShader: '',\n            depthTest: true,\n            transparent: this.transparent,\n            depthWrite: this.parameters.depthWrite,\n            lights: true,\n            fog: true,\n            side: side\n        });\n        m.vertexColors = true;\n        m.extensions.derivatives = true;\n        m.extensions.fragDepth = this.isImpostor;\n        const wm = new ShaderMaterial({\n            uniforms: this.uniforms,\n            vertexShader: '',\n            fragmentShader: '',\n            depthTest: true,\n            transparent: this.transparent,\n            depthWrite: this.parameters.depthWrite,\n            lights: false,\n            fog: true,\n            side: side\n        });\n        wm.vertexColors = true;\n        const pm = new ShaderMaterial({\n            uniforms: this.pickingUniforms,\n            vertexShader: '',\n            fragmentShader: '',\n            depthTest: true,\n            transparent: false,\n            depthWrite: this.parameters.depthWrite,\n            lights: false,\n            fog: false,\n            side: side,\n            blending: NoBlending\n        });\n        pm.vertexColors = true;\n        pm.extensions.fragDepth = this.isImpostor;\n        m.clipNear = this.parameters.clipNear;\n        wm.clipNear = this.parameters.clipNear;\n        pm.clipNear = this.parameters.clipNear;\n        this.material = m;\n        this.wireframeMaterial = wm;\n        this.pickingMaterial = pm;\n        // also sets vertexShader/fragmentShader\n        this.updateShader();\n    }\n    makeWireframeGeometry() {\n        this.makeWireframeIndex();\n        const geometry = this.geometry;\n        const wireframeIndex = this.wireframeIndex;\n        const wireframeGeometry = new BufferGeometry();\n        wireframeGeometry.attributes = geometry.attributes;\n        if (wireframeIndex) {\n            wireframeGeometry.setIndex(new BufferAttribute(wireframeIndex, 1).setUsage(this.dynamic ? WebGLRenderingContext.DYNAMIC_DRAW : 0));\n            wireframeGeometry.setDrawRange(0, this.wireframeIndexCount);\n        }\n        this.wireframeGeometry = wireframeGeometry;\n    }\n    makeWireframeIndex() {\n        const edges = [];\n        function checkEdge(a, b) {\n            if (a > b) {\n                const tmp = a;\n                a = b;\n                b = tmp;\n            }\n            const list = edges[a];\n            if (list === undefined) {\n                edges[a] = [b];\n                return true;\n            }\n            else if (!list.includes(b)) {\n                list.push(b);\n                return true;\n            }\n            return false;\n        }\n        const geometry = this.geometry;\n        const index = geometry.index;\n        if (!this.parameters.wireframe) {\n            this.wireframeIndex = new Uint16Array(0);\n            this.wireframeIndexCount = 0;\n        }\n        else if (index) {\n            const array = index.array;\n            let n = array.length;\n            if (geometry.drawRange.count !== Infinity) {\n                n = geometry.drawRange.count;\n            }\n            let wireframeIndex;\n            if (this.wireframeIndex && this.wireframeIndex.length > n * 2) {\n                wireframeIndex = this.wireframeIndex;\n            }\n            else {\n                const count = geometry.attributes.position.count; // TODO\n                wireframeIndex = getUintArray(n * 2, count);\n            }\n            let j = 0;\n            edges.length = 0;\n            for (let i = 0; i < n; i += 3) {\n                const a = array[i + 0];\n                const b = array[i + 1];\n                const c = array[i + 2];\n                if (checkEdge(a, b)) {\n                    wireframeIndex[j + 0] = a;\n                    wireframeIndex[j + 1] = b;\n                    j += 2;\n                }\n                if (checkEdge(b, c)) {\n                    wireframeIndex[j + 0] = b;\n                    wireframeIndex[j + 1] = c;\n                    j += 2;\n                }\n                if (checkEdge(c, a)) {\n                    wireframeIndex[j + 0] = c;\n                    wireframeIndex[j + 1] = a;\n                    j += 2;\n                }\n            }\n            this.wireframeIndex = wireframeIndex;\n            this.wireframeIndexCount = j;\n            this.wireframeIndexVersion = this.indexVersion;\n        }\n        else {\n            const n = geometry.attributes.position.count; // TODO\n            let wireframeIndex;\n            if (this.wireframeIndex && this.wireframeIndex.length > n * 2) {\n                wireframeIndex = this.wireframeIndex;\n            }\n            else {\n                wireframeIndex = getUintArray(n * 2, n);\n            }\n            for (let i = 0, j = 0; i < n; i += 3) {\n                wireframeIndex[j + 0] = i;\n                wireframeIndex[j + 1] = i + 1;\n                wireframeIndex[j + 2] = i + 1;\n                wireframeIndex[j + 3] = i + 2;\n                wireframeIndex[j + 4] = i + 2;\n                wireframeIndex[j + 5] = i;\n                j += 6;\n            }\n            this.wireframeIndex = wireframeIndex;\n            this.wireframeIndexCount = n * 2;\n            this.wireframeIndexVersion = this.indexVersion;\n        }\n    }\n    updateWireframeIndex() {\n        if (!this.wireframeGeometry || !this.wireframeIndex)\n            return;\n        this.wireframeGeometry.setDrawRange(0, Infinity);\n        if (this.wireframeIndexVersion < this.indexVersion)\n            this.makeWireframeIndex();\n        if (this.wireframeGeometry.index &&\n            this.wireframeIndex.length > this.wireframeGeometry.index.array.length) {\n            this.wireframeGeometry.setIndex(new BufferAttribute(this.wireframeIndex, 1).setUsage(this.dynamic ? WebGLRenderingContext.DYNAMIC_DRAW : 0));\n        }\n        else {\n            const index = this.wireframeGeometry.getIndex();\n            if (!index) {\n                Log.error('Index is null');\n                return;\n            }\n            index.set(this.wireframeIndex);\n            index.needsUpdate = this.wireframeIndexCount > 0;\n            index.updateRange.count = this.wireframeIndexCount;\n        }\n        this.wireframeGeometry.setDrawRange(0, this.wireframeIndexCount);\n    }\n    getRenderOrder() {\n        let renderOrder = 0;\n        if (this.isText) {\n            renderOrder = 1;\n        }\n        else if (this.transparent) {\n            if (this.isSurface) {\n                renderOrder = 3;\n            }\n            else {\n                renderOrder = 2;\n            }\n        }\n        return renderOrder;\n    }\n    _getMesh(materialName) {\n        if (!this.material)\n            this.makeMaterial();\n        const g = this.geometry;\n        const m = this[materialName];\n        let mesh;\n        if (this.isLine) {\n            mesh = new LineSegments(g, m);\n        }\n        else if (this.isPoint) {\n            mesh = new Points(g, m);\n        }\n        else {\n            mesh = new Mesh(g, m);\n        }\n        mesh.frustumCulled = false;\n        mesh.renderOrder = this.getRenderOrder();\n        return mesh;\n    }\n    getMesh() {\n        return this._getMesh('material');\n    }\n    getWireframeMesh() {\n        let mesh;\n        if (!this.material)\n            this.makeMaterial();\n        if (!this.wireframeGeometry)\n            this.makeWireframeGeometry();\n        mesh = new LineSegments(this.wireframeGeometry, this.wireframeMaterial);\n        mesh.frustumCulled = false;\n        mesh.renderOrder = this.getRenderOrder();\n        return mesh;\n    }\n    getPickingMesh() {\n        return this._getMesh('pickingMaterial');\n    }\n    getShader(name, type) {\n        return getShader(name, this.getDefines(type));\n    }\n    getVertexShader(type) {\n        return this.getShader(this.vertexShader, type);\n    }\n    getFragmentShader(type) {\n        return this.getShader(this.fragmentShader, type);\n    }\n    getDefines(type) {\n        const defines = {};\n        if (this.parameters.clipNear) {\n            defines.NEAR_CLIP = 1;\n        }\n        if (this.parameters.clipRadius) {\n            defines.RADIUS_CLIP = 1;\n        }\n        if (type === 'picking') {\n            defines.PICKING = 1;\n        }\n        else {\n            if (type === 'background' || this.parameters.background) {\n                defines.NOLIGHT = 1;\n            }\n            if (this.parameters.flatShaded) {\n                defines.FLAT_SHADED = 1;\n            }\n            if (this.parameters.opaqueBack) {\n                defines.OPAQUE_BACK = 1;\n            }\n            if (this.parameters.diffuseInterior) {\n                defines.DIFFUSE_INTERIOR = 1;\n            }\n            if (this.parameters.useInteriorColor) {\n                defines.USE_INTERIOR_COLOR = 1;\n            }\n        }\n        return defines;\n    }\n    getParameters() {\n        return this.parameters;\n    }\n    addUniforms(uniforms) {\n        this.uniforms = UniformsUtils.merge([this.uniforms, uniforms]);\n        this.pickingUniforms = UniformsUtils.merge([this.pickingUniforms, uniforms]);\n    }\n    addAttributes(attributes) {\n        for (let name in attributes) {\n            let buf;\n            const a = attributes[name];\n            const arraySize = this.attributeSize * itemSize[a.type];\n            if (a.value) {\n                if (arraySize !== a.value.length) {\n                    Log.error('attribute value has wrong length', name);\n                }\n                buf = a.value;\n            }\n            else {\n                buf = getTypedArray('float32', arraySize);\n            }\n            this.geometry.setAttribute(name, new BufferAttribute(buf, itemSize[a.type]).setUsage(this.dynamic ? WebGLRenderingContext.DYNAMIC_DRAW : 0));\n        }\n    }\n    updateRenderOrder() {\n        const renderOrder = this.getRenderOrder();\n        function setRenderOrder(mesh) {\n            mesh.renderOrder = renderOrder;\n        }\n        this.group.children.forEach(setRenderOrder);\n        if (this.pickingGroup) {\n            this.pickingGroup.children.forEach(setRenderOrder);\n        }\n    }\n    updateShader() {\n        const m = this.material;\n        const wm = this.wireframeMaterial;\n        const pm = this.pickingMaterial;\n        m.vertexShader = this.getVertexShader();\n        m.fragmentShader = this.getFragmentShader();\n        m.needsUpdate = true;\n        wm.vertexShader = this.getShader('Line.vert');\n        wm.fragmentShader = this.getShader('Line.frag');\n        wm.needsUpdate = true;\n        pm.vertexShader = this.getVertexShader('picking');\n        pm.fragmentShader = this.getFragmentShader('picking');\n        pm.needsUpdate = true;\n    }\n    /**\n     * Set buffer parameters\n     * @param {BufferParameters} params - buffer parameters object\n     * @return {undefined}\n     */\n    setParameters(params) {\n        const p = params;\n        const pt = this.parameterTypes;\n        const pv = this.parameters;\n        const propertyData = {};\n        const uniformData = {};\n        let doShaderUpdate = false;\n        let doVisibilityUpdate = false;\n        for (const name in p) {\n            const value = p[name];\n            if (value === undefined)\n                continue;\n            pv[name] = value;\n            if (pt[name] === undefined)\n                continue;\n            if (pt[name].property) {\n                if (pt[name].property !== true) {\n                    propertyData[pt[name].property] = value;\n                }\n                else {\n                    propertyData[name] = value;\n                }\n            }\n            if (pt[name].uniform) {\n                if (pt[name].uniform !== true) {\n                    uniformData[pt[name].uniform] = value;\n                }\n                else {\n                    uniformData[name] = value;\n                }\n            }\n            if (pt[name].updateShader) {\n                doShaderUpdate = true;\n            }\n            if (pt[name].updateVisibility) {\n                doVisibilityUpdate = true;\n            }\n            if (this.dynamic && name === 'wireframe' && value === true) {\n                this.updateWireframeIndex();\n            }\n            if (name === 'forceTransparent') {\n                propertyData.transparent = this.transparent;\n            }\n            if (name === 'matrix') {\n                this.matrix = value;\n            }\n        }\n        this.setProperties(propertyData);\n        this.setUniforms(uniformData);\n        if (doShaderUpdate)\n            this.updateShader();\n        if (doVisibilityUpdate)\n            this.setVisibility(this.visible);\n    }\n    /**\n     * Sets buffer attributes\n     * @param {Object} data - An object where the keys are the attribute names\n     *      and the values are the attribute data.\n     * @example\n     * var buffer = new Buffer();\n     * buffer.setAttributes({ attrName: attrData });\n     */\n    setAttributes(data) {\n        const geometry = this.geometry;\n        const attributes = geometry.attributes; // TODO\n        for (const name in data) {\n            if (name === 'picking')\n                continue;\n            const array = data[name];\n            const length = array.length;\n            if (name === 'index') {\n                const index = geometry.getIndex();\n                if (!index) {\n                    Log.error('Index is null');\n                    continue;\n                }\n                geometry.setDrawRange(0, Infinity);\n                if (length > index.array.length) {\n                    geometry.setIndex(new BufferAttribute(array, 1)\n                        .setUsage(this.dynamic ? WebGLRenderingContext.DYNAMIC_DRAW : 0));\n                }\n                else {\n                    index.set(array);\n                    index.needsUpdate = length > 0;\n                    index.updateRange.count = length;\n                    geometry.setDrawRange(0, length);\n                }\n                this.indexVersion++;\n                if (this.parameters.wireframe)\n                    this.updateWireframeIndex();\n            }\n            else {\n                const attribute = attributes[name];\n                if (length > attribute.array.length) {\n                    geometry.setAttribute(name, new BufferAttribute(array, attribute.itemSize)\n                        .setUsage(this.dynamic ? WebGLRenderingContext.DYNAMIC_DRAW : 0));\n                }\n                else {\n                    attributes[name].set(array);\n                    attributes[name].needsUpdate = length > 0;\n                    attributes[name].updateRange.count = length;\n                }\n            }\n        }\n    }\n    setUniforms(data) {\n        if (!data)\n            return;\n        const u = this.material.uniforms;\n        const wu = this.wireframeMaterial.uniforms;\n        const pu = this.pickingMaterial.uniforms;\n        for (let name in data) {\n            if (name === 'opacity') {\n                this.setProperties({ transparent: this.transparent });\n            }\n            if (u[name] !== undefined) {\n                if (u[name].value.isVector3) {\n                    u[name].value.copy(data[name]);\n                }\n                else if (u[name].value.set) {\n                    u[name].value.set(data[name]);\n                }\n                else {\n                    u[name].value = data[name];\n                }\n            }\n            if (wu[name] !== undefined) {\n                if (wu[name].value.isVector3) {\n                    wu[name].value.copy(data[name]);\n                }\n                else if (wu[name].value.set) {\n                    wu[name].value.set(data[name]);\n                }\n                else {\n                    wu[name].value = data[name];\n                }\n            }\n            if (pu[name] !== undefined) {\n                if (pu[name].value.isVector3) {\n                    pu[name].value.copy(data[name]);\n                }\n                else if (pu[name].value.set) {\n                    pu[name].value.set(data[name]);\n                }\n                else {\n                    pu[name].value = data[name];\n                }\n            }\n        }\n    }\n    setProperties(data) {\n        if (!data)\n            return;\n        const m = this.material;\n        const wm = this.wireframeMaterial;\n        const pm = this.pickingMaterial;\n        for (const _name in data) {\n            const name = _name; // TODO\n            let value = data[name];\n            if (name === 'transparent') {\n                this.updateRenderOrder();\n            }\n            else if (name === 'side') {\n                value = getThreeSide(value);\n            }\n            m[name] = value;\n            wm[name] = value;\n            pm[name] = value;\n        }\n        m.needsUpdate = true;\n        wm.needsUpdate = true;\n        pm.needsUpdate = true;\n    }\n    /**\n     * Set buffer visibility\n     * @param {Boolean} value - visibility value\n     * @return {undefined}\n     */\n    setVisibility(value) {\n        this.visible = value;\n        if (this.parameters.wireframe) {\n            this.group.visible = false;\n            this.wireframeGroup.visible = value;\n            if (this.pickable) {\n                this.pickingGroup.visible = false;\n            }\n        }\n        else {\n            this.group.visible = value;\n            this.wireframeGroup.visible = false;\n            if (this.pickable) {\n                this.pickingGroup.visible = value;\n            }\n        }\n    }\n    /**\n     * Free buffer resources\n     * @return {undefined}\n     */\n    dispose() {\n        if (this.material)\n            this.material.dispose();\n        if (this.wireframeMaterial)\n            this.wireframeMaterial.dispose();\n        if (this.pickingMaterial)\n            this.pickingMaterial.dispose();\n        this.geometry.dispose();\n        if (this.wireframeGeometry)\n            this.wireframeGeometry.dispose();\n    }\n    /**\n     * Customize JSON serialization to avoid circular references\n     */\n    toJSON() {\n        var result = {};\n        for (var x in this) {\n            if (x !== \"group\" && x !== \"wireframeGroup\" && x != \"pickingGroup\"\n                && x !== \"picking\") {\n                result[x] = this[x];\n            }\n        }\n        return result;\n    }\n}\nexport default Buffer;\n//# sourceMappingURL=buffer.js.map","/**\n * @file Mesh Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport '../shader/Mesh.vert';\nimport '../shader/Mesh.frag';\nimport Buffer from './buffer';\n/**\n * Mesh buffer. Draws a triangle mesh.\n *\n * @example\n * var meshBuffer = new MeshBuffer({\n *   position: new Float32Array(\n *     [ 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 1, 0, 1, 0, 0, 0, 1 ]\n *   ),\n *   color: new Float32Array(\n *     [ 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0 ]\n *   )\n * });\n */\nclass MeshBuffer extends Buffer {\n    /**\n     * @param  {Object} data - attribute object\n     * @param  {Float32Array} data.position - positions\n     * @param  {Float32Array} data.color - colors\n     * @param  {Float32Array} [data.index] - triangle indices\n     * @param  {Float32Array} [data.normal] - radii\n     * @param  {BufferParameters} params - parameter object\n     */\n    constructor(data, params = {}) {\n        super(data, params);\n        this.vertexShader = 'Mesh.vert';\n        this.fragmentShader = 'Mesh.frag';\n        this.addAttributes({\n            'normal': { type: 'v3', value: data.normal }\n        });\n        if (data.normal === undefined) {\n            this.geometry.computeVertexNormals();\n        }\n    }\n}\nexport default MeshBuffer;\n//# sourceMappingURL=mesh-buffer.js.map","/**\n * @file Surface Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport MeshBuffer from './mesh-buffer';\n/**\n * Surface buffer. Like a {@link MeshBuffer}, but with `.isSurface` set to `true`.\n */\nclass SurfaceBuffer extends MeshBuffer {\n    constructor() {\n        super(...arguments);\n        this.isSurface = true;\n    }\n}\nexport default SurfaceBuffer;\n//# sourceMappingURL=surface-buffer.js.map","/**\n * @file Double Sided Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\n// @ts-ignore: unused import Vector3, Matrix4 required for declaration only\nimport { Group } from 'three';\nimport Buffer from './buffer';\nfunction setVisibilityTrue(m) { m.visible = true; }\nfunction setVisibilityFalse(m) { m.visible = false; }\n/**\n * A double-sided mesh buffer. Takes a buffer and renders the front and\n * the back as seperate objects to avoid some artifacts when rendering\n * transparent meshes. Also allows to render the back of a mesh opaque\n * while the front is transparent.\n * @implements {Buffer}\n *\n * @example\n * var sphereGeometryBuffer = new SphereGeometryBuffer({\n *   position: new Float32Array([ 0, 0, 0 ]),\n *   color: new Float32Array([ 1, 0, 0 ]),\n *   radius: new Float32Array([ 1 ])\n * });\n * var doubleSidedBuffer = new DoubleSidedBuffer(sphereGeometryBuffer);\n */\nclass DoubleSidedBuffer {\n    /**\n     * Create a double sided buffer\n     * @param  {Buffer} buffer - the buffer to be rendered double-sided\n     */\n    constructor(buffer) {\n        this.group = new Group();\n        this.wireframeGroup = new Group();\n        this.pickingGroup = new Group();\n        this.frontMeshes = [];\n        this.backMeshes = [];\n        this.size = buffer.size;\n        this.side = buffer.parameters.side;\n        this.visible = buffer.visible;\n        this.geometry = buffer.geometry;\n        this.picking = buffer.picking;\n        this.group = new Group();\n        this.wireframeGroup = new Group();\n        this.pickingGroup = new Group();\n        // requires Group objects to be present\n        this.matrix = buffer.matrix;\n        const frontBuffer = buffer;\n        const backBuffer = new buffer.constructor({\n            position: new Float32Array(0)\n        });\n        frontBuffer.makeMaterial();\n        backBuffer.makeMaterial();\n        backBuffer.picking = buffer.picking;\n        backBuffer.geometry = buffer.geometry;\n        backBuffer.wireframeGeometry = buffer.wireframeGeometry;\n        backBuffer.setParameters(buffer.getParameters());\n        backBuffer.updateShader();\n        frontBuffer.setParameters({\n            side: 'front'\n        });\n        backBuffer.setParameters({\n            side: 'back',\n            opacity: backBuffer.parameters.opacity\n        });\n        this.buffer = buffer;\n        this.frontBuffer = frontBuffer;\n        this.backBuffer = backBuffer;\n    }\n    set matrix(m) {\n        Buffer.prototype.setMatrix.call(this, m);\n    }\n    get matrix() {\n        return this.group.matrix.clone();\n    }\n    get pickable() {\n        return !!this.picking && !this.parameters.disablePicking;\n    }\n    get parameters() {\n        return this.buffer.parameters;\n    }\n    getParameters() {\n        const p = Object.assign({}, this.buffer.parameters);\n        p.side = this.side;\n        return p;\n    }\n    getMesh(picking) {\n        let front, back;\n        if (picking) {\n            back = this.backBuffer.getPickingMesh();\n            front = this.frontBuffer.getPickingMesh();\n        }\n        else {\n            back = this.backBuffer.getMesh();\n            front = this.frontBuffer.getMesh();\n        }\n        this.frontMeshes.push(front);\n        this.backMeshes.push(back);\n        this.setParameters({ side: this.side });\n        return new Group().add(back, front);\n    }\n    getWireframeMesh() {\n        return this.buffer.getWireframeMesh();\n    }\n    getPickingMesh() {\n        return this.getMesh(true);\n    }\n    setAttributes(data) {\n        this.buffer.setAttributes(data);\n    }\n    setParameters(data) {\n        data = Object.assign({}, data);\n        if (data.side === 'front') {\n            this.frontMeshes.forEach(setVisibilityTrue);\n            this.backMeshes.forEach(setVisibilityFalse);\n        }\n        else if (data.side === 'back') {\n            this.frontMeshes.forEach(setVisibilityFalse);\n            this.backMeshes.forEach(setVisibilityTrue);\n        }\n        else if (data.side === 'double') {\n            this.frontMeshes.forEach(setVisibilityTrue);\n            this.backMeshes.forEach(setVisibilityTrue);\n        }\n        if (data.side !== undefined) {\n            this.side = data.side;\n        }\n        delete data.side;\n        if (data.matrix !== undefined) {\n            this.matrix = data.matrix;\n        }\n        delete data.matrix;\n        this.frontBuffer.setParameters(data);\n        if (data.wireframe !== undefined) {\n            this.wireframe = data.wireframe;\n            this.setVisibility(this.visible);\n        }\n        delete data.wireframe;\n        this.backBuffer.setParameters(data);\n    }\n    setVisibility(value) {\n        this.visible = value;\n        if (this.parameters.wireframe) {\n            this.group.visible = false;\n            this.wireframeGroup.visible = value;\n            if (this.pickable) {\n                this.pickingGroup.visible = false;\n            }\n        }\n        else {\n            this.group.visible = value;\n            this.wireframeGroup.visible = false;\n            if (this.pickable) {\n                this.pickingGroup.visible = value;\n            }\n        }\n    }\n    dispose() {\n        this.frontBuffer.dispose();\n        this.backBuffer.dispose();\n    }\n    /**\n     * Customize JSON serialization to avoid circular references.\n     * Only export simple params which could be useful.\n     */\n    toJSON() {\n        var result = {};\n        for (var x in this) {\n            if (['side', 'size', 'visible', 'matrix', 'parameters'].includes(x)) {\n                result[x] = this[x];\n            }\n        }\n        return result;\n    }\n}\nexport default DoubleSidedBuffer;\n//# sourceMappingURL=doublesided-buffer.js.map","/**\n * @file Contour Buffer\n * @author Fred ludlow <fred.ludlow@gmail.com>\n * @private\n */\nimport '../shader/Line.vert';\nimport '../shader/Line.frag';\nimport Buffer from './buffer';\n/**\n * Contour buffer. A buffer that draws lines (instead of triangle meshes).\n */\nclass ContourBuffer extends Buffer {\n    constructor() {\n        super(...arguments);\n        this.isLine = true;\n        this.vertexShader = 'Line.vert';\n        this.fragmentShader = 'Line.frag';\n    }\n}\nexport default ContourBuffer;\n//# sourceMappingURL=contour-buffer.js.map","/**\n * @file Surface Representation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Matrix4, Vector3, Box3 } from 'three';\nimport { defaults } from '../utils';\nimport Representation from './representation';\nimport Volume from '../surface/volume';\nimport SurfaceBuffer from '../buffer/surface-buffer';\nimport DoubleSidedBuffer from '../buffer/doublesided-buffer';\nimport ContourBuffer from '../buffer/contour-buffer';\n/**\n * Surface representation\n */\n/**\n   * Create Surface representation object\n   * @param {Surface|Volume} surface - the surface or volume to be represented\n   * @param {Viewer} viewer - a viewer object\n   * @param {SurfaceRepresentationParameters} params - surface representation parameters\n   */\nclass SurfaceRepresentation extends Representation {\n    constructor(surface, viewer, params) {\n        super(surface, viewer, params);\n        this.type = 'surface';\n        this.parameters = Object.assign({\n            isolevelType: {\n                type: 'select',\n                options: {\n                    'value': 'value', 'sigma': 'sigma'\n                }\n            },\n            isolevel: {\n                type: 'number', precision: 2, max: 1000, min: -1000\n            },\n            negateIsolevel: {\n                type: 'boolean'\n            },\n            isolevelScroll: {\n                type: 'boolean'\n            },\n            smooth: {\n                type: 'integer', precision: 1, max: 10, min: 0\n            },\n            background: {\n                type: 'boolean', rebuild: true // FIXME\n            },\n            opaqueBack: {\n                type: 'boolean', buffer: true\n            },\n            boxSize: {\n                type: 'integer', precision: 1, max: 100, min: 0\n            },\n            colorVolume: {\n                type: 'hidden'\n            },\n            contour: {\n                type: 'boolean', rebuild: true\n            },\n            useWorker: {\n                type: 'boolean', rebuild: true\n            },\n            wrap: {\n                type: 'boolean', rebuild: true\n            }\n        }, this.parameters);\n        if (surface instanceof Volume) {\n            this.surface = undefined;\n            this.volume = surface;\n        }\n        else {\n            this.surface = surface;\n            this.volume = undefined;\n        }\n        this.boxCenter = new Vector3();\n        this.__boxCenter = new Vector3();\n        this.box = new Box3();\n        this.__box = new Box3();\n        this._position = new Vector3();\n        this.inverseMatrix = new Matrix4();\n        this.setBox = function setBox() {\n            this._position.copy(viewer.translationGroup.position).negate();\n            this._position.applyMatrix4(this.inverseMatrix);\n            if (!this._position.equals(this.boxCenter)) {\n                this.setParameters({ 'boxCenter': this._position });\n            }\n        };\n        this.toBePrepared = true;\n        this.viewer.signals.ticked.add(this.setBox, this);\n        this.init(params);\n    }\n    init(params) {\n        const p = params || {};\n        p.colorScheme = defaults(p.colorScheme, 'uniform');\n        p.colorValue = defaults(p.colorValue, 0xDDDDDD);\n        this.isolevelType = defaults(p.isolevelType, 'sigma');\n        this.isolevel = defaults(p.isolevel, 2.0);\n        this.negateIsolevel = defaults(p.negateIsolevel, false);\n        this.isolevelScroll = defaults(p.isolevelScroll, false);\n        this.smooth = defaults(p.smooth, 0);\n        this.background = defaults(p.background, false);\n        this.opaqueBack = defaults(p.opaqueBack, true);\n        this.boxSize = defaults(p.boxSize, 0);\n        this.colorVolume = defaults(p.colorVolume, undefined);\n        this.contour = defaults(p.contour, false);\n        this.useWorker = defaults(p.useWorker, true);\n        this.wrap = defaults(p.wrap, false);\n        super.init(p);\n        this.inverseMatrix.getInverse(this.matrix);\n        this.build();\n    }\n    attach(callback) {\n        this.bufferList.forEach(buffer => {\n            this.viewer.add(buffer);\n        });\n        this.setVisibility(this.visible);\n        callback();\n    }\n    prepare(callback) {\n        if (this.volume) {\n            let isolevel;\n            if (this.isolevelType === 'sigma') {\n                isolevel = this.volume.getValueForSigma(this.isolevel);\n            }\n            else {\n                isolevel = this.isolevel;\n            }\n            if (this.negateIsolevel)\n                isolevel *= -1;\n            if (!this.surface ||\n                this.__isolevel !== isolevel ||\n                this.__smooth !== this.smooth ||\n                this.__contour !== this.contour ||\n                this.__wrap !== this.wrap ||\n                this.__boxSize !== this.boxSize ||\n                (this.boxSize > 0 &&\n                    !this.__boxCenter.equals(this.boxCenter))) {\n                this.__isolevel = isolevel;\n                this.__smooth = this.smooth;\n                this.__contour = this.contour;\n                this.__wrap = this.wrap;\n                this.__boxSize = this.boxSize;\n                this.__boxCenter.copy(this.boxCenter);\n                this.__box.copy(this.box);\n                const onSurfaceFinish = (surface) => {\n                    this.surface = surface;\n                    callback();\n                };\n                if (this.useWorker) {\n                    this.volume.getSurfaceWorker(isolevel, this.smooth, this.boxCenter, this.boxSize, this.contour, this.wrap, onSurfaceFinish);\n                }\n                else {\n                    onSurfaceFinish(this.volume.getSurface(isolevel, this.smooth, this.boxCenter, this.boxSize, this.contour, this.wrap));\n                }\n            }\n            else {\n                callback();\n            }\n        }\n        else {\n            callback();\n        }\n    }\n    create() {\n        const sd = {\n            position: this.surface.getPosition(),\n            color: this.surface.getColor(this.getColorParams()),\n            index: this.surface.getIndex()\n        };\n        let buffer;\n        if (this.contour) {\n            buffer = new ContourBuffer(sd, this.getBufferParams({ wireframe: false }));\n        }\n        else {\n            Object.assign(sd, {\n                normal: this.surface.getNormal(),\n                picking: this.surface.getPicking()\n            });\n            const surfaceBuffer = new SurfaceBuffer(sd, this.getBufferParams({\n                background: this.background,\n                opaqueBack: this.opaqueBack,\n                dullInterior: false\n            }));\n            buffer = new DoubleSidedBuffer(surfaceBuffer);\n        }\n        this.bufferList.push(buffer);\n    }\n    update(what) {\n        if (this.bufferList.length === 0)\n            return;\n        what = what || {};\n        const surfaceData = {};\n        if (what.position) {\n            surfaceData.position = this.surface.getPosition();\n        }\n        if (what.color) {\n            surfaceData.color = this.surface.getColor(this.getColorParams());\n        }\n        if (what.index) {\n            surfaceData.index = this.surface.getIndex();\n        }\n        if (what.normal) {\n            surfaceData.normal = this.surface.getNormal();\n        }\n        this.bufferList.forEach(function (buffer) {\n            buffer.setAttributes(surfaceData);\n        });\n    }\n    /**\n     * Set representation parameters\n     * @alias SurfaceRepresentation#setParameters\n     * @param {SurfaceRepresentationParameters} params - surface parameter object\n     * @param {Object} [what] - buffer data attributes to be updated,\n     *                        note that this needs to be implemented in the\n     *                        derived classes. Generally it allows more\n     *                        fine-grained control over updating than\n     *                        forcing a rebuild.\n     * @param {Boolean} what.position - update position data\n     * @param {Boolean} what.color - update color data\n     * @param {Boolean} [rebuild] - whether or not to rebuild the representation\n     * @return {SurfaceRepresentation} this object\n     */\n    setParameters(params, what, rebuild) {\n        if (params && params.isolevelType !== undefined &&\n            this.volume) {\n            if (this.isolevelType === 'value' &&\n                params.isolevelType === 'sigma') {\n                this.isolevel = this.volume.getSigmaForValue(this.isolevel);\n            }\n            else if (this.isolevelType === 'sigma' &&\n                params.isolevelType === 'value') {\n                this.isolevel = this.volume.getValueForSigma(this.isolevel);\n            }\n            this.isolevelType = params.isolevelType;\n        }\n        if (params && params.boxCenter) {\n            this.boxCenter.copy(params.boxCenter);\n            delete params.boxCenter;\n        }\n        // Forbid wireframe && contour as in molsurface\n        if (params && params.wireframe && (params.contour || (params.contour === undefined && this.contour))) {\n            params.wireframe = false;\n        }\n        super.setParameters(params, what, rebuild);\n        if (params.matrix) {\n            this.inverseMatrix.getInverse(params.matrix);\n        }\n        if (this.volume) {\n            this.volume.getBox(this.boxCenter, this.boxSize, this.box);\n        }\n        if (params && params.colorVolume !== undefined) {\n            if (what)\n                what.color = true;\n        }\n        if (this.surface && (params.isolevel !== undefined ||\n            params.negateIsolevel !== undefined ||\n            params.smooth !== undefined ||\n            params.wrap !== undefined ||\n            params.boxSize !== undefined ||\n            (this.boxSize > 0 &&\n                !this.__box.equals(this.box)))) {\n            this.build({\n                'position': true,\n                'color': true,\n                'index': true,\n                'normal': !this.contour\n            });\n        }\n        return this;\n    }\n    getColorParams() {\n        const p = super.getColorParams();\n        p.volume = this.colorVolume;\n        return p;\n    }\n    dispose() {\n        this.viewer.signals.ticked.remove(this.setBox, this);\n        super.dispose();\n    }\n}\nexport default SurfaceRepresentation;\n//# sourceMappingURL=surface-representation.js.map","/**\n * @file Mouse Actions\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { almostIdentity } from '../math/math-utils';\nimport SurfaceRepresentation from '../representation/surface-representation';\n/**\n * Mouse actions provided as static methods\n */\nclass MouseActions {\n    /**\n     * Zoom scene based on scroll-delta\n     * @param {Stage} stage - the stage\n     * @param {Number} delta - amount to zoom\n     * @return {undefined}\n     */\n    static zoomScroll(stage, delta) {\n        stage.trackballControls.zoom(delta);\n    }\n    /**\n     * Move near clipping plane based on scroll-delta\n     * @param {Stage} stage - the stage\n     * @param {Number} delta - amount to move clipping plane\n     * @return {undefined}\n     */\n    static clipNearScroll(stage, delta) {\n        const sp = stage.getParameters();\n        stage.setParameters({ clipNear: sp.clipNear + delta / 10 });\n    }\n    /**\n     * Move clipping planes based on scroll-delta.\n     * @param {Stage} stage - the stage\n     * @param {Number} delta - direction to move planes\n     * @return {undefined}\n     */\n    static focusScroll(stage, delta) {\n        const focus = stage.getFocus();\n        const sign = Math.sign(delta);\n        const step = sign * almostIdentity((100 - focus) / 10, 5, 0.2);\n        stage.setFocus(focus + step);\n    }\n    /**\n     * Zoom scene based on scroll-delta and\n     * move focus planes based on camera position (zoom)\n     * @param {Stage} stage - the stage\n     * @param {Number} delta - amount to move focus planes and zoom\n     * @return {undefined}\n     */\n    static zoomFocusScroll(stage, delta) {\n        stage.trackballControls.zoom(delta);\n        const z = stage.viewer.camera.position.z;\n        stage.setFocus(100 - Math.abs(z / 8));\n    }\n    /**\n     * Change isolevel of volume surfaces based on scroll-delta\n     * @param {Stage} stage - the stage\n     * @param {Number} delta - amount to change isolevel\n     * @return {undefined}\n     */\n    static isolevelScroll(stage, delta) {\n        const d = Math.sign(delta) / 10;\n        stage.eachRepresentation((reprElem, comp) => {\n            if (reprElem.repr instanceof SurfaceRepresentation) {\n                const p = reprElem.getParameters(); // TODO\n                if (p.isolevelScroll) {\n                    reprElem.setParameters({ isolevel: p.isolevel + d });\n                }\n            }\n        });\n    }\n    /**\n     * Pan scene based on mouse coordinate changes\n     * @param {Stage} stage - the stage\n     * @param {Number} dx - amount to pan in x direction\n     * @param {Number} dy - amount to pan in y direction\n     * @return {undefined}\n     */\n    static panDrag(stage, dx, dy) {\n        stage.trackballControls.pan(dx, dy);\n    }\n    /**\n     * Rotate scene based on mouse coordinate changes\n     * @param {Stage} stage - the stage\n     * @param {Number} dx - amount to rotate in x direction\n     * @param {Number} dy - amount to rotate in y direction\n     * @return {undefined}\n     */\n    static rotateDrag(stage, dx, dy) {\n        stage.trackballControls.rotate(dx, dy);\n    }\n    /**\n     * Rotate scene around z axis based on mouse coordinate changes\n     * @param {Stage} stage - the stage\n     * @param {Number} dx - amount to rotate in x direction\n     * @param {Number} dy - amount to rotate in y direction\n     * @return {undefined}\n     */\n    static zRotateDrag(stage, dx, dy) {\n        stage.trackballControls.zRotate(dx, dy);\n    }\n    /**\n     * Zoom scene based on mouse coordinate changes\n     * @param {Stage} stage - the stage\n     * @param {Number} dx - amount to zoom\n     * @param {Number} dy - amount to zoom\n     * @return {undefined}\n     */\n    static zoomDrag(stage, dx, dy) {\n        stage.trackballControls.zoom((dx + dy) / -2);\n    }\n    /**\n     * Zoom scene based on mouse coordinate changes and\n     * move focus planes based on camera position (zoom)\n     * @param {Stage} stage - the stage\n     * @param {Number} dx - amount to zoom and focus\n     * @param {Number} dy - amount to zoom and focus\n     * @return {undefined}\n     */\n    static zoomFocusDrag(stage, dx, dy) {\n        stage.trackballControls.zoom((dx + dy) / -2);\n        const z = stage.viewer.camera.position.z;\n        stage.setFocus(100 - Math.abs(z / 8));\n    }\n    /**\n     * Pan picked component based on mouse coordinate changes\n     * @param {Stage} stage - the stage\n     * @param {Number} dx - amount to pan in x direction\n     * @param {Number} dy - amount to pan in y direction\n     * @return {undefined}\n     */\n    static panComponentDrag(stage, dx, dy) {\n        stage.trackballControls.panComponent(dx, dy);\n    }\n    /**\n     * Pan picked atom based on mouse coordinate changes\n     * @param {Stage} stage - the stage\n     * @param {Number} dx - amount to pan in x direction\n     * @param {Number} dy - amount to pan in y direction\n     * @return {undefined}\n     */\n    static panAtomDrag(stage, dx, dy) {\n        stage.trackballControls.panAtom(dx, dy);\n    }\n    /**\n     * Rotate picked component based on mouse coordinate changes\n     * @param {Stage} stage - the stage\n     * @param {Number} dx - amount to rotate in x direction\n     * @param {Number} dy - amount to rotate in y direction\n     * @return {undefined}\n     */\n    static rotateComponentDrag(stage, dx, dy) {\n        stage.trackballControls.rotateComponent(dx, dy);\n    }\n    /**\n     * Move picked element to the center of the screen\n     * @param {Stage} stage - the stage\n     * @param {PickingProxy} pickingProxy - the picking data object\n     * @return {undefined}\n     */\n    static movePick(stage, pickingProxy) {\n        if (pickingProxy) {\n            stage.animationControls.move(pickingProxy.position.clone());\n        }\n    }\n    /**\n     * Show tooltip with information of picked element\n     * @param {Stage} stage - the stage\n     * @param {PickingProxy} pickingProxy - the picking data object\n     * @return {undefined}\n     */\n    static tooltipPick(stage, pickingProxy) {\n        const tt = stage.tooltip;\n        const sp = stage.getParameters();\n        if (sp.tooltip && pickingProxy) {\n            const mp = pickingProxy.mouse.position;\n            tt.innerText = pickingProxy.getLabel();\n            tt.style.bottom = (window.innerHeight - mp.y + 3) + 'px';\n            tt.style.left = (mp.x + 3) + 'px';\n            tt.style.display = 'block';\n        }\n        else {\n            tt.style.display = 'none';\n        }\n    }\n    static measurePick(stage, pickingProxy) {\n        if (pickingProxy && (pickingProxy.atom || pickingProxy.bond)) {\n            const atom = pickingProxy.atom || pickingProxy.closestBondAtom;\n            const sc = pickingProxy.component;\n            sc.measurePick(atom);\n        }\n        else {\n            stage.measureClear();\n        }\n    }\n}\nexport const MouseActionPresets = {\n    default: [\n        ['scroll', MouseActions.zoomScroll],\n        ['scroll-shift', MouseActions.focusScroll],\n        ['scroll-ctrl', MouseActions.isolevelScroll],\n        ['scroll-shift-ctrl', MouseActions.zoomFocusScroll],\n        ['drag-left', MouseActions.rotateDrag],\n        ['drag-right', MouseActions.panDrag],\n        ['drag-ctrl-left', MouseActions.panDrag],\n        ['drag-ctrl-right', MouseActions.zRotateDrag],\n        ['drag-shift-left', MouseActions.zoomDrag],\n        ['drag-middle', MouseActions.zoomFocusDrag],\n        ['drag-ctrl-shift-right', MouseActions.panComponentDrag],\n        ['drag-ctrl-shift-left', MouseActions.rotateComponentDrag],\n        ['clickPick-right', MouseActions.measurePick],\n        ['clickPick-ctrl-left', MouseActions.measurePick],\n        ['clickPick-middle', MouseActions.movePick],\n        ['clickPick-left', MouseActions.movePick],\n        ['hoverPick', MouseActions.tooltipPick]\n    ],\n    pymol: [\n        ['drag-left', MouseActions.rotateDrag],\n        ['drag-middle', MouseActions.panDrag],\n        ['drag-right', MouseActions.zoomDrag],\n        ['drag-shift-right', MouseActions.focusScroll],\n        ['clickPick-ctrl+shift-middle', MouseActions.movePick],\n        ['hoverPick', MouseActions.tooltipPick]\n    ],\n    coot: [\n        ['scroll', MouseActions.isolevelScroll],\n        ['drag-left', MouseActions.rotateDrag],\n        ['drag-middle', MouseActions.panDrag],\n        ['drag-ctrl-left', MouseActions.panDrag],\n        ['drag-right', MouseActions.zoomFocusDrag],\n        ['drag-ctrl-right', MouseActions.focusScroll],\n        ['clickPick-middle', MouseActions.movePick],\n        ['hoverPick', MouseActions.tooltipPick]\n    ],\n    astexviewer: [\n        ['drag-left', MouseActions.rotateDrag],\n        ['drag-ctrl-left', MouseActions.panDrag],\n        ['drag-shift-left', MouseActions.zoomDrag],\n        ['scroll', MouseActions.focusScroll],\n        ['clickPick-middle', MouseActions.movePick],\n        ['hoverPick', MouseActions.tooltipPick]\n    ]\n};\nexport default MouseActions;\n//# sourceMappingURL=mouse-actions.js.map","/**\n * @file Mouse Controls\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { MouseActionPresets } from './mouse-actions';\n/**\n * Strings to describe mouse events (including optional keyboard modifiers).\n * Must contain an event type: \"scroll\", \"drag\", \"click\", \"doubleClick\",\n * \"hover\", \"clickPick\" or \"hoverPick\". Optionally contain one or more\n * (seperated by plus signs) keyboard modifiers: \"alt\", \"ctrl\", \"meta\" or\n * \"shift\". Can contain the mouse button performing the event: \"left\",\n * \"middle\" or \"right\". The type, key and button parts must be seperated by\n * dashes.\n *\n * @example\n * // triggered on scroll event (no key or button)\n * \"scroll\"\n *\n * @example\n * // triggered on scroll event while shift key is pressed\n * \"scroll-shift\"\n *\n * @example\n * // triggered on drag event with left mouse button\n * \"drag-left\"\n *\n * @example\n * // triggered on drag event with right mouse button\n * // while ctrl and shift keys are pressed\n * \"drag-right-ctrl+shift\"\n *\n * @typedef {String} TriggerString\n */\n/**\n * Get event type, key and button\n * @param  {TriggerString} str - input trigger string\n * @return {Array} event type, key and button\n */\nfunction triggerFromString(str) {\n    const tokens = str.split(/[-+]/);\n    let type = '';\n    if (tokens.includes('scroll'))\n        type = 'scroll';\n    if (tokens.includes('drag'))\n        type = 'drag';\n    if (tokens.includes('click'))\n        type = 'click';\n    if (tokens.includes('doubleClick'))\n        type = 'doubleClick';\n    if (tokens.includes('hover'))\n        type = 'hover';\n    if (tokens.includes('clickPick'))\n        type = 'clickPick';\n    if (tokens.includes('hoverPick'))\n        type = 'hoverPick';\n    let key = 0;\n    if (tokens.includes('alt'))\n        key += 1;\n    if (tokens.includes('ctrl'))\n        key += 2;\n    if (tokens.includes('meta'))\n        key += 4;\n    if (tokens.includes('shift'))\n        key += 8;\n    let button = 0;\n    if (tokens.includes('left'))\n        button += 1;\n    if (tokens.includes('right'))\n        button += 2;\n    if (tokens.includes('middle'))\n        button += 4;\n    return [type, key, button];\n}\n/**\n * Mouse controls\n */\nclass MouseControls {\n    /**\n     * @param {Stage} stage - the stage object\n     * @param {Object} [params] - the parameters\n     * @param {String} params.preset - one of \"default\", \"pymol\", \"coot\"\n     * @param {String} params.disabled - flag to disable all actions\n     */\n    constructor(stage, params = {}) {\n        this.stage = stage;\n        this.actionList = [];\n        this.mouse = stage.mouseObserver;\n        this.disabled = params.disabled || false;\n        this.preset(params.preset || 'default');\n    }\n    run(type, ...args) {\n        if (this.disabled)\n            return;\n        const key = this.mouse.key || 0;\n        const button = this.mouse.buttons || 0;\n        this.actionList.forEach(a => {\n            if (a.type === type && a.key === key && a.button === button) {\n                a.callback(this.stage, ...args); // TODO\n            }\n        });\n    }\n    /**\n     * Add a new mouse action triggered by an event, key and button combination.\n     * The {@link MouseActions} class provides a number of static methods for\n     * use as callback functions.\n     *\n     * @example\n     * // change ambient light intensity on mouse scroll\n     * // while the ctrl and shift keys are pressed\n     * stage.mouseControls.add( \"scroll-ctrl+shift\", function( stage, delta ){\n     *     var ai = stage.getParameters().ambientIntensity;\n     *     stage.setParameters( { ambientIntensity: Math.max( 0, ai + delta / 50 ) } );\n     * } );\n     *\n     * @example\n     * // Call the MouseActions.zoomDrag method on mouse drag events\n     * // with left and right mouse buttons simultaneous\n     * stage.mouseControls.add( \"drag-left+right\", MouseActions.zoomDrag );\n     *\n     * @param {TriggerString} triggerStr - the trigger for the action\n     * @param {function(stage: Stage, ...args: Any)} callback - the callback function for the action\n     * @return {undefined}\n     */\n    add(triggerStr, callback) {\n        const [type, key, button] = triggerFromString(triggerStr);\n        this.actionList.push({ type, key, button, callback });\n    }\n    /**\n     * Remove a mouse action. The trigger string can contain an asterix (*)\n     * as a wildcard for any key or mouse button. When the callback function\n     * is given, only actions that call that function are removed.\n     *\n     * @example\n     * // remove actions triggered solely by a scroll event\n     * stage.mouseControls.remove( \"scroll\" );\n     *\n     * @example\n     * // remove actions triggered by a scroll event, including\n     * // those requiring a key pressed or mouse button used\n     * stage.mouseControls.remove( \"scroll-*\" );\n     *\n     * @example\n     * // remove actions triggered by a scroll event\n     * // while the shift key is pressed\n     * stage.mouseControls.remove( \"scroll-shift\" );\n     *\n     * @param {TriggerString} triggerStr - the trigger for the action\n     * @param {Function} [callback] - the callback function for the action\n     * @return {undefined}\n     */\n    remove(triggerStr, callback) {\n        const wildcard = triggerStr.includes('*');\n        const [type, key, button] = triggerFromString(triggerStr);\n        const actionList = this.actionList.filter(function (a) {\n            return !((a.type === type || (wildcard && type === '')) &&\n                (a.key === key || (wildcard && key === 0)) &&\n                (a.button === button || (wildcard && button === 0)) &&\n                (a.callback === callback || callback === undefined));\n        });\n        this.actionList = actionList;\n    }\n    /**\n     * Set mouse action preset\n     * @param  {String} name - one of \"default\", \"pymol\", \"coot\"\n     * @return {undefined}\n     */\n    preset(name) {\n        this.clear();\n        const list = MouseActionPresets[name] || [];\n        list.forEach(action => this.add(action[0], action[1]));\n    }\n    /**\n     * Remove all mouse actions\n     * @return {undefined}\n     */\n    clear() {\n        this.actionList.length = 0;\n    }\n}\nexport default MouseControls;\n//# sourceMappingURL=mouse-controls.js.map","/**\n * @file Key Actions\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\n/**\n * Key actions provided as static methods\n */\nclass KeyActions {\n    /**\n     * Stage auto view\n     */\n    static autoView(stage) {\n        stage.autoView(1000);\n    }\n    /**\n     * Toggle stage animations\n     */\n    static toggleAnimations(stage) {\n        stage.animationControls.toggle();\n    }\n    /**\n     * Toggle stage rocking\n     */\n    static toggleRock(stage) {\n        stage.toggleRock();\n    }\n    /**\n     * Toggle stage spinning\n     */\n    static toggleSpin(stage) {\n        stage.toggleSpin();\n    }\n    /**\n     * Toggle anti-aliasing\n     */\n    static toggleAntialiasing(stage) {\n        const p = stage.getParameters();\n        stage.setParameters({ sampleLevel: p.sampleLevel === -1 ? 0 : -1 });\n    }\n}\nexport const KeyActionPresets = {\n    default: [\n        ['i', KeyActions.toggleSpin],\n        ['k', KeyActions.toggleRock],\n        ['p', KeyActions.toggleAnimations],\n        ['a', KeyActions.toggleAntialiasing],\n        ['r', KeyActions.autoView]\n    ]\n};\nexport default KeyActions;\n//# sourceMappingURL=key-actions.js.map","/**\n * @file Key Controls\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { KeyActionPresets } from './key-actions';\n/**\n * Mouse controls\n */\nclass KeyControls {\n    /**\n     * @param {Stage} stage - the stage object\n     * @param {Object} [params] - the parameters\n     * @param {String} params.preset - one of \"default\"\n     * @param {String} params.disabled - flag to disable all actions\n     */\n    constructor(stage, params = {}) {\n        this.stage = stage;\n        this.actionList = [];\n        this.disabled = params.disabled || false;\n        this.preset(params.preset || 'default');\n    }\n    run(key) {\n        if (this.disabled)\n            return;\n        this.actionList.forEach(a => {\n            if (a.key === key) {\n                a.callback(this.stage);\n            }\n        });\n    }\n    /**\n     * Add a key action triggered by pressing the given character.\n     * The {@link KeyActions} class provides a number of static methods for\n     * use as callback functions.\n     *\n     * @example\n     * // call KeyActions.toggleRock when \"k\" is pressed\n     * stage.keyControls.remove( \"k\", KeyActions.toggleRock );\n     *\n     * @param {Char} char - the key/character\n     * @param {Function} callback - the callback function for the action\n     * @return {undefined}\n     */\n    add(char, callback) {\n        this.actionList.push({ key: char, callback });\n    }\n    /**\n     * Remove a key action. When the callback function\n     * is given, only actions that call that function are removed.\n     *\n     * @example\n     * // remove all actions triggered by pressing \"k\"\n     * stage.keyControls.remove( \"k\" );\n     *\n     * @example\n     * // remove action `toggleRock` triggered by pressing \"k\"\n     * stage.keyControls.remove( \"k\", toggleRock );\n     *\n     * @param {Char} char - the key/character\n     * @param {Function} [callback] - the callback function for the action\n     * @return {undefined}\n     */\n    remove(char, callback) {\n        const actionList = this.actionList.filter(function (a) {\n            return !((a.key === char) &&\n                (a.callback === callback || callback === undefined));\n        });\n        this.actionList = actionList;\n    }\n    /**\n     * Set key action preset\n     * @param  {String} name - one of \"default\"\n     * @return {undefined}\n     */\n    preset(name) {\n        this.clear();\n        const list = KeyActionPresets[name] || [];\n        list.forEach(action => this.add(action[0], action[1]));\n    }\n    /**\n     * Remove all key actions\n     * @return {undefined}\n     */\n    clear() {\n        this.actionList.length = 0;\n    }\n}\nexport default KeyControls;\n//# sourceMappingURL=key-controls.js.map","/**\n * @file Picking Behavior\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nclass PickingBehavior {\n    constructor(stage) {\n        this.stage = stage;\n        this.stage = stage;\n        this.mouse = stage.mouseObserver;\n        this.controls = stage.mouseControls;\n        this.mouse.signals.clicked.add(this._onClick, this);\n        this.mouse.signals.hovered.add(this._onHover, this);\n    }\n    _onClick(x, y) {\n        const pickingProxy = this.stage.pickingControls.pick(x, y);\n        this.stage.signals.clicked.dispatch(pickingProxy);\n        this.controls.run('clickPick', pickingProxy);\n    }\n    _onHover(x, y) {\n        const pickingProxy = this.stage.pickingControls.pick(x, y);\n        if (pickingProxy && this.mouse.down.equals(this.mouse.position)) {\n            this.stage.transformComponent = pickingProxy.component;\n            this.stage.transformAtom = pickingProxy.atom;\n        }\n        this.stage.signals.hovered.dispatch(pickingProxy);\n        this.controls.run('hoverPick', pickingProxy);\n    }\n    dispose() {\n        this.mouse.signals.clicked.remove(this._onClick, this);\n        this.mouse.signals.hovered.remove(this._onHover, this);\n    }\n}\nexport default PickingBehavior;\n//# sourceMappingURL=picking-behavior.js.map","/**\n * @file Mouse Behavior\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nclass MouseBehavior {\n    constructor(stage) {\n        this.stage = stage;\n        this.stage = stage;\n        this.mouse = stage.mouseObserver;\n        this.controls = stage.mouseControls;\n        this.mouse.signals.moved.add(this._onMove, this);\n        this.mouse.signals.scrolled.add(this._onScroll, this);\n        this.mouse.signals.dragged.add(this._onDrag, this);\n        this.mouse.signals.clicked.add(this._onClick, this);\n        this.mouse.signals.hovered.add(this._onHover, this);\n        this.mouse.signals.doubleClicked.add(this._onDblclick, this);\n    }\n    _onMove( /* x, y */) {\n        this.stage.tooltip.style.display = 'none';\n    }\n    _onScroll(delta) {\n        this.controls.run('scroll', delta);\n    }\n    _onDrag(dx, dy) {\n        this.controls.run('drag', dx, dy);\n    }\n    _onClick(x, y) {\n        this.controls.run('click', x, y);\n    }\n    _onDblclick(x, y) {\n        this.controls.run('doubleClick', x, y);\n    }\n    _onHover(x, y) {\n        this.controls.run('hover', x, y);\n    }\n    dispose() {\n        this.mouse.signals.moved.remove(this._onMove, this);\n        this.mouse.signals.scrolled.remove(this._onScroll, this);\n        this.mouse.signals.dragged.remove(this._onDrag, this);\n        this.mouse.signals.clicked.remove(this._onClick, this);\n        this.mouse.signals.hovered.remove(this._onHover, this);\n    }\n}\nexport default MouseBehavior;\n//# sourceMappingURL=mouse-behavior.js.map","/**\n * @file Animation Behavior\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nclass AnimationBehavior {\n    constructor(stage) {\n        this.stage = stage;\n        this.viewer = stage.viewer;\n        this.animationControls = stage.animationControls;\n        this.viewer.signals.ticked.add(this._onTick, this);\n    }\n    _onTick(stats) {\n        this.animationControls.run(stats);\n    }\n    dispose() {\n        this.viewer.signals.ticked.remove(this._onTick, this);\n    }\n}\nexport default AnimationBehavior;\n//# sourceMappingURL=animation-behavior.js.map","/**\n * @file Key Behavior\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { SupportsPassiveEventHandler } from '../globals';\nconst passive = SupportsPassiveEventHandler ? { passive: true } : false;\nclass KeyBehavior {\n    /**\n     * @param {Stage} stage - the stage object\n     */\n    constructor(stage) {\n        this.stage = stage;\n        this.stage = stage;\n        this.controls = stage.keyControls;\n        this.domElement = stage.viewer.renderer.domElement;\n        // ensure the domElement is focusable\n        this.domElement.setAttribute('tabIndex', '-1');\n        this.domElement.style.outline = 'none';\n        this._focusDomElement = this._focusDomElement.bind(this);\n        this._onKeydown = this._onKeydown.bind(this);\n        this._onKeyup = this._onKeyup.bind(this);\n        this._onKeypress = this._onKeypress.bind(this);\n        this.domElement.addEventListener('mousedown', this._focusDomElement);\n        this.domElement.addEventListener('touchstart', this._focusDomElement, passive); // TODO\n        this.domElement.addEventListener('keydown', this._onKeydown);\n        this.domElement.addEventListener('keyup', this._onKeyup);\n        this.domElement.addEventListener('keypress', this._onKeypress);\n    }\n    /**\n     * handle key down\n     * @param  {Event} event - key event\n     * @return {undefined}\n     */\n    _onKeydown( /* event */) {\n        // console.log( \"down\", event.keyCode, String.fromCharCode( event.keyCode ) );\n    }\n    /**\n     * handle key up\n     * @param  {Event} event - key event\n     * @return {undefined}\n     */\n    _onKeyup( /* event */) {\n        // console.log( \"up\", event.keyCode, String.fromCharCode( event.keyCode ) );\n    }\n    /**\n     * handle key press\n     * @param  {Event} event - key event\n     * @return {undefined}\n     */\n    _onKeypress(event) {\n        // console.log( \"press\", event.keyCode, String.fromCharCode( event.keyCode ) );\n        let pressedKey;\n        if (\"key\" in KeyboardEvent.prototype) {\n            pressedKey = event.key;\n            // some mobile browsers don't support this attribute\n        }\n        else {\n            pressedKey = String.fromCharCode(event.which || event.keyCode);\n        }\n        this.controls.run(pressedKey);\n    }\n    _focusDomElement() {\n        this.domElement.focus();\n    }\n    dispose() {\n        this.domElement.removeEventListener('mousedown', this._focusDomElement);\n        this.domElement.removeEventListener('touchstart', this._focusDomElement, passive); // TODO\n        this.domElement.removeEventListener('keydown', this._onKeypress);\n        this.domElement.removeEventListener('keyup', this._onKeypress);\n        this.domElement.removeEventListener('keypress', this._onKeypress);\n    }\n}\nexport default KeyBehavior;\n//# sourceMappingURL=key-behavior.js.map","/**\n * @file Annotation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector2, Vector3 } from 'three';\nimport { defaults } from '../utils';\nimport { smoothstep } from '../math/math-utils';\n/**\n * Annotation HTML element floating on top of a position rendered in 3d\n */\nexport default class Annotation {\n    /**\n     * @param {Component} component - the associated component\n     * @param {Vector3} position - position in 3d\n     * @param {String|Element} content - HTML content\n     * @param {Object} [params] - parameters\n     * @param {Integer} params.offsetX - 2d offset in x direction\n     * @param {Integer} params.offsetY - 2d offset in y direction\n     * @param {Boolean} params.visible - visibility flag\n     */\n    constructor(component, position, content, params = {}) {\n        this.component = component;\n        this.position = position;\n        this.offsetX = defaults(params.offsetX, 0);\n        this.offsetY = defaults(params.offsetY, 0);\n        this.visible = defaults(params.visible, true);\n        this.stage = component.stage;\n        this.viewer = component.stage.viewer;\n        this._viewerPosition = new Vector3();\n        this._updateViewerPosition();\n        this._canvasPosition = new Vector2();\n        this._cameraPosition = new Vector3();\n        this.element = document.createElement('div');\n        Object.assign(this.element.style, {\n            display: 'block',\n            position: 'absolute',\n            pointerEvents: 'none',\n            whiteSpace: 'nowrap',\n            left: '-10000px'\n        });\n        this.viewer.wrapper.appendChild(this.element);\n        this.setContent(content);\n        this.updateVisibility();\n        this.viewer.signals.rendered.add(this._update, this);\n        this.component.signals.matrixChanged.add(this._updateViewerPosition, this);\n    }\n    /**\n     * Set HTML content of the annotation\n     * @param {String|Element} value - HTML content\n     * @return {undefined}\n     */\n    setContent(value) {\n        const displayValue = this.element.style.display;\n        if (displayValue === 'none') {\n            this.element.style.left = '-10000px';\n            this.element.style.display = 'block';\n        }\n        if (value instanceof HTMLElement) {\n            this.element.appendChild(value);\n        }\n        else {\n            const content = document.createElement('div');\n            content.innerText = value;\n            Object.assign(content.style, {\n                backgroundColor: 'rgba( 0, 0, 0, 0.6 )',\n                color: 'lightgrey',\n                padding: '8px',\n                fontFamily: 'sans-serif',\n            });\n            this.element.appendChild(content);\n        }\n        this._clientRect = this.element.getBoundingClientRect();\n        if (displayValue === 'none') {\n            this.element.style.display = displayValue;\n        }\n    }\n    /**\n     * Set visibility of the annotation\n     * @param {Boolean} value - visibility flag\n     * @return {undefined}\n     */\n    setVisibility(value) {\n        this.visible = value;\n        this.updateVisibility();\n    }\n    getVisibility() {\n        return this.visible && this.component.parameters.visible;\n    }\n    updateVisibility() {\n        this.element.style.display = this.getVisibility() ? 'block' : 'none';\n    }\n    _updateViewerPosition() {\n        this._viewerPosition\n            .copy(this.position)\n            .applyMatrix4(this.component.matrix);\n    }\n    _update() {\n        if (!this.getVisibility())\n            return;\n        const s = this.element.style;\n        const cp = this._canvasPosition;\n        const vp = this._viewerPosition;\n        const cr = this._clientRect;\n        this._cameraPosition.copy(vp)\n            .add(this.viewer.translationGroup.position)\n            .applyMatrix4(this.viewer.rotationGroup.matrix)\n            .sub(this.viewer.camera.position);\n        if (this._cameraPosition.z < 0) {\n            s.display = 'none';\n            return;\n        }\n        else {\n            s.display = 'block';\n        }\n        const depth = this._cameraPosition.length();\n        const fog = this.viewer.scene.fog; // TODO\n        s.opacity = (1 - smoothstep(fog.near, fog.far, depth)).toString();\n        s.zIndex = (Math.round((fog.far - depth) * 100)).toString();\n        this.stage.viewerControls.getPositionOnCanvas(vp, cp);\n        s.bottom = (this.offsetX + cp.y + cr.height / 2) + 'px';\n        s.left = (this.offsetY + cp.x - cr.width / 2) + 'px';\n    }\n    /**\n     * Safely remove the annotation\n     * @return {undefined}\n     */\n    dispose() {\n        this.viewer.wrapper.removeChild(this.element);\n        this.viewer.signals.ticked.remove(this._update, this);\n        this.component.signals.matrixChanged.remove(this._updateViewerPosition, this);\n    }\n}\n//# sourceMappingURL=annotation.js.map","/**\n * @file Component Controls\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3, Matrix4, Quaternion } from 'three';\nimport * as signalsWrapper from 'signals';\nimport { ensureVector3 } from '../utils';\nconst tmpRotateMatrix = new Matrix4();\nconst tmpRotateVector = new Vector3();\nconst tmpRotateQuaternion = new Quaternion();\n/**\n * Component controls\n */\nclass ComponentControls {\n    /**\n     * @param  {Component} component - the component object\n     */\n    constructor(component) {\n        this.component = component;\n        this.signals = {\n            changed: new signalsWrapper.Signal()\n        };\n        this.stage = component.stage;\n        this.viewer = component.stage.viewer;\n    }\n    /**\n     * component center position\n     * @type {Vector3}\n     */\n    get position() {\n        return this.component.position;\n    }\n    /**\n     * component rotation\n     * @type {Quaternion}\n     */\n    get rotation() {\n        return this.component.quaternion;\n    }\n    /**\n     * Trigger render and emit changed event\n     * @emits {ComponentControls.signals.changed}\n     * @return {undefined}\n     */\n    changed() {\n        this.component.updateMatrix();\n        this.viewer.requestRender();\n        this.signals.changed.dispatch();\n    }\n    /**\n     * spin component on axis\n     * @param  {Vector3|Array} axis - rotation axis\n     * @param  {Number} angle - amount to spin\n     * @return {undefined}\n     */\n    spin(axis, angle) {\n        tmpRotateMatrix.getInverse(this.viewer.rotationGroup.matrix);\n        tmpRotateVector\n            .copy(ensureVector3(axis)).applyMatrix4(tmpRotateMatrix);\n        tmpRotateMatrix.extractRotation(this.component.transform);\n        tmpRotateMatrix.premultiply(this.viewer.rotationGroup.matrix);\n        tmpRotateMatrix.getInverse(tmpRotateMatrix);\n        tmpRotateVector.copy(ensureVector3(axis));\n        tmpRotateVector.applyMatrix4(tmpRotateMatrix);\n        tmpRotateMatrix.makeRotationAxis(tmpRotateVector, angle);\n        tmpRotateQuaternion.setFromRotationMatrix(tmpRotateMatrix);\n        this.component.quaternion.premultiply(tmpRotateQuaternion);\n        this.changed();\n    }\n}\nexport default ComponentControls;\n//# sourceMappingURL=component-controls.js.map","/**\n * @file Radius Factory\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { defaults } from '../utils';\nimport { NucleicBackboneAtoms } from '../structure/structure-constants';\nexport const RadiusFactoryTypes = {\n    '': '',\n    'vdw': 'by vdW radius',\n    'covalent': 'by covalent radius',\n    'sstruc': 'by secondary structure',\n    'bfactor': 'by bfactor',\n    'size': 'size',\n    'data': 'data',\n    'explicit': 'explicit'\n};\nclass RadiusFactory {\n    constructor(params = {}) {\n        this.max = 10;\n        this.type = defaults(params.type, 'size');\n        this.scale = defaults(params.scale, 1);\n        this.size = defaults(params.size, 1);\n        this.data = defaults(params.data, {});\n    }\n    atomRadius(a) {\n        let r;\n        switch (this.type) {\n            case 'vdw':\n                r = a.vdw;\n                break;\n            case 'covalent':\n                r = a.covalent;\n                break;\n            case 'bfactor':\n                r = a.bfactor || 1.0;\n                break;\n            case 'sstruc':\n                const sstruc = a.sstruc;\n                if (sstruc === 'h') {\n                    r = 0.25;\n                }\n                else if (sstruc === 'g') {\n                    r = 0.25;\n                }\n                else if (sstruc === 'i') {\n                    r = 0.25;\n                }\n                else if (sstruc === 'e') {\n                    r = 0.25;\n                }\n                else if (sstruc === 'b') {\n                    r = 0.25;\n                }\n                else if (NucleicBackboneAtoms.includes(a.atomname)) {\n                    r = 0.4;\n                }\n                else {\n                    r = 0.1;\n                }\n                break;\n            case 'data':\n                r = defaults(this.data[a.index], 1.0);\n                break;\n            case 'explicit':\n                // defaults is inappropriate as AtomProxy.radius returns\n                // null for missing radii\n                r = a.radius;\n                if (r === null)\n                    r = this.size;\n                break;\n            default:\n                r = this.size;\n                break;\n        }\n        return Math.min(r * this.scale, this.max);\n    }\n}\nRadiusFactory.types = RadiusFactoryTypes;\nexport default RadiusFactory;\n//# sourceMappingURL=radius-factory.js.map","/**\n * @file Principal Axes\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3, Matrix4, Quaternion } from 'three';\nimport { Matrix, meanRows, subRows, transpose, multiplyABt, svd } from './matrix-utils';\nimport { projectPointOnVector } from './vector-utils';\nconst negateVector = new Vector3(-1, -1, -1);\nconst tmpMatrix = new Matrix4();\n/**\n * Principal axes\n */\nclass PrincipalAxes {\n    /**\n     * @param  {Matrix} points - 3 by N matrix\n     */\n    constructor(points) {\n        // console.time( \"PrincipalAxes\" );\n        const n = points.rows;\n        const n3 = n / 3;\n        const pointsT = new Matrix(n, 3);\n        const A = new Matrix(3, 3);\n        const W = new Matrix(1, 3);\n        const U = new Matrix(3, 3);\n        const V = new Matrix(3, 3);\n        // calculate\n        const mean = meanRows(points);\n        subRows(points, mean);\n        transpose(pointsT, points);\n        multiplyABt(A, pointsT, pointsT);\n        svd(A, W, U, V);\n        // console.log( points, pointsT, mean )\n        // console.log( n, A, W, U, V );\n        // center\n        const vm = new Vector3(mean[0], mean[1], mean[2]);\n        // normalized\n        const van = new Vector3(U.data[0], U.data[3], U.data[6]);\n        const vbn = new Vector3(U.data[1], U.data[4], U.data[7]);\n        const vcn = new Vector3(U.data[2], U.data[5], U.data[8]);\n        // scaled\n        const va = van.clone().multiplyScalar(Math.sqrt(W.data[0] / n3));\n        const vb = vbn.clone().multiplyScalar(Math.sqrt(W.data[1] / n3));\n        const vc = vcn.clone().multiplyScalar(Math.sqrt(W.data[2] / n3));\n        // points\n        this.begA = vm.clone().sub(va);\n        this.endA = vm.clone().add(va);\n        this.begB = vm.clone().sub(vb);\n        this.endB = vm.clone().add(vb);\n        this.begC = vm.clone().sub(vc);\n        this.endC = vm.clone().add(vc);\n        //\n        this.center = vm;\n        this.vecA = va;\n        this.vecB = vb;\n        this.vecC = vc;\n        this.normVecA = van;\n        this.normVecB = vbn;\n        this.normVecC = vcn;\n        // console.timeEnd( \"PrincipalAxes\" );\n    }\n    /**\n     * Get the basis matrix descriping the axes\n     * @param  {Matrix4} [optionalTarget] - target object\n     * @return {Matrix4} the basis\n     */\n    getBasisMatrix(optionalTarget = new Matrix4()) {\n        const basis = optionalTarget;\n        basis.makeBasis(this.normVecB, this.normVecA, this.normVecC);\n        if (basis.determinant() < 0) {\n            basis.scale(negateVector);\n        }\n        return basis;\n    }\n    /**\n     * Get a quaternion descriping the axes rotation\n     * @param  {Quaternion} [optionalTarget] - target object\n     * @return {Quaternion} the rotation\n     */\n    getRotationQuaternion(optionalTarget = new Quaternion()) {\n        const q = optionalTarget;\n        q.setFromRotationMatrix(this.getBasisMatrix(tmpMatrix));\n        return q.inverse();\n    }\n    /**\n     * Get the scale/length for each dimension for a box around the axes\n     * to enclose the atoms of a structure\n     * @param  {Structure|StructureView} structure - the structure\n     * @return {{d1a: Number, d2a: Number, d3a: Number, d1b: Number, d2b: Number, d3b: Number}} scale\n     */\n    getProjectedScaleForAtoms(structure) {\n        let d1a = -Infinity;\n        let d1b = -Infinity;\n        let d2a = -Infinity;\n        let d2b = -Infinity;\n        let d3a = -Infinity;\n        let d3b = -Infinity;\n        const p = new Vector3();\n        const t = new Vector3();\n        const center = this.center;\n        const ax1 = this.normVecA;\n        const ax2 = this.normVecB;\n        const ax3 = this.normVecC;\n        structure.eachAtom(function (ap) {\n            projectPointOnVector(p.copy(ap), ax1, center); // TODO\n            const dp1 = t.subVectors(p, center).normalize().dot(ax1);\n            const dt1 = p.distanceTo(center);\n            if (dp1 > 0) {\n                if (dt1 > d1a)\n                    d1a = dt1;\n            }\n            else {\n                if (dt1 > d1b)\n                    d1b = dt1;\n            }\n            projectPointOnVector(p.copy(ap), ax2, center);\n            const dp2 = t.subVectors(p, center).normalize().dot(ax2);\n            const dt2 = p.distanceTo(center);\n            if (dp2 > 0) {\n                if (dt2 > d2a)\n                    d2a = dt2;\n            }\n            else {\n                if (dt2 > d2b)\n                    d2b = dt2;\n            }\n            projectPointOnVector(p.copy(ap), ax3, center);\n            const dp3 = t.subVectors(p, center).normalize().dot(ax3);\n            const dt3 = p.distanceTo(center);\n            if (dp3 > 0) {\n                if (dt3 > d3a)\n                    d3a = dt3;\n            }\n            else {\n                if (dt3 > d3b)\n                    d3b = dt3;\n            }\n        });\n        return {\n            d1a: d1a,\n            d2a: d2a,\n            d3a: d3a,\n            d1b: -d1b,\n            d2b: -d2b,\n            d3b: -d3b\n        };\n    }\n}\nexport default PrincipalAxes;\n//# sourceMappingURL=principal-axes.js.map","/**\n * @file Filtered Volume\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { defaults } from '../utils';\nimport Volume from './volume';\nclass FilteredVolume {\n    constructor(volume, minValue, maxValue, outside) {\n        this.volume = volume;\n        this.setFilter(minValue, maxValue, outside);\n    }\n    get header() { return this.volume.header; }\n    get matrix() { return this.volume.matrix; }\n    get normalMatrix() { return this.volume.normalMatrix; }\n    get inverseMatrix() { return this.volume.inverseMatrix; }\n    get center() { return this.volume.center; }\n    get boundingBox() { return this.volume.boundingBox; }\n    get min() { return this.volume.min; }\n    get max() { return this.volume.max; }\n    get mean() { return this.volume.mean; }\n    get rms() { return this.volume.rms; }\n    _getFilterHash(minValue, maxValue, outside) {\n        return JSON.stringify([minValue, maxValue, outside]);\n    }\n    setFilter(minValue, maxValue, outside) {\n        if (isNaN(minValue) && this.header) {\n            minValue = this.header.DMEAN + 2.0 * this.header.ARMS;\n        }\n        minValue = (minValue !== undefined && !isNaN(minValue)) ? minValue : -Infinity;\n        maxValue = defaults(maxValue, Infinity);\n        outside = defaults(outside, false);\n        const data = this.volume.data;\n        const position = this.volume.position;\n        const atomindex = this.volume.atomindex;\n        const filterHash = this._getFilterHash(minValue, maxValue, outside);\n        if (filterHash === this._filterHash) {\n            // already filtered\n            return;\n        }\n        else if (minValue === -Infinity && maxValue === Infinity) {\n            this.data = data;\n            this.position = position;\n            this.atomindex = atomindex;\n        }\n        else {\n            const n = data.length;\n            if (!this._dataBuffer) {\n                // ArrayBuffer for re-use as Float32Array backend\n                this._dataBuffer = new ArrayBuffer(n * 4);\n                this._positionBuffer = new ArrayBuffer(n * 3 * 4);\n                if (atomindex)\n                    this._atomindexBuffer = new ArrayBuffer(n * 4);\n            }\n            const filteredData = new Float32Array(this._dataBuffer);\n            const filteredPosition = new Float32Array(this._positionBuffer);\n            let filteredAtomindex;\n            if (atomindex)\n                filteredAtomindex = new Uint32Array(this._atomindexBuffer);\n            let j = 0;\n            for (let i = 0; i < n; ++i) {\n                const i3 = i * 3;\n                const v = data[i];\n                if ((!outside && v >= minValue && v <= maxValue) ||\n                    (outside && (v < minValue || v > maxValue))) {\n                    const j3 = j * 3;\n                    filteredData[j] = v;\n                    filteredPosition[j3 + 0] = position[i3 + 0];\n                    filteredPosition[j3 + 1] = position[i3 + 1];\n                    filteredPosition[j3 + 2] = position[i3 + 2];\n                    if (atomindex && filteredAtomindex)\n                        filteredAtomindex[j] = atomindex[i];\n                    j += 1;\n                }\n            }\n            // set views\n            this.data = new Float32Array(this._dataBuffer, 0, j);\n            this.position = new Float32Array(this._positionBuffer, 0, j * 3);\n            if (atomindex)\n                this.atomindex = new Int32Array(this._atomindexBuffer, 0, j);\n        }\n        this._filterHash = filterHash;\n    }\n}\nFilteredVolume.prototype.getValueForSigma = Volume.prototype.getValueForSigma;\nFilteredVolume.prototype.getSigmaForValue = Volume.prototype.getSigmaForValue;\nFilteredVolume.prototype.getDataAtomindex = Volume.prototype.getDataAtomindex;\nFilteredVolume.prototype.getDataPosition = Volume.prototype.getDataPosition;\nFilteredVolume.prototype.getDataColor = Volume.prototype.getDataColor;\nFilteredVolume.prototype.getDataPicking = Volume.prototype.getDataPicking;\nFilteredVolume.prototype.getDataSize = Volume.prototype.getDataSize;\nexport default FilteredVolume;\n//# sourceMappingURL=filtered-volume.js.map","/**\n * @file Bond Hash\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { createAdjacencyList } from '../utils/adjacency-list';\nclass BondHash {\n    constructor(bondStore, atomCount) {\n        const al = createAdjacencyList({\n            nodeArray1: bondStore.atomIndex1,\n            nodeArray2: bondStore.atomIndex2,\n            edgeCount: bondStore.count,\n            nodeCount: atomCount\n        });\n        this.countArray = al.countArray;\n        this.offsetArray = al.offsetArray;\n        this.indexArray = al.indexArray;\n    }\n}\nexport default BondHash;\n//# sourceMappingURL=bond-hash.js.map","/**\n * @file Bond Store\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport Store from './store';\n/**\n * Bond store\n */\nexport default class BondStore extends Store {\n    get _defaultFields() {\n        return [\n            ['atomIndex1', 1, 'int32'],\n            ['atomIndex2', 1, 'int32'],\n            ['bondOrder', 1, 'int8']\n        ];\n    }\n    addBond(atom1, atom2, bondOrder) {\n        this.growIfFull();\n        const i = this.count;\n        const ai1 = atom1.index;\n        const ai2 = atom2.index;\n        if (ai1 < ai2) {\n            this.atomIndex1[i] = ai1;\n            this.atomIndex2[i] = ai2;\n        }\n        else {\n            this.atomIndex2[i] = ai1;\n            this.atomIndex1[i] = ai2;\n        }\n        if (bondOrder)\n            this.bondOrder[i] = bondOrder;\n        this.count += 1;\n    }\n    addBondIfConnected(atom1, atom2, bondOrder) {\n        if (atom1.connectedTo(atom2)) {\n            this.addBond(atom1, atom2, bondOrder);\n            return true;\n        }\n        return false;\n    }\n}\n//# sourceMappingURL=bond-store.js.map","/**\n * @file Atom Store\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport Store from './store';\n/**\n * Atom store\n */\nexport default class AtomStore extends Store {\n    get _defaultFields() {\n        return [\n            ['residueIndex', 1, 'uint32'],\n            ['atomTypeId', 1, 'uint16'],\n            ['x', 1, 'float32'],\n            ['y', 1, 'float32'],\n            ['z', 1, 'float32'],\n            ['serial', 1, 'int32'],\n            ['bfactor', 1, 'float32'],\n            ['altloc', 1, 'uint8'],\n            ['occupancy', 1, 'float32']\n        ];\n    }\n    setAltloc(i, str) {\n        this.altloc[i] = str.charCodeAt(0);\n    }\n    getAltloc(i) {\n        const code = this.altloc[i];\n        return code ? String.fromCharCode(code) : '';\n    }\n}\n//# sourceMappingURL=atom-store.js.map","/**\n * @file Residue Store\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport Store from './store';\n/**\n * Residue store\n */\nexport default class ResidueStore extends Store {\n    get _defaultFields() {\n        return [\n            ['chainIndex', 1, 'uint32'],\n            ['atomOffset', 1, 'uint32'],\n            ['atomCount', 1, 'uint32'],\n            ['residueTypeId', 1, 'uint16'],\n            ['resno', 1, 'int32'],\n            ['sstruc', 1, 'uint8'],\n            ['inscode', 1, 'uint8']\n        ];\n    }\n    setSstruc(i, str) {\n        this.sstruc[i] = str.charCodeAt(0);\n    }\n    getSstruc(i) {\n        const code = this.sstruc[i];\n        return code ? String.fromCharCode(code) : '';\n    }\n    setInscode(i, str) {\n        this.inscode[i] = str.charCodeAt(0);\n    }\n    getInscode(i) {\n        const code = this.inscode[i];\n        return code ? String.fromCharCode(code) : '';\n    }\n}\n//# sourceMappingURL=residue-store.js.map","/**\n * @file Chain Store\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport Store from './store';\n/**\n * Chain store\n */\nexport default class ChainStore extends Store {\n    get _defaultFields() {\n        return [\n            ['entityIndex', 1, 'uint16'],\n            ['modelIndex', 1, 'uint16'],\n            ['residueOffset', 1, 'uint32'],\n            ['residueCount', 1, 'uint32'],\n            ['chainname', 4, 'uint8'],\n            ['chainid', 4, 'uint8']\n        ];\n    }\n    setChainname(i, str) {\n        const j = 4 * i;\n        this.chainname[j] = str.charCodeAt(0);\n        this.chainname[j + 1] = str.charCodeAt(1);\n        this.chainname[j + 2] = str.charCodeAt(2);\n        this.chainname[j + 3] = str.charCodeAt(3);\n    }\n    getChainname(i) {\n        let chainname = '';\n        for (let k = 0; k < 4; ++k) {\n            const code = this.chainname[4 * i + k];\n            if (code) {\n                chainname += String.fromCharCode(code);\n            }\n            else {\n                break;\n            }\n        }\n        return chainname;\n    }\n    setChainid(i, str) {\n        const j = 4 * i;\n        this.chainid[j] = str.charCodeAt(0);\n        this.chainid[j + 1] = str.charCodeAt(1);\n        this.chainid[j + 2] = str.charCodeAt(2);\n        this.chainid[j + 3] = str.charCodeAt(3);\n    }\n    getChainid(i) {\n        let chainid = '';\n        for (let k = 0; k < 4; ++k) {\n            const code = this.chainid[4 * i + k];\n            if (code) {\n                chainid += String.fromCharCode(code);\n            }\n            else {\n                break;\n            }\n        }\n        return chainid;\n    }\n}\n//# sourceMappingURL=chain-store.js.map","/**\n * @file Model Store\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport Store from './store';\n/**\n * Model store\n */\nexport default class ModelStore extends Store {\n    get _defaultFields() {\n        return [\n            ['chainOffset', 1, 'uint32'],\n            ['chainCount', 1, 'uint32']\n        ];\n    }\n}\n//# sourceMappingURL=model-store.js.map","/**\n * @file Helixorient\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3 } from 'three';\nimport { ColormakerRegistry } from '../globals';\nimport { AtomPicker } from '../utils/picker';\nimport RadiusFactory from '../utils/radius-factory';\nimport { copyArray } from '../math/array-utils';\nimport { projectPointOnVector } from '../math/vector-utils';\nclass Helixorient {\n    constructor(polymer) {\n        this.polymer = polymer;\n        this.size = polymer.residueCount;\n    }\n    getCenterIterator(smooth = 0) {\n        const center = this.getPosition().center;\n        const size = center.length / 3;\n        let i = 0;\n        let j = -1;\n        const cache = [\n            new Vector3(),\n            new Vector3(),\n            new Vector3(),\n            new Vector3()\n        ];\n        function next() {\n            const vector = this.get(j);\n            j += 1;\n            return vector;\n        }\n        function get(idx) {\n            idx = Math.min(size - 1, Math.max(0, idx));\n            const v = cache[i % 4];\n            const idx3 = 3 * idx;\n            v.fromArray(center, idx3); // TODO\n            if (smooth) {\n                const w = Math.min(smooth, idx, size - idx - 1);\n                for (let k = 1; k <= w; ++k) {\n                    const l = k * 3;\n                    const t = (w + 1 - k) / (w + 1);\n                    v.x += t * center[idx3 - l + 0] + t * center[idx3 + l + 0];\n                    v.y += t * center[idx3 - l + 1] + t * center[idx3 + l + 1];\n                    v.z += t * center[idx3 - l + 2] + t * center[idx3 + l + 2];\n                }\n                v.x /= w + 1;\n                v.y /= w + 1;\n                v.z /= w + 1;\n            }\n            i += 1;\n            return v;\n        }\n        function reset() {\n            i = 0;\n            j = -1;\n        }\n        return { size, next, get, reset };\n    }\n    getColor(params) {\n        const polymer = this.polymer;\n        const structure = polymer.structure;\n        const n = polymer.residueCount;\n        const residueIndexStart = polymer.residueIndexStart;\n        const col = new Float32Array(n * 3);\n        const p = params || {};\n        p.structure = structure;\n        const colormaker = ColormakerRegistry.getScheme(p);\n        const rp = structure.getResidueProxy();\n        const ap = structure.getAtomProxy();\n        for (let i = 0; i < n; ++i) {\n            rp.index = residueIndexStart + i;\n            ap.index = rp.traceAtomIndex;\n            colormaker.atomColorToArray(ap, col, i * 3);\n        }\n        return {\n            'color': col\n        };\n    }\n    getPicking() {\n        const polymer = this.polymer;\n        const structure = polymer.structure;\n        const n = polymer.residueCount;\n        const residueIndexStart = polymer.residueIndexStart;\n        const pick = new Float32Array(n);\n        const rp = structure.getResidueProxy();\n        for (let i = 0; i < n; ++i) {\n            rp.index = residueIndexStart + i;\n            pick[i] = rp.traceAtomIndex;\n        }\n        return {\n            'picking': new AtomPicker(pick, structure)\n        };\n    }\n    getSize(params) {\n        const polymer = this.polymer;\n        const structure = polymer.structure;\n        const n = polymer.residueCount;\n        const residueIndexStart = polymer.residueIndexStart;\n        const size = new Float32Array(n);\n        const radiusFactory = new RadiusFactory(params);\n        const rp = structure.getResidueProxy();\n        const ap = structure.getAtomProxy();\n        for (let i = 0; i < n; ++i) {\n            rp.index = residueIndexStart + i;\n            ap.index = rp.traceAtomIndex;\n            size[i] = radiusFactory.atomRadius(ap);\n        }\n        return { size };\n    }\n    getPosition() {\n        const polymer = this.polymer;\n        const structure = polymer.structure;\n        const n = polymer.residueCount;\n        const n3 = n - 3;\n        const center = new Float32Array(3 * n);\n        const axis = new Float32Array(3 * n);\n        const diff = new Float32Array(n);\n        const radius = new Float32Array(n);\n        const rise = new Float32Array(n);\n        const twist = new Float32Array(n);\n        const resdir = new Float32Array(3 * n);\n        const r12 = new Vector3();\n        const r23 = new Vector3();\n        const r34 = new Vector3();\n        const diff13 = new Vector3();\n        const diff24 = new Vector3();\n        const v1 = new Vector3();\n        const v2 = new Vector3();\n        const vt = new Vector3();\n        const _axis = new Vector3();\n        const _prevAxis = new Vector3();\n        const _resdir = new Vector3();\n        const _center = new Vector3(0, 0, 0);\n        const type = 'trace';\n        const a1 = structure.getAtomProxy();\n        const a2 = structure.getAtomProxy(polymer.getAtomIndexByType(0, type));\n        const a3 = structure.getAtomProxy(polymer.getAtomIndexByType(1, type));\n        const a4 = structure.getAtomProxy(polymer.getAtomIndexByType(2, type));\n        for (let i = 0; i < n3; ++i) {\n            a1.index = a2.index;\n            a2.index = a3.index;\n            a3.index = a4.index;\n            a4.index = polymer.getAtomIndexByType(i + 3, type); // TODO\n            const j = 3 * i;\n            // ported from GROMACS src/tools/gmx_helixorient.c\n            r12.subVectors(a2, a1); // TODO\n            r23.subVectors(a3, a2); // TODO\n            r34.subVectors(a4, a3); // TODO\n            diff13.subVectors(r12, r23);\n            diff24.subVectors(r23, r34);\n            _axis.crossVectors(diff13, diff24).normalize();\n            _axis.toArray(axis, j); // TODO\n            if (i > 0) {\n                diff[i] = _axis.angleTo(_prevAxis);\n            }\n            const tmp = Math.cos(diff13.angleTo(diff24));\n            twist[i] = 180.0 / Math.PI * Math.acos(tmp);\n            const diff13Length = diff13.length();\n            const diff24Length = diff24.length();\n            radius[i] = (Math.sqrt(diff24Length * diff13Length) /\n                // clamp, to avoid instabilities for when\n                // angle between diff13 and diff24 is near 0\n                Math.max(2.0, 2.0 * (1.0 - tmp)));\n            rise[i] = Math.abs(r23.dot(_axis));\n            //\n            v1.copy(diff13).multiplyScalar(radius[i] / diff13Length);\n            v2.copy(diff24).multiplyScalar(radius[i] / diff24Length);\n            v1.subVectors(a2, v1); // TODO\n            v2.subVectors(a3, v2); // TODO\n            v1.toArray(center, j + 3); // TODO\n            v2.toArray(center, j + 6); // TODO\n            //\n            _resdir.subVectors(a1, _center); // TODO\n            _resdir.toArray(resdir, j); // TODO\n            _prevAxis.copy(_axis);\n            _center.copy(v1);\n        }\n        //\n        // calc axis as dir of second and third center pos\n        // project first traceAtom onto axis to get first center pos\n        v1.fromArray(center, 3); // TODO\n        v2.fromArray(center, 6); // TODO\n        _axis.subVectors(v1, v2).normalize();\n        // _center.copy( res[ 0 ].getTraceAtom() );\n        a1.index = polymer.getAtomIndexByType(0, type); // TODO\n        _center.copy(a1); // TODO\n        vt.copy(a1); // TODO\n        projectPointOnVector(vt, _axis, v1);\n        vt.toArray(center, 0); // TODO\n        // calc first resdir\n        _resdir.subVectors(_center, v1);\n        _resdir.toArray(resdir, 0); // TODO\n        // calc axis as dir of n-1 and n-2 center pos\n        // project last traceAtom onto axis to get last center pos\n        v1.fromArray(center, 3 * n - 6); // TODO\n        v2.fromArray(center, 3 * n - 9); // TODO\n        _axis.subVectors(v1, v2).normalize();\n        // _center.copy( res[ n - 1 ].getTraceAtom() );\n        a1.index = polymer.getAtomIndexByType(n - 1, type); // TODO\n        _center.copy(a1); // TODO\n        vt.copy(a1); // TODO\n        projectPointOnVector(vt, _axis, v1);\n        vt.toArray(center, 3 * n - 3); // TODO\n        // calc last three resdir\n        for (let i = n - 3; i < n; ++i) {\n            v1.fromArray(center, 3 * i); // TODO\n            // _center.copy( res[ i ].getTraceAtom() );\n            a1.index = polymer.getAtomIndexByType(i, type); // TODO\n            _center.copy(a1); // TODO\n            _resdir.subVectors(_center, v1);\n            _resdir.toArray(resdir, 3 * i); // TODO\n        }\n        // average measures to define them on the residues\n        const resRadius = new Float32Array(n);\n        const resTwist = new Float32Array(n);\n        const resRise = new Float32Array(n);\n        const resBending = new Float32Array(n);\n        resRadius[1] = radius[0];\n        resTwist[1] = twist[0];\n        resRise[1] = radius[0];\n        for (let i = 2; i < n - 2; ++i) {\n            resRadius[i] = 0.5 * (radius[i - 2] + radius[i - 1]);\n            resTwist[i] = 0.5 * (twist[i - 2] + twist[i - 1]);\n            resRise[i] = 0.5 * (rise[i - 2] + rise[i - 1]);\n            v1.fromArray(axis, 3 * (i - 2)); // TODO\n            v2.fromArray(axis, 3 * (i - 1)); // TODO\n            resBending[i] = 180.0 / Math.PI * Math.acos(Math.cos(v1.angleTo(v2)));\n        }\n        resRadius[n - 2] = radius[n - 4];\n        resTwist[n - 2] = twist[n - 4];\n        resRise[n - 2] = rise[n - 4];\n        // average helix axes to define them on the residues\n        const resAxis = new Float32Array(3 * n);\n        copyArray(axis, resAxis, 0, 0, 3);\n        copyArray(axis, resAxis, 0, 3, 3);\n        for (let i = 2; i < n - 2; ++i) {\n            v1.fromArray(axis, 3 * (i - 2)); // TODO\n            v2.fromArray(axis, 3 * (i - 1)); // TODO\n            _axis.addVectors(v2, v1).multiplyScalar(0.5).normalize();\n            _axis.toArray(resAxis, 3 * i); // TODO\n        }\n        copyArray(axis, resAxis, 3 * n - 12, 3 * n - 6, 3);\n        copyArray(axis, resAxis, 3 * n - 12, 3 * n - 3, 3);\n        return {\n            center,\n            axis: resAxis,\n            bending: resBending,\n            radius: resRadius,\n            rise: resRise,\n            twist: resTwist,\n            resdir: resdir\n        };\n    }\n}\nexport default Helixorient;\n//# sourceMappingURL=helixorient.js.map","/**\n * @file Helixbundle\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3 } from 'three';\nimport { ColormakerRegistry } from '../globals';\nimport { AtomPicker } from '../utils/picker';\nimport RadiusFactory from '../utils/radius-factory';\nimport Helixorient from './helixorient';\nimport { calculateMeanVector3, projectPointOnVector } from '../math/vector-utils';\nclass Helixbundle {\n    constructor(polymer) {\n        this.polymer = polymer;\n        this.helixorient = new Helixorient(polymer);\n        this.position = this.helixorient.getPosition();\n    }\n    getAxis(localAngle, centerDist, ssBorder, colorParams, radiusParams) {\n        localAngle = localAngle || 30;\n        centerDist = centerDist || 2.5;\n        ssBorder = ssBorder === undefined ? false : ssBorder;\n        const polymer = this.polymer;\n        const structure = polymer.structure;\n        const n = polymer.residueCount;\n        const residueIndexStart = polymer.residueIndexStart;\n        const pos = this.position;\n        const cp = colorParams || {};\n        cp.structure = structure;\n        const colormaker = ColormakerRegistry.getScheme(cp);\n        const radiusFactory = new RadiusFactory(radiusParams);\n        let j = 0;\n        let k = 0;\n        const axis = [];\n        const center = [];\n        const beg = [];\n        const end = [];\n        const col = [];\n        const pick = [];\n        const size = [];\n        const residueOffset = [];\n        const residueCount = [];\n        let tmpAxis = new Float32Array(n * 3);\n        let tmpCenter = new Float32Array(n * 3);\n        let _axis, _center;\n        const _beg = new Vector3();\n        const _end = new Vector3();\n        const rp1 = structure.getResidueProxy();\n        const rp2 = structure.getResidueProxy();\n        const ap = structure.getAtomProxy();\n        const c1 = new Vector3();\n        const c2 = new Vector3();\n        let split = false;\n        for (let i = 0; i < n; ++i) {\n            rp1.index = residueIndexStart + i;\n            c1.fromArray(pos.center, i * 3);\n            if (i === n - 1) {\n                split = true;\n            }\n            else {\n                rp2.index = residueIndexStart + i + 1;\n                c2.fromArray(pos.center, i * 3 + 3);\n                if (ssBorder && rp1.sstruc !== rp2.sstruc) {\n                    split = true;\n                }\n                else if (c1.distanceTo(c2) > centerDist) {\n                    split = true;\n                }\n                else if (pos.bending[i] > localAngle) {\n                    split = true;\n                }\n            }\n            if (split) {\n                if (i - j < 4) {\n                    j = i;\n                    split = false;\n                    continue;\n                }\n                ap.index = rp1.traceAtomIndex;\n                // ignore first and last axis\n                tmpAxis = pos.axis.subarray(j * 3 + 3, i * 3);\n                tmpCenter = pos.center.subarray(j * 3, i * 3 + 3);\n                _axis = calculateMeanVector3(tmpAxis).normalize();\n                _center = calculateMeanVector3(tmpCenter);\n                _beg.fromArray(tmpCenter);\n                projectPointOnVector(_beg, _axis, _center);\n                _end.fromArray(tmpCenter, tmpCenter.length - 3);\n                projectPointOnVector(_end, _axis, _center);\n                _axis.subVectors(_end, _beg);\n                _axis.toArray(axis, k);\n                _center.toArray(center, k);\n                _beg.toArray(beg, k);\n                _end.toArray(end, k);\n                colormaker.atomColorToArray(ap, col, k);\n                pick.push(ap.index);\n                size.push(radiusFactory.atomRadius(ap));\n                residueOffset.push(residueIndexStart + j);\n                residueCount.push(residueIndexStart + i + 1 - j);\n                k += 3;\n                j = i;\n                split = false;\n            }\n        }\n        const picking = new Float32Array(pick);\n        return {\n            axis: new Float32Array(axis),\n            center: new Float32Array(center),\n            begin: new Float32Array(beg),\n            end: new Float32Array(end),\n            color: new Float32Array(col),\n            picking: new AtomPicker(picking, structure),\n            size: new Float32Array(size),\n            residueOffset: residueOffset,\n            residueCount: residueCount\n        };\n    }\n}\nexport default Helixbundle;\n//# sourceMappingURL=helixbundle.js.map","/**\n * @file Binary Heap\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\n/**\n * Binary heap implementation\n * @class\n * @author http://eloquentjavascript.net/appendix2.htm\n * @param {Function} scoreFunction - the heap scoring function\n */\nclass BinaryHeap {\n    constructor(scoreFunction) {\n        this.scoreFunction = scoreFunction;\n        this.content = [];\n        this.scoreFunction = scoreFunction;\n    }\n    push(element) {\n        // Add the new element to the end of the array.\n        this.content.push(element);\n        // Allow it to bubble up.\n        this.bubbleUp(this.content.length - 1);\n    }\n    pop() {\n        // Store the first element so we can return it later.\n        const result = this.content[0];\n        // Get the element at the end of the array.\n        const end = this.content.pop();\n        // If there are any elements left, put the end element at the\n        // start, and let it sink down.\n        if (end && this.content.length > 0) {\n            this.content[0] = end;\n            this.sinkDown(0);\n        }\n        return result;\n    }\n    peek() {\n        return this.content[0];\n    }\n    remove(element) {\n        const len = this.content.length;\n        // To remove a value, we must search through the array to find it.\n        for (let i = 0; i < len; i++) {\n            if (this.content[i] === element) {\n                // When it is found, the process seen in 'pop' is repeated\n                // to fill up the hole.\n                const end = this.content.pop();\n                if (end && i !== len - 1) {\n                    this.content[i] = end;\n                    if (this.scoreFunction(end) < this.scoreFunction(element)) {\n                        this.bubbleUp(i);\n                    }\n                    else {\n                        this.sinkDown(i);\n                    }\n                }\n                return;\n            }\n        }\n        throw new Error('Node not found.');\n    }\n    size() {\n        return this.content.length;\n    }\n    bubbleUp(n) {\n        // Fetch the element that has to be moved.\n        const element = this.content[n];\n        // When at 0, an element can not go up any further.\n        while (n > 0) {\n            // Compute the parent element's index, and fetch it.\n            const parentN = Math.floor((n + 1) / 2) - 1;\n            const parent = this.content[parentN];\n            // Swap the elements if the parent is greater.\n            if (this.scoreFunction(element) < this.scoreFunction(parent)) {\n                this.content[parentN] = element;\n                this.content[n] = parent;\n                // Update 'n' to continue at the new position.\n                n = parentN;\n            }\n            else {\n                // Found a parent that is less, no need to move it further.\n                break;\n            }\n        }\n    }\n    sinkDown(n) {\n        // Look up the target element and its score.\n        const length = this.content.length;\n        const element = this.content[n];\n        const elemScore = this.scoreFunction(element);\n        let child1Score = 0;\n        let child2Score = 0;\n        while (true) {\n            // Compute the indices of the child elements.\n            const child2N = (n + 1) * 2;\n            const child1N = child2N - 1;\n            // This is used to store the new position of the element, if any.\n            let swap = null;\n            // If the first child exists (is inside the array)...\n            if (child1N < length) {\n                // Look it up and compute its score.\n                const child1 = this.content[child1N];\n                child1Score = this.scoreFunction(child1);\n                // If the score is less than our element's, we need to swap.\n                if (child1Score < elemScore)\n                    swap = child1N;\n            }\n            // Do the same checks for the other child.\n            if (child2N < length) {\n                const child2 = this.content[child2N];\n                child2Score = this.scoreFunction(child2);\n                if (child2Score < (swap === null ? elemScore : child1Score))\n                    swap = child2N;\n            }\n            // If the element needs to be moved, swap it, and continue.\n            if (swap !== null) {\n                this.content[n] = this.content[swap];\n                this.content[swap] = element;\n                n = swap;\n            }\n            else {\n                // Otherwise, we are done.\n                break;\n            }\n        }\n    }\n}\nexport default BinaryHeap;\n//# sourceMappingURL=binary-heap.js.map","/**\n * @file Kdtree\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport BinaryHeap from './binary-heap';\n/**\n * Kdtree\n * @class\n * @author Alexander Rose <alexander.rose@weirdbyte.de>, 2016\n * @author Roman Bolzern <roman.bolzern@fhnw.ch>, 2013\n * @author I4DS http://www.fhnw.ch/i4ds, 2013\n * @license MIT License <http://www.opensource.org/licenses/mit-license.php>\n * @description\n * k-d Tree for typed arrays of 3d points (e.g. for Float32Array), in-place\n * provides fast nearest neighbour search\n *\n * Based on https://github.com/ubilabs/kd-tree-javascript by Ubilabs\n *\n * Further information (including mathematical properties)\n * http://en.wikipedia.org/wiki/Binary_tree\n * http://en.wikipedia.org/wiki/K-d_tree\n *\n * @example\n * points: [x, y, z, x, y, z, x, y, z, ...]\n * metric: function(a, b){\n *    return Math.pow(a[0]-b[0], 2) + Math.pow(a[1]-b[1], 2) + Math.pow(a[2]-b[2], 2);\n * }\n *\n * @param {Float32Array} points - points\n * @param {Function} metric - metric\n */\nclass Kdtree {\n    constructor(points, metric) {\n        this.points = points;\n        this.metric = metric;\n        this.maxDepth = 0;\n        this.currentNode = 0;\n        const n = points.length / 3;\n        const indices = new Uint32Array(n);\n        for (let i = 0; i < n; ++i) {\n            indices[i] = i;\n        }\n        this.indices = indices;\n        this.nodes = new Int32Array(n * 4);\n        this.rootIndex = this.buildTree(0, -1, 0, n);\n    }\n    buildTree(depth, parent, arrBegin, arrEnd) {\n        if (depth > this.maxDepth)\n            this.maxDepth = depth;\n        const plength = arrEnd - arrBegin;\n        if (plength === 0) {\n            return -1;\n        }\n        const nodeIndex = this.currentNode * 4;\n        const nodes = this.nodes;\n        this.currentNode += 1;\n        if (plength === 1) {\n            nodes[nodeIndex] = arrBegin;\n            nodes[nodeIndex + 1] = -1;\n            nodes[nodeIndex + 2] = -1;\n            nodes[nodeIndex + 3] = parent;\n            return nodeIndex;\n        }\n        // if(plength <= 32){\n        //   return nodeIndex;\n        // }\n        const indices = this.indices;\n        const points = this.points;\n        const arrMedian = arrBegin + Math.floor(plength / 2);\n        const currentDim = depth % 3;\n        // inlined quickselect function\n        let j, tmp, pivotIndex, pivotValue, storeIndex;\n        let left = arrBegin;\n        let right = arrEnd - 1;\n        while (right > left) {\n            pivotIndex = (left + right) >> 1;\n            pivotValue = points[indices[pivotIndex] * 3 + currentDim];\n            // swap( pivotIndex, right );\n            tmp = indices[pivotIndex];\n            indices[pivotIndex] = indices[right];\n            indices[right] = tmp;\n            storeIndex = left;\n            for (j = left; j < right; ++j) {\n                if (points[indices[j] * 3 + currentDim] < pivotValue) {\n                    // swap( storeIndex, j );\n                    tmp = indices[storeIndex];\n                    indices[storeIndex] = indices[j];\n                    indices[j] = tmp;\n                    ++storeIndex;\n                }\n            }\n            // swap( right, storeIndex );\n            tmp = indices[right];\n            indices[right] = indices[storeIndex];\n            indices[storeIndex] = tmp;\n            pivotIndex = storeIndex;\n            if (arrMedian === pivotIndex) {\n                break;\n            }\n            else if (arrMedian < pivotIndex) {\n                right = pivotIndex - 1;\n            }\n            else {\n                left = pivotIndex + 1;\n            }\n        }\n        nodes[nodeIndex] = arrMedian;\n        nodes[nodeIndex + 1] = this.buildTree(depth + 1, nodeIndex, arrBegin, arrMedian);\n        nodes[nodeIndex + 2] = this.buildTree(depth + 1, nodeIndex, arrMedian + 1, arrEnd);\n        nodes[nodeIndex + 3] = parent;\n        return nodeIndex;\n    }\n    getNodeDepth(nodeIndex) {\n        const parentIndex = this.nodes[nodeIndex + 3];\n        return (parentIndex === -1) ? 0 : this.getNodeDepth(parentIndex) + 1;\n    }\n    // TODO\n    // function getNodePos (node) {}\n    /**\n     * find nearest points\n     * @param {Array} point - array of size 3\n     * @param {Integer} maxNodes - max amount of nodes to return\n     * @param {Float} maxDistance - maximum distance of point to result nodes\n     * @return {Array} array of point, distance pairs\n     */\n    nearest(point, maxNodes, maxDistance) {\n        const bestNodes = new BinaryHeap(e => -e[1]);\n        const nodes = this.nodes;\n        const points = this.points;\n        const indices = this.indices;\n        const nearestSearch = (nodeIndex) => {\n            let bestChild, otherChild;\n            const dimension = this.getNodeDepth(nodeIndex) % 3;\n            const pointIndex = indices[nodes[nodeIndex]] * 3;\n            const ownPoint = [\n                points[pointIndex + 0],\n                points[pointIndex + 1],\n                points[pointIndex + 2]\n            ];\n            const ownDistance = this.metric(point, ownPoint);\n            function saveNode(nodeIndex, distance) {\n                bestNodes.push([nodeIndex, distance]);\n                if (bestNodes.size() > maxNodes) {\n                    bestNodes.pop();\n                }\n            }\n            const leftIndex = nodes[nodeIndex + 1];\n            const rightIndex = nodes[nodeIndex + 2];\n            // if it's a leaf\n            if (rightIndex === -1 && leftIndex === -1) {\n                if ((bestNodes.size() < maxNodes || ownDistance < bestNodes.peek()[1]) &&\n                    ownDistance <= maxDistance) {\n                    saveNode(nodeIndex, ownDistance);\n                }\n                return;\n            }\n            if (rightIndex === -1) {\n                bestChild = leftIndex;\n            }\n            else if (leftIndex === -1) {\n                bestChild = rightIndex;\n            }\n            else {\n                if (point[dimension] <= points[pointIndex + dimension]) {\n                    bestChild = leftIndex;\n                }\n                else {\n                    bestChild = rightIndex;\n                }\n            }\n            // recursive search\n            nearestSearch(bestChild);\n            if ((bestNodes.size() < maxNodes || ownDistance < bestNodes.peek()[1]) &&\n                ownDistance <= maxDistance) {\n                saveNode(nodeIndex, ownDistance);\n            }\n            // if there's still room or the current distance is nearer than the best distance\n            const linearPoint = [];\n            for (let i = 0; i < 3; i += 1) {\n                if (i === dimension) {\n                    linearPoint[i] = point[i];\n                }\n                else {\n                    linearPoint[i] = points[pointIndex + i];\n                }\n            }\n            const linearDistance = this.metric(linearPoint, ownPoint);\n            if ((bestNodes.size() < maxNodes || Math.abs(linearDistance) < bestNodes.peek()[1]) &&\n                Math.abs(linearDistance) <= maxDistance) {\n                if (bestChild === leftIndex) {\n                    otherChild = rightIndex;\n                }\n                else {\n                    otherChild = leftIndex;\n                }\n                if (otherChild !== -1) {\n                    nearestSearch(otherChild);\n                }\n            }\n        };\n        nearestSearch(this.rootIndex);\n        const result = [];\n        for (let i = 0, il = Math.min(bestNodes.size(), maxNodes); i < il; i += 1) {\n            result.push(bestNodes.content[i]);\n        }\n        return result;\n    }\n    verify(nodeIndex, depth = 0) {\n        let count = 1;\n        if (nodeIndex === undefined) {\n            nodeIndex = this.rootIndex;\n        }\n        if (nodeIndex === -1) {\n            throw new Error('node is null');\n        }\n        const dim = depth % 3;\n        const nodes = this.nodes;\n        const points = this.points;\n        const indices = this.indices;\n        const leftIndex = nodes[nodeIndex + 1];\n        const rightIndex = nodes[nodeIndex + 2];\n        if (leftIndex !== -1) {\n            if (points[indices[nodes[leftIndex]] * 3 + dim] >\n                points[indices[nodes[nodeIndex]] * 3 + dim]) {\n                throw new Error('left child is > parent!');\n            }\n            count += this.verify(leftIndex, depth + 1);\n        }\n        if (rightIndex !== -1) {\n            if (points[indices[nodes[rightIndex]] * 3 + dim] <\n                points[indices[nodes[nodeIndex]] * 3 + dim]) {\n                throw new Error('right child is < parent!');\n            }\n            count += this.verify(rightIndex, depth + 1);\n        }\n        return count;\n    }\n}\nexport default Kdtree;\n//# sourceMappingURL=kdtree.js.map","/**\n * @file Atom Proxy\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3 } from 'three';\nimport { SecStrucHelix, SecStrucSheet, SecStrucTurn, ProteinType, RnaType, DnaType, WaterType, IonType, SaccharideType, CgProteinBackboneType, CgRnaBackboneType, CgDnaBackboneType } from '../structure/structure-constants';\n/**\n * Atom proxy\n */\nclass AtomProxy {\n    /**\n     * @param {Structure} structure - the structure\n     * @param {Integer} index - the index\n     */\n    constructor(structure, index = 0) {\n        this.structure = structure;\n        this.index = index;\n        this.chainStore = structure.chainStore;\n        this.residueStore = structure.residueStore;\n        this.atomStore = structure.atomStore;\n        this.residueMap = structure.residueMap;\n        this.atomMap = structure.atomMap;\n    }\n    /**\n     * @type {BondHash}\n     */\n    get bondHash() { return this.structure.bondHash; }\n    /**\n     * Molecular enity\n     * @type {Entity}\n     */\n    get entity() {\n        return this.structure.entityList[this.entityIndex];\n    }\n    get entityIndex() {\n        return this.chainStore.entityIndex[this.chainIndex];\n    }\n    get modelIndex() {\n        return this.chainStore.modelIndex[this.chainIndex];\n    }\n    get chainIndex() {\n        return this.residueStore.chainIndex[this.residueIndex];\n    }\n    /**\n     * @type {ResidueProxy}\n     */\n    get residue() {\n        console.warn('residue - might be expensive');\n        return this.structure.getResidueProxy(this.residueIndex);\n    }\n    get residueIndex() {\n        return this.atomStore.residueIndex[this.index];\n    }\n    set residueIndex(value) {\n        this.atomStore.residueIndex[this.index] = value;\n    }\n    //\n    /**\n     * Secondary structure code\n     * @type {String}\n     */\n    get sstruc() {\n        return this.residueStore.getSstruc(this.residueIndex);\n    }\n    /**\n     * Insertion code\n     * @type {String}\n     */\n    get inscode() {\n        return this.residueStore.getInscode(this.residueIndex);\n    }\n    /**\n     * Residue number/label\n     * @type {Integer}\n     */\n    get resno() {\n        return this.residueStore.resno[this.residueIndex];\n    }\n    /**\n     * Chain name\n     * @type {String}\n     */\n    get chainname() {\n        return this.chainStore.getChainname(this.chainIndex);\n    }\n    /**\n     * Chain id\n     * @type {String}\n     */\n    get chainid() {\n        return this.chainStore.getChainid(this.chainIndex);\n    }\n    //\n    /**\n     * @type {ResidueType}\n     */\n    get residueType() {\n        return this.residueMap.get(this.residueStore.residueTypeId[this.residueIndex]);\n    }\n    /**\n     * @type {AtomType}\n     */\n    get atomType() {\n        return this.atomMap.get(this.atomStore.atomTypeId[this.index]);\n    }\n    get residueAtomOffset() {\n        return this.residueStore.atomOffset[this.residueIndex];\n    }\n    //\n    /**\n     * Residue name\n     */\n    get resname() {\n        return this.residueType.resname;\n    }\n    /**\n     * Hetero flag\n     */\n    get hetero() {\n        return this.residueType.hetero;\n    }\n    //\n    /**\n     * Atom name\n     */\n    get atomname() {\n        return this.atomType.atomname;\n    }\n    /**\n     * Atomic number\n     */\n    get number() {\n        return this.atomType.number;\n    }\n    /**\n     * Element\n     */\n    get element() {\n        return this.atomType.element;\n    }\n    /**\n     * Van-der-Waals radius\n     */\n    get vdw() {\n        return this.atomType.vdw;\n    }\n    /**\n     * Covalent radius\n     */\n    get covalent() {\n        return this.atomType.covalent;\n    }\n    //\n    /**\n     * X coordinate\n     */\n    get x() {\n        return this.atomStore.x[this.index];\n    }\n    set x(value) {\n        this.atomStore.x[this.index] = value;\n    }\n    /**\n     * Y coordinate\n     */\n    get y() {\n        return this.atomStore.y[this.index];\n    }\n    set y(value) {\n        this.atomStore.y[this.index] = value;\n    }\n    /**\n     * Z coordinate\n     */\n    get z() {\n        return this.atomStore.z[this.index];\n    }\n    set z(value) {\n        this.atomStore.z[this.index] = value;\n    }\n    /**\n     * Serial number\n     */\n    get serial() {\n        return this.atomStore.serial[this.index];\n    }\n    set serial(value) {\n        this.atomStore.serial[this.index] = value;\n    }\n    /**\n     * B-factor value\n     */\n    get bfactor() {\n        return this.atomStore.bfactor[this.index];\n    }\n    set bfactor(value) {\n        this.atomStore.bfactor[this.index] = value;\n    }\n    /**\n     * Occupancy value\n     */\n    get occupancy() {\n        return this.atomStore.occupancy[this.index];\n    }\n    set occupancy(value) {\n        this.atomStore.occupancy[this.index] = value;\n    }\n    /**\n     * Alternate location identifier\n     */\n    get altloc() {\n        return this.atomStore.getAltloc(this.index);\n    }\n    set altloc(value) {\n        this.atomStore.setAltloc(this.index, value);\n    }\n    /**\n     * Partial charge\n     */\n    get partialCharge() {\n        return this.atomStore.partialCharge ? this.atomStore.partialCharge[this.index] : null;\n    }\n    set partialCharge(value) {\n        if (this.atomStore.partialCharge) {\n            this.atomStore.partialCharge[this.index] = value;\n        }\n    }\n    /**\n     * Explicit radius\n     */\n    get radius() {\n        return this.atomStore.radius ? this.atomStore.radius[this.index] : null;\n    }\n    set radius(value) {\n        if (this.atomStore.radius) {\n            this.atomStore.radius[this.index] = value;\n        }\n    }\n    /**\n     * Formal charge\n     */\n    get formalCharge() {\n        return this.atomStore.formalCharge ? this.atomStore.formalCharge[this.index] : null;\n    }\n    set formalCharge(value) {\n        if (this.atomStore.formalCharge) {\n            this.atomStore.formalCharge[this.index] = value;\n        }\n    }\n    /**\n     * Aromaticity flag\n     */\n    get aromatic() {\n        if (this.atomStore.aromatic) {\n            return this.atomStore.aromatic[this.index];\n        }\n        else {\n            return this.residueType.isAromatic(this) ? 1 : 0;\n        }\n    }\n    set aromatic(value) {\n        if (this.atomStore.aromatic) {\n            this.atomStore.aromatic[this.index] = value;\n        }\n    }\n    //\n    get bondCount() {\n        return this.bondHash.countArray[this.index]; // TODO\n    }\n    //\n    /**\n     * Iterate over each bond\n     * @param  {function(bond: BondProxy)} callback - iterator callback function\n     * @param  {BondProxy} [bp] - optional target bond proxy for use in the callback\n     * @return {undefined}\n     */\n    eachBond(callback, bp) {\n        bp = bp || this.structure._bp;\n        const idx = this.index;\n        const bondHash = this.bondHash; // TODO\n        const indexArray = bondHash.indexArray;\n        const n = bondHash.countArray[idx];\n        const offset = bondHash.offsetArray[idx];\n        for (let i = 0; i < n; ++i) {\n            bp.index = indexArray[offset + i];\n            callback(bp);\n        }\n    }\n    /**\n     * Iterate over each bonded atom\n     * @param  {function(atom: AtomProxy)} callback - iterator callback function\n     * @param  {AtomProxy} [ap] - optional target atom proxy for use in the callback\n     * @return {undefined}\n     */\n    eachBondedAtom(callback, _ap) {\n        const ap = _ap ? _ap : this.structure._ap;\n        const idx = this.index;\n        this.eachBond(function (bp) {\n            ap.index = idx !== bp.atomIndex1 ? bp.atomIndex1 : bp.atomIndex2;\n            callback(ap);\n        });\n        this.index = idx;\n    }\n    /**\n     * Check if this atom is bonded to the given atom,\n     * assumes both atoms are from the same structure\n     * @param  {AtomProxy} ap - the given atom\n     * @return {Boolean} whether a bond exists or not\n     */\n    hasBondTo(ap) {\n        let flag = false;\n        this.eachBondedAtom(function (bap) {\n            if (ap.index === bap.index)\n                flag = true;\n        });\n        return flag;\n    }\n    bondToElementCount(element) {\n        let count = 0;\n        const idx = this.index; // Avoid reentrancy problems\n        this.eachBondedAtom(function (bap) {\n            if (bap.number === element)\n                count += 1;\n        });\n        this.index = idx;\n        return count;\n    }\n    hasBondToElement(element) {\n        return this.bondToElementCount(element) > 0;\n    }\n    //\n    /**\n     * If atom is part of a backbone\n     * @return {Boolean} flag\n     */\n    isBackbone() {\n        const backboneIndexList = this.residueType.backboneIndexList;\n        if (backboneIndexList.length > 0) {\n            return backboneIndexList.includes(this.index - this.residueAtomOffset);\n        }\n        else {\n            return false;\n        }\n    }\n    /**\n     * If atom is part of a polymer\n     * @return {Boolean} flag\n     */\n    isPolymer() {\n        if (this.structure.entityList.length > 0) {\n            return this.entity.isPolymer();\n        }\n        else {\n            const moleculeType = this.residueType.moleculeType;\n            return (moleculeType === ProteinType ||\n                moleculeType === RnaType ||\n                moleculeType === DnaType);\n        }\n    }\n    /**\n     * If atom is part of a sidechin\n     * @return {Boolean} flag\n     */\n    isSidechain() {\n        return this.isPolymer() && !this.isBackbone();\n    }\n    /**\n     * If atom is part of a coarse-grain group\n     * @return {Boolean} flag\n     */\n    isCg() {\n        const backboneType = this.residueType.backboneType;\n        return (backboneType === CgProteinBackboneType ||\n            backboneType === CgRnaBackboneType ||\n            backboneType === CgDnaBackboneType);\n    }\n    isTrace() {\n        return this.index === (this.residueType.traceAtomIndex + this.residueAtomOffset);\n    }\n    /**\n     * If atom is part of a hetero group\n     * @return {Boolean} flag\n     */\n    isHetero() {\n        return this.residueType.hetero === 1;\n    }\n    /**\n     * If atom is part of a protein molecule\n     * @return {Boolean} flag\n     */\n    isProtein() {\n        return this.residueType.moleculeType === ProteinType;\n    }\n    /**\n     * If atom is part of a nucleic molecule\n     * @return {Boolean} flag\n     */\n    isNucleic() {\n        const moleculeType = this.residueType.moleculeType;\n        return moleculeType === RnaType || moleculeType === DnaType;\n    }\n    /**\n     * If atom is part of a rna\n     * @return {Boolean} flag\n     */\n    isRna() {\n        return this.residueType.moleculeType === RnaType;\n    }\n    /**\n     * If atom is part of a dna\n     * @return {Boolean} flag\n     */\n    isDna() {\n        return this.residueType.moleculeType === DnaType;\n    }\n    /**\n     * If atom is part of a water molecule\n     * @return {Boolean} flag\n     */\n    isWater() {\n        return this.residueType.moleculeType === WaterType;\n    }\n    /**\n     * If atom is part of an ion\n     * @return {Boolean} flag\n     */\n    isIon() {\n        return this.residueType.moleculeType === IonType;\n    }\n    /**\n     * If atom is part of a saccharide\n     * @return {Boolean} flag\n     */\n    isSaccharide() {\n        return this.residueType.moleculeType === SaccharideType;\n    }\n    /**\n     * If atom is part of a helix\n     * @return {Boolean} flag\n     */\n    isHelix() {\n        return SecStrucHelix.includes(this.sstruc);\n    }\n    /**\n     * If atom is part of a sheet\n     * @return {Boolean} flag\n     */\n    isSheet() {\n        return SecStrucSheet.includes(this.sstruc);\n    }\n    /**\n     * If atom is part of a turn\n     * @return {Boolean} flag\n     */\n    isTurn() {\n        return SecStrucTurn.includes(this.sstruc) && this.isProtein();\n    }\n    isBonded() {\n        return this.bondHash.countArray[this.index] !== 0; // TODO\n    }\n    /**\n     * If atom is part of a ring\n     * @return {Boolean} flag\n     */\n    isRing() {\n        const atomRings = this.residueType.getRings().atomRings; // TODO\n        return atomRings[this.index - this.residueAtomOffset] !== undefined;\n    }\n    isAromatic() {\n        return this.aromatic === 1;\n    }\n    isPolarHydrogen() {\n        let result = false;\n        if (this.number !== 1)\n            return result;\n        result = !this.hasBondToElement(6 /* C */);\n        return result;\n    }\n    isMetal() { return this.atomType.isMetal(); }\n    isNonmetal() { return this.atomType.isNonmetal(); }\n    isMetalloid() { return this.atomType.isMetalloid(); }\n    isHalogen() { return this.atomType.isHalogen(); }\n    isDiatomicNonmetal() { return this.atomType.isDiatomicNonmetal(); }\n    isPolyatomicNonmetal() { return this.atomType.isPolyatomicNonmetal(); }\n    isAlkaliMetal() { return this.atomType.isAlkaliMetal(); }\n    isAlkalineEarthMetal() { return this.atomType.isAlkalineEarthMetal(); }\n    isNobleGas() { return this.atomType.isNobleGas(); }\n    isTransitionMetal() { return this.atomType.isTransitionMetal(); }\n    isPostTransitionMetal() { return this.atomType.isPostTransitionMetal(); }\n    isLanthanide() { return this.atomType.isLanthanide(); }\n    isActinide() { return this.atomType.isActinide(); }\n    getDefaultValence() { return this.atomType.getDefaultValence(); }\n    getValenceList() { return this.atomType.getValenceList(); }\n    getOuterShellElectronCount() { return this.atomType.getOuterShellElectronCount(); }\n    /**\n     * Distance to another atom\n     * @param  {AtomProxy} atom - the other atom\n     * @return {Number} the distance\n     */\n    distanceTo(atom) {\n        const taa = this.atomStore;\n        const aaa = atom.atomStore;\n        const ti = this.index;\n        const ai = atom.index;\n        const x = taa.x[ti] - aaa.x[ai];\n        const y = taa.y[ti] - aaa.y[ai];\n        const z = taa.z[ti] - aaa.z[ai];\n        const distSquared = x * x + y * y + z * z;\n        return Math.sqrt(distSquared);\n    }\n    /**\n     * If connected to another atom\n     * @param  {AtomProxy} atom - the other atom\n     * @return {Boolean} flag\n     */\n    connectedTo(atom) {\n        const taa = this.atomStore;\n        const aaa = atom.atomStore;\n        const ti = this.index;\n        const ai = atom.index;\n        if (taa.altloc && aaa.altloc) {\n            const ta = taa.altloc[ti]; // use Uint8 value to compare\n            const aa = aaa.altloc[ai]; // no need to convert to char\n            // 0 is the Null character, 32 is the space character\n            if (!(ta === 0 || aa === 0 || ta === 32 || aa === 32 || (ta === aa)))\n                return false;\n        }\n        const x = taa.x[ti] - aaa.x[ai];\n        const y = taa.y[ti] - aaa.y[ai];\n        const z = taa.z[ti] - aaa.z[ai];\n        const distSquared = x * x + y * y + z * z;\n        // if( this.isCg() ) console.log( this.qualifiedName(), Math.sqrt( distSquared ), distSquared )\n        if (distSquared < 48.0 && this.isCg())\n            return true;\n        if (isNaN(distSquared))\n            return false;\n        const d = this.covalent + atom.covalent;\n        const d1 = d + 0.3;\n        const d2 = d - 0.5;\n        return distSquared < (d1 * d1) && distSquared > (d2 * d2);\n    }\n    /**\n     * Set atom position from array\n     * @param  {Array|TypedArray} array - input array\n     * @param  {Integer} [offset] - the offset\n     * @return {AtomProxy} this object\n     */\n    positionFromArray(array, offset = 0) {\n        this.x = array[offset + 0];\n        this.y = array[offset + 1];\n        this.z = array[offset + 2];\n        return this;\n    }\n    /**\n     * Write atom position to array\n     * @param  {Array|TypedArray} [array] - target array\n     * @param  {Integer} [offset] - the offset\n     * @return {Array|TypedArray} target array\n     */\n    positionToArray(array = [], offset = 0) {\n        const index = this.index;\n        const atomStore = this.atomStore;\n        array[offset + 0] = atomStore.x[index];\n        array[offset + 1] = atomStore.y[index];\n        array[offset + 2] = atomStore.z[index];\n        return array;\n    }\n    /**\n     * Write atom position to vector\n     * @param  {Vector3} [v] - target vector\n     * @return {Vector3} target vector\n     */\n    positionToVector3(v) {\n        if (v === undefined)\n            v = new Vector3();\n        v.x = this.x;\n        v.y = this.y;\n        v.z = this.z;\n        return v;\n    }\n    /**\n     * Set atom position from vector\n     * @param  {Vector3} v - input vector\n     * @return {AtomProxy} this object\n     */\n    positionFromVector3(v) {\n        this.x = v.x;\n        this.y = v.y;\n        this.z = v.z;\n        return this;\n    }\n    /**\n     * Add vector to atom position\n     * @param  {Vector3} v - input vector\n     * @return {AtomProxy} this object\n     */\n    positionAdd(v) {\n        this.x += v.x;\n        this.y += v.y;\n        this.z += v.z;\n        return this;\n    }\n    /**\n     * Subtract vector from atom position\n     * @param  {Vector3} v - input vector\n     * @return {AtomProxy} this object\n     */\n    positionSub(v) {\n        this.x -= v.x;\n        this.y -= v.y;\n        this.z -= v.z;\n        return this;\n    }\n    /**\n     * Get intra group/residue bonds\n     * @param  {Boolean} firstOnly - immediately return the first connected atomIndex\n     * @return {Integer[]|Integer|undefined} connected atomIndices\n     */\n    getResidueBonds(firstOnly = false) {\n        const residueAtomOffset = this.residueAtomOffset;\n        const relativeIndex = this.index - this.residueAtomOffset;\n        const bonds = this.residueType.getBonds(); // TODO\n        const atomIndices1 = bonds.atomIndices1;\n        const atomIndices2 = bonds.atomIndices2;\n        let idx1, idx2, connectedAtomIndex;\n        let connectedAtomIndices;\n        if (!firstOnly)\n            connectedAtomIndices = [];\n        idx1 = atomIndices1.indexOf(relativeIndex);\n        while (idx1 !== -1) {\n            connectedAtomIndex = atomIndices2[idx1] + residueAtomOffset;\n            if (connectedAtomIndices) {\n                connectedAtomIndices.push(connectedAtomIndex);\n                idx1 = atomIndices1.indexOf(relativeIndex, idx1 + 1);\n            }\n            else {\n                return connectedAtomIndex;\n            }\n        }\n        idx2 = atomIndices2.indexOf(relativeIndex);\n        while (idx2 !== -1) {\n            connectedAtomIndex = atomIndices1[idx2] + residueAtomOffset;\n            if (connectedAtomIndices) {\n                connectedAtomIndices.push(connectedAtomIndex);\n                idx2 = atomIndices2.indexOf(relativeIndex, idx2 + 1);\n            }\n            else {\n                return connectedAtomIndex;\n            }\n        }\n        return connectedAtomIndices;\n    }\n    //\n    qualifiedName(noResname = false) {\n        var name = '';\n        if (this.resname && !noResname)\n            name += '[' + this.resname + ']';\n        if (this.resno !== undefined)\n            name += this.resno;\n        if (this.inscode)\n            name += '^' + this.inscode;\n        if (this.chainname)\n            name += ':' + this.chainname;\n        if (this.atomname)\n            name += '.' + this.atomname;\n        if (this.altloc)\n            name += '%' + this.altloc;\n        if (this.structure.modelStore.count > 1)\n            name += '/' + this.modelIndex;\n        return name;\n    }\n    /**\n     * Clone object\n     * @return {AtomProxy} cloned atom\n     */\n    clone() {\n        return new AtomProxy(this.structure, this.index);\n    }\n    toObject() {\n        return {\n            index: this.index,\n            residueIndex: this.residueIndex,\n            resname: this.resname,\n            x: this.x,\n            y: this.y,\n            z: this.z,\n            element: this.element,\n            chainname: this.chainname,\n            resno: this.resno,\n            serial: this.serial,\n            vdw: this.vdw,\n            covalent: this.covalent,\n            hetero: this.hetero,\n            bfactor: this.bfactor,\n            altloc: this.altloc,\n            atomname: this.atomname,\n            modelIndex: this.modelIndex\n        };\n    }\n}\nexport default AtomProxy;\n//# sourceMappingURL=atom-proxy.js.map","/**\n * @file Kdtree\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3 } from 'three';\nimport { Debug, Log } from '../globals';\nimport _Kdtree from '../utils/kdtree';\nimport AtomProxy from '../proxy/atom-proxy';\nfunction euclideanDistSq(a, b) {\n    const dx = a[0] - b[0];\n    const dy = a[1] - b[1];\n    const dz = a[2] - b[2];\n    return dx * dx + dy * dy + dz * dz;\n}\nfunction euclideanDist(a, b) {\n    return Math.sqrt(euclideanDistSq(a, b));\n}\nconst pointArray = new Float32Array(3);\nclass Kdtree {\n    constructor(structure, useSquaredDist = false) {\n        if (Debug)\n            Log.time('Kdtree build');\n        const metric = useSquaredDist ? euclideanDistSq : euclideanDist;\n        const points = new Float32Array(structure.atomCount * 3);\n        const atomIndices = new Uint32Array(structure.atomCount);\n        let i = 0;\n        structure.eachAtom(function (ap) {\n            points[i + 0] = ap.x;\n            points[i + 1] = ap.y;\n            points[i + 2] = ap.z;\n            atomIndices[i / 3] = ap.index;\n            i += 3;\n        });\n        this.atomIndices = atomIndices;\n        this.points = points;\n        this.kdtree = new _Kdtree(points, metric);\n        if (Debug)\n            Log.timeEnd('Kdtree build');\n        // console.log(\"this.kdtree.verify()\", this.kdtree.verify())\n    }\n    nearest(point, maxNodes, maxDistance) {\n        // Log.time( \"Kdtree nearest\" );\n        if (point instanceof Vector3) {\n            point.toArray(pointArray);\n        }\n        else if (point instanceof AtomProxy) {\n            point.positionToArray(pointArray);\n        }\n        const nodeList = this.kdtree.nearest(pointArray, maxNodes, maxDistance);\n        const indices = this.kdtree.indices;\n        const nodes = this.kdtree.nodes;\n        const atomIndices = this.atomIndices;\n        const resultList = [];\n        for (let i = 0, n = nodeList.length; i < n; ++i) {\n            const d = nodeList[i];\n            const nodeIndex = d[0];\n            const dist = d[1];\n            resultList.push({\n                index: atomIndices[indices[nodes[nodeIndex]]],\n                distance: dist\n            });\n        }\n        // Log.timeEnd( \"Kdtree nearest\" );\n        return resultList;\n    }\n}\nexport default Kdtree;\n//# sourceMappingURL=kdtree.js.map","/**\n * @file Symmetry Constants\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nexport const SymOpCode = {\n    ' ': 'X',\n    '!': 'Y',\n    '#': 'Z',\n    '$': '-X',\n    '%': '-Y',\n    '&': '-Z',\n    \"'\": 'Y+1/2',\n    '(': '1/2+X',\n    ')': '1/2+Y',\n    '*': '1/2-X',\n    '+': '1/2+Z',\n    ',': '1/2-Y',\n    '-': '1/2-Z',\n    '.': 'X+1/2',\n    '/': 'Z+1/2',\n    '0': '-X+1/2',\n    '1': '-Y+1/2',\n    '2': '-Z+1/2',\n    '3': '1/4+X',\n    '4': '1/4-Y',\n    '5': '1/4+Z',\n    '6': '1/4-X',\n    '7': '1/4+Y',\n    '8': '3/4-Y',\n    '9': '3/4+Z',\n    ':': '3/4+Y',\n    ';': '3/4+X',\n    '<': '3/4-X',\n    '=': '1/4-Z',\n    '>': '3/4-Z',\n    '?': 'X-Y',\n    '@': 'Y-X',\n    'A': 'Z+1/3',\n    'B': 'Z+2/3',\n    'C': 'X+2/3',\n    'D': 'Y+1/3',\n    'E': '-Y+2/3',\n    'F': 'X-Y+1/3',\n    'G': 'Y-X+2/3',\n    'H': '-X+1/3',\n    'I': 'X+1/3',\n    'J': 'Y+2/3',\n    'K': '-Y+1/3',\n    'L': 'X-Y+2/3',\n    'M': 'Y-X+1/3',\n    'N': '-X+2/3',\n    'O': '2/3+X',\n    'P': '1/3+Y',\n    'Q': '1/3+Z',\n    'R': '2/3-Y',\n    'S': '1/3+X-Y',\n    'T': '2/3+Y-X',\n    'U': '1/3-X',\n    'V': '2/3-X',\n    'W': '1/3-Y',\n    'X': '1/3-Z',\n    'Y': '2/3+Y',\n    'Z': '1/3+Y-X',\n    '[': '2/3+X-Y',\n    ']': '1/3+X',\n    '^': '2/3+Z',\n    '_': '2/3-Z',\n    '`': '5/6+Z',\n    'a': '1/6+Z',\n    'b': '5/6-Z',\n    'c': '1/6-Z',\n    'd': 'Z+5/6',\n    'e': 'Z+1/6',\n    'f': 'Z+1/4',\n    'g': '+Y'\n};\n// encoded, originally from CCP4 symop.lib\nexport const EncodedSymOp = {\n    'P 1': ' !#',\n    'P -1': ' !#$%&',\n    'P 1 2 1': ' !#$!&',\n    'P 1 21 1': \" !#$'&\",\n    'C 1 2 1': ' !#$!&()#*)&',\n    'P 1 m 1': ' !# %#',\n    'P 1 c 1': ' !# %+',\n    'C 1 m 1': ' !# %#()#(,#',\n    'C 1 c 1': ' !# %+()#(,+',\n    'P 1 2/m 1': ' !# %#$!&$%&',\n    'P 1 21/m 1': ' !#$)&$%& ,#',\n    'C 1 2/m 1': ' !# %#$!&$%&()#(,#*)&*,&',\n    'P 1 2/c 1': ' !#$!-$%& %+',\n    'P 1 21/c 1': ' !#$%&$)- ,+',\n    'C 1 2/c 1': ' !#$!-$%& %+()#*)-*,&(,+',\n    'P 2 2 2': ' !#$%#$!& %&',\n    'P 2 2 21': ' !#$%+$!- %&',\n    'P 21 21 2': ' !#$%#*)&(,&',\n    'P 21 21 21': ' !#*%+$)-(,&',\n    'C 2 2 21': ' !#$%+$!- %&()#*,+*)-(,&',\n    'C 2 2 2': ' !#$%#$!& %&()#*,#*)&(,&',\n    'F 2 2 2': ' !#$%#$!& %& )+$,+$)- ,-(!+*%+*!-(%-()#*,#*)&(,&',\n    'I 2 2 2': \" !#$%# %&$!&.'/01/.120'2\",\n    'I 21 21 21': ' !#*%+$)-(,&()+$,#*!& %-',\n    'P m m 2': ' !#$%# %#$!#',\n    'P m c 21': ' !#$%+ %+$!#',\n    'P c c 2': ' !#$%# %+$!+',\n    'P m a 2': ' !#$%#(%#*!#',\n    'P c a 21': ' !#$%+(%#*!+',\n    'P n c 2': ' !#$%# ,+$)+',\n    'P m n 21': ' !#*%+(%+$!#',\n    'P b a 2': ' !#$%#(,#*)#',\n    'P n a 21': ' !#$%+(,#*)+',\n    'P n n 2': ' !#$%#(,+*)+',\n    'C m m 2': ' !#$%# %#$!#()#*,#(,#*)#',\n    'C m c 21': ' !#$%+ %+$!#()#*,+(,+*)#',\n    'C c c 2': ' !#$%# %+$!+()#*,#(,+*)+',\n    'A m m 2': ' !#$%# %#$!# )+$,+ ,+$)+',\n    'A b m 2': ' !#$%# ,#$)# )+$,+ %+$!+',\n    'A m a 2': ' !#$%#(%#*!# )+$,+(,+*)+',\n    'A b a 2': ' !#$%#(,#*)# )+$,+(%+*!+',\n    'F m m 2': ' !#$%# %#$!# )+$,+ ,+$)+(!+*%+(%+*!+()#*,#(,#*)#',\n    'F d d 2': ' !#$%#345675 )+$,+3896:9(!+*%+;49<79()#*,#;85<:5',\n    'I m m 2': ' !#$%# %#$!#()+*,+(,+*)+',\n    'I b a 2': ' !#$%#(,#*)#()+*,+ %+$!+',\n    'I m a 2': ' !#$%#(%#*!#()+*,+ ,+$)+',\n    'P 2/m 2/m 2/m': ' !#$%#$!& %&$%& !& %#$!#',\n    'P 2/n 2/n 2/n': ' !#$%#$!& %&*,-()-(,+*)+',\n    'P 2/c 2/c 2/m': ' !#$%#$!- %-$%& !& %+$!+',\n    'P 2/b 2/a 2/n': ' !#$%#$!& %&*,&()&(,#*)#',\n    'P 21/m 2/m 2/a': ' !#*%#$!&(%&$%&(!& %#*!#',\n    'P 2/n 21/n 2/a': ' !#*%#*)- ,-$%&(!&(,+$)+',\n    'P 2/m 2/n 21/a': ' !#*%+*!- %&$%&(!-(%+$!#',\n    'P 21/c 2/c 2/a': ' !#*%#$!-(%-$%&(!& %+*!+',\n    'P 21/b 21/a 2/m': ' !#$%#*)&(,&$%& !&(,#*)#',\n    'P 21/c 21/c 2/n': ' !#*,#$)-(%-$%&()& ,+*!+',\n    'P 2/b 21/c 21/m': ' !#$%+$)- ,&$%& !- ,+$)#',\n    'P 21/n 21/n 2/m': ' !#$%#*)-(,-$%& !&(,+*)+',\n    'P 21/m 21/m 2/n': \" !#$%#*'&.,&*,&.'& %#$!#\",\n    'P 21/b 2/c 21/n': ' !#*,+$!-(,&$%&()- %+*)#',\n    'P 21/b 21/c 21/a': ' !#*%+$)-(,&$%&(!- ,+*)#',\n    'P 21/n 21/m 21/a': \" !#0%/$'&.12$%&.!2 1#0'/\",\n    'C 2/m 2/c 21/m': ' !#$%+$!- %&$%& !- %+$!#()#*,+*)-(,&*,&()-(,+*)#',\n    'C 2/m 2/c 21/a': ' !#$,+$)- %&$%& )- ,+$!#()#*%+*!-(,&*,&(!-(%+*)#',\n    'C 2/m 2/m 2/m': ' !#$%#$!& %&$%& !& %#$!#()#*,#*)&(,&*,&()&(,#*)#',\n    'C 2/c 2/c 2/m': ' !#$%#$!- %-$%& !& %+$!+()#*,#*)-(,-*,&()&(,+*)+',\n    'C 2/m 2/m 2/a': ' !#$,#$)& %&$%& )& ,#$!#()#*%#*!&(,&*,&(!&(%#*)#',\n    'C 2/c 2/c 2/a': ' !#*,#$!&(,&$,-(!- ,+*!+()#$%#*)& %&*%- )-(%+$)+',\n    'F 2/m 2/m 2/m': ' !#$%#$!& %&$%& !& %#$!# )+$,+$)- ,-$,- )- ,+$)+(!+*%+*!-(%-*%-(!-(%+*!+()#*,#*)&(,&*,&()&(,#*)#',\n    'F 2/d 2/d 2/d': ' !#$%#$!& %&64=37=345675 )+$,+$)- ,-68>3:>3896:9(!+*%+*!-(%-<4>;7>;49<79()#*,#*)&(,&<8=;:=;85<:5',\n    'I 2/m 2/m 2/m': ' !#$%#$!& %&$%& !& %#$!#()+*,+*)-(,-*,-()-(,+*)+',\n    'I 2/b 2/a 2/m': ' !#$%#*)&(,&$%& !&(,#*)#()+*,+$!- %-*,-()- %+$!+',\n    'I 21/b 21/c 21/a': ' !#*%+$)-(,&$%&(!- ,+*)#()+$,#*!& %-*,- )&(%#$!+',\n    'I 21/m 21/m 21/a': ' !#$,#$)& %&$%& )& ,#$!#()+*%+*!-(,-*,-(!-(%+*)+',\n    'P 4': ' !#$%#% #!$#',\n    'P 41': ' !#$%+% 5!$9',\n    'P 42': ' !#$%#% +!$+',\n    'P 43': ' !#$%+% 9!$5',\n    'I 4': ' !#$%#% #!$#()+*,+,(+)*+',\n    'I 41': ' !#*,+%(5)$9()+$%#, 9!*5',\n    'P -4': ' !#$%#!$&% &',\n    'I -4': ' !#$%#!$&% &()+*,+)*-,(-',\n    'P 4/m': ' !#$%#% #!$#$%& !&!$&% &',\n    'P 42/m': ' !#$%#% +!$+$%& !&!$-% -',\n    'P 4/n': ' !#$%#,(#)*#*,&()&!$&% &',\n    'P 42/n': ' !#$%#,(+)*+*,-()-!$&% &',\n    'I 4/m': ' !#$%#% #!$#$%& !&!$&% &()+*,+,(+)*+*,-()-)*-,(-',\n    'I 41/a': ' !#*,+%(5)$9$,=(!>!$&,(-()+$%#, 9!*5*%> )=)*-% &',\n    'P 4 2 2': ' !#$%#% #!$#$!& %&! &%$&',\n    'P 4 21 2': ' !#$%#,(#)*#*)&(,&! &%$&',\n    'P 41 2 2': ' !#$%+% 5!$9$!& %-! >%$=',\n    'P 41 21 2': ' !#$%+,(5)*9*)=(,>! &%$-',\n    'P 42 2 2': ' !#$%#% +!$+$!& %&! -%$-',\n    'P 42 21 2': ' !#$%#,(+)*+*)-(,-! &%$&',\n    'P 43 2 2': ' !#$%+% 9!$5$!& %-! =%$>',\n    'P 43 21 2': ' !#$%+,(9)*5*)>(,=! &%$-',\n    'I 4 2 2': ' !#$%#% #!$#$!& %&! &%$&()+*,+,(+)*+*)-(,-)(-,*-',\n    'I 41 2 2': ' !#*,+%(5)$9*!> ,=)(-%$&()+$%#, 9!*5$)=(%>! &,*-',\n    'P 4 m m': ' !#$%#% #!$# %#$!#%$#! #',\n    'P 4 b m': ' !#$%#% #!$#(,#*)#,*#)(#',\n    'P 42 c m': ' !#$%#% +!$+ %+$!+%$#! #',\n    'P 42 n m': ' !#$%#,(+)*+(,+*)+%$#! #',\n    'P 4 c c': ' !#$%#% #!$# %+$!+%$+! +',\n    'P 4 n c': ' !#$%#% #!$#(,+*)+,*+)(+',\n    'P 42 m c': ' !#$%#% +!$+ %#$!#%$+! +',\n    'P 42 b c': ' !#$%#% +!$+(,#*)#,*+)(+',\n    'I 4 m m': ' !#$%#% #!$# %#$!#%$#! #()+*,+,(+)*+(,+*)+,*+)(+',\n    'I 4 c m': ' !#$%#% #!$# %+$!+%$+! +()+*,+,(+)*+(,#*)#,*#)(#',\n    'I 41 m d': ' !#*,+%(5)$9 %#*)+%*5) 9()+$%#, 9!*5(,+$!#,$9!(5',\n    'I 41 c d': ' !#*,+%(5)$9 %+*)#%*9) 5()+$%#, 9!*5(,#$!+,$5!(9',\n    'P -4 2 m': ' !#$%#% &!$&$!& %&%$#! #',\n    'P -4 2 c': ' !#$%#% &!$&$!- %-%$+! +',\n    'P -4 21 m': ' !#$%#% &!$&*)&(,&,*#)(#',\n    'P -4 21 c': ' !#$%#% &!$&*)-(,-,*+)(+',\n    'P -4 m 2': ' !#$%#!$&% & %#$!#! &%$&',\n    'P -4 c 2': ' !#$%#% &!$& %+$!+! -%$-',\n    'P -4 b 2': ' !#$%#% &!$&(,#*)#)(&,*&',\n    'P -4 n 2': ' !#$%#% &!$&(,+*)+)(-,*-',\n    'I -4 m 2': ' !#$%#% &!$& %#$!#! &%$&()+*,+,(-)*-(,+*)+)(-,*-',\n    'I -4 c 2': ' !#$%#% &!$& %+$!+! -%$-()+*,+,(-)*-(,#*)#)(&,*&',\n    'I -4 2 m': ' !#$%#% &!$&$!& %&%$#! #()+*,+,(-)*-*)-(,-,*+)(+',\n    'I -4 2 d': ' !#$%#% &!$&*!>(%>,$9) 9()+*,+,(-)*-$)= ,=%*5!(5',\n    'P 4/m 2/m 2/m': ' !#$%#% #!$#$!& %&! &%$&$%& !&!$&% & %#$!#%$#! #',\n    'P 4/m 2/c 2/c': ' !#$%#% #!$#$!- %-! -%$-$%& !&!$&% & %+$!+%$+! +',\n    'P 4/n 2/b 2/m': ' !#$%#% #!$#$!& %&! &%$&*,&()&)*&,(&(,#*)#,*#)(#',\n    'P 4/n 2/n 2/c': ' !#$%#% #!$#$!& %&! &%$&*,-()-)*-,(-(,+*)+,*+)(+',\n    'P 4/m 21/b 2/m': ' !#$%#% #!$#*)&(,&)(&,*&$%& !&!$&% &(,#*)#,*#)(#',\n    'P 4/m 21/n 2/c': ' !#$%#% #!$#*)-(,-)(-,*-$%& !&!$&% &(,+*)+,*+)(+',\n    'P 4/n 21/m 2/m': ' !#$%#,(#)*#*)&(,&! &%$&*,&()&!$&% & %#$!#,*#)(#',\n    'P 4/n 2/c 2/c': ' !#$%#,(#)*#*)-(,-! -%$-*,&()&!$&% & %+$!+,*+)(+',\n    'P 42/m 2/m 2/c': ' !#$%#% +!$+$!& %&! -%$-$%& !&!$-% - %#$!#%$+! +',\n    'P 42/m 2/c 2/m': ' !#$%#% +!$+$!- %-! &%$&$%& !&!$-% - %+$!+%$#! #',\n    'P 42/n 2/b 2/c': ' !#$%#,(+)*+$!- %-)(&,*&*,-()-!$&% &(,#*)#%$+! +',\n    'P 42/n 2/n 2/m': ' !#$%#,(+)*+$!& %&)(-,*-*,-()-!$&% &(,+*)+%$#! #',\n    'P 42/m 21/b 2/c': ' !#$%#% +!$+*)&(,&)(-,*-$%& !&!$-% -(,#*)#,*+)(+',\n    'P 42/m 21/n 2/m': \" !#$%#,./'*/*'-.,-! &%$&$%& !&'*-,.-.,/*'/%$#! #\",\n    'P 42/n 21/m 2/c': ' !#$%#,(+)*+*)-(,-! &%$&*,-()-!$&% & %#$!#,*+)(+',\n    'P 42/n 21/c 2/m': ' !#$%#,(+)*+*)&(,&! -%$-*,-()-!$&% & %+$!+,*#)(#',\n    'I 4/m 2/m 2/m': ' !#$%#% #!$#$!& %&! &%$&$%& !&!$&% & %#$!#%$#! #()+*,+,(+)*+*)-(,-)(-,*-*,-()-)*-,(-(,+*)+,*+)(+',\n    'I 4/m 2/c 2/m': ' !#$%#% #!$#$!- %-! -%$-$%& !&!$&% & %+$!+%$+! +()+*,+,(+)*+*)&(,&)(&,*&*,-()-)*-,(-(,#*)#,*#)(#',\n    'I 41/a 2/m 2/d': ' !#*,+%(5)$9*!> ,=)(-%$&$,=(!>!$&,(-(,+$!#,$9!(5()+$%#, 9!*5$)=(%>! &,*-*%> )=)*-% & %#*)+%*5) 9',\n    'I 41/a 2/c 2/d': ' !#*,+%(5)$9*!= ,>)(&%$-$,=(!>!$&,(-(,#$!+,$5!(9()+$%#, 9!*5$)>(%=! -,*&*%> )=)*-% & %+*)#%*9) 5',\n    'P 3': ' !#%?#@$#',\n    'P 31': ' !#%?A@$B',\n    'P 32': ' !#%?B@$A',\n    'H 3': ' !#%?#@$#CDAEFAGHAIJBKLBMNB',\n    'R 3': ' !## !!# ',\n    'P -3': ' !#%?#@$#$%&!@&? &',\n    'H -3': ' !#%?#@$#$%&!@&? &OPQRSQTUQVWXYZX[]X]Y^W[^ZV^UR_PT_SO_',\n    'R -3': ' !## !!# $%&&$%%&$',\n    'P 3 1 2': ' !#%?#@$#%$&@!& ?&',\n    'P 3 2 1': ' !#%?#@$#! &?%&$@&',\n    'P 31 1 2': ' !#%?Q@$^%$_@!X ?&',\n    'P 31 2 1': ' !#%?A@$B! &?%_$@X',\n    'P 32 1 2': ' !#%?^@$Q%$X@!_ ?&',\n    'P 32 2 1': ' !#%?B@$A! &?%X$@_',\n    'H 3 2': ' !#%?#@$#! &?%&$@&OPQRSQTUQY]X[WXVZX]Y^W[^ZV^PO_SR_UT_',\n    'R 3 2': ' !## !!# %$&$&%&%$',\n    'P 3 m 1': ' !#%?#@$#%$#@!# ?#',\n    'P 3 1 m': ' !#%?#@$#! #?%#$@#',\n    'P 3 c 1': ' !#%?#@$#%$+@!+ ?+',\n    'P 3 1 c': ' !#%?#@$#! +?%+$@+',\n    'H 3 m': ' !#%?#@$#%$#@!# ?#OPQRSQTUQRUQTPQOSQ]Y^W[^ZV^WV^ZY^][^',\n    'R 3 m': ' !## !!# ! # #!#! ',\n    'H 3 c': ' !#%?#@$#%$+@!+ ?+OPQRSQTUQRU`TP`OS`]Y^W[^ZV^WVaZYa][a',\n    'R 3 c': \" !## !!# '././'/'.\",\n    'P -3 1 2/m': ' !#%?#@$#%$&@!& ?&$%&!@&? &! #?%#$@#',\n    'P -3 1 2/c': ' !#%?#@$#%$-@!- ?-$%&!@&? &! +?%+$@+',\n    'P -3 2/m 1': ' !#%?#@$#! &?%&$@&$%&!@&? &%$#@!# ?#',\n    'P -3 2/c 1': ' !#%?#@$#! -?%-$@-$%&!@&? &%$+@!+ ?+',\n    'H -3 2/m': ' !#%?#@$#! &?%&$@&$%&!@&? &%$#@!# ?#OPQRSQTUQY]X[WXVZXVWXYZX[]XRUQTPQOSQ]Y^W[^ZV^PO_SR_UT_UR_PT_SO_WV^ZY^][^',\n    'R -3 2/m': ' !## !!# %$&$&%&%$$%&&$%%&$! # #!#! ',\n    'H -3 2/c': ' !#%?#@$#! -?%-$@-$%&!@&? &%$+@!+ ?+OPQRSQTUQY]b[WbVZbVWXYZX[]XRU`TP`OS`]Y^W[^ZV^POcSRcUTcUR_PT_SO_WVaZYa][a',\n    'R -3 2/c': \" !## !!# 102021210$%&&$%%&$'././'/'.\",\n    'P 6': ' !#%?#@$#$%#!@#? #',\n    'P 61': ' !#%?A@$B$%/!@d? e',\n    'P 65': ' !#%?B@$A$%/!@e? d',\n    'P 62': ' !#%?^@$Q$%#!@^? Q',\n    'P 64': ' !#%?Q@$^$%#!@Q? ^',\n    'P 63': ' !#%?#@$#$%+!@+? +',\n    'P -6': ' !#%?#@$# !&%?&@$&',\n    'P 6/m': ' !#%?#@$#$%#!@#? #$%&!@&? & !&%?&@$&',\n    'P 63/m': ' !#%?#@$#$%+!@+? +$%&!@&? & !-%?-@$-',\n    'P 6 2 2': ' !#%?#@$#$%#!@#? #! &?%&$@&%$&@!& ?&',\n    'P 61 2 2': ' !#%?Q@$^$%+!@`? a! X?%&$@_%$b@!- ?c',\n    'P 65 2 2': ' !#%?^@$Q$%+!@a? `! _?%&$@X%$c@!- ?b',\n    'P 62 2 2': ' !#%?^@$Q$%#!@^? Q! _?%&$@X%$_@!& ?X',\n    'P 64 2 2': ' !#%?Q@$^$%#!@Q? ^! X?%&$@_%$X@!& ?_',\n    'P 63 2 2': ' !#%?#@$#$%+!@+? +! &?%&$@&%$-@!- ?-',\n    'P 6 m m': ' !#%?#@$#$%#!@#? #%$#@!# ?#! #?%#$@#',\n    'P 6 c c': ' !#%?#@$#$%#!@#? #%$+@!+ ?+! +?%+$@+',\n    'P 63 c m': ' !#%?#@$#$%+!@+? +%$+@!+ ?+! #?%#$@#',\n    'P 63 m c': ' !#%?#@$#$%+!@+? +%$#@!# ?#! +?%+$@+',\n    'P -6 m 2': ' !#%?#@$# !&%?&@$&%$#@!# ?#%$&@!& ?&',\n    'P -6 c 2': ' !#%?#@$# !-%?-@$-%$+@!+ ?+%$&@!& ?&',\n    'P -6 2 m': ' !#%?#@$# !&%?&@$&! &?%&$@&! #?%#$@#',\n    'P -6 2 c': ' !#%?#@$# !-%?-@$-! &?%&$@&! +?%+$@+',\n    'P 6/m 2/m 2/m': ' !#%?#@$#$%#!@#? #! &?%&$@&%$&@!& ?&$%&!@&? & !&@$&%?&%$#@!# ?#! #?%#$@#',\n    'P 6/m 2/c 2/c': ' !#%?#@$#$%#!@#? #! -?%-$@-%$-@!- ?-$%&!@&? & !&@$&%?&%$+@!+ ?+! +?%+$@+',\n    'P 63/m 2/c 2/m': ' !#%?#@$#$%+!@+? +! -?%-$@-%$&@!& ?&$%&!@&? & !-@$-%?-%$+@!+ ?+! #?%#$@#',\n    'P 63/m 2/m 2/c': ' !#%?#@$#$%+!@+? +! &?%&$@&%$-@!- ?-$%&!@&? & !-@$-%?-%$#@!# ?#! +?%+$@+',\n    'P 2 3': ' !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ',\n    'F 2 3': ' !#$%#$!& %&# !#$%&$!& %!# %#$!&$%&  )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-((!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- ',\n    'I 2 3': ' !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-(',\n    'P 21 3': ' !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(',\n    'I 21 3': ' !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- ',\n    'P 2/m -3': ' !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& $%& !& %#$!#&$%& !# %#$!%&$!& %# !#$',\n    'P 2/n -3': ' !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& *,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*',\n    'F 2/m -3': ' !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& $%& !& %#$!#&$%& !# %#$!%&$!& %# !#$ )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-($,- )- ,+$)+&*,&()#(,#*)%-*!-(%+(!+*(!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(*%-(!-(%+*!+-$,- )+ ,+$),&*)&(,#()#*()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- *,&()&(,#*)#-*%-(!+(%+*!,-$)- ,+ )+$',\n    'F 2/d -3': ' !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& 64=37=345675=64=375345674=67=3453756 )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(68>3:>3896:9=<8=;:5;85<:4><7>;49;79<(!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(<4>;7>;49<79>68>3:93896:8=<:=;85;:5<()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- <8=;:=;8f<:f><4>;79;49<78>6:>3893:96',\n    'I 2/m -3': ' !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& $%& !& %#$!#&$%& !# %#$!%&$!& %# !#$()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-(*,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*',\n    'P 21/a -3': ' !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&($%&(!- ,+*)#&$%-(!+ ,#*)%&$!-(,+ )#*',\n    'I 21/a -3': ' !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&($%&(!- ,+*)#&$%-(!+ ,#*)%&$!-(,+ )#*()+$,#*g& %-+()#$,&*!- %)+(,#$!&*%- *,- )&(%#$!+-*,& )#(%+$!,-*)& %#(!+$',\n    'P 4 3 2': ' !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$',\n    'P 42 3 2': ' !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*',\n    'F 4 3 2': ' !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$ )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(!(-%*-!*+%(+ +,$+)$-, -)#)*#,(&)(&,*(!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&() -,$-)$+, +(#,*#)*&,(&)+!*+%(-!(-%*()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- )(&,*&)*#,(#(+%*+!*-%(-!+)$+, -) -,$',\n    'F 41 3 2': ' !#$,+*)&(%-# !+$,&*)-(%!# ,+$)&*%-(:3>46=7<98;5;58<976=43>:97<58;>:3=46 )+$%#*!-(,&#()+*%&$!- ,!+(,#*)-$%& :;=4<>765839;94<5:6>83=79:6543>7;=8<(!+*,#$)- %&+ )#$%-*!&(,)#(%+*!&$,- 73=86>:<54;935469:<=8;>7576983=:;>4<()#*%+$!& ,-+(!#*,-$)& %)+ %#$!-*,&(7;>8<=:69435398657<>4;=:5:<94;=73>86',\n    'I 4 3 2': ' !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-()(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*',\n    'P 43 3 2': ' !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(7;>46=:<5839398<5:6=4;>75:<983>7;=46',\n    'P 41 3 2': ' !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(:3=8<>7694;5;54697<>83=:97654;=:3>8<',\n    'I 41 3 2': ' !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(:3=8<>7694;5;54697<>83=:97654;=:3>8<()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- 7;>46=:<5839398<5:6=4;>75:<983>7;=46',\n    'P -4 3 m': ' !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! #%$#!$&% & #!$#%$&! &%#! #%$&!$&% ',\n    'F -4 3 m': ' !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! #%$#!$&% & #!$#%$&! &%#! #%$&!$&%  )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(!(+%*+!*-%(- +)$+,$-) -,#)(#,*&)*&,((!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&() +,$+)$-, -(#)*#,*&)(&,+!(+%*-!*-%(()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- )(#,*#)*&,(&(+!*+%*-!(-%+) +,$-)$-, ',\n    'I -4 3 m': ' !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! #%$#!$&% & #!$#%$&! &%#! #%$&!$&% ()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-()(+,*+)*-,(-(+)*+,*-)(-,+)(+,*-)*-,(',\n    'P -4 3 n': ' !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(+,*+)*-,(-(+)*+,*-)(-,+)(+,*-)*-,(',\n    'F -4 3 c': ' !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(+,*+)*-,(-(+)*+,*-)(-,+)(+,*-)*-,( )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-() #,$#)$&, &(#!*#%*&!(&%+! +%$-!$-% (!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(!(#%*#!*&%(& +!$+%$-! -%#) #,$&)$&, ()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- ! +%$+!$-% - #)$#,$&) &,#!(#%*&!*&%(',\n    'I -4 3 d': ' !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(7354<9:6>8;=357<946>:;=857394<>:6=8;()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- :;98657<=43>;9:658<=73>49:;586=7<>43',\n    'P 4/m -3 2/m': ' !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$%$#! #% &!$&$&! &% #!$#%&% &!$#%$#! ',\n    'P 4/n -3 2/n': ' !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$*,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)(',\n    'P 42/m -3 2/n': ' !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)(',\n    'P 42/n -3 2/m': ' !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,**,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*%$#! #% &!$&$&! &% #!$#%&% &!$#%$#! ',\n    'F 4/m -3 2/m': ' !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$%$#! #% &!$&$&! &% #!$#%&% &!$#%$#!  )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(!(-%*-!*+%(+ +,$+)$-, -)#)*#,(&)(&,*$,- )- ,+$)+&*,&()#(,#*)%-*!-(%+(!+*%*+!(+%(-!*-$-) -, +)$+,&,(&)*#,*#)((!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&() -,$-)$+, +(#,*#)*&,(&)+!*+%(-!(-%**%-(!-(%+*!+-$,- )+ ,+$),&*)&(,#()#*,$+) +, -)$-*&)(&,(#)*#,-%(-!*+%*+!(()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- )(&,*&)*#,(#(+%*+!*-%(-!+)$+, -) -,$*,&()&(,#*)#-*%-(!+(%+*!,-$)- ,+ )+$,*#)(#,(&)*&*-!(-%(+!*+%-, -)$+,$+) ',\n    'F 4/m -3 2/c': ' !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)( )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-() &,$&)$#, #(#%*#!*&%(&!+!$+% -! -%$$,- )- ,+$)+&*,&()#(,#*)%-*!-(%+(!+*,$#) #, &)$&*&!(&%(#!*#%-% -!$+%$+! (!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(!(&%*&!*#%(# +%$+!$-% -!#)$#, &) &,$*%-(!-(%+*!+-$,- )+ ,+$),&*)&(,#()#*%*#!(#%(&!*&$-! -% +!$+%&, &)$#,$#) ()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- ! -%$-!$+% + #,$#)$&, &)#!*#%(&!(&%**,&()&(,#*)#-*%-(!+(%+*!,-$)- ,+ )+$%$+! +% -!$-$&) &, #)$#,&%(&!*#%*#!(',\n    'F 41/d -3 2/m': ' !#$,+*)&(%-# !+$,&*)-(%!# ,+$)&*%-(:3>46=7<98;5;58<976=43>:97<58;>:3=4664=3:>;85<79=64>3:5;89<74=6:>385;79<,$+! #%(-)*&*&)(-% #!$+,-%(&)*+,$#!  )+$%#*!-(,&#()+*%&$!- ,!+(,#*)-$%& :;=4<>765839;94<5:6>83=79:6543>7;=8<68>37=;49<:5=<8>;753496:4><:=;893756,*#!(+% &)$-*-!(&, +)$#%-, &!$+%*#)((!+*,#$)- %&+ )#$%-*!&(,)#(%+*!&$,- 73=86>:<54;935469:<=8;>7576983=:;>4<<4>;:=389675>68=379;45<:8=<7>;453:96%$#) +,(&!*-$&! -,(#)*+%&% -)$#,*+!(()#*%+$!& ,-+(!#*,-$)& %)+ %#$!-*,&(7;>8<=:69435398657<>4;=:5:<94;=73>86<8=;7>3456:9><4=;:9385678>67=349;:5<%*+)(#, -!$&$-) &%(+!*#,&,(-!*#%$+) ',\n    'F 41/d -3 2/c': ' !#$,+*)&(%-# !+$,&*)-(%!# ,+$)&*%-(:3>46=7<98;5;58<976=43>:97<58;>:3=46<8>;7=3496:5><8=;793456:8><7=;493:56%*#)(+, &!$-$-! &,(+)*#%&, -!$#%*+)( )+$%#*!-(,&#()+*%&$!- ,!+(,#*)-$%& :;=4<>765839;94<5:6>83=79:6543>7;=8<<4=;:>385679>64=3:9;85<78=67>345;:9<%$+) #,(-!*&$&) -%(#!*+,&%(-)*#,$+! (!+*,#$)- %&+ )#$%-*!&(,)#(%+*!&$,- 73=86>:<54;935469:<=8;>7576983=:;>4<68=37>;45<:9=<4>;:5389674>6:=389;75<,*+!(#% -)$&*-)(&% +!$#,-,(&!*+%$#) ()#*%+$!& ,-+(!#*,-$)& %)+ %#$!-*,&(7;>8<=:69435398657<>4;=:5:<94;=73>8664>3:=;89<75=68>375;49<:4=<:>;853796,$#! +%(&)*-*&!(-, #)$+%-% &)$+,*#!(',\n    'I 4/m -3 2/m': ' !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$%$#! #% &!$&$&! &% #!$#%&% &!$#%$#! ()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-()(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,**,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)(',\n    'I 41/a -3 2/d': ' !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(:3=8<>7694;5;54697<>83=:97654;=:3>8<$%&(!- ,+*)#&$%-(!+ ,#*)%&$!-(,+ )#*4<97358;=:6>6>:;=8357<94=8;>:694<573()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- 7;>46=:<5839398<5:6=4;>75:<983>7;=46*,- )&(%#$!+-*,& )#(%+$!,-*)& %#(!+$865:;943>7<=<=73>4;9:658>43=7<5869:;',\n    'P 1 1 2': ' !#$%#',\n    'P 1 1 21': ' !#$%+',\n    'B 1 1 2': ' !#$%#(g+*%+',\n    'A 1 2 1': ' !#$!& )+$)-',\n    'C 1 21 1': ' !#$)&()#*!&',\n    'I 1 2 1': \" !#$!&.'/0'2\",\n    'I 1 21 1': \" !#$)&.'/0!-\",\n    'P 1 1 m': ' !# !&',\n    'P 1 1 b': ' !# )&',\n    'B 1 1 m': ' !# !&(!+(!-',\n    'B 1 1 b': ' !# )&(!+()-',\n    'P 1 1 2/m': ' !# !&$%#$%&',\n    'P 1 1 21/m': ' !#$%+$%& !-',\n    'B 1 1 2/m': ' !# !&$%#$%&(!+(!-*%+*%-',\n    'P 1 1 2/b': ' !#$,#$%& )&',\n    'P 1 1 21/b': ' !#$%&$,+ )-',\n    'B 1 1 2/b': ' !#$,#$%& )&(!+*,+*%-()-',\n    'P 21 2 2': ' !#$!&(%&*%#',\n    'P 2 21 2': ' !# ,&$)&$%#',\n    'P 21 21 2 (a)': \" !#*,#.%&$'&\",\n    'P 21 2 21': ' !#$!&(%-*%+',\n    'P 2 21 21': ' !# %&$)-$,+',\n    'C 2 2 21a)': ' !#*%+(,&$)-()#$,+ %&*!-',\n    'C 2 2 2a': \" !#*,#.%&$'&()#$%# ,&*!&\",\n    'F 2 2 2a': \" !#*,#.%&$'& '/*%/.12$!2.!/$,/ %20'2.'#$%# 1&0!&\",\n    'I 2 2 2a': \" !#*,#.%&$'&()+$%+*!- ,-\",\n    'P 21/m 21/m 2/n a': \" !#*,#$)&(%&$%&.'& ,#*!#\",\n    'P 42 21 2a': \" !#*,#%.+'$+$'&.%&! -,*-\",\n    'I 2 3a': \" !#*,#.%&$'&!# ,- '&$%/$# !-*!/$%&.%()+$%+ ,-*!-)+(%&(!-*,#*+()&$)#*,- ,\"\n};\n//# sourceMappingURL=symmetry-constants.js.map","/**\n * @file Symmetry Utils\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Matrix4 } from 'three';\nimport { Log } from '../globals';\nimport { EncodedSymOp, SymOpCode } from './symmetry-constants';\nconst reInteger = /^[1-9]$/;\nexport function getSymmetryOperations(spacegroup) {\n    const encodedSymopList = EncodedSymOp[spacegroup];\n    const matrixDict = {};\n    if (encodedSymopList === undefined) {\n        console.warn(`spacegroup '${spacegroup}' not found in symop library`);\n        return matrixDict;\n    }\n    const symopList = [];\n    for (let i = 0, il = encodedSymopList.length; i < il; i += 3) {\n        const symop = [];\n        for (let j = 0; j < 3; ++j) {\n            symop.push(SymOpCode[encodedSymopList[i + j]]);\n        }\n        symopList.push(symop);\n    }\n    symopList.forEach(function (symop) {\n        let row = 0;\n        const matrix = new Matrix4().set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1);\n        const me = matrix.elements;\n        matrixDict[symop.toString()] = matrix;\n        symop.forEach(function (elm) {\n            let negate = false;\n            let denominator = false;\n            for (let i = 0, n = elm.length; i < n; ++i) {\n                const c = elm[i];\n                if (c === '-') {\n                    negate = true;\n                }\n                else if (c === '+') {\n                    negate = false;\n                }\n                else if (c === '/') {\n                    denominator = true;\n                }\n                else if (c === 'X') {\n                    me[0 + row] = negate ? -1 : 1;\n                }\n                else if (c === 'Y') {\n                    me[4 + row] = negate ? -1 : 1;\n                }\n                else if (c === 'Z') {\n                    me[8 + row] = negate ? -1 : 1;\n                }\n                else if (reInteger.test(c)) {\n                    const integer = parseInt(c);\n                    if (denominator) {\n                        me[12 + row] /= integer;\n                    }\n                    else {\n                        me[12 + row] = integer;\n                    }\n                }\n                else {\n                    Log.warn(`getSymmetryOperations: unknown token '${c}'`);\n                }\n            }\n            row += 1;\n        });\n    });\n    return matrixDict;\n}\n//# sourceMappingURL=symmetry-utils.js.map","/**\n * @file Assembly\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Matrix4, Box3, Vector3 } from 'three';\nimport { uniqueArray } from '../utils';\nimport Selection from '../selection/selection';\nfunction selectionFromChains(chainList) {\n    let sele = '';\n    if (chainList.length > 0) {\n        sele = ':' + uniqueArray(chainList).join(' OR :');\n    }\n    return new Selection(sele);\n}\n/**\n * Assembly of transformed parts of a {@link Structure}\n */\nclass Assembly {\n    /**\n     * @param {String} name - assembly name\n     */\n    constructor(name = '') {\n        this.name = name;\n        this.partList = [];\n    }\n    get type() { return 'Assembly'; }\n    /**\n     * Add transformed parts to the assembly\n     * @example\n     * var m1 = new NGL.Matrix4().set( ... );\n     * var m2 = new NGL.Matrix4().set( ... );\n     * var assembly = new NGL.Assembly( \"myAssembly\" );\n     * // add part that transforms chain 'A' and 'B' using matrices `m1` and `m2`\n     * assembly.addPart( [ m1, m2 ], [ \"A\", \"B\" ] )\n     *\n     * @param {Matrix4[]} matrixList - array of 4x4 transformation matrices\n     * @param {String[]} chainList - array of chain names\n     * @return {AssemblyPart} the added assembly part\n     */\n    addPart(matrixList, chainList) {\n        const part = new AssemblyPart(matrixList, chainList);\n        this.partList.push(part);\n        return part;\n    }\n    /**\n     * Get the number of atom for a given structure\n     * @param  {Structure} structure - the given structure\n     * @return {Integer} number of atoms in the assembly\n     */\n    getAtomCount(structure) {\n        return this.partList.reduce((count, part) => count + part.getAtomCount(structure), 0);\n    }\n    /**\n     * Get the number of residues for a given structure\n     * @param  {Structure} structure - the given structure\n     * @return {Integer} number of residues in the assembly\n     */\n    getResidueCount(structure) {\n        return this.partList.reduce((count, part) => count + part.getResidueCount(structure), 0);\n    }\n    /**\n     * Get number of instances the assembly will produce, i.e.\n     * the number of transformations performed by the assembly\n     * @return {Integer} number of instances\n     */\n    getInstanceCount() {\n        let instanceCount = 0;\n        this.partList.forEach(function (part) {\n            instanceCount += part.matrixList.length;\n        });\n        return instanceCount;\n    }\n    /**\n     * Determine if the assembly is the full and untransformed structure\n     * @param  {Structure}  structure - the given structure\n     * @return {Boolean} whether the assembly is identical to the structure\n     */\n    isIdentity(structure) {\n        if (this.partList.length !== 1)\n            return false;\n        const part = this.partList[0];\n        if (part.matrixList.length !== 1)\n            return false;\n        const identityMatrix = new Matrix4();\n        if (!identityMatrix.equals(part.matrixList[0]))\n            return false;\n        let structureChainList = [];\n        structure.eachChain(function (cp) {\n            structureChainList.push(cp.chainname);\n        });\n        structureChainList = uniqueArray(structureChainList);\n        if (part.chainList.length !== structureChainList.length)\n            return false;\n        return true;\n    }\n    getBoundingBox(structure) {\n        const boundingBox = new Box3();\n        this.partList.forEach(function (part) {\n            const partBox = part.getBoundingBox(structure);\n            boundingBox.expandByPoint(partBox.min);\n            boundingBox.expandByPoint(partBox.max);\n        });\n        return boundingBox;\n    }\n    getCenter(structure) {\n        return this.getBoundingBox(structure).getCenter(new Vector3());\n    }\n    getSelection() {\n        let chainList = [];\n        this.partList.forEach(function (part) {\n            chainList = chainList.concat(part.chainList);\n        });\n        return selectionFromChains(chainList);\n    }\n}\nexport class AssemblyPart {\n    constructor(matrixList = [], chainList = []) {\n        this.matrixList = matrixList;\n        this.chainList = chainList;\n    }\n    get type() { return 'AssemblyPart'; }\n    _getCount(structure, propertyName) {\n        let count = 0;\n        structure.eachChain(cp => {\n            if (this.chainList.length === 0 || this.chainList.includes(cp.chainname)) {\n                count += cp[propertyName];\n            }\n        });\n        return this.matrixList.length * count;\n    }\n    getAtomCount(structure) {\n        return this._getCount(structure, 'atomCount');\n    }\n    getResidueCount(structure) {\n        return this._getCount(structure, 'residueCount');\n    }\n    getBoundingBox(structure) {\n        const partBox = new Box3();\n        const instanceBox = new Box3();\n        const selection = this.getSelection();\n        const structureBox = structure.getBoundingBox(selection);\n        this.matrixList.forEach(function (matrix) {\n            instanceBox.copy(structureBox).applyMatrix4(matrix);\n            partBox.expandByPoint(instanceBox.min);\n            partBox.expandByPoint(instanceBox.max);\n        });\n        return partBox;\n    }\n    getSelection() {\n        return selectionFromChains(this.chainList);\n    }\n    getView(structure) {\n        const selection = this.getSelection();\n        if (selection) {\n            return structure.getView(selection);\n        }\n        else {\n            return structure;\n        }\n    }\n    getInstanceList() {\n        const instanceList = [];\n        for (let j = 0, jl = this.matrixList.length; j < jl; ++j) {\n            instanceList.push({\n                id: j + 1,\n                name: j,\n                matrix: this.matrixList[j]\n            });\n        }\n        return instanceList;\n    }\n}\nexport default Assembly;\n//# sourceMappingURL=assembly.js.map","/**\n * @file Structure Builder\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nclass StructureBuilder {\n    constructor(structure) {\n        this.structure = structure;\n        this.currentModelindex = null;\n        this.currentChainid = null;\n        this.currentResname = null;\n        this.currentResno = null;\n        this.currentInscode = undefined;\n        this.currentHetero = null;\n        this.previousResname = '';\n        this.previousHetero = null;\n        this.ai = -1;\n        this.ri = -1;\n        this.ci = -1;\n        this.mi = -1;\n    }\n    addResidueType(ri) {\n        const atomStore = this.structure.atomStore;\n        const residueStore = this.structure.residueStore;\n        const residueMap = this.structure.residueMap;\n        const count = residueStore.atomCount[ri];\n        const offset = residueStore.atomOffset[ri];\n        const atomTypeIdList = new Array(count);\n        for (let i = 0; i < count; ++i) {\n            atomTypeIdList[i] = atomStore.atomTypeId[offset + i];\n        }\n        residueStore.residueTypeId[ri] = residueMap.add(this.previousResname, atomTypeIdList, this.previousHetero // TODO\n        );\n    }\n    addAtom(modelindex, chainname, chainid, resname, resno, hetero, sstruc, inscode) {\n        const atomStore = this.structure.atomStore;\n        const residueStore = this.structure.residueStore;\n        const chainStore = this.structure.chainStore;\n        const modelStore = this.structure.modelStore;\n        let addModel = false;\n        let addChain = false;\n        let addResidue = false;\n        if (this.currentModelindex !== modelindex) {\n            addModel = true;\n            addChain = true;\n            addResidue = true;\n            this.mi += 1;\n            this.ci += 1;\n            this.ri += 1;\n        }\n        else if (this.currentChainid !== chainid) {\n            addChain = true;\n            addResidue = true;\n            this.ci += 1;\n            this.ri += 1;\n        }\n        else if (this.currentResno !== resno || this.currentResname !== resname || this.currentInscode !== inscode) {\n            addResidue = true;\n            this.ri += 1;\n        }\n        this.ai += 1;\n        if (addModel) {\n            modelStore.growIfFull();\n            modelStore.chainOffset[this.mi] = this.ci;\n            modelStore.chainCount[this.mi] = 0;\n            modelStore.count += 1;\n            chainStore.modelIndex[this.ci] = this.mi;\n        }\n        if (addChain) {\n            chainStore.growIfFull();\n            chainStore.setChainname(this.ci, chainname);\n            chainStore.setChainid(this.ci, chainid);\n            chainStore.residueOffset[this.ci] = this.ri;\n            chainStore.residueCount[this.ci] = 0;\n            chainStore.count += 1;\n            chainStore.modelIndex[this.ci] = this.mi;\n            modelStore.chainCount[this.mi] += 1;\n            residueStore.chainIndex[this.ri] = this.ci;\n        }\n        if (addResidue) {\n            this.previousResname = this.currentResname;\n            this.previousHetero = this.currentHetero;\n            if (this.ri > 0)\n                this.addResidueType(this.ri - 1);\n            residueStore.growIfFull();\n            residueStore.resno[this.ri] = resno;\n            if (sstruc !== undefined) {\n                residueStore.sstruc[this.ri] = sstruc.charCodeAt(0);\n            }\n            if (inscode !== undefined) {\n                residueStore.inscode[this.ri] = inscode.charCodeAt(0);\n            }\n            residueStore.atomOffset[this.ri] = this.ai;\n            residueStore.atomCount[this.ri] = 0;\n            residueStore.count += 1;\n            residueStore.chainIndex[this.ri] = this.ci;\n            chainStore.residueCount[this.ci] += 1;\n        }\n        atomStore.count += 1;\n        atomStore.residueIndex[this.ai] = this.ri;\n        residueStore.atomCount[this.ri] += 1;\n        this.currentModelindex = modelindex;\n        this.currentChainid = chainid;\n        this.currentResname = resname;\n        this.currentResno = resno;\n        this.currentInscode = inscode;\n        this.currentHetero = hetero;\n    }\n    finalize() {\n        this.previousResname = this.currentResname;\n        this.previousHetero = this.currentHetero;\n        if (this.ri > -1)\n            this.addResidueType(this.ri);\n    }\n}\nexport default StructureBuilder;\n//# sourceMappingURL=structure-builder.js.map","/**\n * @file Structure Utils\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3, Matrix4 } from 'three';\nimport { Debug, Log } from '../globals';\nimport { binarySearchIndexOf } from '../utils';\nimport Helixbundle from '../geometry/helixbundle';\nimport Kdtree from '../geometry/kdtree';\nimport { getSymmetryOperations } from '../symmetry/symmetry-utils';\nimport Assembly from '../symmetry/assembly';\nimport Structure from '../structure/structure';\nimport StructureBuilder from '../structure/structure-builder';\nimport { UnknownBackboneType, AA3, Bases } from './structure-constants';\nexport function reorderAtoms(structure) {\n    if (Debug)\n        Log.time('reorderAtoms');\n    var ap1 = structure.getAtomProxy();\n    var ap2 = structure.getAtomProxy();\n    function compareModelChainResno(index1, index2) {\n        ap1.index = index1;\n        ap2.index = index2;\n        if (ap1.modelIndex < ap2.modelIndex) {\n            return -1;\n        }\n        else if (ap1.modelIndex > ap2.modelIndex) {\n            return 1;\n        }\n        else {\n            if (ap1.chainname < ap2.chainname) {\n                return -1;\n            }\n            else if (ap1.chainname > ap2.chainname) {\n                return 1;\n            }\n            else {\n                if (ap1.resno < ap2.resno) {\n                    return -1;\n                }\n                else if (ap1.resno > ap2.resno) {\n                    return 1;\n                }\n                else {\n                    return 0;\n                }\n            }\n        }\n    }\n    structure.atomStore.sort(compareModelChainResno);\n    if (Debug)\n        Log.timeEnd('reorderAtoms');\n}\nexport function assignSecondaryStructure(structure, secStruct) {\n    if (!secStruct)\n        return;\n    if (Debug)\n        Log.time('assignSecondaryStructure');\n    const chainnames = [];\n    structure.eachModel(function (mp) {\n        mp.eachChain(function (cp) {\n            chainnames.push(cp.chainname);\n        });\n    });\n    const chainnamesSorted = chainnames.slice().sort();\n    const chainnamesIndex = [];\n    chainnamesSorted.forEach(function (c) {\n        chainnamesIndex.push(chainnames.indexOf(c));\n    });\n    // helix assignment\n    const helices = secStruct.helices.filter(function (h) {\n        return binarySearchIndexOf(chainnamesSorted, h[0]) >= 0;\n    });\n    helices.sort(function (h1, h2) {\n        const c1 = h1[0];\n        const c2 = h2[0];\n        const r1 = h1[1];\n        const r2 = h2[1];\n        if (c1 === c2) {\n            if (r1 === r2) {\n                return 0;\n            }\n            else {\n                return r1 < r2 ? -1 : 1;\n            }\n        }\n        else {\n            const idx1 = binarySearchIndexOf(chainnamesSorted, c1);\n            const idx2 = binarySearchIndexOf(chainnamesSorted, c2);\n            return chainnamesIndex[idx1] < chainnamesIndex[idx2] ? -1 : 1;\n        }\n    });\n    const residueStore = structure.residueStore;\n    structure.eachModel(function (mp) {\n        let i = 0;\n        const n = helices.length;\n        if (n === 0)\n            return;\n        let helix = helices[i];\n        let helixRun = false;\n        let done = false;\n        mp.eachChain(function (cp) {\n            let chainChange = false;\n            if (cp.chainname === helix[0]) {\n                const count = cp.residueCount;\n                const offset = cp.residueOffset;\n                const end = offset + count;\n                for (let j = offset; j < end; ++j) {\n                    if (residueStore.resno[j] === helix[1] && // resnoBeg\n                        residueStore.getInscode(j) === helix[2] // inscodeBeg\n                    ) {\n                        helixRun = true;\n                    }\n                    if (helixRun) {\n                        residueStore.sstruc[j] = helix[6];\n                        if (residueStore.resno[j] === helix[4] && // resnoEnd\n                            residueStore.getInscode(j) === helix[5] // inscodeEnd\n                        ) {\n                            helixRun = false;\n                            i += 1;\n                            if (i < n) {\n                                // must look at previous residues as\n                                // residues may not be ordered by resno\n                                j = offset - 1;\n                                helix = helices[i];\n                                chainChange = cp.chainname !== helix[0];\n                            }\n                            else {\n                                done = true;\n                            }\n                        }\n                    }\n                    if (chainChange || done)\n                        return;\n                }\n            }\n        });\n    });\n    // sheet assignment\n    const sheets = secStruct.sheets.filter(function (s) {\n        return binarySearchIndexOf(chainnamesSorted, s[0]) >= 0;\n    });\n    sheets.sort(function (s1, s2) {\n        const c1 = s1[0];\n        const c2 = s2[0];\n        if (c1 === c2)\n            return 0;\n        const idx1 = binarySearchIndexOf(chainnamesSorted, c1);\n        const idx2 = binarySearchIndexOf(chainnamesSorted, c2);\n        return chainnamesIndex[idx1] < chainnamesIndex[idx2] ? -1 : 1;\n    });\n    const strandCharCode = 'e'.charCodeAt(0);\n    structure.eachModel(function (mp) {\n        let i = 0;\n        const n = sheets.length;\n        if (n === 0)\n            return;\n        let sheet = sheets[i];\n        let sheetRun = false;\n        let done = false;\n        mp.eachChain(function (cp) {\n            let chainChange = false;\n            if (cp.chainname === sheet[0]) {\n                const count = cp.residueCount;\n                const offset = cp.residueOffset;\n                const end = offset + count;\n                for (let j = offset; j < end; ++j) {\n                    if (residueStore.resno[j] === sheet[1] && // resnoBeg\n                        residueStore.getInscode(j) === sheet[2] // inscodeBeg\n                    ) {\n                        sheetRun = true;\n                    }\n                    if (sheetRun) {\n                        residueStore.sstruc[j] = strandCharCode;\n                        if (residueStore.resno[j] === sheet[4] && // resnoEnd\n                            residueStore.getInscode(j) === sheet[5] // inscodeEnd\n                        ) {\n                            sheetRun = false;\n                            i += 1;\n                            if (i < n) {\n                                // must look at previous residues as\n                                // residues may not be ordered by resno\n                                j = offset - 1;\n                                sheet = sheets[i];\n                                chainChange = cp.chainname !== sheet[0];\n                            }\n                            else {\n                                done = true;\n                            }\n                        }\n                    }\n                    if (chainChange || done)\n                        return;\n                }\n            }\n        });\n    });\n    if (Debug)\n        Log.timeEnd('assignSecondaryStructure');\n}\nexport const calculateSecondaryStructure = (function () {\n    // Implementation for proteins based on \"pv\"\n    //\n    // assigns secondary structure information based on a simple and very fast\n    // algorithm published by Zhang and Skolnick in their TM-align paper.\n    // Reference:\n    //\n    // TM-align: a protein structure alignment algorithm based on the Tm-score\n    // (2005) NAR, 33(7) 2302-2309\n    const zhangSkolnickSS = function (polymer, i, distances, delta) {\n        const structure = polymer.structure;\n        const offset = polymer.residueIndexStart;\n        const rp1 = structure.getResidueProxy();\n        const rp2 = structure.getResidueProxy();\n        const ap1 = structure.getAtomProxy();\n        const ap2 = structure.getAtomProxy();\n        for (let j = Math.max(0, i - 2); j <= i; ++j) {\n            for (let k = 2; k < 5; ++k) {\n                if (j + k >= polymer.residueCount) {\n                    continue;\n                }\n                rp1.index = offset + j;\n                rp2.index = offset + j + k;\n                ap1.index = rp1.traceAtomIndex;\n                ap2.index = rp2.traceAtomIndex;\n                const d = ap1.distanceTo(ap2);\n                if (Math.abs(d - distances[k - 2]) > delta) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    const isHelical = function (polymer, i) {\n        const helixDistances = [5.45, 5.18, 6.37];\n        const helixDelta = 2.1;\n        return zhangSkolnickSS(polymer, i, helixDistances, helixDelta);\n    };\n    const isSheet = function (polymer, i) {\n        const sheetDistances = [6.1, 10.4, 13.0];\n        const sheetDelta = 1.42;\n        return zhangSkolnickSS(polymer, i, sheetDistances, sheetDelta);\n    };\n    const proteinPolymer = function (p) {\n        const residueStore = p.residueStore;\n        const offset = p.residueIndexStart;\n        for (let i = 0, il = p.residueCount; i < il; ++i) {\n            let sstruc = 'c';\n            if (isHelical(p, i)) {\n                sstruc = 'h';\n            }\n            else if (isSheet(p, i)) {\n                sstruc = 'e';\n            }\n            residueStore.sstruc[offset + i] = sstruc.charCodeAt(0);\n        }\n    };\n    const cgPolymer = function (p) {\n        const localAngle = 20;\n        const centerDist = 2.0;\n        const residueStore = p.residueStore;\n        const offset = p.residueIndexStart;\n        const helixbundle = new Helixbundle(p);\n        const pos = helixbundle.position;\n        const c1 = new Vector3();\n        const c2 = new Vector3();\n        for (let i = 0, il = p.residueCount; i < il; ++i) {\n            c1.fromArray(pos.center, i * 3); // TODO\n            c2.fromArray(pos.center, i * 3 + 3); // TODO\n            const d = c1.distanceTo(c2);\n            if (d < centerDist && d > 1.0 && pos.bending[i] < localAngle) {\n                residueStore.sstruc[offset + i] = 'h'.charCodeAt(0);\n                residueStore.sstruc[offset + i + 1] = 'h'.charCodeAt(0);\n            }\n        }\n    };\n    return function calculateSecondaryStructure(structure) {\n        if (Debug)\n            Log.time('calculateSecondaryStructure');\n        structure.eachPolymer(function (p) {\n            // assign secondary structure\n            if (p.residueCount < 4)\n                return;\n            if (p.isCg()) {\n                cgPolymer(p);\n            }\n            else if (p.isProtein()) {\n                proteinPolymer(p);\n            }\n            else {\n                return;\n            }\n            // set lone secondary structure assignments to \"c\"\n            let prevSstruc;\n            let sstrucCount = 0;\n            p.eachResidue(function (r) {\n                if (r.sstruc === prevSstruc) {\n                    sstrucCount += 1;\n                }\n                else {\n                    if (sstrucCount === 1) {\n                        r.index -= 1;\n                        r.sstruc = 'c';\n                    }\n                    sstrucCount = 1;\n                    prevSstruc = r.sstruc;\n                }\n            });\n        });\n        if (Debug)\n            Log.timeEnd('calculateSecondaryStructure');\n    };\n}());\n// const ChainnameAlphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\" +\n//                           \"abcdefghijklmnopqrstuvwxyz\" +\n//                           \"0123456789\";\nconst ChainnameAlphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\nexport function getChainname(index) {\n    const n = ChainnameAlphabet.length;\n    let j = index;\n    let k = 0;\n    let chainname = ChainnameAlphabet[j % n];\n    while (j >= n) {\n        j = Math.floor(j / n);\n        chainname += ChainnameAlphabet[j % n];\n        k += 1;\n    }\n    if (k >= 5) {\n        Log.warn('chainname overflow');\n    }\n    return chainname;\n}\nexport function calculateChainnames(structure, useExistingBonds = false) {\n    if (Debug)\n        Log.time('calculateChainnames');\n    let doAutoChainName = true;\n    structure.eachChain(function (c) {\n        if (c.chainname)\n            doAutoChainName = false;\n    });\n    if (doAutoChainName) {\n        const modelStore = structure.modelStore;\n        const chainStore = structure.chainStore;\n        const residueStore = structure.residueStore;\n        const addChain = function (mIndex, chainname, rOffset, rCount) {\n            const ci = chainStore.count;\n            for (let i = 0; i < rCount; ++i) {\n                residueStore.chainIndex[rOffset + i] = ci;\n            }\n            chainStore.growIfFull();\n            chainStore.modelIndex[ci] = mIndex;\n            chainStore.setChainname(ci, chainname);\n            chainStore.setChainid(ci, chainname);\n            chainStore.residueOffset[ci] = rOffset;\n            chainStore.residueCount[ci] = rCount;\n            chainStore.count += 1;\n            modelStore.chainCount[mIndex] += 1;\n        };\n        const ap1 = structure.getAtomProxy();\n        const ap2 = structure.getAtomProxy();\n        let i = 0;\n        let mi = 0;\n        let rStart = 0;\n        let rEnd = 0;\n        const chainData = [];\n        if (residueStore.count === 1) {\n            chainData.push({\n                mIndex: 0,\n                chainname: 'A',\n                rStart: 0,\n                rCount: 1\n            });\n        }\n        else {\n            structure.eachResidueN(2, function (rp1, rp2) {\n                let newChain = false;\n                const bbType1 = rp1.backboneType;\n                const bbType2 = rp2.backboneType;\n                const bbTypeUnk = UnknownBackboneType;\n                rEnd = rp1.index;\n                if (rp1.modelIndex !== rp2.modelIndex) {\n                    newChain = true;\n                }\n                else if (rp1.moleculeType !== rp2.moleculeType) {\n                    newChain = true;\n                }\n                else if (bbType1 !== bbTypeUnk && bbType1 === bbType2) {\n                    ap1.index = rp1.backboneEndAtomIndex;\n                    ap2.index = rp2.backboneStartAtomIndex;\n                    if (useExistingBonds) {\n                        newChain = !ap1.hasBondTo(ap2);\n                    }\n                    else {\n                        newChain = !ap1.connectedTo(ap2);\n                    }\n                }\n                // current chain goes to end of the structure\n                if (!newChain && rp2.index === residueStore.count - 1) {\n                    newChain = true;\n                    rEnd = rp2.index;\n                }\n                if (newChain) {\n                    chainData.push({\n                        mIndex: mi,\n                        chainname: getChainname(i),\n                        rStart: rStart,\n                        rCount: rEnd - rStart + 1\n                    });\n                    i += 1;\n                    if (rp1.modelIndex !== rp2.modelIndex) {\n                        i = 0;\n                        mi += 1;\n                    }\n                    // new chain for the last residue of the structure\n                    if (rp2.index === residueStore.count - 1 && rEnd !== rp2.index) {\n                        chainData.push({\n                            mIndex: mi,\n                            chainname: getChainname(i),\n                            rStart: residueStore.count - 1,\n                            rCount: 1\n                        });\n                    }\n                    rStart = rp2.index;\n                    rEnd = rp2.index;\n                }\n            });\n        }\n        //\n        chainStore.count = 0;\n        chainData.forEach(function (d) {\n            addChain(d.mIndex, d.chainname, d.rStart, d.rCount);\n        });\n        let chainOffset = 0;\n        structure.eachModel(function (mp) {\n            modelStore.chainOffset[mp.index] = chainOffset;\n            modelStore.chainCount[mp.index] -= 1;\n            chainOffset += modelStore.chainCount[mp.index];\n        });\n    }\n    if (Debug)\n        Log.timeEnd('calculateChainnames');\n}\nexport function calculateBonds(structure) {\n    if (Debug)\n        Log.time('calculateBonds');\n    calculateBondsWithin(structure);\n    calculateBondsBetween(structure);\n    if (Debug)\n        Log.timeEnd('calculateBonds');\n}\nconst BondOrderTable = {\n    'HIS|CD2|CG': 2,\n    'HIS|CE1|ND1': 2,\n    'ARG|CZ|NH2': 2,\n    'PHE|CE1|CZ': 2,\n    'PHE|CD2|CE2': 2,\n    'PHE|CD1|CG': 2,\n    'TRP|CD1|CG': 2,\n    'TRP|CD2|CE2': 2,\n    'TRP|CE3|CZ3': 2,\n    'TRP|CH2|CZ2': 2,\n    'ASN|CG|OD1': 2,\n    'GLN|CD|OE1': 2,\n    'TYR|CD1|CG': 2,\n    'TYR|CD2|CE2': 2,\n    'TYR|CE1|CZ': 2,\n    'ASP|CG|OD1': 2,\n    'GLU|CD|OE1': 2,\n    'G|C8|N7': 2,\n    'G|C4|C5': 2,\n    'G|C2|N3': 2,\n    'G|C6|O6': 2,\n    'C|C4|N3': 2,\n    'C|C5|C6': 2,\n    'C|C2|O2': 2,\n    'A|C2|N3': 2,\n    'A|C6|N1': 2,\n    'A|C4|C5': 2,\n    'A|C8|N7': 2,\n    'U|C5|C6': 2,\n    'U|C2|O2': 2,\n    'U|C4|O4': 2,\n    'DG|C8|N7': 2,\n    'DG|C4|C5': 2,\n    'DG|C2|N3': 2,\n    'DG|C6|O6': 2,\n    'DC|C4|N3': 2,\n    'DC|C5|C6': 2,\n    'DC|C2|O2': 2,\n    'DA|C2|N3': 2,\n    'DA|C6|N1': 2,\n    'DA|C4|C5': 2,\n    'DA|C8|N7': 2,\n    'DT|C5|C6': 2,\n    'DT|C2|O2': 2,\n    'DT|C4|O4': 2\n};\nfunction getBondOrderFromTable(resname, atomname1, atomname2) {\n    [atomname1, atomname2] = atomname1 < atomname2 ? [atomname1, atomname2] : [atomname2, atomname1];\n    if (AA3.includes(resname) && atomname1 === 'C' && atomname2 === 'O')\n        return 2;\n    if (Bases.includes(resname) && atomname1 === 'OP1' && atomname2 === 'P')\n        return 2;\n    return BondOrderTable[`${resname}|${atomname1}|${atomname2}`] || 1;\n}\nexport function calculateResidueBonds(r) {\n    const structure = r.structure;\n    const a1 = structure.getAtomProxy();\n    const a2 = structure.getAtomProxy();\n    const count = r.atomCount;\n    const offset = r.atomOffset;\n    const end = offset + count;\n    const end1 = end - 1;\n    const atomIndices1 = [];\n    const atomIndices2 = [];\n    const bondOrders = [];\n    if (count > 500) {\n        if (Debug)\n            Log.warn('more than 500 atoms, skip residue for auto-bonding', r.qualifiedName());\n    }\n    else {\n        if (count > 50) {\n            const kdtree = new Kdtree(r, true);\n            const radius = r.isCg() ? 1.2 : 2.3;\n            for (let i = offset; i < end1; ++i) {\n                a1.index = i;\n                const maxd = a1.covalent + radius + 0.3;\n                const nearestAtoms = kdtree.nearest(a1, Infinity, maxd * maxd); // TODO\n                const m = nearestAtoms.length;\n                for (let j = 0; j < m; ++j) {\n                    a2.index = nearestAtoms[j].index;\n                    if (a1.index < a2.index) {\n                        if (a1.connectedTo(a2)) {\n                            atomIndices1.push(a1.index - offset);\n                            atomIndices2.push(a2.index - offset);\n                            bondOrders.push(getBondOrderFromTable(a1.resname, a1.atomname, a2.atomname));\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            for (let i = offset; i < end1; ++i) {\n                a1.index = i;\n                for (let j = i + 1; j <= end1; ++j) {\n                    a2.index = j;\n                    if (a1.connectedTo(a2)) {\n                        atomIndices1.push(i - offset);\n                        atomIndices2.push(j - offset);\n                        bondOrders.push(getBondOrderFromTable(a1.resname, a1.atomname, a2.atomname));\n                    }\n                }\n            }\n        }\n    }\n    return {\n        atomIndices1: atomIndices1,\n        atomIndices2: atomIndices2,\n        bondOrders: bondOrders\n    };\n}\nexport function calculateAtomBondMap(structure) {\n    if (Debug)\n        Log.time('calculateAtomBondMap');\n    var atomBondMap = [];\n    structure.eachBond(function (bp) {\n        var ai1 = bp.atomIndex1;\n        var ai2 = bp.atomIndex2;\n        if (atomBondMap[ai1] === undefined)\n            atomBondMap[ai1] = [];\n        atomBondMap[ai1][ai2] = bp.index;\n    });\n    if (Debug)\n        Log.timeEnd('calculateAtomBondMap');\n    return atomBondMap;\n}\nexport function calculateBondsWithin(structure, onlyAddRung = false) {\n    if (Debug)\n        Log.time('calculateBondsWithin');\n    const bondStore = structure.bondStore;\n    const rungBondStore = structure.rungBondStore;\n    const rungAtomSet = structure.getAtomSet(false);\n    const a1 = structure.getAtomProxy();\n    const a2 = structure.getAtomProxy();\n    const bp = structure.getBondProxy();\n    const atomBondMap = onlyAddRung ? null : calculateAtomBondMap(structure);\n    structure.eachResidue(function (r) {\n        if (!onlyAddRung && atomBondMap) {\n            const count = r.atomCount;\n            const offset = r.atomOffset;\n            if (count > 500) {\n                Log.warn('more than 500 atoms, skip residue for auto-bonding', r.qualifiedName());\n                return;\n            }\n            const bonds = r.getBonds();\n            const atomIndices1 = bonds.atomIndices1;\n            const atomIndices2 = bonds.atomIndices2;\n            const bondOrders = bonds.bondOrders;\n            const nn = atomIndices1.length;\n            for (let i = 0; i < nn; ++i) {\n                const rai1 = atomIndices1[i];\n                const rai2 = atomIndices2[i];\n                const ai1 = rai1 + offset;\n                const ai2 = rai2 + offset;\n                const tmp = atomBondMap[ai1];\n                if (tmp !== undefined && tmp[ai2] !== undefined) {\n                    bp.index = tmp[ai2];\n                    const residueTypeBondIndex = r.residueType.getBondIndex(rai1, rai2); // TODO\n                    // overwrite residueType bondOrder with value from existing bond\n                    bondOrders[residueTypeBondIndex] = bp.bondOrder;\n                }\n                else {\n                    a1.index = ai1;\n                    a2.index = ai2;\n                    // only add bond if not already in bondStore\n                    bondStore.addBond(a1, a2, bondOrders[i]);\n                }\n            }\n        }\n        // get RNA/DNA rung pseudo bonds\n        const traceAtomIndex = r.residueType.traceAtomIndex;\n        const rungEndAtomIndex = r.residueType.rungEndAtomIndex;\n        if (traceAtomIndex !== -1 && rungEndAtomIndex !== -1) {\n            a1.index = r.traceAtomIndex;\n            a2.index = r.rungEndAtomIndex;\n            rungBondStore.addBond(a1, a2);\n            rungAtomSet.set(a1.index);\n            rungAtomSet.set(a2.index);\n        }\n    });\n    structure.atomSetDict.rung = rungAtomSet;\n    if (Debug)\n        Log.timeEnd('calculateBondsWithin');\n}\nexport function calculateBondsBetween(structure, onlyAddBackbone = false, useExistingBonds = false) {\n    if (Debug)\n        Log.time('calculateBondsBetween');\n    const bondStore = structure.bondStore;\n    const backboneBondStore = structure.backboneBondStore;\n    const backboneAtomSet = structure.getAtomSet(false);\n    const ap1 = structure.getAtomProxy();\n    const ap2 = structure.getAtomProxy();\n    if (backboneBondStore.count === 0) {\n        backboneBondStore.resize(structure.residueStore.count);\n    }\n    function addBondIfConnected(rp1, rp2) {\n        const bbType1 = rp1.backboneType;\n        const bbType2 = rp2.backboneType;\n        if (bbType1 !== UnknownBackboneType && bbType1 === bbType2) {\n            ap1.index = rp1.backboneEndAtomIndex;\n            ap2.index = rp2.backboneStartAtomIndex;\n            if ((useExistingBonds && ap1.hasBondTo(ap2)) || ap1.connectedTo(ap2)) {\n                if (!onlyAddBackbone) {\n                    bondStore.addBond(ap1, ap2, 1); // assume single bond\n                }\n                ap1.index = rp1.traceAtomIndex;\n                ap2.index = rp2.traceAtomIndex;\n                backboneBondStore.addBond(ap1, ap2);\n                backboneAtomSet.set(ap1.index);\n                backboneAtomSet.set(ap2.index);\n            }\n        }\n    }\n    structure.eachResidueN(2, addBondIfConnected);\n    const rp1 = structure.getResidueProxy();\n    const rp2 = structure.getResidueProxy();\n    // check for cyclic chains\n    structure.eachChain(function (cp) {\n        if (cp.residueCount === 0)\n            return;\n        rp1.index = cp.residueOffset;\n        rp2.index = cp.residueOffset + cp.residueCount - 1;\n        addBondIfConnected(rp2, rp1);\n    });\n    structure.atomSetDict.backbone = backboneAtomSet;\n    if (!onlyAddBackbone) {\n        if (Debug)\n            Log.time('calculateBondsBetween inter');\n        const spatialHash = structure.spatialHash;\n        structure.eachResidue(function (rp) {\n            if (rp.backboneType === UnknownBackboneType && !rp.isWater()) {\n                rp.eachAtom(function (ap) {\n                    if (ap.isMetal())\n                        return;\n                    spatialHash.eachWithin(ap.x, ap.y, ap.z, 4, function (idx) {\n                        ap2.index = idx;\n                        if (ap.modelIndex === ap2.modelIndex &&\n                            ap.residueIndex !== ap2.residueIndex &&\n                            !ap2.isMetal()) {\n                            bondStore.addBondIfConnected(ap, ap2, 1); // assume single bond\n                        }\n                    });\n                });\n            }\n        });\n        if (Debug)\n            Log.timeEnd('calculateBondsBetween inter');\n    }\n    if (Debug)\n        Log.timeEnd('calculateBondsBetween');\n}\nexport function buildUnitcellAssembly(structure) {\n    if (!structure.unitcell)\n        return;\n    if (Debug)\n        Log.time('buildUnitcellAssembly');\n    const uc = structure.unitcell;\n    const structureCenterFrac = structure.center.clone().applyMatrix4(uc.cartToFrac);\n    const centerFrac = structureCenterFrac.clone().floor();\n    const symopDict = getSymmetryOperations(uc.spacegroup);\n    const centerFracSymop = new Vector3();\n    const positionFracSymop = new Vector3();\n    function getMatrixList(shift) {\n        const matrixList = [];\n        Object.keys(symopDict).forEach(function (name) {\n            const m = symopDict[name].clone();\n            centerFracSymop.copy(structureCenterFrac).applyMatrix4(m).floor();\n            positionFracSymop.setFromMatrixPosition(m);\n            positionFracSymop.sub(centerFracSymop);\n            positionFracSymop.add(centerFrac);\n            if (shift)\n                positionFracSymop.add(shift);\n            m.setPosition(positionFracSymop);\n            m.multiplyMatrices(uc.fracToCart, m);\n            m.multiply(uc.cartToFrac);\n            matrixList.push(m);\n        });\n        return matrixList;\n    }\n    const unitcellAssembly = new Assembly('UNITCELL');\n    const unitcellMatrixList = getMatrixList();\n    const ncsMatrixList = [];\n    if (structure.biomolDict.NCS) {\n        ncsMatrixList.push(new Matrix4(), ...structure.biomolDict.NCS.partList[0].matrixList);\n        const ncsUnitcellMatrixList = [];\n        unitcellMatrixList.forEach(sm => {\n            ncsMatrixList.forEach(nm => {\n                ncsUnitcellMatrixList.push(sm.clone().multiply(nm));\n            });\n        });\n        unitcellAssembly.addPart(ncsUnitcellMatrixList);\n    }\n    else {\n        unitcellAssembly.addPart(unitcellMatrixList);\n    }\n    const vec = new Vector3();\n    const supercellAssembly = new Assembly('SUPERCELL');\n    const supercellMatrixList = Array.prototype.concat.call(getMatrixList(vec.set(1, 0, 0)), // 655\n    getMatrixList(vec.set(0, 1, 0)), // 565\n    getMatrixList(vec.set(0, 0, 1)), // 556\n    getMatrixList(vec.set(-1, 0, 0)), // 455\n    getMatrixList(vec.set(0, -1, 0)), // 545\n    getMatrixList(vec.set(0, 0, -1)), // 554\n    getMatrixList(vec.set(1, 1, 0)), // 665\n    getMatrixList(vec.set(1, 0, 1)), // 656\n    getMatrixList(vec.set(0, 1, 1)), // 566\n    getMatrixList(vec.set(-1, -1, 0)), // 445\n    getMatrixList(vec.set(-1, 0, -1)), // 454\n    getMatrixList(vec.set(0, -1, -1)), // 544\n    getMatrixList(vec.set(1, -1, -1)), // 644\n    getMatrixList(vec.set(1, 1, -1)), // 664\n    getMatrixList(vec.set(1, -1, 1)), // 646\n    getMatrixList(vec.set(-1, 1, 1)), // 466\n    getMatrixList(vec.set(-1, -1, 1)), // 446\n    getMatrixList(vec.set(-1, 1, -1)), // 464\n    getMatrixList(vec.set(0, 1, -1)), // 564\n    getMatrixList(vec.set(0, -1, 1)), // 546\n    getMatrixList(vec.set(1, 0, -1)), // 654\n    getMatrixList(vec.set(-1, 0, 1)), // 456\n    getMatrixList(vec.set(1, -1, 0)), // 645\n    getMatrixList(vec.set(-1, 1, 0)), // 465\n    getMatrixList(), // 555\n    getMatrixList(vec.set(1, 1, 1)), // 666\n    getMatrixList(vec.set(-1, -1, -1)) // 444\n    );\n    if (structure.biomolDict.NCS) {\n        const ncsSupercellMatrixList = [];\n        supercellMatrixList.forEach(function (sm) {\n            ncsMatrixList.forEach(function (nm) {\n                ncsSupercellMatrixList.push(sm.clone().multiply(nm));\n            });\n        });\n        supercellAssembly.addPart(ncsSupercellMatrixList);\n    }\n    else {\n        supercellAssembly.addPart(supercellMatrixList);\n    }\n    structure.biomolDict.UNITCELL = unitcellAssembly;\n    structure.biomolDict.SUPERCELL = supercellAssembly;\n    if (Debug)\n        Log.timeEnd('buildUnitcellAssembly');\n}\nconst elm1 = ['H', 'C', 'O', 'N', 'S', 'P'];\nconst elm2 = ['NA', 'CL', 'FE'];\nexport function guessElement(atomName) {\n    let at = atomName.trim().toUpperCase();\n    // parseInt('C') -> NaN; (NaN > -1) -> false\n    if (parseInt(at.charAt(0)) > -1)\n        at = at.substr(1);\n    // parse again to check for a second integer\n    if (parseInt(at.charAt(0)) > -1)\n        at = at.substr(1);\n    const n = at.length;\n    if (n === 0)\n        return '';\n    if (n === 1)\n        return at;\n    if (n === 2) {\n        if (elm2.indexOf(at) !== -1)\n            return at;\n        if (elm1.indexOf(at[0]) !== -1)\n            return at[0];\n    }\n    if (n >= 3) {\n        if (elm1.indexOf(at[0]) !== -1)\n            return at[0];\n    }\n    return '';\n}\n/**\n * Assigns ResidueType bonds.\n * @param {Structure} structure - the structure object\n * @return {undefined}\n */\nexport function assignResidueTypeBonds(structure) {\n    // if( Debug ) Log.time( \"assignResidueTypeBonds\" )\n    const bondHash = structure.bondHash; // TODO\n    const countArray = bondHash.countArray;\n    const offsetArray = bondHash.offsetArray;\n    const indexArray = bondHash.indexArray;\n    const bp = structure.getBondProxy();\n    structure.eachResidue(function (rp) {\n        const residueType = rp.residueType;\n        if (residueType.bonds !== undefined)\n            return;\n        var atomOffset = rp.atomOffset;\n        var atomIndices1 = [];\n        var atomIndices2 = [];\n        var bondOrders = [];\n        var bondDict = {};\n        const nextAtomOffset = atomOffset + rp.atomCount;\n        rp.eachAtom(function (ap) {\n            const index = ap.index;\n            const offset = offsetArray[index];\n            const count = countArray[index];\n            for (let i = 0, il = count; i < il; ++i) {\n                bp.index = indexArray[offset + i];\n                let idx1 = bp.atomIndex1;\n                if (idx1 < atomOffset || idx1 >= nextAtomOffset) {\n                    // Don't add bonds outside of this resiude\n                    continue;\n                }\n                let idx2 = bp.atomIndex2;\n                if (idx2 < atomOffset || idx2 >= nextAtomOffset) {\n                    continue;\n                }\n                if (idx1 > idx2) {\n                    const tmp = idx2;\n                    idx2 = idx1;\n                    idx1 = tmp;\n                }\n                const hash = idx1 + '|' + idx2;\n                if (bondDict[hash] === undefined) {\n                    bondDict[hash] = true;\n                    atomIndices1.push(idx1 - atomOffset);\n                    atomIndices2.push(idx2 - atomOffset);\n                    bondOrders.push(bp.bondOrder);\n                }\n            }\n        });\n        residueType.bonds = {\n            atomIndices1: atomIndices1,\n            atomIndices2: atomIndices2,\n            bondOrders: bondOrders\n        };\n    });\n    // if( Debug ) Log.timeEnd( \"assignResidueTypeBonds\" )\n}\nexport function concatStructures(name, ...structures) {\n    if (Debug)\n        Log.time(\"concatStructures\");\n    const s = new Structure(name, '');\n    const sb = new StructureBuilder(s);\n    const atomStore = s.atomStore;\n    const atomMap = s.atomMap;\n    atomStore.addField('formalCharge', 1, 'int8');\n    atomStore.addField('partialCharge', 1, 'float32');\n    const atomIndexDict = {};\n    let idx = 0;\n    let atomCount = 0;\n    let modelCount = 0;\n    structures.forEach(structure => {\n        structure.eachAtom(a => {\n            atomStore.growIfFull();\n            atomStore.atomTypeId[idx] = atomMap.add(a.atomname, a.element);\n            atomStore.x[idx] = a.x;\n            atomStore.y[idx] = a.y;\n            atomStore.z[idx] = a.z;\n            atomStore.serial[idx] = a.serial;\n            atomStore.formalCharge[idx] = a.formalCharge;\n            atomStore.partialCharge[idx] = a.partialCharge;\n            atomStore.altloc[idx] = a.altloc;\n            atomStore.occupancy[idx] = a.occupancy;\n            atomStore.bfactor[idx] = a.bfactor;\n            sb.addAtom(a.modelIndex + modelCount, a.chainname, a.chainid, a.resname, a.resno, a.hetero === 1, a.sstruc, a.inscode);\n            atomIndexDict[a.index + atomCount] = idx;\n            idx += 1;\n        });\n        atomCount += structure.atomStore.count;\n        modelCount += structure.modelStore.count;\n    });\n    const bondStore = s.bondStore;\n    const a1 = s.getAtomProxy();\n    const a2 = s.getAtomProxy();\n    atomCount = 0;\n    structures.forEach(structure => {\n        structure.eachBond(b => {\n            a1.index = atomIndexDict[b.atomIndex1 + atomCount];\n            a2.index = atomIndexDict[b.atomIndex2 + atomCount];\n            bondStore.addBond(a1, a2, b.bondOrder);\n        });\n        atomCount += structure.atomStore.count;\n    });\n    sb.finalize();\n    calculateBondsBetween(s, true); // calculate backbone bonds\n    calculateBondsWithin(s, true); // calculate rung bonds\n    s.finalizeAtoms();\n    s.finalizeBonds();\n    assignResidueTypeBonds(s);\n    if (Debug)\n        Log.timeEnd(\"concatStructures\");\n    return s;\n}\n//# sourceMappingURL=structure-utils.js.map","/**\n * @file Atom Type\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { guessElement } from '../structure/structure-utils';\nimport { AtomicNumbers, DefaultAtomicNumber, VdwRadii, DefaultVdwRadius, CovalentRadii, DefaultCovalentRadius, Valences, DefaultValence, OuterShellElectronCounts, DefaultOuterShellElectronCount } from '../structure/structure-constants';\n// Li, Na, K, Rb, Cs Fr\nconst AlkaliMetals = [3, 11, 19, 37, 55, 87];\n// Be, Mg, Ca, Sr, Ba, Ra\nconst AlkalineEarthMetals = [4, 12, 20, 38, 56, 88];\n// C, P, S, Se\nconst PolyatomicNonmetals = [6, 15, 16, 34,];\n// H, N, O, F, Cl, Br, I\nconst DiatomicNonmetals = [1, 7, 8, 9, 17, 35, 53];\n// He, Ne, Ar, Kr, Xe, Rn\nconst NobleGases = [2, 10, 18, 36, 54, 86];\n// Zn, Ga, Cd, In, Sn, Hg, Ti, Pb, Bi, Po, Cn\nconst PostTransitionMetals = [13, 30, 31, 48, 49, 50, 80, 81, 82, 83, 84, 85, 112];\n// B, Si, Ge, As, Sb, Te, At\nconst Metalloids = [5, 14, 32, 33, 51, 52, 85];\n// F, Cl, Br, I, At\nconst Halogens = [9, 17, 35, 53, 85];\n/**\n * Atom type\n */\nclass AtomType {\n    /**\n     * @param {Structure} structure - the structure object\n     * @param {String} atomname - the name of the atom\n     * @param {String} element - the chemical element\n     */\n    constructor(structure, atomname, element) {\n        this.structure = structure;\n        this.atomname = atomname;\n        element = element || guessElement(atomname);\n        this.element = element;\n        this.number = AtomicNumbers[element] || DefaultAtomicNumber;\n        this.vdw = VdwRadii[this.number] || DefaultVdwRadius;\n        this.covalent = CovalentRadii[this.number] || DefaultCovalentRadius;\n    }\n    getDefaultValence() {\n        const vl = Valences[this.number];\n        return vl ? vl[0] : DefaultValence;\n    }\n    getValenceList() {\n        return Valences[this.number] || [];\n    }\n    getOuterShellElectronCount() {\n        return OuterShellElectronCounts[this.number] || DefaultOuterShellElectronCount;\n    }\n    isMetal() {\n        return (this.isAlkaliMetal() ||\n            this.isAlkalineEarthMetal() ||\n            this.isLanthanide() ||\n            this.isActinide() ||\n            this.isTransitionMetal() ||\n            this.isPostTransitionMetal());\n    }\n    isNonmetal() {\n        return (this.isDiatomicNonmetal() ||\n            this.isPolyatomicNonmetal() ||\n            this.isNobleGas());\n    }\n    isMetalloid() {\n        return Metalloids.includes(this.number);\n    }\n    isHalogen() {\n        return Halogens.includes(this.number);\n    }\n    isDiatomicNonmetal() {\n        return DiatomicNonmetals.includes(this.number);\n    }\n    isPolyatomicNonmetal() {\n        return PolyatomicNonmetals.includes(this.number);\n    }\n    isAlkaliMetal() {\n        return AlkaliMetals.includes(this.number);\n    }\n    isAlkalineEarthMetal() {\n        return AlkalineEarthMetals.includes(this.number);\n    }\n    isNobleGas() {\n        return NobleGases.includes(this.number);\n    }\n    isTransitionMetal() {\n        const no = this.number;\n        return ((no >= 21 && no <= 29) ||\n            (no >= 39 && no <= 47) ||\n            (no >= 72 && no <= 79) ||\n            (no >= 104 && no <= 108));\n    }\n    isPostTransitionMetal() {\n        return PostTransitionMetals.includes(this.number);\n    }\n    isLanthanide() {\n        return this.number >= 57 && this.number <= 71;\n    }\n    isActinide() {\n        return this.number >= 89 && this.number <= 103;\n    }\n}\nexport default AtomType;\n//# sourceMappingURL=atom-type.js.map","/**\n * @file Atom Map\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport AtomType from './atom-type';\nimport { guessElement } from '../structure/structure-utils';\nfunction getHash(atomname, element) {\n    return atomname + '|' + element;\n}\nclass AtomMap {\n    constructor(structure) {\n        this.structure = structure;\n        this.dict = {};\n        this.list = [];\n        this.structure = structure;\n    }\n    add(atomname, element) {\n        atomname = atomname.toUpperCase();\n        if (!element) {\n            element = guessElement(atomname);\n        }\n        else {\n            element = element.toUpperCase();\n        }\n        const hash = getHash(atomname, element);\n        let id = this.dict[hash];\n        if (id === undefined) {\n            const atomType = new AtomType(this.structure, atomname, element);\n            id = this.list.length;\n            this.dict[hash] = id;\n            this.list.push(atomType);\n        }\n        return id;\n    }\n    get(id) {\n        return this.list[id];\n    }\n}\nexport default AtomMap;\n//# sourceMappingURL=atom-map.js.map","/**\n * @file Residue Type\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author Fred Ludlow\n * @private\n */\nimport { defaults } from '../utils';\nimport PrincipalAxes from '../math/principal-axes';\nimport { Matrix } from '../math/matrix-utils';\nimport { calculateResidueBonds } from '../structure/structure-utils';\nimport { ProteinType, RnaType, DnaType, WaterType, IonType, SaccharideType, UnknownType, ProteinBackboneType, RnaBackboneType, DnaBackboneType, UnknownBackboneType, CgProteinBackboneType, CgRnaBackboneType, CgDnaBackboneType, ChemCompProtein, ChemCompRna, ChemCompDna, ChemCompSaccharide, AA3, PurinBases, RnaBases, DnaBases, Bases, IonNames, WaterNames, SaccharideNames, ProteinBackboneAtoms, NucleicBackboneAtoms, ResidueTypeAtoms } from '../structure/structure-constants';\n/**\n * Residue type\n */\nexport default class ResidueType {\n    /**\n     * @param {Structure} structure - the structure object\n     * @param {String} resname - name of the residue\n     * @param {Array} atomTypeIdList - list of IDs of {@link AtomType}s corresponding\n     *                                 to the atoms of the residue\n     * @param {Boolean} hetero - hetero flag\n     * @param {String} chemCompType - chemical component type\n     * @param {Object} [bonds] - TODO\n     */\n    constructor(structure, resname, atomTypeIdList, hetero, chemCompType, bonds) {\n        this.structure = structure;\n        // Sparse array containing the reference atom index for each bond.\n        this.bondReferenceAtomIndices = [];\n        this.resname = resname;\n        this.atomTypeIdList = atomTypeIdList;\n        this.hetero = hetero ? 1 : 0;\n        this.chemCompType = chemCompType;\n        this.bonds = bonds;\n        this.atomCount = atomTypeIdList.length;\n        this.moleculeType = this.getMoleculeType();\n        this.backboneType = this.getBackboneType(0);\n        this.backboneEndType = this.getBackboneType(-1);\n        this.backboneStartType = this.getBackboneType(1);\n        this.backboneIndexList = this.getBackboneIndexList();\n        const atomnames = ResidueTypeAtoms[this.backboneType];\n        const atomnamesStart = ResidueTypeAtoms[this.backboneStartType];\n        const atomnamesEnd = ResidueTypeAtoms[this.backboneEndType];\n        const traceIndex = this.getAtomIndexByName(atomnames.trace);\n        this.traceAtomIndex = defaults(traceIndex, -1);\n        const dir1Index = this.getAtomIndexByName(atomnames.direction1);\n        this.direction1AtomIndex = defaults(dir1Index, -1);\n        const dir2Index = this.getAtomIndexByName(atomnames.direction2);\n        this.direction2AtomIndex = defaults(dir2Index, -1);\n        const bbStartIndex = this.getAtomIndexByName(atomnamesStart.backboneStart);\n        this.backboneStartAtomIndex = defaults(bbStartIndex, -1);\n        const bbEndIndex = this.getAtomIndexByName(atomnamesEnd.backboneEnd);\n        this.backboneEndAtomIndex = defaults(bbEndIndex, -1);\n        let rungEndIndex;\n        if (PurinBases.includes(resname)) {\n            rungEndIndex = this.getAtomIndexByName('N1');\n        }\n        else {\n            rungEndIndex = this.getAtomIndexByName('N3');\n        }\n        this.rungEndAtomIndex = defaults(rungEndIndex, -1);\n    }\n    getBackboneIndexList() {\n        const backboneIndexList = [];\n        let atomnameList;\n        switch (this.moleculeType) {\n            case ProteinType:\n                atomnameList = ProteinBackboneAtoms;\n                break;\n            case RnaType:\n            case DnaType:\n                atomnameList = NucleicBackboneAtoms;\n                break;\n            default:\n                return backboneIndexList;\n        }\n        const atomMap = this.structure.atomMap;\n        const atomTypeIdList = this.atomTypeIdList;\n        for (let i = 0, il = this.atomCount; i < il; ++i) {\n            const atomType = atomMap.get(atomTypeIdList[i]);\n            if (atomnameList.includes(atomType.atomname)) {\n                backboneIndexList.push(i);\n            }\n        }\n        return backboneIndexList;\n    }\n    getMoleculeType() {\n        if (this.isProtein()) {\n            return ProteinType;\n        }\n        else if (this.isRna()) {\n            return RnaType;\n        }\n        else if (this.isDna()) {\n            return DnaType;\n        }\n        else if (this.isWater()) {\n            return WaterType;\n        }\n        else if (this.isIon()) {\n            return IonType;\n        }\n        else if (this.isSaccharide()) {\n            return SaccharideType;\n        }\n        else {\n            return UnknownType;\n        }\n    }\n    getBackboneType(position) {\n        if (this.hasProteinBackbone(position)) {\n            return ProteinBackboneType;\n        }\n        else if (this.hasRnaBackbone(position)) {\n            return RnaBackboneType;\n        }\n        else if (this.hasDnaBackbone(position)) {\n            return DnaBackboneType;\n        }\n        else if (this.hasCgProteinBackbone(position)) {\n            return CgProteinBackboneType;\n        }\n        else if (this.hasCgRnaBackbone(position)) {\n            return CgRnaBackboneType;\n        }\n        else if (this.hasCgDnaBackbone(position)) {\n            return CgDnaBackboneType;\n        }\n        else {\n            return UnknownBackboneType;\n        }\n    }\n    isProtein() {\n        if (this.chemCompType) {\n            return ChemCompProtein.includes(this.chemCompType);\n        }\n        else {\n            return (this.hasAtomWithName('CA', 'C', 'N') ||\n                AA3.includes(this.resname));\n        }\n    }\n    isCg() {\n        const backboneType = this.backboneType;\n        return (backboneType === CgProteinBackboneType ||\n            backboneType === CgRnaBackboneType ||\n            backboneType === CgDnaBackboneType);\n    }\n    isNucleic() {\n        return this.isRna() || this.isDna();\n    }\n    isRna() {\n        if (this.chemCompType) {\n            return ChemCompRna.includes(this.chemCompType);\n        }\n        else if (this.hetero === 1) {\n            return false;\n        }\n        else {\n            return (this.hasAtomWithName(['P', \"O3'\", 'O3*'], [\"C4'\", 'C4*'], [\"O2'\", 'O2*', \"F2'\", 'F2*']) ||\n                (RnaBases.includes(this.resname) &&\n                    (this.hasAtomWithName([\"O2'\", 'O2*', \"F2'\", 'F2*']))));\n        }\n    }\n    isDna() {\n        if (this.chemCompType) {\n            return ChemCompDna.includes(this.chemCompType);\n        }\n        else if (this.hetero === 1) {\n            return false;\n        }\n        else {\n            return ((this.hasAtomWithName(['P', \"O3'\", 'O3*'], [\"C3'\", 'C3*']) &&\n                !this.hasAtomWithName([\"O2'\", 'O2*', \"F2'\", 'F2*'])) ||\n                DnaBases.includes(this.resname));\n        }\n    }\n    isHetero() {\n        return this.hetero === 1;\n    }\n    isIon() {\n        return IonNames.includes(this.resname);\n    }\n    isWater() {\n        return WaterNames.includes(this.resname);\n    }\n    isSaccharide() {\n        if (this.chemCompType) {\n            return ChemCompSaccharide.includes(this.chemCompType);\n        }\n        else {\n            return SaccharideNames.includes(this.resname);\n        }\n    }\n    isStandardAminoacid() {\n        return AA3.includes(this.resname);\n    }\n    isStandardBase() {\n        return Bases.includes(this.resname);\n    }\n    hasBackboneAtoms(position, type) {\n        const atomnames = ResidueTypeAtoms[type];\n        if (position === -1) {\n            return this.hasAtomWithName(atomnames.trace, atomnames.backboneEnd, atomnames.direction1, atomnames.direction2);\n        }\n        else if (position === 0) {\n            return this.hasAtomWithName(atomnames.trace, atomnames.direction1, atomnames.direction2);\n        }\n        else if (position === 1) {\n            return this.hasAtomWithName(atomnames.trace, atomnames.backboneStart, atomnames.direction1, atomnames.direction2);\n        }\n        else {\n            return this.hasAtomWithName(atomnames.trace, atomnames.backboneStart, atomnames.backboneEnd, atomnames.direction1, atomnames.direction2);\n        }\n    }\n    hasProteinBackbone(position) {\n        return (this.isProtein() &&\n            this.hasBackboneAtoms(position, ProteinBackboneType));\n    }\n    hasRnaBackbone(position) {\n        return (this.isRna() &&\n            this.hasBackboneAtoms(position, RnaBackboneType));\n    }\n    hasDnaBackbone(position) {\n        return (this.isDna() &&\n            this.hasBackboneAtoms(position, DnaBackboneType));\n    }\n    hasCgProteinBackbone(position) {\n        return (this.atomCount < 7 &&\n            this.isProtein() &&\n            this.hasBackboneAtoms(position, CgProteinBackboneType));\n    }\n    hasCgRnaBackbone(position) {\n        return (this.atomCount < 11 &&\n            this.isRna() &&\n            this.hasBackboneAtoms(position, CgRnaBackboneType));\n    }\n    hasCgDnaBackbone(position) {\n        return (this.atomCount < 11 &&\n            this.isDna() &&\n            this.hasBackboneAtoms(position, CgDnaBackboneType));\n    }\n    hasBackbone(position) {\n        return (this.hasProteinBackbone(position) ||\n            this.hasRnaBackbone(position) ||\n            this.hasDnaBackbone(position) ||\n            this.hasCgProteinBackbone(position) ||\n            this.hasCgRnaBackbone(position) ||\n            this.hasCgDnaBackbone(position));\n    }\n    getAtomIndexByName(atomname) {\n        const n = this.atomCount;\n        const atomMap = this.structure.atomMap;\n        const atomTypeIdList = this.atomTypeIdList;\n        if (Array.isArray(atomname)) {\n            for (let i = 0; i < n; ++i) {\n                const index = atomTypeIdList[i];\n                if (atomname.includes(atomMap.get(index).atomname)) {\n                    return i;\n                }\n            }\n        }\n        else {\n            for (let i = 0; i < n; ++i) {\n                const index = atomTypeIdList[i];\n                if (atomname === atomMap.get(index).atomname) {\n                    return i;\n                }\n            }\n        }\n        return undefined;\n    }\n    hasAtomWithName(...atomnames) {\n        const n = atomnames.length;\n        for (let i = 0; i < n; ++i) {\n            if (atomnames[i] === undefined)\n                continue;\n            if (this.getAtomIndexByName(atomnames[i]) === undefined) {\n                return false;\n            }\n        }\n        return true;\n    }\n    getBonds(r) {\n        if (this.bonds === undefined) {\n            this.bonds = calculateResidueBonds(r); // TODO\n        }\n        return this.bonds;\n    }\n    getRings() {\n        if (this.rings === undefined) {\n            this.calculateRings();\n        }\n        return this.rings;\n    }\n    getBondGraph() {\n        if (this.bondGraph === undefined) {\n            this.calculateBondGraph();\n        }\n        return this.bondGraph;\n    }\n    getAromatic(a) {\n        if (this.aromaticAtoms === undefined) {\n            this.calculateAromatic(this.structure.getResidueProxy((a).residueIndex)); // TODO\n        }\n        return this.aromaticAtoms;\n    }\n    getAromaticRings(r) {\n        if (this.aromaticRings === undefined) {\n            this.calculateAromatic(r); // TODO\n        }\n        return this.aromaticRings;\n    }\n    /**\n     * @return {Object} bondGraph - represents the bonding in this\n     *   residue: { ai1: [ ai2, ai3, ...], ...}\n     */\n    calculateBondGraph() {\n        const bondGraph = this.bondGraph = {};\n        const bonds = this.getBonds();\n        const nb = bonds.atomIndices1.length;\n        const atomIndices1 = bonds.atomIndices1;\n        const atomIndices2 = bonds.atomIndices2;\n        for (let i = 0; i < nb; ++i) {\n            const ai1 = atomIndices1[i];\n            const ai2 = atomIndices2[i];\n            const a1 = bondGraph[ai1] = bondGraph[ai1] || [];\n            a1.push(ai2);\n            const a2 = bondGraph[ai2] = bondGraph[ai2] || [];\n            a2.push(ai1);\n        }\n    }\n    /**\n     * Find all rings up to 2 * RingFinderMaxDepth\n     */\n    calculateRings() {\n        const bondGraph = this.getBondGraph(); // TODO\n        const state = RingFinderState(bondGraph, this.atomCount);\n        for (let i = 0; i < state.count; i++) {\n            if (state.visited[i] >= 0)\n                continue;\n            findRings(state, i);\n        }\n        this.rings = { atomRings: state.atomRings, rings: state.rings };\n    }\n    isAromatic(atom) {\n        this.aromaticAtoms = this.getAromatic(atom); // TODO\n        return this.aromaticAtoms[atom.index - atom.residueAtomOffset] === 1;\n    }\n    calculateAromatic(r) {\n        const aromaticAtoms = this.aromaticAtoms = new Uint8Array(this.atomCount);\n        const rings = this.getRings().rings;\n        const aromaticRingFlags = rings.map(ring => {\n            return isRingAromatic(ring.map(idx => {\n                return this.structure.getAtomProxy(idx + r.atomOffset);\n            }));\n        });\n        const aromaticRings = this.aromaticRings = [];\n        rings.forEach((ring, i) => {\n            if (aromaticRingFlags[i]) {\n                aromaticRings.push(ring);\n                ring.forEach(idx => aromaticAtoms[idx] = 1);\n            }\n        });\n    }\n    /**\n     * For bonds with order > 1, pick a reference atom\n     * @return {undefined}\n     */\n    assignBondReferenceAtomIndices() {\n        const bondGraph = this.getBondGraph(); // TODO\n        const rings = this.getRings(); // TODO\n        const atomRings = rings.atomRings;\n        const ringData = rings.rings;\n        const bonds = this.bonds; // TODO\n        const atomIndices1 = bonds.atomIndices1;\n        const atomIndices2 = bonds.atomIndices2;\n        const bondOrders = bonds.bondOrders;\n        const bondReferenceAtomIndices = this.bondReferenceAtomIndices;\n        const nb = bonds.atomIndices1.length;\n        bondReferenceAtomIndices.length = 0; // reset array\n        for (let i = 0; i < nb; ++i) {\n            // Not required for single bonds\n            if (bondOrders[i] <= 1)\n                continue;\n            let refRing;\n            const ai1 = atomIndices1[i];\n            const ai2 = atomIndices2[i];\n            const rings1 = atomRings[ai1];\n            const rings2 = atomRings[ai2];\n            // Are both atoms in a ring?\n            if (rings1 && rings2) {\n                // Are they in the same ring? (If not, ignore ring info)\n                for (let ri1 = 0; ri1 < rings1.length; ri1++) {\n                    if (rings2.indexOf(rings1[ri1]) !== -1) {\n                        refRing = ringData[rings1[ri1]];\n                        break;\n                    }\n                }\n            }\n            // Find the first neighbour.\n            if (bondGraph[ai1].length > 1) {\n                for (let j = 0; j < bondGraph[ai1].length; ++j) {\n                    const ai3 = bondGraph[ai1][j];\n                    if (ai3 !== ai2) {\n                        if (refRing === undefined || refRing.indexOf(ai3) !== -1) {\n                            bondReferenceAtomIndices[i] = ai3;\n                            break;\n                        }\n                    }\n                }\n            }\n            else if (bondGraph[ai2].length > 1) {\n                for (let j = 0; j < bondGraph[ai2].length; ++j) {\n                    const ai3 = bondGraph[ai2][j];\n                    if (ai3 !== ai1) {\n                        if (refRing === undefined || refRing.indexOf(ai3) !== -1) {\n                            bondReferenceAtomIndices[i] = ai3;\n                            break;\n                        }\n                    }\n                }\n            } // No reference atom could be found (e.g. diatomic molecule/fragment)\n        }\n    }\n    getBondIndex(atomIndex1, atomIndex2) {\n        const bonds = this.bonds; // TODO\n        const atomIndices1 = bonds.atomIndices1;\n        const atomIndices2 = bonds.atomIndices2;\n        let idx1 = atomIndices1.indexOf(atomIndex1);\n        let idx2 = atomIndices2.indexOf(atomIndex2);\n        const _idx2 = idx2;\n        while (idx1 !== -1) {\n            while (idx2 !== -1) {\n                if (idx1 === idx2)\n                    return idx1;\n                idx2 = atomIndices2.indexOf(atomIndex2, idx2 + 1);\n            }\n            idx1 = atomIndices1.indexOf(atomIndex1, idx1 + 1);\n            idx2 = _idx2;\n        }\n        // returns undefined when no bond is found\n    }\n    getBondReferenceAtomIndex(atomIndex1, atomIndex2) {\n        const bondIndex = this.getBondIndex(atomIndex1, atomIndex2);\n        if (bondIndex === undefined)\n            return undefined;\n        if (this.bondReferenceAtomIndices.length === 0) {\n            this.assignBondReferenceAtomIndices();\n        }\n        return this.bondReferenceAtomIndices[bondIndex];\n    }\n}\n//\nconst AromaticRingElements = [\n    5 /* B */, 6 /* C */, 7 /* N */, 8 /* O */,\n    14 /* SI */, 15 /* P */, 16 /* S */,\n    32 /* GE */, 33 /* AS */,\n    50 /* SN */, 51 /* SB */,\n    83 /* BI */\n];\nconst AromaticRingPlanarityThreshold = 0.05;\nfunction isRingAromatic(ring) {\n    if (ring.some(a => !AromaticRingElements.includes(a.number)))\n        return false;\n    let i = 0;\n    const coords = new Matrix(3, ring.length);\n    const cd = coords.data;\n    ring.forEach(a => {\n        cd[i + 0] = a.x;\n        cd[i + 1] = a.y;\n        cd[i + 2] = a.z;\n        i += 3;\n    });\n    const pa = new PrincipalAxes(coords);\n    return pa.vecC.length() < AromaticRingPlanarityThreshold;\n}\n//\n/**\n * Ring finding code below adapted from MolQL\n * Copyright (c) 2017 MolQL contributors, licensed under MIT\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nfunction addRing(state, a, b) {\n    // only \"monotonous\" rings\n    if (b < a)\n        return;\n    const { pred, color, left, right } = state;\n    const nc = ++state.currentColor;\n    let current = a;\n    for (let t = 0; t < RingFinderMaxDepth; t++) {\n        color[current] = nc;\n        current = pred[current];\n        if (current < 0)\n            break;\n    }\n    let leftOffset = 0;\n    let rightOffset = 0;\n    let found = false;\n    let target = 0;\n    current = b;\n    for (let t = 0; t < RingFinderMaxDepth; t++) {\n        if (color[current] === nc) {\n            target = current;\n            found = true;\n            break;\n        }\n        right[rightOffset++] = current;\n        current = pred[current];\n        if (current < 0)\n            break;\n    }\n    if (!found)\n        return;\n    current = a;\n    for (let t = 0; t < RingFinderMaxDepth; t++) {\n        left[leftOffset++] = current;\n        if (target === current)\n            break;\n        current = pred[current];\n        if (current < 0)\n            break;\n    }\n    const rn = leftOffset + rightOffset;\n    const ring = new Array(rn);\n    let ringOffset = 0;\n    for (let t = 0; t < leftOffset; t++) {\n        ring[ringOffset++] = left[t];\n    }\n    for (let t = rightOffset - 1; t >= 0; t--) {\n        ring[ringOffset++] = right[t];\n    }\n    const ri = state.rings.length;\n    // set atomRing indices:\n    for (let i = 0; i < rn; ++i) {\n        const ai = ring[i];\n        if (state.atomRings[ai]) {\n            state.atomRings[ai].push(ri);\n        }\n        else {\n            state.atomRings[ai] = [ri];\n        }\n    }\n    state.rings.push(ring);\n}\nfunction findRings(state, from) {\n    const { bonds, visited, queue, pred } = state;\n    visited[from] = 1;\n    queue[0] = from;\n    let head = 0;\n    let size = 1;\n    while (head < size) {\n        const top = queue[head++];\n        const start = 0;\n        if (bonds[top] === undefined) {\n            continue;\n        }\n        const end = bonds[top].length;\n        for (let i = start; i < end; i++) {\n            const other = bonds[top][i];\n            if (visited[other] > 0) {\n                if (pred[other] !== top && pred[top] !== other) {\n                    addRing(state, top, other);\n                }\n                continue;\n            }\n            visited[other] = 1;\n            queue[size++] = other;\n            pred[other] = top;\n        }\n    }\n}\nconst RingFinderMaxDepth = 4;\nfunction RingFinderState(bonds, capacity) {\n    const state = {\n        count: capacity,\n        visited: new Int32Array(capacity),\n        queue: new Int32Array(capacity),\n        pred: new Int32Array(capacity),\n        left: new Int32Array(RingFinderMaxDepth),\n        right: new Int32Array(RingFinderMaxDepth),\n        color: new Int32Array(capacity),\n        currentColor: 0,\n        rings: [],\n        atomRings: [],\n        bonds\n    };\n    for (let i = 0; i < capacity; i++) {\n        state.visited[i] = -1;\n        state.pred[i] = -1;\n    }\n    return state;\n}\n//# sourceMappingURL=residue-type.js.map","/**\n * @file Residue Map\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport ResidueType from './residue-type';\nfunction getHash(resname, atomTypeIdList, hetero, chemCompType = '') {\n    return (resname + '|' +\n        atomTypeIdList.join(',') + '|' +\n        (hetero ? 1 : 0) + '|' +\n        chemCompType);\n}\nclass ResidueMap {\n    constructor(structure) {\n        this.structure = structure;\n        this.dict = {};\n        this.list = [];\n    }\n    add(resname, atomTypeIdList, hetero, chemCompType = '', bonds) {\n        resname = resname.toUpperCase();\n        const hash = getHash(resname, atomTypeIdList, hetero, chemCompType);\n        let id = this.dict[hash];\n        if (id === undefined) {\n            const residueType = new ResidueType(this.structure, resname, atomTypeIdList, hetero, chemCompType, bonds);\n            id = this.list.length;\n            this.dict[hash] = id;\n            this.list.push(residueType);\n        }\n        return id;\n    }\n    get(id) {\n        return this.list[id];\n    }\n}\nexport default ResidueMap;\n//# sourceMappingURL=residue-map.js.map","/**\n * @file Bond Proxy\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3 } from 'three';\n/**\n * Bond proxy\n */\nclass BondProxy {\n    /**\n     * @param {Structure} structure - the structure\n     * @param {Integer} index - the index\n     */\n    constructor(structure, index = 0) {\n        this.structure = structure;\n        this.index = index;\n        this.bondStore = structure.bondStore;\n        this._v12 = new Vector3();\n        this._v13 = new Vector3();\n        this._ap1 = this.structure.getAtomProxy();\n        this._ap2 = this.structure.getAtomProxy();\n        this._ap3 = this.structure.getAtomProxy();\n    }\n    /**\n     * @type {AtomProxy}\n     */\n    get atom1() {\n        return this.structure.getAtomProxy(this.atomIndex1);\n    }\n    /**\n     * @type {AtomProxy}\n     */\n    get atom2() {\n        return this.structure.getAtomProxy(this.atomIndex2);\n    }\n    /**\n     * @type {Integer}\n     */\n    get atomIndex1() {\n        return this.bondStore.atomIndex1[this.index];\n    }\n    set atomIndex1(value) {\n        this.bondStore.atomIndex1[this.index] = value;\n    }\n    /**\n     * @type {Integer}\n     */\n    get atomIndex2() {\n        return this.bondStore.atomIndex2[this.index];\n    }\n    set atomIndex2(value) {\n        this.bondStore.atomIndex2[this.index] = value;\n    }\n    /**\n     * @type {Integer}\n     */\n    get bondOrder() {\n        return this.bondStore.bondOrder[this.index];\n    }\n    set bondOrder(value) {\n        this.bondStore.bondOrder[this.index] = value;\n    }\n    getOtherAtomIndex(atomIndex) {\n        return atomIndex === this.atomIndex1 ? this.atomIndex2 : this.atomIndex1;\n    }\n    getOtherAtom(atom) {\n        return this.structure.getAtomProxy(this.getOtherAtomIndex(atom.index));\n    }\n    /**\n     * Get reference atom index for the bond\n     * @return {Integer|undefined} atom index, or `undefined` if unavailable\n     */\n    getReferenceAtomIndex() {\n        const ap1 = this._ap1;\n        const ap2 = this._ap2;\n        ap1.index = this.atomIndex1;\n        ap2.index = this.atomIndex2;\n        if (ap1.residueIndex !== ap2.residueIndex) {\n            return undefined; // Bond between residues, for now ignore (could detect)\n        }\n        const typeAtomIndex1 = ap1.index - ap1.residueAtomOffset;\n        const typeAtomIndex2 = ap2.index - ap2.residueAtomOffset;\n        const residueType = ap1.residueType;\n        const ix = residueType.getBondReferenceAtomIndex(typeAtomIndex1, typeAtomIndex2);\n        if (ix !== undefined) {\n            return ix + ap1.residueAtomOffset;\n        }\n        else {\n            console.warn('No reference atom found', ap1.index, ap2.index);\n        }\n    }\n    /**\n     * calculate shift direction for displaying double/triple bonds\n     * @param  {Vector3} [v] pre-allocated output vector\n     * @return {Vector3} the shift direction vector\n     */\n    calculateShiftDir(v = new Vector3()) {\n        const ap1 = this._ap1;\n        const ap2 = this._ap2;\n        const ap3 = this._ap3;\n        const v12 = this._v12;\n        const v13 = this._v13;\n        ap1.index = this.atomIndex1;\n        ap2.index = this.atomIndex2;\n        const ai3 = this.getReferenceAtomIndex();\n        v12.subVectors(ap1, ap2).normalize(); // TODO\n        if (ai3 !== undefined) {\n            ap3.index = ai3;\n            v13.subVectors(ap1, ap3); // TODO\n        }\n        else {\n            v13.copy(ap1); // no reference point, use origin  // TODO\n        }\n        v13.normalize();\n        // make sure v13 and v12 are not colinear\n        let dp = v12.dot(v13);\n        if (1 - Math.abs(dp) < 1e-5) {\n            v13.set(1, 0, 0);\n            dp = v12.dot(v13);\n            if (1 - Math.abs(dp) < 1e-5) {\n                v13.set(0, 1, 0);\n                dp = v12.dot(v13);\n            }\n        }\n        return v.copy(v13.sub(v12.multiplyScalar(dp))).normalize();\n    }\n    qualifiedName() {\n        return this.atomIndex1 + '=' + this.atomIndex2;\n    }\n    /**\n     * Clone object\n     * @return {BondProxy} cloned bond\n     */\n    clone() {\n        return new BondProxy(this.structure, this.index);\n    }\n    toObject() {\n        return {\n            atomIndex1: this.atomIndex1,\n            atomIndex2: this.atomIndex2,\n            bondOrder: this.bondOrder\n        };\n    }\n}\nexport default BondProxy;\n//# sourceMappingURL=bond-proxy.js.map","/**\n * @file Residue Proxy\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { defaults } from '../utils';\nimport { SecStrucHelix, SecStrucSheet, SecStrucTurn, ProteinType, RnaType, DnaType, WaterType, IonType, SaccharideType, CgProteinBackboneType, CgRnaBackboneType, CgDnaBackboneType, AA1 } from '../structure/structure-constants';\n/**\n * Residue proxy\n */\nclass ResidueProxy {\n    /**\n     * @param {Structure} structure - the structure\n     * @param {Integer} index - the index\n     */\n    constructor(structure, index = 0) {\n        this.structure = structure;\n        this.index = index;\n        this.chainStore = structure.chainStore;\n        this.residueStore = structure.residueStore;\n        this.atomStore = structure.atomStore;\n        this.residueMap = structure.residueMap;\n        this.atomMap = structure.atomMap;\n    }\n    /**\n     * Entity\n     * @type {Entity}\n     */\n    get entity() {\n        return this.structure.entityList[this.entityIndex];\n    }\n    get entityIndex() {\n        return this.chainStore.entityIndex[this.chainIndex];\n    }\n    /**\n     * Chain\n     * @type {ChainProxy}\n     */\n    get chain() {\n        return this.structure.getChainProxy(this.chainIndex);\n    }\n    get chainIndex() {\n        return this.residueStore.chainIndex[this.index];\n    }\n    set chainIndex(value) {\n        this.residueStore.chainIndex[this.index] = value;\n    }\n    get atomOffset() {\n        return this.residueStore.atomOffset[this.index];\n    }\n    set atomOffset(value) {\n        this.residueStore.atomOffset[this.index] = value;\n    }\n    /**\n     * Atom count\n     * @type {Integer}\n     */\n    get atomCount() {\n        return this.residueStore.atomCount[this.index];\n    }\n    set atomCount(value) {\n        this.residueStore.atomCount[this.index] = value;\n    }\n    get atomEnd() {\n        return this.atomOffset + this.atomCount - 1;\n    }\n    //\n    get modelIndex() {\n        return this.chainStore.modelIndex[this.chainIndex];\n    }\n    /**\n     * Chain name\n     * @type {String}\n     */\n    get chainname() {\n        return this.chainStore.getChainname(this.chainIndex);\n    }\n    /**\n     * Chain id\n     * @type {String}\n     */\n    get chainid() {\n        return this.chainStore.getChainid(this.chainIndex);\n    }\n    //\n    /**\n     * Residue number/label\n     * @type {Integer}\n     */\n    get resno() {\n        return this.residueStore.resno[this.index];\n    }\n    set resno(value) {\n        this.residueStore.resno[this.index] = value;\n    }\n    /**\n     * Secondary structure code\n     * @type {String}\n     */\n    get sstruc() {\n        return this.residueStore.getSstruc(this.index);\n    }\n    set sstruc(value) {\n        this.residueStore.setSstruc(this.index, value);\n    }\n    /**\n     * Insertion code\n     * @type {String}\n     */\n    get inscode() {\n        return this.residueStore.getInscode(this.index);\n    }\n    set inscode(value) {\n        this.residueStore.setInscode(this.index, value);\n    }\n    //\n    get residueType() {\n        return this.residueMap.get(this.residueStore.residueTypeId[this.index]);\n    }\n    /**\n     * Residue name\n     * @type {String}\n     */\n    get resname() {\n        return this.residueType.resname;\n    }\n    /**\n     * Hetero flag\n     * @type {Boolean}\n     */\n    get hetero() {\n        return this.residueType.hetero;\n    }\n    get moleculeType() {\n        return this.residueType.moleculeType;\n    }\n    get backboneType() {\n        return this.residueType.backboneType;\n    }\n    get backboneStartType() {\n        return this.residueType.backboneStartType;\n    }\n    get backboneEndType() {\n        return this.residueType.backboneEndType;\n    }\n    get traceAtomIndex() {\n        return this.residueType.traceAtomIndex + this.atomOffset;\n    }\n    get direction1AtomIndex() {\n        return this.residueType.direction1AtomIndex + this.atomOffset;\n    }\n    get direction2AtomIndex() {\n        return this.residueType.direction2AtomIndex + this.atomOffset;\n    }\n    get backboneStartAtomIndex() {\n        return this.residueType.backboneStartAtomIndex + this.atomOffset;\n    }\n    get backboneEndAtomIndex() {\n        return this.residueType.backboneEndAtomIndex + this.atomOffset;\n    }\n    get rungEndAtomIndex() {\n        return this.residueType.rungEndAtomIndex + this.atomOffset;\n    }\n    //\n    get x() {\n        let x = 0;\n        for (let i = this.atomOffset; i <= this.atomEnd; ++i) {\n            x += this.atomStore.x[i];\n        }\n        return x / this.atomCount;\n    }\n    get y() {\n        let y = 0;\n        for (let i = this.atomOffset; i <= this.atomEnd; ++i) {\n            y += this.atomStore.y[i];\n        }\n        return y / this.atomCount;\n    }\n    get z() {\n        let z = 0;\n        for (let i = this.atomOffset; i <= this.atomEnd; ++i) {\n            z += this.atomStore.z[i];\n        }\n        return z / this.atomCount;\n    }\n    //\n    /**\n     * Atom iterator\n     * @param  {function(atom: AtomProxy)} callback - the callback\n     * @param  {Selection} [selection] - the selection\n     * @return {undefined}\n     */\n    eachAtom(callback, selection) {\n        const count = this.atomCount;\n        const offset = this.atomOffset;\n        const ap = this.structure._ap;\n        const end = offset + count;\n        if (selection && selection.atomOnlyTest) {\n            const atomOnlyTest = selection.atomOnlyTest;\n            for (let i = offset; i < end; ++i) {\n                ap.index = i;\n                if (atomOnlyTest(ap))\n                    callback(ap);\n            }\n        }\n        else {\n            for (let i = offset; i < end; ++i) {\n                ap.index = i;\n                callback(ap);\n            }\n        }\n    }\n    //\n    /**\n     * Write residue center position to array\n     * @param  {Array|TypedArray} [array] - target array\n     * @param  {Integer} [offset] - the offset\n     * @return {Array|TypedArray} target array\n     */\n    positionToArray(array = [], offset = 0) {\n        array[offset + 0] = this.x;\n        array[offset + 1] = this.y;\n        array[offset + 2] = this.z;\n        return array;\n    }\n    //\n    /**\n     * If residue is from a protein\n     * @return {Boolean} flag\n     */\n    isProtein() {\n        return this.residueType.moleculeType === ProteinType;\n    }\n    /**\n     * If residue is nucleic\n     * @return {Boolean} flag\n     */\n    isNucleic() {\n        const moleculeType = this.residueType.moleculeType;\n        return moleculeType === RnaType || moleculeType === DnaType;\n    }\n    /**\n     * If residue is rna\n     * @return {Boolean} flag\n     */\n    isRna() {\n        return this.residueType.moleculeType === RnaType;\n    }\n    /**\n     * If residue is dna\n     * @return {Boolean} flag\n     */\n    isDna() {\n        return this.residueType.moleculeType === DnaType;\n    }\n    /**\n     * If residue is coarse-grain\n     * @return {Boolean} flag\n     */\n    isCg() {\n        const backboneType = this.residueType.backboneType;\n        return (backboneType === CgProteinBackboneType ||\n            backboneType === CgRnaBackboneType ||\n            backboneType === CgDnaBackboneType);\n    }\n    /**\n     * If residue is from a polymer\n     * @return {Boolean} flag\n     */\n    isPolymer() {\n        if (this.structure.entityList.length > 0) {\n            return this.entity.isPolymer();\n        }\n        else {\n            const moleculeType = this.residueType.moleculeType;\n            return (moleculeType === ProteinType ||\n                moleculeType === RnaType ||\n                moleculeType === DnaType);\n        }\n    }\n    /**\n     * If residue is hetero\n     * @return {Boolean} flag\n     */\n    isHetero() {\n        return this.residueType.hetero === 1;\n    }\n    /**\n     * If residue is a water molecule\n     * @return {Boolean} flag\n     */\n    isWater() {\n        return this.residueType.moleculeType === WaterType;\n    }\n    /**\n     * If residue is an ion\n     * @return {Boolean} flag\n     */\n    isIon() {\n        return this.residueType.moleculeType === IonType;\n    }\n    /**\n     * If residue is a saccharide\n     * @return {Boolean} flag\n     */\n    isSaccharide() {\n        return this.residueType.moleculeType === SaccharideType;\n    }\n    isStandardAminoacid() {\n        return this.residueType.isStandardAminoacid();\n    }\n    isStandardBase() {\n        return this.residueType.isStandardBase();\n    }\n    /**\n     * If residue is part of a helix\n     * @return {Boolean} flag\n     */\n    isHelix() {\n        return SecStrucHelix.includes(this.sstruc);\n    }\n    /**\n     * If residue is part of a sheet\n     * @return {Boolean} flag\n     */\n    isSheet() {\n        return SecStrucSheet.includes(this.sstruc);\n    }\n    /**\n     * If residue is part of a turn\n     * @return {Boolean} flag\n     */\n    isTurn() {\n        return SecStrucTurn.includes(this.sstruc) && this.isProtein();\n    }\n    getAtomType(index) {\n        return this.atomMap.get(this.atomStore.atomTypeId[index]);\n    }\n    getResname1() {\n        // FIXME nucleic support\n        return AA1[this.resname.toUpperCase()] || 'X';\n    }\n    getBackboneType(position) {\n        switch (position) {\n            case -1:\n                return this.residueType.backboneStartType;\n            case 1:\n                return this.residueType.backboneEndType;\n            default:\n                return this.residueType.backboneType;\n        }\n    }\n    getAtomIndexByName(atomname) {\n        let index = this.residueType.getAtomIndexByName(atomname);\n        if (index !== undefined) {\n            index += this.atomOffset;\n        }\n        return index;\n    }\n    hasAtomWithName(atomname) {\n        return this.residueType.hasAtomWithName(atomname);\n    }\n    getAtomnameList() {\n        console.warn('getAtomnameList - might be expensive');\n        const n = this.atomCount;\n        const offset = this.atomOffset;\n        const list = new Array(n);\n        for (let i = 0; i < n; ++i) {\n            list[i] = this.getAtomType(offset + i).atomname;\n        }\n        return list;\n    }\n    /**\n     * If residue is connected to another\n     * @param  {ResidueProxy} rNext - the other residue\n     * @return {Boolean} - flag\n     */\n    connectedTo(rNext) {\n        const bbAtomEnd = this.structure.getAtomProxy(this.backboneEndAtomIndex);\n        const bbAtomStart = this.structure.getAtomProxy(rNext.backboneStartAtomIndex);\n        if (bbAtomEnd && bbAtomStart) {\n            return bbAtomEnd.connectedTo(bbAtomStart);\n        }\n        else {\n            return false;\n        }\n    }\n    getNextConnectedResidue() {\n        const rOffset = this.chainStore.residueOffset[this.chainIndex];\n        const rCount = this.chainStore.residueCount[this.chainIndex];\n        const nextIndex = this.index + 1;\n        if (nextIndex < rOffset + rCount) {\n            const rpNext = this.structure.getResidueProxy(nextIndex);\n            if (this.connectedTo(rpNext)) {\n                return rpNext;\n            }\n        }\n        else if (nextIndex === rOffset + rCount) { // cyclic\n            const rpFirst = this.structure.getResidueProxy(rOffset);\n            if (this.connectedTo(rpFirst)) {\n                return rpFirst;\n            }\n        }\n        return undefined;\n    }\n    getPreviousConnectedResidue(residueProxy) {\n        const rOffset = this.chainStore.residueOffset[this.chainIndex];\n        const prevIndex = this.index - 1;\n        if (prevIndex >= rOffset) {\n            const rpPrev = defaults(residueProxy, this.structure.getResidueProxy());\n            rpPrev.index = prevIndex;\n            if (rpPrev.connectedTo(this)) {\n                return rpPrev;\n            }\n        }\n        else if (prevIndex === rOffset - 1) { // cyclic\n            const rCount = this.chainStore.residueCount[this.chainIndex];\n            const rpLast = defaults(residueProxy, this.structure.getResidueProxy());\n            rpLast.index = rOffset + rCount - 1;\n            if (rpLast.connectedTo(this)) {\n                return rpLast;\n            }\n        }\n        return undefined;\n    }\n    getBonds() {\n        return this.residueType.getBonds(this);\n    }\n    getRings() {\n        return this.residueType.getRings();\n    }\n    getAromaticRings() {\n        return this.residueType.getAromaticRings(this);\n    }\n    qualifiedName(noResname = false) {\n        let name = '';\n        if (this.resname && !noResname)\n            name += '[' + this.resname + ']';\n        if (this.resno !== undefined)\n            name += this.resno;\n        if (this.inscode)\n            name += '^' + this.inscode;\n        if (this.chain)\n            name += ':' + this.chainname;\n        name += '/' + this.modelIndex;\n        return name;\n    }\n    /**\n     * Clone object\n     * @return {ResidueProxy} cloned residue\n     */\n    clone() {\n        return new ResidueProxy(this.structure, this.index);\n    }\n    toObject() {\n        return {\n            index: this.index,\n            chainIndex: this.chainIndex,\n            atomOffset: this.atomOffset,\n            atomCount: this.atomCount,\n            resno: this.resno,\n            resname: this.resname,\n            sstruc: this.sstruc\n        };\n    }\n}\nexport default ResidueProxy;\n//# sourceMappingURL=residue-proxy.js.map","/**\n * @file Polymer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\n/**\n * Polymer\n */\nclass Polymer {\n    /**\n     * @param {Structure} structure - the structure\n     * @param {Integer} residueIndexStart - the index of the first residue\n     * @param {Integer} residueIndexEnd - the index of the last residue\n     */\n    constructor(structure, residueIndexStart, residueIndexEnd) {\n        this.structure = structure;\n        this.residueIndexStart = residueIndexStart;\n        this.residueIndexEnd = residueIndexEnd;\n        this.chainStore = structure.chainStore;\n        this.residueStore = structure.residueStore;\n        this.atomStore = structure.atomStore;\n        /**\n         * @type {Integer}\n         */\n        this.residueCount = residueIndexEnd - residueIndexStart + 1;\n        const rpStart = this.structure.getResidueProxy(this.residueIndexStart);\n        const rpEnd = this.structure.getResidueProxy(this.residueIndexEnd);\n        this.isPrevConnected = rpStart.getPreviousConnectedResidue() !== undefined;\n        const rpNext = rpEnd.getNextConnectedResidue();\n        this.isNextConnected = rpNext !== undefined;\n        this.isNextNextConnected = rpNext !== undefined && rpNext.getNextConnectedResidue() !== undefined;\n        this.isCyclic = rpEnd.connectedTo(rpStart);\n        this.__residueProxy = this.structure.getResidueProxy();\n        // console.log( this.qualifiedName(), this );\n    }\n    get chainIndex() {\n        return this.residueStore.chainIndex[this.residueIndexStart];\n    }\n    get modelIndex() {\n        return this.chainStore.modelIndex[this.chainIndex];\n    }\n    /**\n     * @type {String}\n     */\n    get chainname() {\n        return this.chainStore.getChainname(this.chainIndex);\n    }\n    //\n    /**\n     * If first residue is from aprotein\n     * @return {Boolean} flag\n     */\n    isProtein() {\n        this.__residueProxy.index = this.residueIndexStart;\n        return this.__residueProxy.isProtein();\n    }\n    /**\n     * If atom is part of a coarse-grain group\n     * @return {Boolean} flag\n     */\n    isCg() {\n        this.__residueProxy.index = this.residueIndexStart;\n        return this.__residueProxy.isCg();\n    }\n    /**\n     * If atom is part of a nucleic molecule\n     * @return {Boolean} flag\n     */\n    isNucleic() {\n        this.__residueProxy.index = this.residueIndexStart;\n        return this.__residueProxy.isNucleic();\n    }\n    getMoleculeType() {\n        this.__residueProxy.index = this.residueIndexStart;\n        return this.__residueProxy.moleculeType;\n    }\n    getBackboneType(position) {\n        this.__residueProxy.index = this.residueIndexStart;\n        return this.__residueProxy.getBackboneType(position);\n    }\n    getAtomIndexByType(index, type) {\n        // TODO pre-calculate, add to residueStore???\n        if (this.isCyclic) {\n            if (index === -1) {\n                index = this.residueCount - 1;\n            }\n            else if (index === this.residueCount) {\n                index = 0;\n            }\n        }\n        else {\n            if (index === -1 && !this.isPrevConnected)\n                index += 1;\n            if (index === this.residueCount && !this.isNextNextConnected)\n                index -= 1;\n            // if( index === this.residueCount - 1 && !this.isNextConnected ) index -= 1;\n        }\n        const rp = this.__residueProxy;\n        rp.index = this.residueIndexStart + index;\n        let aIndex;\n        switch (type) {\n            case 'trace':\n                aIndex = rp.traceAtomIndex;\n                break;\n            case 'direction1':\n                aIndex = rp.direction1AtomIndex;\n                break;\n            case 'direction2':\n                aIndex = rp.direction2AtomIndex;\n                break;\n            default:\n                aIndex = rp.getAtomIndexByName(type);\n        }\n        // if (!ap){\n        //   console.log(this, type, rp.residueType)\n        //   // console.log(rp.qualifiedName(), rp.index, index, this.residueCount - 1)\n        //   // rp.index = this.residueIndexStart;\n        //   // console.log(rp.qualifiedName(), this.residueIndexStart)\n        //   // rp.index = this.residueIndexEnd;\n        //   // console.log(rp.qualifiedName(), this.residueIndexEnd)\n        // }\n        return aIndex;\n    }\n    /**\n     * Atom iterator\n     * @param  {function(atom: AtomProxy)} callback - the callback\n     * @param  {Selection} [selection] - the selection\n     * @return {undefined}\n     */\n    eachAtom(callback, selection) {\n        this.eachResidue(function (rp) {\n            rp.eachAtom(callback, selection);\n        });\n    }\n    eachAtomN(n, callback, type) {\n        const m = this.residueCount;\n        const array = new Array(n);\n        for (let i = 0; i < n; ++i) {\n            array[i] = this.structure.getAtomProxy(this.getAtomIndexByType(i, type));\n        }\n        callback.apply(this, array);\n        for (var j = n; j < m; ++j) {\n            for (let i = 1; i < n; ++i) {\n                array[i - 1].index = array[i].index;\n            }\n            array[n - 1].index = this.getAtomIndexByType(j, type); // TODO\n            callback.apply(this, array);\n        }\n    }\n    /**\n     * Residue iterator\n     * @param  {function(residue: ResidueProxy)} callback - the callback\n     * @return {undefined}\n     */\n    eachResidue(callback) {\n        const rp = this.structure.getResidueProxy();\n        const n = this.residueCount;\n        const rStartIndex = this.residueIndexStart;\n        for (let i = 0; i < n; ++i) {\n            rp.index = rStartIndex + i;\n            callback(rp);\n        }\n    }\n    qualifiedName() {\n        const rpStart = this.structure.getResidueProxy(this.residueIndexStart);\n        const rpEnd = this.structure.getResidueProxy(this.residueIndexEnd);\n        return rpStart.qualifiedName() + ' - ' + rpEnd.qualifiedName();\n    }\n}\nexport default Polymer;\n//# sourceMappingURL=polymer.js.map","/**\n * @file Chain Proxy\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { UnknownBackboneType } from '../structure/structure-constants';\nimport Polymer from '../proxy/polymer';\n/**\n * Chain proxy\n */\nclass ChainProxy {\n    /**\n     * @param {Structure} structure - the structure\n     * @param {Integer} index - the index\n     */\n    constructor(structure, index = 0) {\n        this.structure = structure;\n        this.index = index;\n        this.chainStore = structure.chainStore;\n        this.residueStore = structure.residueStore;\n    }\n    /**\n     * Entity\n     * @type {Entity}\n     */\n    get entity() {\n        return this.structure.entityList[this.entityIndex];\n    }\n    /**\n     * Model\n     * @type {ModelProxy}\n     */\n    get model() {\n        return this.structure.getModelProxy(this.modelIndex);\n    }\n    get entityIndex() {\n        return this.chainStore.entityIndex[this.index];\n    }\n    set entityIndex(value) {\n        this.chainStore.entityIndex[this.index] = value;\n    }\n    get modelIndex() {\n        return this.chainStore.modelIndex[this.index];\n    }\n    set modelIndex(value) {\n        this.chainStore.modelIndex[this.index] = value;\n    }\n    get residueOffset() {\n        return this.chainStore.residueOffset[this.index];\n    }\n    set residueOffset(value) {\n        this.chainStore.residueOffset[this.index] = value;\n    }\n    /**\n     * Residue count\n     * @type {Integer}\n     */\n    get residueCount() {\n        return this.chainStore.residueCount[this.index];\n    }\n    set residueCount(value) {\n        this.chainStore.residueCount[this.index] = value;\n    }\n    get residueEnd() {\n        return this.residueOffset + this.residueCount - 1;\n    }\n    get atomOffset() {\n        return this.residueStore.atomOffset[this.residueOffset];\n    }\n    get atomEnd() {\n        return (this.residueStore.atomOffset[this.residueEnd] +\n            this.residueStore.atomCount[this.residueEnd] - 1);\n    }\n    /**\n     * Atom count\n     * @type {Integer}\n     */\n    get atomCount() {\n        if (this.residueCount === 0) {\n            return 0;\n        }\n        else {\n            return this.atomEnd - this.atomOffset + 1;\n        }\n    }\n    //\n    /**\n     * Chain name\n     * @type {String}\n     */\n    get chainname() {\n        return this.chainStore.getChainname(this.index);\n    }\n    set chainname(value) {\n        this.chainStore.setChainname(this.index, value);\n    }\n    /**\n     * Chain id\n     * @type {String}\n     */\n    get chainid() {\n        return this.chainStore.getChainid(this.index);\n    }\n    set chainid(value) {\n        this.chainStore.setChainid(this.index, value);\n    }\n    //\n    /**\n     * Atom iterator\n     * @param  {function(atom: AtomProxy)} callback - the callback\n     * @param  {Selection} [selection] - the selection\n     * @return {undefined}\n     */\n    eachAtom(callback, selection) {\n        this.eachResidue(function (rp) {\n            rp.eachAtom(callback, selection);\n        }, selection);\n    }\n    /**\n     * Residue iterator\n     * @param  {function(residue: ResidueProxy)} callback - the callback\n     * @param  {Selection} [selection] - the selection\n     * @return {undefined}\n     */\n    eachResidue(callback, selection) {\n        const count = this.residueCount;\n        const offset = this.residueOffset;\n        const rp = this.structure._rp;\n        const end = offset + count;\n        if (selection && selection.test) {\n            const residueOnlyTest = selection.residueOnlyTest;\n            if (residueOnlyTest) {\n                for (let i = offset; i < end; ++i) {\n                    rp.index = i;\n                    if (residueOnlyTest(rp)) {\n                        callback(rp);\n                    }\n                }\n            }\n            else {\n                for (let i = offset; i < end; ++i) {\n                    rp.index = i;\n                    callback(rp);\n                }\n            }\n        }\n        else {\n            for (let i = offset; i < end; ++i) {\n                rp.index = i;\n                callback(rp);\n            }\n        }\n    }\n    /**\n     * Multi-residue iterator\n     * @param {Integer} n - window size\n     * @param  {function(residueList: ResidueProxy[])} callback - the callback\n     * @return {undefined}\n     */\n    eachResidueN(n, callback) {\n        const count = this.residueCount;\n        const offset = this.residueOffset;\n        const end = offset + count;\n        if (count < n)\n            return;\n        const array = new Array(n);\n        for (let i = 0; i < n; ++i) {\n            array[i] = this.structure.getResidueProxy(offset + i);\n        }\n        callback.apply(this, array);\n        for (let j = offset + n; j < end; ++j) {\n            for (let i = 0; i < n; ++i) {\n                array[i].index += 1;\n            }\n            callback.apply(this, array);\n        }\n    }\n    /**\n     * Polymer iterator\n     * @param  {function(polymer: Polymer)} callback - the callback\n     * @param  {Selection} [selection] - the selection\n     * @return {undefined}\n     */\n    eachPolymer(callback, selection) {\n        let rStartIndex = 0;\n        let rNextIndex = 0;\n        const test = selection ? selection.residueOnlyTest : undefined;\n        const structure = this.model.structure;\n        const count = this.residueCount;\n        const offset = this.residueOffset;\n        const end = offset + count;\n        const rp1 = this.structure.getResidueProxy();\n        const rp2 = this.structure.getResidueProxy(offset);\n        const ap1 = this.structure.getAtomProxy();\n        const ap2 = this.structure.getAtomProxy();\n        let first = true;\n        for (let i = offset + 1; i < end; ++i) {\n            rp1.index = rp2.index;\n            rp2.index = i;\n            const bbType1 = first ? rp1.backboneEndType : rp1.backboneType;\n            const bbType2 = rp2.backboneType;\n            if (first) {\n                rStartIndex = rp1.index;\n                first = false;\n            }\n            rNextIndex = rp2.index;\n            if (bbType1 !== UnknownBackboneType && bbType1 === bbType2) {\n                ap1.index = rp1.backboneEndAtomIndex;\n                ap2.index = rp2.backboneStartAtomIndex;\n            }\n            else {\n                if (bbType1 !== UnknownBackboneType) {\n                    if (rp1.index - rStartIndex > 1) {\n                        // console.log(\"FOO1\",rStartIndex, rp1.index)\n                        callback(new Polymer(structure, rStartIndex, rp1.index));\n                    }\n                }\n                rStartIndex = rNextIndex;\n                continue;\n            }\n            if (!ap1 || !ap2 || !ap1.connectedTo(ap2) ||\n                (test && (!test(rp1) || !test(rp2)))) {\n                if (rp1.index - rStartIndex > 1) {\n                    // console.log(\"FOO2\",rStartIndex, rp1.index)\n                    callback(new Polymer(structure, rStartIndex, rp1.index));\n                }\n                rStartIndex = rNextIndex;\n            }\n        }\n        if (rNextIndex - rStartIndex > 1) {\n            if (this.structure.getResidueProxy(rStartIndex).backboneEndType) {\n                // console.log(\"FOO3\",rStartIndex, rNextIndex)\n                callback(new Polymer(structure, rStartIndex, rNextIndex));\n            }\n        }\n    }\n    //\n    qualifiedName() {\n        var name = ':' + this.chainname + '/' + this.modelIndex;\n        return name;\n    }\n    /**\n     * Clone object\n     * @return {ChainProxy} cloned chain\n     */\n    clone() {\n        return new ChainProxy(this.structure, this.index);\n    }\n    toObject() {\n        return {\n            index: this.index,\n            residueOffset: this.residueOffset,\n            residueCount: this.residueCount,\n            chainname: this.chainname\n        };\n    }\n}\nexport default ChainProxy;\n//# sourceMappingURL=chain-proxy.js.map","/**\n * @file Model Proxy\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\n/**\n * Model proxy\n */\nclass ModelProxy {\n    /**\n     * @param {Structure} structure - the structure\n     * @param {Integer} index - the index\n     */\n    constructor(structure, index = 0) {\n        this.structure = structure;\n        this.index = index;\n        this.modelStore = structure.modelStore;\n        this.chainStore = structure.chainStore;\n        this.residueStore = structure.residueStore;\n    }\n    get chainOffset() {\n        return this.modelStore.chainOffset[this.index];\n    }\n    set chainOffset(value) {\n        this.modelStore.chainOffset[this.index] = value;\n    }\n    get chainCount() {\n        return this.modelStore.chainCount[this.index];\n    }\n    set chainCount(value) {\n        this.modelStore.chainCount[this.index] = value;\n    }\n    get residueOffset() {\n        return this.chainStore.residueOffset[this.chainOffset];\n    }\n    get atomOffset() {\n        return this.residueStore.atomOffset[this.residueOffset];\n    }\n    get chainEnd() {\n        return this.chainOffset + this.chainCount - 1;\n    }\n    get residueEnd() {\n        return (this.chainStore.residueOffset[this.chainEnd] +\n            this.chainStore.residueCount[this.chainEnd] - 1);\n    }\n    get atomEnd() {\n        return (this.residueStore.atomOffset[this.residueEnd] +\n            this.residueStore.atomCount[this.residueEnd] - 1);\n    }\n    /**\n     * Residue count\n     * @type {Integer}\n     */\n    get residueCount() {\n        if (this.chainCount === 0) {\n            return 0;\n        }\n        else {\n            return this.residueEnd - this.residueOffset + 1;\n        }\n    }\n    /**\n     * Atom count\n     * @type {Integer}\n     */\n    get atomCount() {\n        if (this.residueCount === 0) {\n            return 0;\n        }\n        else {\n            return this.atomEnd - this.atomOffset + 1;\n        }\n    }\n    //\n    /**\n     * Atom iterator\n     * @param  {function(atom: AtomProxy)} callback - the callback\n     * @param  {Selection} [selection] - the selection\n     * @return {undefined}\n     */\n    eachAtom(callback, selection) {\n        this.eachChain(function (cp) {\n            cp.eachAtom(callback, selection);\n        }, selection);\n    }\n    /**\n     * Residue iterator\n     * @param  {function(residue: ResidueProxy)} callback - the callback\n     * @param  {Selection} [selection] - the selection\n     * @return {undefined}\n     */\n    eachResidue(callback, selection) {\n        this.eachChain(function (cp) {\n            cp.eachResidue(callback, selection);\n        }, selection);\n    }\n    /**\n     * Polymer iterator\n     * @param  {function(polymer: Polymer)} callback - the callback\n     * @param  {Selection} [selection] - the selection\n     * @return {undefined}\n     */\n    eachPolymer(callback, selection) {\n        if (selection && selection.chainOnlyTest) {\n            const chainOnlyTest = selection.chainOnlyTest;\n            this.eachChain(function (cp) {\n                if (chainOnlyTest(cp)) {\n                    cp.eachPolymer(callback, selection);\n                }\n            });\n        }\n        else {\n            this.eachChain(function (cp) {\n                cp.eachPolymer(callback, selection);\n            });\n        }\n    }\n    /**\n     * Chain iterator\n     * @param  {function(chain: ChainProxy)} callback - the callback\n     * @param  {Selection} [selection] - the selection\n     * @return {undefined}\n     */\n    eachChain(callback, selection) {\n        const count = this.chainCount;\n        const offset = this.chainOffset;\n        const cp = this.structure._cp;\n        const end = offset + count;\n        if (selection && selection.test) {\n            const chainOnlyTest = selection.chainOnlyTest;\n            if (chainOnlyTest) {\n                for (let i = offset; i < end; ++i) {\n                    cp.index = i;\n                    if (chainOnlyTest(cp)) {\n                        callback(cp);\n                    }\n                }\n            }\n            else {\n                for (let i = offset; i < end; ++i) {\n                    cp.index = i;\n                    callback(cp);\n                }\n            }\n        }\n        else {\n            for (let i = offset; i < end; ++i) {\n                cp.index = i;\n                callback(cp);\n            }\n        }\n    }\n    //\n    qualifiedName() {\n        const name = '/' + this.index;\n        return name;\n    }\n    /**\n     * Clone object\n     * @return {ModelProxy} cloned model\n     */\n    clone() {\n        return new ModelProxy(this.structure, this.index);\n    }\n    toObject() {\n        return {\n            index: this.index,\n            chainOffset: this.chainOffset,\n            chainCount: this.chainCount\n        };\n    }\n}\nexport default ModelProxy;\n//# sourceMappingURL=model-proxy.js.map","/**\n * @file Structure\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3, Box3 } from 'three';\nimport { Signal } from 'signals';\nimport { Debug, Log, ColormakerRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport { AtomPicker, BondPicker } from '../utils/picker';\nimport { copyWithin, arrayMin, arrayMax } from '../math/array-utils';\nimport BitArray from '../utils/bitarray';\nimport RadiusFactory from '../utils/radius-factory';\nimport { Matrix } from '../math/matrix-utils';\nimport PrincipalAxes from '../math/principal-axes';\nimport SpatialHash from '../geometry/spatial-hash';\nimport FilteredVolume from '../surface/filtered-volume';\nimport { createData } from './data';\nimport BondHash from '../store/bond-hash';\nimport BondStore from '../store/bond-store';\nimport AtomStore from '../store/atom-store';\nimport ResidueStore from '../store/residue-store';\nimport ChainStore from '../store/chain-store';\nimport ModelStore from '../store/model-store';\nimport AtomMap from '../store/atom-map';\nimport ResidueMap from '../store/residue-map';\nimport BondProxy from '../proxy/bond-proxy';\nimport AtomProxy from '../proxy/atom-proxy';\nimport ResidueProxy from '../proxy/residue-proxy';\nimport ChainProxy from '../proxy/chain-proxy';\nimport ModelProxy from '../proxy/model-proxy';\n/**\n * Structure\n */\nclass Structure {\n    /**\n     * @param {String} name - structure name\n     * @param {String} path - source path\n     */\n    constructor(name = '', path = '') {\n        this.signals = {\n            refreshed: new Signal()\n        };\n        this.init(name, path);\n    }\n    init(name, path) {\n        this.name = name;\n        this.path = path;\n        this.title = '';\n        this.id = '';\n        this.data = createData(this);\n        this.header = {};\n        this.extraData = {};\n        this.atomSetCache = {};\n        this.atomSetDict = {};\n        this.biomolDict = {};\n        this.entityList = [];\n        this.unitcell = undefined;\n        this.frames = [];\n        this.boxes = [];\n        this.validation = undefined;\n        this.bondStore = new BondStore(0);\n        this.backboneBondStore = new BondStore(0);\n        this.rungBondStore = new BondStore(0);\n        this.atomStore = new AtomStore(0);\n        this.residueStore = new ResidueStore(0);\n        this.chainStore = new ChainStore(0);\n        this.modelStore = new ModelStore(0);\n        this.atomMap = new AtomMap(this);\n        this.residueMap = new ResidueMap(this);\n        this.bondHash = undefined;\n        this.spatialHash = undefined;\n        this.atomSet = undefined;\n        this.bondSet = undefined;\n        this.center = new Vector3();\n        this.boundingBox = new Box3();\n        this._bp = this.getBondProxy();\n        this._ap = this.getAtomProxy();\n        this._rp = this.getResidueProxy();\n        this._cp = this.getChainProxy();\n    }\n    get type() { return 'Structure'; }\n    finalizeAtoms() {\n        this.atomSet = this.getAtomSet();\n        this.atomCount = this.atomStore.count;\n        this.boundingBox = this.getBoundingBox(undefined, this.boundingBox);\n        this.center = this.boundingBox.getCenter(new Vector3());\n        this.spatialHash = new SpatialHash(this.atomStore, this.boundingBox);\n    }\n    finalizeBonds() {\n        this.bondSet = this.getBondSet();\n        this.bondCount = this.bondStore.count;\n        this.bondHash = new BondHash(this.bondStore, this.atomStore.count);\n        this.atomSetCache = {};\n        if (!this.atomSetDict.rung) {\n            this.atomSetDict.rung = this.getAtomSet(false);\n        }\n        for (let name in this.atomSetDict) {\n            this.atomSetCache['__' + name] = this.atomSetDict[name].clone();\n        }\n    }\n    //\n    getBondProxy(index) {\n        return new BondProxy(this, index);\n    }\n    getAtomProxy(index) {\n        return new AtomProxy(this, index);\n    }\n    getResidueProxy(index) {\n        return new ResidueProxy(this, index);\n    }\n    getChainProxy(index) {\n        return new ChainProxy(this, index);\n    }\n    getModelProxy(index) {\n        return new ModelProxy(this, index);\n    }\n    //\n    getBondSet( /* selection */) {\n        // TODO implement selection parameter\n        const n = this.bondStore.count;\n        const bondSet = new BitArray(n);\n        const atomSet = this.atomSet;\n        if (atomSet) {\n            if (atomSet.isAllSet()) {\n                bondSet.setAll();\n            }\n            else if (atomSet.isAllClear()) {\n                bondSet.clearAll();\n            }\n            else {\n                const bp = this.getBondProxy();\n                for (let i = 0; i < n; ++i) {\n                    bp.index = i;\n                    if (atomSet.isSet(bp.atomIndex1, bp.atomIndex2)) {\n                        bondSet.set(bp.index);\n                    }\n                }\n            }\n        }\n        else {\n            bondSet.setAll();\n        }\n        return bondSet;\n    }\n    getBackboneBondSet( /* selection */) {\n        // TODO implement selection parameter\n        const n = this.backboneBondStore.count;\n        const backboneBondSet = new BitArray(n);\n        const backboneAtomSet = this.atomSetCache.__backbone;\n        if (backboneAtomSet) {\n            const bp = this.getBondProxy();\n            bp.bondStore = this.backboneBondStore;\n            for (let i = 0; i < n; ++i) {\n                bp.index = i;\n                if (backboneAtomSet.isSet(bp.atomIndex1, bp.atomIndex2)) {\n                    backboneBondSet.set(bp.index);\n                }\n            }\n        }\n        else {\n            backboneBondSet.setAll();\n        }\n        return backboneBondSet;\n    }\n    getRungBondSet( /* selection */) {\n        // TODO implement selection parameter\n        const n = this.rungBondStore.count;\n        const rungBondSet = new BitArray(n);\n        const rungAtomSet = this.atomSetCache.__rung;\n        if (rungAtomSet) {\n            const bp = this.getBondProxy();\n            bp.bondStore = this.rungBondStore;\n            for (let i = 0; i < n; ++i) {\n                bp.index = i;\n                if (rungAtomSet.isSet(bp.atomIndex1, bp.atomIndex2)) {\n                    rungBondSet.set(bp.index);\n                }\n            }\n        }\n        else {\n            rungBondSet.setAll();\n        }\n        return rungBondSet;\n    }\n    /**\n     * Get a set of atoms\n     * @param  {Boolean|Selection|BitArray} selection - object defining how to\n     *                                      initialize the atom set.\n     *                                      Boolean: init with value;\n     *                                      Selection: init with selection;\n     *                                      BitArray: return bit array\n     * @return {BitArray} set of atoms\n     */\n    getAtomSet(selection) {\n        const n = this.atomStore.count;\n        if (selection === undefined) {\n            return new BitArray(n, true);\n        }\n        else if (selection instanceof BitArray) {\n            return selection;\n        }\n        else if (selection === true) {\n            return new BitArray(n, true);\n        }\n        else if (selection && selection.test) {\n            const seleString = selection.string;\n            if (seleString in this.atomSetCache) {\n                return this.atomSetCache[seleString];\n            }\n            else {\n                if (seleString === '') {\n                    return new BitArray(n, true);\n                }\n                else {\n                    const atomSet = new BitArray(n);\n                    this.eachAtom(function (ap) {\n                        atomSet.set(ap.index);\n                    }, selection);\n                    this.atomSetCache[seleString] = atomSet;\n                    return atomSet;\n                }\n            }\n        }\n        else if (selection === false) {\n            return new BitArray(n);\n        }\n        return new BitArray(n, true);\n    }\n    /**\n     * Get set of atoms around a set of atoms from a selection\n     * @param  {Selection} selection - the selection object\n     * @param  {Number} radius - radius to select within\n     * @return {BitArray} set of atoms\n     */\n    getAtomSetWithinSelection(selection, radius) {\n        const spatialHash = this.spatialHash;\n        const atomSet = this.getAtomSet(false);\n        const ap = this.getAtomProxy();\n        if (!spatialHash)\n            return atomSet;\n        this.getAtomSet(selection).forEach(function (idx) {\n            ap.index = idx;\n            spatialHash.within(ap.x, ap.y, ap.z, radius).forEach(function (idx2) {\n                atomSet.set(idx2);\n            });\n        });\n        return atomSet;\n    }\n    /**\n     * Get set of atoms around a point\n     * @param  {Vector3|AtomProxy} point - the point\n     * @param  {Number} radius - radius to select within\n     * @return {BitArray} set of atoms\n     */\n    getAtomSetWithinPoint(point, radius) {\n        const p = point;\n        const atomSet = this.getAtomSet(false);\n        if (!this.spatialHash)\n            return atomSet;\n        this.spatialHash.within(p.x, p.y, p.z, radius).forEach(function (idx) {\n            atomSet.set(idx);\n        });\n        return atomSet;\n    }\n    /**\n     * Get set of atoms within a volume\n     * @param  {Volume} volume - the volume\n     * @param  {Number} radius - radius to select within\n     * @param  {[type]} minValue - minimum value to be considered as within the volume\n     * @param  {[type]} maxValue - maximum value to be considered as within the volume\n     * @param  {[type]} outside - use only values falling outside of the min/max values\n     * @return {BitArray} set of atoms\n     */\n    getAtomSetWithinVolume(volume, radius, minValue, maxValue, outside) {\n        const fv = new FilteredVolume(volume, minValue, maxValue, outside); // TODO\n        const dp = fv.getDataPosition();\n        const n = dp.length;\n        const r = fv.matrix.getMaxScaleOnAxis();\n        const atomSet = this.getAtomSet(false);\n        if (!this.spatialHash)\n            return atomSet;\n        for (let i = 0; i < n; i += 3) {\n            this.spatialHash.within(dp[i], dp[i + 1], dp[i + 2], r).forEach(function (idx) {\n                atomSet.set(idx);\n            });\n        }\n        return atomSet;\n    }\n    /**\n     * Get set of all atoms within the groups of a selection\n     * @param  {Selection} selection - the selection object\n     * @return {BitArray} set of atoms\n     */\n    getAtomSetWithinGroup(selection) {\n        const atomResidueIndex = this.atomStore.residueIndex;\n        const atomSet = this.getAtomSet(false);\n        const rp = this.getResidueProxy();\n        this.getAtomSet(selection).forEach(function (idx) {\n            rp.index = atomResidueIndex[idx];\n            for (let idx2 = rp.atomOffset; idx2 <= rp.atomEnd; ++idx2) {\n                atomSet.set(idx2);\n            }\n        });\n        return atomSet;\n    }\n    //\n    getSelection() {\n        return false;\n    }\n    getStructure() {\n        return this;\n    }\n    /**\n     * Entity iterator\n     * @param  {function(entity: Entity)} callback - the callback\n     * @param  {EntityType} type - entity type\n     * @return {undefined}\n     */\n    eachEntity(callback, type) {\n        this.entityList.forEach(function (entity) {\n            if (type === undefined || entity.getEntityType() === type) {\n                callback(entity);\n            }\n        });\n    }\n    /**\n     * Bond iterator\n     * @param  {function(bond: BondProxy)} callback - the callback\n     * @param  {Selection} [selection] - the selection\n     * @return {undefined}\n     */\n    eachBond(callback, selection) {\n        const bp = this.getBondProxy();\n        let bondSet;\n        if (selection && selection.test) {\n            bondSet = this.getBondSet( /*selection*/);\n            if (this.bondSet) {\n                bondSet.intersection(this.bondSet);\n            }\n        }\n        if (bondSet) {\n            bondSet.forEach(function (index) {\n                bp.index = index;\n                callback(bp);\n            });\n        }\n        else {\n            const n = this.bondStore.count;\n            for (let i = 0; i < n; ++i) {\n                bp.index = i;\n                callback(bp);\n            }\n        }\n    }\n    /**\n     * Atom iterator\n     * @param  {function(atom: AtomProxy)} callback - the callback\n     * @param  {Selection} [selection] - the selection\n     * @return {undefined}\n     */\n    eachAtom(callback, selection) {\n        if (selection && selection.test) {\n            this.eachModel(function (mp) {\n                mp.eachAtom(callback, selection);\n            }, selection);\n        }\n        else {\n            const an = this.atomStore.count;\n            const ap = this.getAtomProxy();\n            for (let i = 0; i < an; ++i) {\n                ap.index = i;\n                callback(ap);\n            }\n        }\n    }\n    /**\n     * Residue iterator\n     * @param  {function(residue: ResidueProxy)} callback - the callback\n     * @param  {Selection} [selection] - the selection\n     * @return {undefined}\n     */\n    eachResidue(callback, selection) {\n        if (selection && selection.test) {\n            const mn = this.modelStore.count;\n            const mp = this.getModelProxy();\n            const modelOnlyTest = selection.modelOnlyTest;\n            if (modelOnlyTest) {\n                for (let i = 0; i < mn; ++i) {\n                    mp.index = i;\n                    if (modelOnlyTest(mp)) {\n                        mp.eachResidue(callback, selection);\n                    }\n                }\n            }\n            else {\n                for (let i = 0; i < mn; ++i) {\n                    mp.index = i;\n                    mp.eachResidue(callback, selection);\n                }\n            }\n        }\n        else {\n            const rn = this.residueStore.count;\n            const rp = this.getResidueProxy();\n            for (let i = 0; i < rn; ++i) {\n                rp.index = i;\n                callback(rp);\n            }\n        }\n    }\n    /**\n     * Multi-residue iterator\n     * @param {Integer} n - window size\n     * @param  {function(residueList: ResidueProxy[])} callback - the callback\n     * @return {undefined}\n     */\n    eachResidueN(n, callback) {\n        const rn = this.residueStore.count;\n        if (rn < n)\n            return;\n        const array = new Array(n);\n        for (let i = 0; i < n; ++i) {\n            array[i] = this.getResidueProxy(i);\n        }\n        callback.apply(this, array);\n        for (let j = n; j < rn; ++j) {\n            for (let i = 0; i < n; ++i) {\n                array[i].index += 1;\n            }\n            callback.apply(this, array);\n        }\n    }\n    /**\n     * Polymer iterator\n     * @param  {function(polymer: Polymer)} callback - the callback\n     * @param  {Selection} [selection] - the selection\n     * @return {undefined}\n     */\n    eachPolymer(callback, selection) {\n        if (selection && selection.modelOnlyTest) {\n            const modelOnlyTest = selection.modelOnlyTest;\n            this.eachModel(function (mp) {\n                if (modelOnlyTest(mp)) {\n                    mp.eachPolymer(callback, selection);\n                }\n            });\n        }\n        else {\n            this.eachModel(function (mp) {\n                mp.eachPolymer(callback, selection);\n            });\n        }\n    }\n    /**\n     * Chain iterator\n     * @param  {function(chain: ChainProxy)} callback - the callback\n     * @param  {Selection} [selection] - the selection\n     * @return {undefined}\n     */\n    eachChain(callback, selection) {\n        if (selection && selection.test) {\n            this.eachModel(function (mp) {\n                mp.eachChain(callback, selection);\n            });\n        }\n        else {\n            const cn = this.chainStore.count;\n            const cp = this.getChainProxy();\n            for (let i = 0; i < cn; ++i) {\n                cp.index = i;\n                callback(cp);\n            }\n        }\n    }\n    /**\n     * Model iterator\n     * @param  {function(model: ModelProxy)} callback - the callback\n     * @param  {Selection} [selection] - the selection\n     * @return {undefined}\n     */\n    eachModel(callback, selection) {\n        const n = this.modelStore.count;\n        const mp = this.getModelProxy();\n        if (selection && selection.test) {\n            const modelOnlyTest = selection.modelOnlyTest;\n            if (modelOnlyTest) {\n                for (let i = 0; i < n; ++i) {\n                    mp.index = i;\n                    if (modelOnlyTest(mp)) {\n                        callback(mp);\n                    }\n                }\n            }\n            else {\n                for (let i = 0; i < n; ++i) {\n                    mp.index = i;\n                    callback(mp);\n                }\n            }\n        }\n        else {\n            for (let i = 0; i < n; ++i) {\n                mp.index = i;\n                callback(mp);\n            }\n        }\n    }\n    //\n    getAtomData(params) {\n        const p = Object.assign({}, params);\n        if (p.colorParams)\n            p.colorParams.structure = this.getStructure();\n        const what = p.what;\n        const atomSet = defaults(p.atomSet, this.atomSet);\n        let radiusFactory; // TODO\n        let colormaker; // TODO\n        const atomData = {};\n        const ap = this.getAtomProxy();\n        const atomCount = atomSet.getSize();\n        if (!what || what.position) {\n            atomData.position = new Float32Array(atomCount * 3);\n        }\n        if ((!what || what.color) && p.colorParams) {\n            atomData.color = new Float32Array(atomCount * 3);\n            colormaker = ColormakerRegistry.getScheme(p.colorParams);\n        }\n        if (!what || what.picking) {\n            atomData.picking = new AtomPicker(new Float32Array(atomCount), this.getStructure());\n        }\n        if (!what || what.radius) {\n            atomData.radius = new Float32Array(atomCount);\n            radiusFactory = new RadiusFactory(p.radiusParams);\n        }\n        if (!what || what.index) {\n            atomData.index = new Uint32Array(atomCount);\n        }\n        const { position, color, picking, radius, index } = atomData;\n        atomSet.forEach((idx, i) => {\n            const i3 = i * 3;\n            ap.index = idx;\n            if (position) {\n                ap.positionToArray(position, i3);\n            }\n            if (color) {\n                colormaker.atomColorToArray(ap, color, i3);\n            }\n            if (picking) {\n                picking.array[i] = idx;\n            }\n            if (radius) {\n                radius[i] = radiusFactory.atomRadius(ap);\n            }\n            if (index) {\n                index[i] = idx;\n            }\n        });\n        return atomData;\n    }\n    getBondData(params) {\n        const p = Object.assign({}, params);\n        if (p.colorParams)\n            p.colorParams.structure = this.getStructure();\n        const what = p.what;\n        const bondSet = defaults(p.bondSet, this.bondSet);\n        const multipleBond = defaults(p.multipleBond, 'off');\n        const isMulti = multipleBond !== 'off';\n        const isOffset = multipleBond === 'offset';\n        const bondScale = defaults(p.bondScale, 0.4);\n        const bondSpacing = defaults(p.bondSpacing, 1.0);\n        let radiusFactory; // TODO\n        let colormaker; // TODO\n        const bondData = {};\n        const bp = this.getBondProxy();\n        if (p.bondStore)\n            bp.bondStore = p.bondStore;\n        const ap1 = this.getAtomProxy();\n        const ap2 = this.getAtomProxy();\n        let bondCount;\n        if (isMulti) {\n            const storeBondOrder = bp.bondStore.bondOrder;\n            bondCount = 0;\n            bondSet.forEach(function (index) {\n                bondCount += storeBondOrder[index];\n            });\n        }\n        else {\n            bondCount = bondSet.getSize();\n        }\n        if (!what || what.position) {\n            bondData.position1 = new Float32Array(bondCount * 3);\n            bondData.position2 = new Float32Array(bondCount * 3);\n        }\n        if ((!what || what.color) && p.colorParams) {\n            bondData.color = new Float32Array(bondCount * 3);\n            bondData.color2 = new Float32Array(bondCount * 3);\n            colormaker = ColormakerRegistry.getScheme(p.colorParams);\n        }\n        if (!what || what.picking) {\n            bondData.picking = new BondPicker(new Float32Array(bondCount), this.getStructure(), p.bondStore);\n        }\n        if (!what || what.radius || (isMulti && what.position)) {\n            radiusFactory = new RadiusFactory(p.radiusParams);\n        }\n        if (!what || what.radius) {\n            bondData.radius = new Float32Array(bondCount);\n            if (p.radius2) {\n                bondData.radius2 = new Float32Array(bondCount);\n            }\n        }\n        const { position1, position2, color, color2, picking, radius, radius2 } = bondData;\n        let i = 0;\n        let j, i3, k, bondOrder, absOffset;\n        let multiRadius;\n        const vt = new Vector3();\n        const vShortening = new Vector3();\n        const vShift = new Vector3();\n        bondSet.forEach((index) => {\n            i3 = i * 3;\n            bp.index = index;\n            ap1.index = bp.atomIndex1;\n            ap2.index = bp.atomIndex2;\n            bondOrder = bp.bondOrder;\n            if (position1) {\n                if (isMulti && bondOrder > 1) {\n                    const atomRadius = radiusFactory.atomRadius(ap1);\n                    multiRadius = atomRadius * bondScale / (0.5 * bondOrder);\n                    bp.calculateShiftDir(vShift);\n                    if (isOffset) {\n                        absOffset = 2 * bondSpacing * atomRadius;\n                        vShift.multiplyScalar(absOffset);\n                        vShift.negate();\n                        // Shortening is calculated so that neighbouring double\n                        // bonds on tetrahedral geometry (e.g. sulphonamide)\n                        // are not quite touching (arccos(1.9 / 2) ~ 109deg)\n                        // but don't shorten beyond 10% each end or it looks odd\n                        vShortening.subVectors(ap2, ap1).multiplyScalar(// TODO\n                        Math.max(0.1, absOffset / 1.88));\n                        ap1.positionToArray(position1, i3);\n                        ap2.positionToArray(position2, i3);\n                        if (bondOrder >= 2) {\n                            vt.addVectors(ap1, vShift).add(vShortening).toArray(position1, i3 + 3); // TODO\n                            vt.addVectors(ap2, vShift).sub(vShortening).toArray(position2, i3 + 3); // TODO\n                            if (bondOrder >= 3) {\n                                vt.subVectors(ap1, vShift).add(vShortening).toArray(position1, i3 + 6); // TODO\n                                vt.subVectors(ap2, vShift).sub(vShortening).toArray(position2, i3 + 6); // TODO\n                            }\n                        }\n                    }\n                    else {\n                        absOffset = (bondSpacing - bondScale) * atomRadius;\n                        vShift.multiplyScalar(absOffset);\n                        if (bondOrder === 2) {\n                            vt.addVectors(ap1, vShift).toArray(position1, i3); // TODO\n                            vt.subVectors(ap1, vShift).toArray(position1, i3 + 3); // TODO\n                            vt.addVectors(ap2, vShift).toArray(position2, i3); // TODO\n                            vt.subVectors(ap2, vShift).toArray(position2, i3 + 3); // TODO\n                        }\n                        else if (bondOrder === 3) {\n                            ap1.positionToArray(position1, i3);\n                            vt.addVectors(ap1, vShift).toArray(position1, i3 + 3); // TODO\n                            vt.subVectors(ap1, vShift).toArray(position1, i3 + 6); // TODO\n                            ap2.positionToArray(position2, i3);\n                            vt.addVectors(ap2, vShift).toArray(position2, i3 + 3); // TODO\n                            vt.subVectors(ap2, vShift).toArray(position2, i3 + 6); // TODO\n                        }\n                        else {\n                            // todo, better fallback\n                            ap1.positionToArray(position1, i3);\n                            ap2.positionToArray(position2, i3);\n                        }\n                    }\n                }\n                else {\n                    ap1.positionToArray(position1, i3);\n                    ap2.positionToArray(position2, i3);\n                }\n            }\n            if (color && color2) {\n                colormaker.bondColorToArray(bp, 1, color, i3);\n                colormaker.bondColorToArray(bp, 0, color2, i3);\n                if (isMulti && bondOrder > 1) {\n                    for (j = 1; j < bondOrder; ++j) {\n                        k = j * 3 + i3;\n                        copyWithin(color, i3, k, 3);\n                        copyWithin(color2, i3, k, 3);\n                    }\n                }\n            }\n            if (picking && picking.array) {\n                picking.array[i] = index;\n                if (isMulti && bondOrder > 1) {\n                    for (j = 1; j < bondOrder; ++j) {\n                        picking.array[i + j] = index;\n                    }\n                }\n            }\n            if (radius) {\n                radius[i] = radiusFactory.atomRadius(ap1);\n                if (isMulti && bondOrder > 1) {\n                    multiRadius = radius[i] * bondScale / (isOffset ? 1 : (0.5 * bondOrder));\n                    for (j = isOffset ? 1 : 0; j < bondOrder; ++j) {\n                        radius[i + j] = multiRadius;\n                    }\n                }\n            }\n            if (radius2) {\n                radius2[i] = radiusFactory.atomRadius(ap2);\n                if (isMulti && bondOrder > 1) {\n                    multiRadius = radius2[i] * bondScale / (isOffset ? 1 : (0.5 * bondOrder));\n                    for (j = isOffset ? 1 : 0; j < bondOrder; ++j) {\n                        radius2[i + j] = multiRadius;\n                    }\n                }\n            }\n            i += isMulti ? bondOrder : 1;\n        });\n        return bondData;\n    }\n    getBackboneAtomData(params) {\n        params = Object.assign({\n            atomSet: this.atomSetCache.__backbone\n        }, params);\n        return this.getAtomData(params);\n    }\n    getBackboneBondData(params) {\n        params = Object.assign({\n            bondSet: this.getBackboneBondSet(),\n            bondStore: this.backboneBondStore\n        }, params);\n        return this.getBondData(params);\n    }\n    getRungAtomData(params) {\n        params = Object.assign({\n            atomSet: this.atomSetCache.__rung\n        }, params);\n        return this.getAtomData(params);\n    }\n    getRungBondData(params) {\n        params = Object.assign({\n            bondSet: this.getRungBondSet(),\n            bondStore: this.rungBondStore\n        }, params);\n        return this.getBondData(params);\n    }\n    //\n    /**\n     * Gets the bounding box of the (selected) structure atoms\n     * @param  {Selection} [selection] - the selection\n     * @param  {Box3} [box] - optional target\n     * @return {Vector3} the box\n     */\n    getBoundingBox(selection, box) {\n        if (Debug)\n            Log.time('getBoundingBox');\n        box = box || new Box3();\n        let minX = +Infinity;\n        let minY = +Infinity;\n        let minZ = +Infinity;\n        let maxX = -Infinity;\n        let maxY = -Infinity;\n        let maxZ = -Infinity;\n        this.eachAtom(ap => {\n            const x = ap.x;\n            const y = ap.y;\n            const z = ap.z;\n            if (x < minX)\n                minX = x;\n            if (y < minY)\n                minY = y;\n            if (z < minZ)\n                minZ = z;\n            if (x > maxX)\n                maxX = x;\n            if (y > maxY)\n                maxY = y;\n            if (z > maxZ)\n                maxZ = z;\n        }, selection);\n        box.min.set(minX, minY, minZ);\n        box.max.set(maxX, maxY, maxZ);\n        if (Debug)\n            Log.timeEnd('getBoundingBox');\n        return box;\n    }\n    /**\n     * Gets the principal axes of the (selected) structure atoms\n     * @param  {Selection} [selection] - the selection\n     * @return {PrincipalAxes} the principal axes\n     */\n    getPrincipalAxes(selection) {\n        if (Debug)\n            Log.time('getPrincipalAxes');\n        let i = 0;\n        const coords = new Matrix(3, this.atomCount);\n        const cd = coords.data;\n        this.eachAtom(a => {\n            cd[i + 0] = a.x;\n            cd[i + 1] = a.y;\n            cd[i + 2] = a.z;\n            i += 3;\n        }, selection);\n        if (Debug)\n            Log.timeEnd('getPrincipalAxes');\n        return new PrincipalAxes(coords);\n    }\n    /**\n     * Gets the center of the (selected) structure atoms\n     * @param  {Selection} [selection] - the selection\n     * @return {Vector3} the center\n     */\n    atomCenter(selection) {\n        if (selection) {\n            return this.getBoundingBox(selection).getCenter(new Vector3());\n        }\n        else {\n            return this.center.clone();\n        }\n    }\n    hasCoords() {\n        if (this._hasCoords === undefined) {\n            const atomStore = this.atomStore;\n            this._hasCoords = (arrayMin(atomStore.x) !== 0 || arrayMax(atomStore.x) !== 0 ||\n                arrayMin(atomStore.y) !== 0 || arrayMax(atomStore.y) !== 0 ||\n                arrayMin(atomStore.z) !== 0 || arrayMax(atomStore.z) !== 0) || (\n            // allow models with a single atom at the origin\n            atomStore.count / this.modelStore.count === 1);\n        }\n        return this._hasCoords;\n    }\n    getSequence(selection) {\n        const seq = [];\n        const rp = this.getResidueProxy();\n        this.eachAtom(function (ap) {\n            rp.index = ap.residueIndex;\n            if (ap.index === rp.traceAtomIndex) {\n                seq.push(rp.getResname1());\n            }\n        }, selection);\n        return seq;\n    }\n    getAtomIndices(selection) {\n        if (selection && selection.string) {\n            const indices = [];\n            this.eachAtom(function (ap) {\n                indices.push(ap.index);\n            }, selection);\n            return new Uint32Array(indices);\n        }\n        else {\n            const p = { what: { index: true } };\n            return this.getAtomData(p).index;\n        }\n    }\n    /**\n     * Get number of unique chainnames\n     * @param  {Selection} selection - limit count to selection\n     * @return {Integer} count\n     */\n    getChainnameCount(selection) {\n        const chainnames = new Set();\n        this.eachChain(function (cp) {\n            if (cp.residueCount) {\n                chainnames.add(cp.chainname);\n            }\n        }, selection);\n        return chainnames.size;\n    }\n    //\n    updatePosition(position) {\n        let i = 0;\n        this.eachAtom(function (ap) {\n            ap.positionFromArray(position, i);\n            i += 3;\n        }, undefined);\n        this._hasCoords = undefined; // to trigger recalculation\n    }\n    refreshPosition() {\n        this.getBoundingBox(undefined, this.boundingBox);\n        this.boundingBox.getCenter(this.center);\n        this.spatialHash = new SpatialHash(this.atomStore, this.boundingBox);\n    }\n    /**\n     * Calls dispose() method of property objects.\n     * Unsets properties to help garbage collection.\n     * @return {undefined}\n     */\n    dispose() {\n        if (this.frames)\n            this.frames.length = 0;\n        if (this.boxes)\n            this.boxes.length = 0;\n        this.bondStore.dispose();\n        this.backboneBondStore.dispose();\n        this.rungBondStore.dispose();\n        this.atomStore.dispose();\n        this.residueStore.dispose();\n        this.chainStore.dispose();\n        this.modelStore.dispose();\n        delete this.bondStore;\n        delete this.atomStore;\n        delete this.residueStore;\n        delete this.chainStore;\n        delete this.modelStore;\n        delete this.frames;\n        delete this.boxes;\n        delete this.bondSet;\n        delete this.atomSet;\n    }\n}\nexport default Structure;\n//# sourceMappingURL=structure.js.map","/**\n * @file Shape\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\n// @ts-ignore: unused import Matrix4 required for declaration only\nimport { Box3, Vector3 } from 'three';\nimport { createParams, ensureFloat32Array, getUintArray } from '../utils';\nimport { ArrowPrimitive, BoxPrimitive, ConePrimitive, CylinderPrimitive, EllipsoidPrimitive, OctahedronPrimitive, SpherePrimitive, TetrahedronPrimitive, TextPrimitive, TorusPrimitive, PointPrimitive, WidelinePrimitive } from './primitive';\nimport { MeshPicker } from '../utils/picker';\nimport MeshBuffer from '../buffer/mesh-buffer';\nconst tmpBox = new Box3();\nconst Primitives = [\n    ArrowPrimitive, BoxPrimitive, ConePrimitive, CylinderPrimitive,\n    EllipsoidPrimitive, OctahedronPrimitive, SpherePrimitive, TetrahedronPrimitive,\n    TextPrimitive, TorusPrimitive, PointPrimitive, WidelinePrimitive\n];\nexport const ShapeDefaultParameters = {\n    aspectRatio: 1.5,\n    sphereDetail: 2,\n    radialSegments: 50,\n    disableImpostor: false,\n    openEnded: false,\n    dashedCylinder: false,\n    labelParams: {},\n    pointSize: 2,\n    sizeAttenuation: false,\n    useTexture: true,\n    linewidth: 2\n};\n/**\n * Class for building custom shapes.\n *\n * @example\n * var shape = new NGL.Shape('shape', { disableImpostor: true });\n * shape.addSphere([ 0, 0, 9 ], [ 1, 0, 0 ], 1.5 );\n * shape.addEllipsoid([ 6, 0, 0 ], [ 1, 0, 0 ], 1.5, [ 3, 0, 0 ], [ 0, 2, 0 ]);\n * shape.addCylinder([ 0, 2, 7 ], [ 0, 0, 9 ], [ 1, 1, 0 ], 0.5);\n * shape.addCone([ 0, 2, 7 ], [ 0, 3, 3 ], [ 1, 1, 0 ], 1.5);\n * shape.addArrow([ 1, 2, 7 ], [ 30, 3, 3 ], [ 1, 0, 1 ], 1.0);\n * shape.addBox([ 0, 3, 0 ], [ 1, 0, 1 ], 2, [ 0, 1, 1 ], [ 1, 0, 1 ]);\n * var shapeComp = stage.addComponentFromObject(shape);\n * geoComp.addRepresentation('buffer');\n */\nclass Shape {\n    /**\n     * @param {String} name - name\n     * @param {Object} params - parameter object\n     * @param {Integer} params.aspectRatio - arrow aspect ratio, used for cylinder radius and cone length\n     * @param {Integer} params.sphereDetail - sphere quality (icosahedron subdivisions)\n     * @param {Integer} params.radialSegments - cylinder quality (number of segments)\n     * @param {Boolean} params.disableImpostor - disable use of raycasted impostors for rendering\n     * @param {Boolean} params.openEnded - capped or not\n     * @param {TextBufferParameters} params.labelParams - label parameters\n     */\n    constructor(name = 'shape', params = {}) {\n        this.boundingBox = new Box3();\n        this.bufferList = [];\n        this.meshCount = 0;\n        this._primitiveData = {};\n        this.name = name;\n        this.parameters = createParams(params, ShapeDefaultParameters);\n        Primitives.forEach(P => {\n            Object.keys(P.fields).forEach(name => {\n                this._primitiveData[P.getShapeKey(name)] = [];\n            });\n            this._primitiveData[P.getShapeKey('name')] = [];\n        });\n    }\n    /**\n     * Add a buffer\n     * @param {Buffer} buffer - buffer object\n     * @return {Shape} this object\n     */\n    addBuffer(buffer) {\n        this.bufferList.push(buffer);\n        const geometry = buffer.geometry; // TODO\n        if (!geometry.boundingBox) {\n            geometry.computeBoundingBox();\n        }\n        this.boundingBox.union(geometry.boundingBox);\n        return this;\n    }\n    /**\n     * Add a mesh\n     * @example\n     * shape.addMesh(\n     *   [ 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 1, 0, 1, 0, 0, 0, 1 ],\n     *   [ 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0 ]\n     * );\n     *\n     * @param {Float32Array|Array} position - positions\n     * @param {Float32Array|Array} color - colors\n     * @param {Uint32Array|Uint16Array|Array} [index] - indices\n     * @param {Float32Array|Array} [normal] - normals\n     * @param {String} [name] - text\n     * @return {Shape} this object\n     */\n    addMesh(position, color, index, normal, name) {\n        position = ensureFloat32Array(position);\n        color = ensureFloat32Array(color);\n        if (Array.isArray(index)) {\n            index = getUintArray(index, position.length);\n        }\n        if (normal) {\n            normal = ensureFloat32Array(normal);\n        }\n        let data;\n        if (normal === undefined || normal.length == 0) {\n            data = { position, color, index };\n        }\n        else {\n            data = { position, color, index, normal };\n        }\n        //const data = { position, color, index, normal }\n        const picking = new MeshPicker(this, Object.assign({ serial: this.meshCount, name }, data));\n        const meshBuffer = new MeshBuffer(Object.assign({ picking }, data));\n        this.bufferList.push(meshBuffer);\n        tmpBox.setFromArray(position);\n        this.boundingBox.union(tmpBox);\n        this.meshCount += 1;\n        return this;\n    }\n    /**\n     * Add a sphere\n     * @example\n     * shape.addSphere([ 0, 0, 9 ], [ 1, 0, 0 ], 1.5);\n     *\n     * @param {Vector3|Array} position - position vector or array\n     * @param {Color|Array} color - color object or array\n     * @param {Float} radius - radius value\n     * @param {String} [name] - text\n     * @return {Shape} this object\n     */\n    addSphere(position, color, radius, name) {\n        SpherePrimitive.objectToShape(this, { position, color, radius, name });\n        return this;\n    }\n    /**\n     * Add an ellipsoid\n     * @example\n     * shape.addEllipsoid([ 6, 0, 0 ], [ 1, 0, 0 ], 1.5, [ 3, 0, 0 ], [ 0, 2, 0 ]);\n     *\n     * @param {Vector3|Array} position - position vector or array\n     * @param {Color|Array} color - color object or array\n     * @param {Float} radius - radius value\n     * @param {Vector3|Array} majorAxis - major axis vector or array\n     * @param {Vector3|Array} minorAxis - minor axis vector or array\n     * @param {String} [name] - text\n     * @return {Shape} this object\n     */\n    addEllipsoid(position, color, radius, majorAxis, minorAxis, name) {\n        EllipsoidPrimitive.objectToShape(this, { position, color, radius, majorAxis, minorAxis, name });\n        return this;\n    }\n    /**\n     * Add a torus\n     * @example\n     * shape.addTorus([ 6, 0, 0 ], [ 1, 0, 0 ], 1.5, [ 3, 0, 0 ], [ 0, 2, 0 ]);\n     *\n     * @param {Vector3|Array} position - position vector or array\n     * @param {Color|Array} color - color object or array\n     * @param {Float} radius - radius value\n     * @param {Vector3|Array} majorAxis - major axis vector or array\n     * @param {Vector3|Array} minorAxis - minor axis vector or array\n     * @param {String} [name] - text\n     * @return {Shape} this object\n     */\n    addTorus(position, color, radius, majorAxis, minorAxis, name) {\n        TorusPrimitive.objectToShape(this, { position, color, radius, majorAxis, minorAxis, name });\n        return this;\n    }\n    /**\n     * Add a cylinder\n     * @example\n     * shape.addCylinder([ 0, 2, 7 ], [ 0, 0, 9 ], [ 1, 1, 0 ], 0.5);\n     *\n     * @param {Vector3|Array} position1 - from position vector or array\n     * @param {Vector3|Array} position2 - to position vector or array\n     * @param {Color|Array} color - color object or array\n     * @param {Float} radius - radius value\n     * @param {String} [name] - text\n     * @return {Shape} this object\n     */\n    addCylinder(position1, position2, color, radius, name) {\n        CylinderPrimitive.objectToShape(this, { position1, position2, color, radius, name });\n        return this;\n    }\n    /**\n     * Add a cone\n     * @example\n     * shape.addCone([ 0, 2, 7 ], [ 0, 3, 3 ], [ 1, 1, 0 ], 1.5);\n     *\n     * @param {Vector3|Array} position1 - from position vector or array\n     * @param {Vector3|Array} position2 - to position vector or array\n     * @param {Color|Array} color - color object or array\n     * @param {Float} radius - radius value\n     * @param {String} [name] - text\n     * @return {Shape} this object\n     */\n    addCone(position1, position2, color, radius, name) {\n        ConePrimitive.objectToShape(this, { position1, position2, color, radius, name });\n        return this;\n    }\n    /**\n     * Add an arrow\n     * @example\n     * shape.addArrow([ 0, 2, 7 ], [ 0, 0, 9 ], [ 1, 1, 0 ], 0.5);\n     *\n     * @param {Vector3|Array} position1 - from position vector or array\n     * @param {Vector3|Array} position2 - to position vector or array\n     * @param {Color|Array} color - color object or array\n     * @param {Float} radius - radius value\n     * @param {String} [name] - text\n     * @return {Shape} this object\n     */\n    addArrow(position1, position2, color, radius, name) {\n        ArrowPrimitive.objectToShape(this, { position1, position2, color, radius, name });\n        return this;\n    }\n    /**\n     * Add a box\n     * @example\n     * shape.addBox([ 0, 3, 0 ], [ 1, 0, 1 ], 2, [ 0, 1, 1 ], [ 1, 0, 1 ]);\n     *\n     * @param {Vector3|Array} position - position vector or array\n     * @param {Color|Array} color - color object or array\n     * @param {Float} size - size value\n     * @param {Vector3|Array} heightAxis - height axis vector or array\n     * @param {Vector3|Array} depthAxis - depth axis vector or array\n     * @param {String} [name] - text\n     * @return {Shape} this object\n     */\n    addBox(position, color, size, heightAxis, depthAxis, name) {\n        BoxPrimitive.objectToShape(this, { position, color, size, heightAxis, depthAxis, name });\n        return this;\n    }\n    /**\n     * Add an octahedron\n     * @example\n     * shape.addOctahedron([ 0, 3, 0 ], [ 1, 0, 1 ], 2, [ 0, 1, 1 ], [ 1, 0, 1 ]);\n     *\n     * @param {Vector3|Array} position - position vector or array\n     * @param {Color|Array} color - color object or array\n     * @param {Float} size - size value\n     * @param {Vector3|Array} heightAxis - height axis vector or array\n     * @param {Vector3|Array} depthAxis - depth axis vector or array\n     * @param {String} [name] - text\n     * @return {Shape} this object\n     */\n    addOctahedron(position, color, size, heightAxis, depthAxis, name) {\n        OctahedronPrimitive.objectToShape(this, { position, color, size, heightAxis, depthAxis, name });\n        return this;\n    }\n    /**\n     * Add a tetrahedron\n     * @example\n     * shape.addTetrahedron([ 0, 3, 0 ], [ 1, 0, 1 ], 2, [ 0, 1, 1 ], [ 1, 0, 1 ]);\n     *\n     * @param {Vector3|Array} position - position vector or array\n     * @param {Color|Array} color - color object or array\n     * @param {Float} size - size value\n     * @param {Vector3|Array} heightAxis - height axis vector or array\n     * @param {Vector3|Array} depthAxis - depth axis vector or array\n     * @param {String} [name] - text\n     * @return {Shape} this object\n     */\n    addTetrahedron(position, color, size, heightAxis, depthAxis, name) {\n        TetrahedronPrimitive.objectToShape(this, { position, color, size, heightAxis, depthAxis, name });\n        return this;\n    }\n    /**\n     * Add text\n     * @example\n     * shape.addText([ 10, -2, 4 ], [ 0.2, 0.5, 0.8 ], 0.5, \"Hello\");\n     *\n     * @param {Vector3|Array} position - position vector or array\n     * @param {Color|Array} color - color object or array\n     * @param {Float} size - size value\n     * @param {String} text - text value\n     * @return {Shape} this object\n     */\n    addText(position, color, size, text) {\n        TextPrimitive.objectToShape(this, { position, color, size, text });\n        return this;\n    }\n    /**\n     * Add point\n     * @example\n     * shape.addPoint([ 10, -2, 4 ], [ 0.2, 0.5, 0.8 ]);\n     *\n     * @param {Vector3|Array} position - position vector or array\n     * @param {Color|Array} color - color object or array\n     * @param {String} [name] - text\n     * @return {Shape} this object\n     */\n    addPoint(position, color, name) {\n        PointPrimitive.objectToShape(this, { position, color, name });\n        return this;\n    }\n    /**\n     * Add a wideline\n     * @example\n     * shape.addWideline([ 0, 2, 7 ], [ 0, 0, 9 ], [ 1, 1, 0 ]);\n     *\n     * @param {Vector3|Array} position1 - from position vector or array\n     * @param {Vector3|Array} position2 - to position vector or array\n     * @param {Color|Array} color - color object or array\n     * @param {String} [name] - text\n     * @return {Shape} this object\n     */\n    addWideline(position1, position2, color, linewidth, name) {\n        this.parameters.linewidth = linewidth;\n        WidelinePrimitive.objectToShape(this, { position1, position2, color, name });\n        return this;\n    }\n    /**\n     * Deprecated, use `.addText`\n     */\n    addLabel(position, color, size, text) {\n        console.warn('Shape.addLabel is deprecated, use .addText instead');\n        return this.addText(position, color, size, text);\n    }\n    getBufferList() {\n        const buffers = [];\n        Primitives.forEach(P => {\n            if (this._primitiveData[P.getShapeKey('color')].length) {\n                buffers.push(P.bufferFromShape(this, this.parameters));\n            }\n        });\n        return this.bufferList.concat(buffers);\n    }\n    dispose() {\n        this.bufferList.forEach(function (buffer) {\n            buffer.dispose();\n        });\n        this.bufferList.length = 0;\n        Primitives.forEach(P => {\n            Object.keys(P.fields).forEach(name => {\n                this._primitiveData[P.getShapeKey(name)].length = 0;\n            });\n            this._primitiveData[P.getShapeKey('name')].length = 0;\n        });\n    }\n    get center() {\n        if (!this._center) {\n            this._center = this.boundingBox.getCenter(new Vector3());\n        }\n        return this._center;\n    }\n    get type() { return 'Shape'; }\n}\nexport default Shape;\n//# sourceMappingURL=shape.js.map","/**\n * @file Buffer Representation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport Representation from './representation';\n/**\n * Representation for showing buffer objects. Good for efficiently showing\n * large amounts of geometric primitives e.g. spheres via {@link SphereBuffer}.\n * Smaller numbers of geometric primitives are more easily shown with help\n * from the {@link Shape} class.\n *\n * __Name:__ _buffer_\n *\n * @example\n * // add a single red sphere from a buffer to a shape instance\n * var shape = new NGL.Shape( \"shape\" );\n * var sphereBuffer = new NGL.SphereBuffer( {\n *     position: new Float32Array( [ 0, 0, 0 ] ),\n *     color: new Float32Array( [ 1, 0, 0 ] ),\n *     radius: new Float32Array( [ 1 ] )\n * } );\n * shape.addBuffer( sphereBuffer );\n * var shapeComp = stage.addComponentFromObject( shape );\n * shapeComp.addRepresentation( \"buffer\" );\n *\n * @example\n * // add a single red sphere from a buffer to a structure component instance\n * stage.loadFile( \"rcsb://1crn\" ).then( function( o ){\n *     var sphereBuffer = new NGL.SphereBuffer( {\n *         position: new Float32Array( [ 0, 0, 0 ] ),\n *         color: new Float32Array( [ 1, 0, 0 ] ),\n *         radius: new Float32Array( [ 1 ] )\n *     } );\n *     o.addBufferRepresentation( sphereBuffer, { opacity: 0.5 } );\n * } );\n */\nclass BufferRepresentation extends Representation {\n    /**\n     * Create Buffer representation\n     * @param {Buffer} buffer - a buffer object\n     * @param {Viewer} viewer - a viewer object\n     * @param {RepresentationParameters} params - representation parameters\n     */\n    constructor(buffer, viewer, params) {\n        if (!Array.isArray(buffer)) {\n            buffer = [buffer];\n        }\n        super(buffer, viewer, params);\n        this.type = 'buffer';\n        this.parameters = Object.assign({}, this.parameters, {\n            colorScheme: null,\n            colorScale: null,\n            colorValue: null,\n            colorDomain: null,\n            colorMode: null\n        });\n        this.buffer = buffer;\n        this.init(params);\n    }\n    init(params) {\n        super.init(params);\n        this.build();\n    }\n    create() {\n        this.bufferList.push.apply(this.bufferList, this.buffer);\n    }\n    attach(callback) {\n        this.bufferList.forEach(buffer => {\n            this.viewer.add(buffer);\n            buffer.setParameters(this.getBufferParams());\n        });\n        this.setVisibility(this.visible);\n        callback();\n    }\n}\nexport default BufferRepresentation;\n//# sourceMappingURL=buffer-representation.js.map","/**\n * @file Geometry Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\n// @ts-ignore: unused import Vector3 required for declaration only\nimport { Matrix4, Matrix3 } from 'three';\nimport { getUintArray } from '../utils';\nimport { serialBlockArray } from '../math/array-utils';\nimport { applyMatrix3toVector3array, applyMatrix4toVector3array } from '../math/vector-utils';\nimport MeshBuffer from './mesh-buffer';\nimport { Log } from \"../globals\";\nconst matrix = new Matrix4();\nconst normalMatrix = new Matrix3();\nfunction getData(data, geo) {\n    const geoPosition = geo.attributes.position.array;\n    const geoIndex = geo.index ? geo.index.array : undefined;\n    const n = data.position.length / 3;\n    const m = geoPosition.length / 3;\n    const size = n * m;\n    const meshPosition = new Float32Array(size * 3);\n    const meshNormal = new Float32Array(size * 3);\n    const meshColor = new Float32Array(size * 3);\n    let meshIndex;\n    if (geoIndex) {\n        meshIndex = getUintArray(n * geoIndex.length, size);\n    }\n    return {\n        position: meshPosition,\n        color: meshColor,\n        index: meshIndex,\n        normal: meshNormal,\n        primitiveId: data.primitiveId || serialBlockArray(n, m),\n        picking: data.picking\n    };\n}\n/**\n * Geometry buffer. Base class for geometry-based buffers. Used to draw\n * geometry primitives given a mesh.\n * @interface\n */\nclass GeometryBuffer extends MeshBuffer {\n    /**\n     * @param {Object} data - buffer data\n     * @param {Float32Array} data.position - positions\n     * @param {Float32Array} data.color - colors\n     * @param {Float32Array} data.radius - radii\n     * @param {Picker} [data.picking] - picking ids\n     * @param {BufferParameters} [params] - parameters object\n     * @param {BufferGeometry} geo - geometry object\n     */\n    constructor(data, params = {}, geo) {\n        super(getData(data, geo), params);\n        this.updateNormals = false;\n        const geoPosition = geo.attributes.position.array;\n        const geoNormal = geo.attributes.normal.array;\n        const geoIndex = geo.index ? geo.index.array : undefined;\n        this.geoPosition = geoPosition;\n        this.geoNormal = geoNormal;\n        this.geoIndex = geoIndex;\n        this.positionCount = data.position.length / 3;\n        this.geoPositionCount = geoPosition.length / 3;\n        this.transformedGeoPosition = new Float32Array(this.geoPositionCount * 3);\n        this.transformedGeoNormal = new Float32Array(this.geoPositionCount * 3);\n        const attributes = this.geometry.attributes; // TODO\n        this.meshPosition = attributes.position.array;\n        this.meshColor = attributes.color.array;\n        this.meshNormal = attributes.normal.array;\n        this.setAttributes(data);\n        if (geoIndex) {\n            const index = this.geometry.getIndex();\n            if (!index) {\n                Log.error('Index is null');\n                return;\n            }\n            this.meshIndex = index.array;\n            this.makeIndex();\n        }\n    }\n    setAttributes(data = {}, initNormals = false) {\n        const attributes = this.geometry.attributes; // TODO\n        let position, color;\n        let geoPosition, geoNormal;\n        let transformedGeoPosition, transformedGeoNormal;\n        let meshPosition, meshColor, meshNormal;\n        const updateNormals = this.updateNormals;\n        if (data.position) {\n            position = data.position;\n            geoPosition = this.geoPosition;\n            meshPosition = this.meshPosition;\n            transformedGeoPosition = this.transformedGeoPosition;\n            attributes.position.needsUpdate = true;\n            if (updateNormals || initNormals) {\n                geoNormal = this.geoNormal;\n                meshNormal = this.meshNormal;\n                transformedGeoNormal = this.transformedGeoNormal;\n                attributes.normal.needsUpdate = true;\n            }\n        }\n        if (data.color) {\n            color = data.color;\n            meshColor = this.meshColor;\n            attributes.color.needsUpdate = true;\n        }\n        const n = this.positionCount;\n        const m = this.geoPositionCount;\n        for (let i = 0; i < n; ++i) {\n            let j, l;\n            const k = i * m * 3;\n            const i3 = i * 3;\n            if (position && transformedGeoPosition && meshPosition && meshNormal && geoPosition && geoNormal) {\n                transformedGeoPosition.set(geoPosition);\n                matrix.makeTranslation(position[i3], position[i3 + 1], position[i3 + 2]);\n                this.applyPositionTransform(matrix, i, i3);\n                applyMatrix4toVector3array(matrix.elements, transformedGeoPosition);\n                meshPosition.set(transformedGeoPosition, k);\n                if (updateNormals && transformedGeoNormal) {\n                    transformedGeoNormal.set(geoNormal);\n                    normalMatrix.getNormalMatrix(matrix);\n                    applyMatrix3toVector3array(normalMatrix.elements, transformedGeoNormal);\n                    meshNormal.set(transformedGeoNormal, k);\n                }\n                else if (initNormals) {\n                    meshNormal.set(geoNormal, k);\n                }\n            }\n            if (color && meshColor) {\n                for (j = 0; j < m; ++j) {\n                    l = k + 3 * j;\n                    meshColor[l] = color[i3];\n                    meshColor[l + 1] = color[i3 + 1];\n                    meshColor[l + 2] = color[i3 + 2];\n                }\n            }\n        }\n    }\n    makeIndex() {\n        const geoIndex = this.geoIndex;\n        const meshIndex = this.meshIndex;\n        if (!geoIndex)\n            return;\n        const n = this.positionCount;\n        const m = this.geoPositionCount;\n        const o = geoIndex.length / 3;\n        const o3 = o * 3;\n        for (let i = 0; i < n; ++i) {\n            const j = i * o3;\n            const q = j + o3;\n            meshIndex.set(geoIndex, j);\n            for (let p = j; p < q; ++p)\n                meshIndex[p] += i * m;\n        }\n    }\n}\nexport default GeometryBuffer;\n//# sourceMappingURL=geometry-buffer.js.map","/**\n * @file Sphere Geometry Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { IcosahedronBufferGeometry, Vector3 } from 'three';\nimport { defaults } from '../utils';\nimport GeometryBuffer from './geometry-buffer';\nimport { BufferDefaultParameters } from './buffer';\nconst scale = new Vector3();\nexport const SphereGeometryBufferDefaultParameters = Object.assign({\n    sphereDetail: 1\n}, BufferDefaultParameters);\n/**\n * Sphere geometry buffer.\n *\n * @example\n * var sphereGeometryBuffer = new SphereGeometryBuffer({\n *   position: new Float32Array([ 0, 0, 0 ]),\n *   color: new Float32Array([ 1, 0, 0 ]),\n *   radius: new Float32Array([ 1 ])\n * });\n */\nclass SphereGeometryBuffer extends GeometryBuffer {\n    /**\n     * @param {Object} data - attribute object\n     * @param {Float32Array} data.position - positions\n     * @param {Float32Array} data.color - colors\n     * @param {Float32Array} data.radius - radii\n     * @param {Picker} [data.picking] - picking ids\n     * @param {BufferParameters} params - parameter object\n     */\n    constructor(data, params = {}) {\n        super(data, params, new IcosahedronBufferGeometry(1, defaults(params.sphereDetail, 1)));\n        this.setAttributes(data, true);\n    }\n    get defaultParameters() { return SphereGeometryBufferDefaultParameters; }\n    applyPositionTransform(matrix, i) {\n        const r = this._radius[i];\n        scale.set(r, r, r);\n        matrix.scale(scale);\n    }\n    setAttributes(data = {}, initNormals) {\n        if (data.radius)\n            this._radius = data.radius;\n        super.setAttributes(data, initNormals);\n    }\n}\nexport default SphereGeometryBuffer;\n//# sourceMappingURL=spheregeometry-buffer.js.map","/**\n * @file Mapped Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { getUintArray } from '../utils';\nimport { calculateCenterArray, serialArray } from '../math/array-utils';\nimport Buffer from './buffer';\n/**\n * Mapped buffer. Sends mapping attribute to the GPU and repeats data in\n * others attributes. Used to render imposters.\n * @interface\n */\nclass MappedBuffer extends Buffer {\n    constructor(mappingType, data, params = {}) {\n        super(data, params);\n        this.index = getUintArray(this.indexSize, this.attributeSize);\n        this.makeIndex();\n        this.initIndex(this.index);\n        this.addAttributes({\n            'mapping': { type: mappingType, value: null }\n        });\n        this.setAttributes({ primitiveId: serialArray(this.size) });\n    }\n    get attributeSize() {\n        return this.size * this.mappingSize;\n    }\n    get indexSize() {\n        return this.size * this.mappingIndicesSize;\n    }\n    addAttributes(attributes) {\n        const nullValueAttributes = {};\n        for (const name in attributes) {\n            const a = attributes[name];\n            nullValueAttributes[name] = {\n                type: a.type,\n                value: null\n            };\n        }\n        super.addAttributes(nullValueAttributes);\n    }\n    getAttributeIndex(dataIndex) {\n        return dataIndex * 3 * this.mappingSize;\n    }\n    setAttributes(data) {\n        if (data && !data.position && data.position1 && data.position2) {\n            data.position = calculateCenterArray(data.position1, data.position2);\n        }\n        const size = this.size;\n        const mappingSize = this.mappingSize;\n        const attributes = this.geometry.attributes; // TODO\n        let a, d, itemSize, array, n, i, j;\n        for (const name in data) {\n            if (name === 'index' || name === 'picking')\n                continue;\n            d = data[name];\n            a = attributes[name];\n            itemSize = a.itemSize;\n            array = a.array;\n            for (let k = 0; k < size; ++k) {\n                n = k * itemSize;\n                i = n * mappingSize;\n                for (let l = 0; l < mappingSize; ++l) {\n                    j = i + (itemSize * l);\n                    for (let m = 0; m < itemSize; ++m) {\n                        array[j + m] = d[n + m];\n                    }\n                }\n            }\n            a.needsUpdate = true;\n        }\n    }\n    makeMapping() {\n        const size = this.size;\n        const mapping = this.mapping;\n        const mappingSize = this.mappingSize;\n        const mappingItemSize = this.mappingItemSize;\n        const attributes = this.geometry.attributes; // TODO\n        const aMapping = attributes.mapping.array;\n        for (let v = 0; v < size; v++) {\n            aMapping.set(mapping, v * mappingItemSize * mappingSize);\n        }\n    }\n    makeIndex() {\n        const size = this.size;\n        const mappingSize = this.mappingSize;\n        const mappingIndices = this.mappingIndices;\n        const mappingIndicesSize = this.mappingIndicesSize;\n        const index = this.index;\n        for (let v = 0; v < size; v++) {\n            const ix = v * mappingIndicesSize;\n            const it = v * mappingSize;\n            index.set(mappingIndices, ix);\n            for (let s = 0; s < mappingIndicesSize; ++s) {\n                index[ix + s] += it;\n            }\n        }\n    }\n}\nexport default MappedBuffer;\n//# sourceMappingURL=mapped-buffer.js.map","/**\n * @file Mapped Quad Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport MappedBuffer from './mapped-buffer';\nconst mapping = new Float32Array([\n    -1.0, 1.0,\n    -1.0, -1.0,\n    1.0, 1.0,\n    1.0, -1.0\n]);\nconst mappingIndices = new Uint16Array([\n    0, 1, 2,\n    1, 3, 2\n]);\n/**\n * Mapped Quad buffer. Draws screen-aligned quads. Used to render impostors.\n * @interface\n */\nclass MappedQuadBuffer extends MappedBuffer {\n    constructor(data, params = {}) {\n        super('v2', data, params);\n    }\n    get mapping() { return mapping; }\n    get mappingIndices() { return mappingIndices; }\n    get mappingIndicesSize() { return 6; }\n    get mappingSize() { return 4; }\n    get mappingItemSize() { return 2; }\n}\nexport default MappedQuadBuffer;\n//# sourceMappingURL=mappedquad-buffer.js.map","/**\n * @file Sphere Impostor Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Matrix4 } from 'three';\nimport '../shader/SphereImpostor.vert';\nimport '../shader/SphereImpostor.frag';\nimport MappedQuadBuffer from './mappedquad-buffer';\n/**\n * Sphere impostor buffer.\n *\n * @example\n * var sphereImpostorBuffer = new SphereImpostorBuffer({\n *   position: new Float32Array([ 0, 0, 0 ]),\n *   color: new Float32Array([ 1, 0, 0 ]),\n *   radius: new Float32Array([ 1 ])\n * });\n */\nclass SphereImpostorBuffer extends MappedQuadBuffer {\n    /**\n     * @param  {Object} data - attribute object\n     * @param  {Float32Array} data.position - positions\n     * @param  {Float32Array} data.color - colors\n     * @param  {Float32Array} data.radius - radii\n     * @param {Picker} [data.picking] - picking ids\n     * @param  {BufferParameters} params - parameter object\n     */\n    constructor(data, params = {}) {\n        super(data, params);\n        this.isImpostor = true;\n        this.vertexShader = 'SphereImpostor.vert';\n        this.fragmentShader = 'SphereImpostor.frag';\n        this.addUniforms({\n            'projectionMatrixInverse': { value: new Matrix4() },\n            'ortho': { value: 0.0 }\n        });\n        this.addAttributes({\n            'radius': { type: 'f', value: null }\n        });\n        this.setAttributes(data);\n        this.makeMapping();\n    }\n}\nexport default SphereImpostorBuffer;\n//# sourceMappingURL=sphereimpostor-buffer.js.map","/**\n * @file Sphere Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { BufferRegistry, ExtensionFragDepth } from '../globals';\nimport SphereGeometryBuffer, { SphereGeometryBufferDefaultParameters } from './spheregeometry-buffer';\nimport SphereImpostorBuffer from './sphereimpostor-buffer';\nexport const SphereBufferDefaultParameters = Object.assign({\n    disableImpostor: false\n}, SphereGeometryBufferDefaultParameters);\n/**\n * Sphere buffer. Depending on the value {@link ExtensionFragDepth} and\n * `params.disableImpostor` the constructor returns either a\n * {@link SphereGeometryBuffer} or a {@link SphereImpostorBuffer}\n * @implements {Buffer}\n *\n * @example\n * var sphereBuffer = new SphereBuffer( {\n *     position: new Float32Array( [ 0, 0, 0 ] ),\n *     color: new Float32Array( [ 1, 0, 0 ] ),\n *     radius: new Float32Array( [ 1 ] )\n * } );\n */\nclass SphereBuffer {\n    /**\n     * @param {Object} data - buffer data\n     * @param {Float32Array} data.position - positions\n     * @param {Float32Array} data.color - colors\n     * @param {Float32Array} data.radius - radii\n     * @param {Picker} [data.picking] - picking ids\n     * @param {BufferParameters} params - parameters object\n     * @return {SphereGeometryBuffer|SphereImpostorBuffer} the buffer object\n     */\n    constructor(data, params) {\n        if (!ExtensionFragDepth || (params && params.disableImpostor)) {\n            return new SphereGeometryBuffer(data, params);\n        }\n        else {\n            return new SphereImpostorBuffer(data, params);\n        }\n    }\n}\nBufferRegistry.add('sphere', SphereBuffer);\nexport default SphereBuffer;\n//# sourceMappingURL=sphere-buffer.js.map","/**\n * @file Point Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\n// @ts-ignore: unused import Vector3, Matrix4 required for declaration only\nimport { DataTexture } from 'three';\nimport '../shader/Point.vert';\nimport '../shader/Point.frag';\nimport { BufferRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport { smoothstep } from '../math/math-utils';\nimport Buffer, { BufferDefaultParameters, BufferParameterTypes } from './buffer';\nfunction distance(x0, y0, x1, y1) {\n    const dx = x1 - x0;\n    const dy = y1 - y0;\n    return Math.sqrt(dx * dx + dy * dy);\n}\nfunction makePointTexture(params) {\n    const p = params || {};\n    const width = defaults(p.width, 256);\n    const height = defaults(p.height, 256);\n    const center = [width / 2, height / 2];\n    const radius = Math.min(width / 2, height / 2);\n    const delta = defaults(p.delta, 1 / (radius + 1)) * radius;\n    let x = 0;\n    let y = 0;\n    const data = new Uint8Array(width * height * 4);\n    for (let i = 0, il = data.length; i < il; i += 4) {\n        const dist = distance(x, y, center[0], center[1]);\n        const value = 1 - smoothstep(radius - delta, radius, dist);\n        data[i] = value * 255;\n        data[i + 1] = value * 255;\n        data[i + 2] = value * 255;\n        data[i + 3] = value * 255;\n        if (++x === width) {\n            x = 0;\n            y++;\n        }\n    }\n    const tex = new DataTexture(data, width, height);\n    tex.needsUpdate = true;\n    return tex;\n}\nexport const PointBufferDefaultParameters = Object.assign({\n    pointSize: 1,\n    sizeAttenuation: true,\n    sortParticles: false,\n    alphaTest: 0.5,\n    useTexture: false,\n    forceTransparent: false,\n    edgeBleach: 0.0\n}, BufferDefaultParameters);\nconst PointBufferParameterTypes = Object.assign({\n    pointSize: { uniform: 'size' },\n    sizeAttenuation: { updateShader: true },\n    sortParticles: {},\n    alphaTest: { updateShader: true },\n    useTexture: { updateShader: true },\n    forceTransparent: {},\n    edgeBleach: { uniform: true }\n}, BufferParameterTypes);\n/**\n * Point buffer. Draws points. Optionally textured.\n *\n * @example\n * var pointBuffer = new PointBuffer( {\n *     position: new Float32Array( [ 0, 0, 0 ] ),\n *     color: new Float32Array( [ 1, 0, 0 ] )\n * } );\n */\nclass PointBuffer extends Buffer {\n    /**\n     * @param  {Object} data - attribute object\n     * @param  {Float32Array} data.position - positions\n     * @param  {Float32Array} data.color - colors\n     * @param  {BufferParameters} params - parameter object\n     */\n    constructor(data, params = {}) {\n        super(data, params);\n        this.parameterTypes = PointBufferParameterTypes;\n        this.vertexShader = 'Point.vert';\n        this.fragmentShader = 'Point.frag';\n        this.isPoint = true;\n        this.addUniforms({\n            'size': { value: this.parameters.pointSize },\n            'canvasHeight': { value: 1.0 },\n            'pixelRatio': { value: 1.0 },\n            'map': { value: null }\n        });\n    }\n    get defaultParameters() { return PointBufferDefaultParameters; }\n    makeMaterial() {\n        super.makeMaterial();\n        this.makeTexture();\n        const m = this.material;\n        const wm = this.wireframeMaterial;\n        const pm = this.pickingMaterial;\n        m.uniforms.map.value = this.tex;\n        m.needsUpdate = true;\n        wm.uniforms.map.value = this.tex;\n        wm.needsUpdate = true;\n        pm.uniforms.map.value = this.tex;\n        pm.needsUpdate = true;\n    }\n    makeTexture() {\n        if (this.tex)\n            this.tex.dispose();\n        this.tex = makePointTexture({ delta: this.parameters.edgeBleach });\n    }\n    getDefines(type) {\n        const defines = super.getDefines(type);\n        if (this.parameters.sizeAttenuation) {\n            defines.USE_SIZEATTENUATION = 1;\n        }\n        if (this.parameters.useTexture) {\n            defines.USE_MAP = 1;\n        }\n        if (this.parameters.alphaTest > 0 && this.parameters.alphaTest <= 1) {\n            defines.ALPHATEST = this.parameters.alphaTest.toPrecision(2);\n        }\n        return defines;\n    }\n    setUniforms(data) {\n        if (data && data.edgeBleach !== undefined) {\n            this.makeTexture();\n            data.map = this.tex;\n        }\n        super.setUniforms(data);\n    }\n    dispose() {\n        super.dispose();\n        if (this.tex)\n            this.tex.dispose();\n    }\n}\nBufferRegistry.add('point', PointBuffer);\nexport default PointBuffer;\n//# sourceMappingURL=point-buffer.js.map","/**\n * @file Dot Representation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ExtensionFragDepth } from '../globals';\nimport { defaults } from '../utils';\nimport Representation from './representation';\nimport Volume from '../surface/volume';\nimport FilteredVolume from '../surface/filtered-volume';\nimport SphereBuffer from '../buffer/sphere-buffer';\nimport PointBuffer from '../buffer/point-buffer';\n/**\n * Dot representation\n */\nclass DotRepresentation extends Representation {\n    /**\n     * Create Dot representation object\n     * @param {Surface|Volume} surface - the surface or volume to be represented\n     * @param {Viewer} viewer - a viewer object\n     * @param {DotRepresentationParameters} params - dot representation parameters\n     */\n    constructor(surface, viewer, params) {\n        super(surface, viewer, params);\n        this.type = 'dot';\n        this.parameters = Object.assign({\n            thresholdType: {\n                type: 'select',\n                rebuild: true,\n                options: {\n                    'value': 'value', 'sigma': 'sigma'\n                }\n            },\n            thresholdMin: {\n                type: 'number', precision: 3, max: Infinity, min: -Infinity, rebuild: true\n            },\n            thresholdMax: {\n                type: 'number', precision: 3, max: Infinity, min: -Infinity, rebuild: true\n            },\n            thresholdOut: {\n                type: 'boolean', rebuild: true\n            },\n            dotType: {\n                type: 'select',\n                rebuild: true,\n                options: {\n                    '': '',\n                    'sphere': 'sphere',\n                    'point': 'point'\n                }\n            },\n            radiusType: {\n                type: 'select',\n                options: {\n                    '': '',\n                    'value': 'value',\n                    'abs-value': 'abs-value',\n                    'value-min': 'value-min',\n                    'deviation': 'deviation',\n                    'size': 'size'\n                }\n            },\n            radius: {\n                type: 'number', precision: 3, max: 10.0, min: 0.001, property: 'size'\n            },\n            scale: {\n                type: 'number', precision: 3, max: 10.0, min: 0.001\n            },\n            sphereDetail: true,\n            disableImpostor: true,\n            pointSize: {\n                type: 'number', precision: 1, max: 100, min: 0, buffer: true\n            },\n            sizeAttenuation: {\n                type: 'boolean', buffer: true\n            },\n            sortParticles: {\n                type: 'boolean', rebuild: true\n            },\n            useTexture: {\n                type: 'boolean', buffer: true\n            },\n            alphaTest: {\n                type: 'range', step: 0.001, max: 1, min: 0, buffer: true\n            },\n            forceTransparent: {\n                type: 'boolean', buffer: true\n            },\n            edgeBleach: {\n                type: 'range', step: 0.001, max: 1, min: 0, buffer: true\n            }\n        }, this.parameters, {\n            colorScheme: {\n                type: 'select',\n                update: 'color',\n                options: {\n                    '': '',\n                    'value': 'value',\n                    'uniform': 'uniform',\n                    'random': 'random'\n                }\n            }\n        });\n        if (surface instanceof Volume) {\n            this.surface = undefined;\n            this.volume = new FilteredVolume(surface);\n        }\n        else {\n            this.surface = surface;\n            this.volume = undefined;\n        }\n        this.init(params);\n    }\n    init(params) {\n        var p = params || {};\n        p.colorScheme = defaults(p.colorScheme, 'uniform');\n        p.colorValue = defaults(p.colorValue, 0xDDDDDD);\n        this.thresholdType = defaults(p.thresholdType, 'sigma');\n        this.thresholdMin = defaults(p.thresholdMin, 2.0);\n        this.thresholdMax = defaults(p.thresholdMax, Infinity);\n        this.thresholdOut = defaults(p.thresholdOut, false);\n        this.dotType = defaults(p.dotType, 'point');\n        this.radius = defaults(p.radius, 0.1);\n        this.scale = defaults(p.scale, 1.0);\n        this.pointSize = defaults(p.pointSize, 1);\n        this.sizeAttenuation = defaults(p.sizeAttenuation, true);\n        this.sortParticles = defaults(p.sortParticles, false);\n        this.useTexture = defaults(p.useTexture, false);\n        this.alphaTest = defaults(p.alphaTest, 0.5);\n        this.forceTransparent = defaults(p.forceTransparent, false);\n        this.edgeBleach = defaults(p.edgeBleach, 0.0);\n        super.init(p);\n        this.build();\n    }\n    attach(callback) {\n        this.bufferList.forEach(buffer => {\n            this.viewer.add(buffer);\n        });\n        this.setVisibility(this.visible);\n        callback();\n    }\n    create() {\n        var dotData = {};\n        if (this.volume) {\n            var volume = this.volume;\n            var thresholdMin, thresholdMax;\n            if (this.thresholdType === 'sigma') {\n                thresholdMin = volume.getValueForSigma(this.thresholdMin);\n                thresholdMax = volume.getValueForSigma(this.thresholdMax);\n            }\n            else {\n                thresholdMin = this.thresholdMin;\n                thresholdMax = this.thresholdMax;\n            }\n            volume.setFilter(thresholdMin, thresholdMax, this.thresholdOut);\n            Object.assign(dotData, {\n                position: volume.getDataPosition(),\n                color: volume.getDataColor(this.getColorParams())\n            });\n            if (this.dotType === 'sphere') {\n                Object.assign(dotData, {\n                    radius: volume.getDataSize(this.radius, this.scale),\n                    picking: volume.getDataPicking()\n                });\n            }\n        }\n        else {\n            var surface = this.surface;\n            Object.assign(dotData, {\n                position: surface.getPosition(),\n                color: surface.getColor(this.getColorParams())\n            });\n            if (this.dotType === 'sphere') {\n                Object.assign(dotData, {\n                    radius: surface.getSize(this.radius, this.scale),\n                    picking: surface.getPicking()\n                });\n            }\n        }\n        if (this.dotType === 'sphere') {\n            this.dotBuffer = new SphereBuffer(dotData, this.getBufferParams({\n                sphereDetail: this.sphereDetail,\n                disableImpostor: this.disableImpostor,\n                dullInterior: false\n            }));\n        }\n        else {\n            this.dotBuffer = new PointBuffer(dotData, this.getBufferParams({\n                pointSize: this.pointSize,\n                sizeAttenuation: this.sizeAttenuation,\n                sortParticles: this.sortParticles,\n                useTexture: this.useTexture,\n                alphaTest: this.alphaTest,\n                forceTransparent: this.forceTransparent,\n                edgeBleach: this.edgeBleach\n            }));\n        }\n        this.bufferList.push(this.dotBuffer);\n    }\n    update(what = {}) {\n        if (this.bufferList.length === 0)\n            return;\n        const dotData = {};\n        if (what.color) {\n            if (this.volume) {\n                Object.assign(dotData, {\n                    color: this.volume.getDataColor(this.getColorParams())\n                });\n            }\n            else {\n                Object.assign(dotData, {\n                    color: this.surface.getColor(this.getColorParams())\n                });\n            }\n        }\n        if (this.dotType === 'sphere' && (what.radius || what.scale)) {\n            if (this.volume) {\n                Object.assign(dotData, {\n                    radius: this.volume.getDataSize(this.radius, this.scale)\n                });\n            }\n            else {\n                Object.assign(dotData, {\n                    radius: this.surface.getSize(this.radius, this.scale)\n                });\n            }\n        }\n        this.dotBuffer.setAttributes(dotData);\n    }\n    setParameters(params, what = {}, rebuild) {\n        if (params && params.thresholdType !== undefined &&\n            this.volume instanceof Volume) {\n            if (this.thresholdType === 'value' &&\n                params.thresholdType === 'sigma') {\n                this.thresholdMin = this.volume.getSigmaForValue(this.thresholdMin);\n                this.thresholdMax = this.volume.getSigmaForValue(this.thresholdMax);\n            }\n            else if (this.thresholdType === 'sigma' &&\n                params.thresholdType === 'value') {\n                this.thresholdMin = this.volume.getValueForSigma(this.thresholdMin);\n                this.thresholdMax = this.volume.getValueForSigma(this.thresholdMax);\n            }\n            this.thresholdType = params.thresholdType;\n        }\n        if (params && params.radiusType !== undefined) {\n            if (params.radiusType === 'radius') {\n                this.radius = 0.1;\n            }\n            else {\n                this.radius = parseFloat(params.radiusType);\n            }\n            what.radius = true;\n            if (this.dotType === 'sphere' &&\n                (!ExtensionFragDepth || this.disableImpostor)) {\n                rebuild = true;\n            }\n        }\n        if (params && params.radius !== undefined) {\n            what.radius = true;\n            if (this.dotType === 'sphere' &&\n                (!ExtensionFragDepth || this.disableImpostor)) {\n                rebuild = true;\n            }\n        }\n        if (params && params.scale !== undefined) {\n            what.scale = true;\n            if (this.dotType === 'sphere' &&\n                (!ExtensionFragDepth || this.disableImpostor)) {\n                rebuild = true;\n            }\n        }\n        super.setParameters(params, what, rebuild);\n        return this;\n    }\n}\nexport default DotRepresentation;\n//# sourceMappingURL=dot-representation.js.map","/**\n * @file Image Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { \n// @ts-ignore: unused import Vector3, Matrix4 required for declaration only\nVector2, BufferAttribute, DataTexture, NormalBlending, NearestFilter, LinearFilter } from 'three';\nimport '../shader/Image.vert';\nimport '../shader/Image.frag';\nimport Buffer, { BufferDefaultParameters, BufferParameterTypes } from './buffer';\nconst quadIndices = new Uint16Array([\n    0, 1, 2,\n    1, 3, 2\n]);\nconst quadUvs = new Float32Array([\n    0, 1,\n    0, 0,\n    1, 1,\n    1, 0\n]);\nexport const ImageBufferDefaultParameters = Object.assign({\n    filter: 'nearest',\n    forceTransparent: true\n}, BufferDefaultParameters);\nexport const ImageBufferParameterTypes = Object.assign({\n    filter: { updateShader: true, uniform: true }\n}, BufferParameterTypes);\n/**\n * Image buffer. Draw a single image. Optionally interpolate.\n */\nclass ImageBuffer extends Buffer {\n    /**\n     * @param {Object} data - buffer data\n     * @param {Float32Array} data.position - image position\n     * @param {Float32Array} data.imageData - image data, rgba channels\n     * @param {Float32Array} data.width - image width\n     * @param {Float32Array} data.height - image height\n     * @param {Picker} [data.picking] - picking ids\n     * @param {BufferParameters} [params] - parameters object\n     */\n    constructor(data, params) {\n        super({\n            position: data.position,\n            index: quadIndices,\n            picking: data.picking\n        }, params);\n        this.parameterTypes = ImageBufferParameterTypes;\n        this.alwaysTransparent = true;\n        this.hasWireframe = false;\n        this.vertexShader = 'Image.vert';\n        this.fragmentShader = 'Image.frag';\n        const { imageData, width, height } = data;\n        const tex = new DataTexture(imageData, width, height);\n        tex.flipY = true;\n        this.tex = tex;\n        const n = imageData.length;\n        const pickingData = new Uint8Array(n);\n        for (let i = 0; i < n; i += 4) {\n            const j = i / 4;\n            pickingData[i] = j >> 16 & 255;\n            pickingData[i + 1] = j >> 8 & 255;\n            pickingData[i + 2] = j & 255;\n        }\n        const pickingTex = new DataTexture(pickingData, width, height);\n        pickingTex.flipY = true;\n        pickingTex.minFilter = NearestFilter;\n        pickingTex.magFilter = NearestFilter;\n        this.pickingTex = pickingTex;\n        this.addUniforms({\n            'map': { value: tex },\n            'pickingMap': { value: pickingTex },\n            'mapSize': { value: new Vector2(width, height) }\n        });\n        this.geometry.setAttribute('uv', new BufferAttribute(quadUvs, 2));\n    }\n    get defaultParameters() { return ImageBufferDefaultParameters; }\n    getDefines(type) {\n        const defines = super.getDefines(type);\n        const filter = this.parameters.filter;\n        if (filter.startsWith('cubic')) {\n            defines.CUBIC_INTERPOLATION = 1;\n            if (filter.endsWith('bspline')) {\n                defines.BSPLINE_FILTER = 1;\n            }\n            else if (filter.endsWith('catmulrom')) {\n                defines.CATMULROM_FILTER = 1;\n            }\n            else if (filter.endsWith('mitchell')) {\n                defines.MITCHELL_FILTER = 1;\n            }\n        }\n        return defines;\n    }\n    updateTexture() {\n        const tex = this.tex;\n        const filter = this.parameters.filter;\n        if (filter.startsWith('cubic')) {\n            tex.minFilter = NearestFilter;\n            tex.magFilter = NearestFilter;\n        }\n        else if (filter === 'linear') {\n            tex.minFilter = LinearFilter;\n            tex.magFilter = LinearFilter;\n        }\n        else { // filter === \"nearest\"\n            tex.minFilter = NearestFilter;\n            tex.magFilter = NearestFilter;\n        }\n        tex.needsUpdate = true;\n        this.pickingTex.needsUpdate = true;\n    }\n    makeMaterial() {\n        super.makeMaterial();\n        this.updateTexture();\n        const m = this.material;\n        m.uniforms.map.value = this.tex;\n        m.blending = NormalBlending;\n        m.needsUpdate = true;\n        const wm = this.wireframeMaterial;\n        wm.uniforms.map.value = this.tex;\n        wm.blending = NormalBlending;\n        wm.needsUpdate = true;\n        const pm = this.pickingMaterial;\n        pm.uniforms.map.value = this.tex;\n        pm.uniforms.pickingMap.value = this.pickingTex;\n        pm.blending = NormalBlending;\n        pm.needsUpdate = true;\n    }\n    setUniforms(data) {\n        if (data && data.filter !== undefined) {\n            this.updateTexture();\n            data.map = this.tex;\n        }\n        super.setUniforms(data);\n    }\n}\nexport default ImageBuffer;\n//# sourceMappingURL=image-buffer.js.map","/**\n * @file Volume Slice\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3 } from 'three';\nimport { ColormakerRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport { SlicePicker } from '../utils/picker';\nclass VolumeSlice {\n    constructor(volume, params) {\n        const p = params || {};\n        this.dimension = defaults(p.dimension, 'x');\n        this.positionType = defaults(p.positionType, 'percent');\n        this.position = defaults(p.position, 30);\n        this.thresholdType = defaults(p.thresholdType, 'sigma');\n        this.thresholdMin = defaults(p.thresholdMin, -Infinity);\n        this.thresholdMax = defaults(p.thresholdMax, Infinity);\n        this.normalize = defaults(p.normalize, false);\n        this.volume = volume;\n    }\n    getPositionFromCoordinate(coord) {\n        const dim = this.dimension;\n        const v = this.volume;\n        const m = v.matrix;\n        const mp = new Vector3().setFromMatrixPosition(m)[dim];\n        const ms = new Vector3().setFromMatrixScale(m)[dim];\n        let vn;\n        if (dim === 'x') {\n            vn = v.nx;\n        }\n        else if (dim === 'y') {\n            vn = v.ny;\n        }\n        else {\n            vn = v.nz;\n        }\n        return Math.round((((coord - mp) / (vn / 100)) + 1) / ms);\n    }\n    getData(params) {\n        params = params || {};\n        const v = this.volume;\n        const d = v.data;\n        const m = v.matrix;\n        let p;\n        if (this.positionType === 'coordinate') {\n            p = this.getPositionFromCoordinate(this.position);\n        }\n        else {\n            p = this.position;\n        }\n        function pos(dimLen) {\n            return Math.round((dimLen / 100) * (p - 1));\n        }\n        function index(x, y, z, i) {\n            return (z * v.ny * v.nx + y * v.nx + x) * 3 + i;\n        }\n        const position = new Float32Array(4 * 3);\n        const vec = new Vector3();\n        let width, height;\n        let x;\n        let y;\n        let z;\n        let x0 = 0;\n        let y0 = 0;\n        let z0 = 0;\n        let nx = v.nx;\n        let ny = v.ny;\n        let nz = v.nz;\n        function setVec(x, y, z, offset) {\n            vec.set(x, y, z).applyMatrix4(m).toArray(position, offset);\n        }\n        if (this.dimension === 'x') {\n            x = pos(v.nx);\n            y = v.ny - 1;\n            z = v.nz - 1;\n            width = v.nz;\n            height = v.ny;\n            x0 = x;\n            nx = x0 + 1;\n            setVec(x, 0, 0, 0);\n            setVec(x, y, 0, 3);\n            setVec(x, 0, z, 6);\n            setVec(x, y, z, 9);\n        }\n        else if (this.dimension === 'y') {\n            x = v.nx - 1;\n            y = pos(v.ny);\n            z = v.nz - 1;\n            width = v.nz;\n            height = v.nx;\n            y0 = y;\n            ny = y0 + 1;\n            setVec(0, y, 0, 0);\n            setVec(x, y, 0, 3);\n            setVec(0, y, z, 6);\n            setVec(x, y, z, 9);\n        }\n        else if (this.dimension === 'z') {\n            x = v.nx - 1;\n            y = v.ny - 1;\n            z = pos(v.nz);\n            width = v.nx;\n            height = v.ny;\n            z0 = z;\n            nz = z0 + 1;\n            setVec(0, 0, z, 0);\n            setVec(0, y, z, 3);\n            setVec(x, 0, z, 6);\n            setVec(x, y, z, 9);\n        }\n        let i = 0;\n        let j = 0;\n        const imageData = new Uint8Array(width * height * 4);\n        const pickingArray = new Float32Array(width * height);\n        let tMin, tMax;\n        if (this.thresholdType === 'sigma') {\n            tMin = v.getValueForSigma(this.thresholdMin);\n            tMax = v.getValueForSigma(this.thresholdMax);\n        }\n        else {\n            tMin = this.thresholdMin;\n            tMax = this.thresholdMax;\n        }\n        const cp = Object.assign({}, params.colorParams, { volume: v });\n        if (this.normalize) {\n            cp.domain = [0, 1];\n        }\n        const colormaker = ColormakerRegistry.getScheme(cp);\n        const tmp = new Float32Array(3);\n        const scale = colormaker.getScale();\n        let min = 0, max, diff = 0;\n        if (this.normalize) {\n            min = +Infinity;\n            max = -Infinity;\n            for (let iy = y0; iy < ny; ++iy) {\n                for (let ix = x0; ix < nx; ++ix) {\n                    for (let iz = z0; iz < nz; ++iz) {\n                        const idx = index(ix, iy, iz, 0) / 3;\n                        const val = d[idx];\n                        if (val < min)\n                            min = val;\n                        if (val > max)\n                            max = val;\n                    }\n                }\n            }\n            diff = max - min;\n        }\n        for (let iy = y0; iy < ny; ++iy) {\n            for (let ix = x0; ix < nx; ++ix) {\n                for (let iz = z0; iz < nz; ++iz) {\n                    const idx = index(ix, iy, iz, 0) / 3;\n                    let val = d[idx];\n                    if (this.normalize) {\n                        val = (val - min) / diff;\n                    }\n                    colormaker.colorToArray(scale(val), tmp);\n                    imageData[i] = Math.round(tmp[0] * 255);\n                    imageData[i + 1] = Math.round(tmp[1] * 255);\n                    imageData[i + 2] = Math.round(tmp[2] * 255);\n                    imageData[i + 3] = (val > tMin && val < tMax) ? 255 : 0;\n                    pickingArray[j] = idx;\n                    ++j;\n                    i += 4;\n                }\n            }\n        }\n        const picking = new SlicePicker(pickingArray, v);\n        return { position, imageData, width, height, picking };\n    }\n}\nexport default VolumeSlice;\n//# sourceMappingURL=volume-slice.js.map","/**\n * @file Slice Representation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { defaults } from '../utils';\nimport Representation from './representation';\nimport ImageBuffer from '../buffer/image-buffer';\nimport VolumeSlice from '../surface/volume-slice';\n/**\n * Slice representation\n */\nclass SliceRepresentation extends Representation {\n    /**\n     * Create Slice representation object\n     * @param {Volume} surface - the volume to be represented\n     * @param {Viewer} viewer - a viewer object\n     * @param {SliceRepresentationParameters} params - slice representation parameters\n     */\n    constructor(volume, viewer, params) {\n        super(volume, viewer, params);\n        this.type = 'slice';\n        this.parameters = Object.assign({\n            filter: {\n                type: 'select',\n                buffer: true,\n                options: {\n                    'nearest': 'nearest',\n                    'linear': 'linear',\n                    'cubic-bspline': 'cubic-bspline',\n                    'cubic-catmulrom': 'cubic-catmulrom',\n                    'cubic-mitchell': 'cubic-mitchell'\n                }\n            },\n            positionType: {\n                type: 'select',\n                rebuild: true,\n                options: {\n                    'percent': 'percent', 'coordinate': 'coordinate'\n                }\n            },\n            position: {\n                type: 'range',\n                step: 0.1,\n                max: 100,\n                min: 1,\n                rebuild: true\n            },\n            dimension: {\n                type: 'select',\n                rebuild: true,\n                options: {\n                    'x': 'x', 'y': 'y', 'z': 'z'\n                }\n            },\n            thresholdType: {\n                type: 'select',\n                rebuild: true,\n                options: {\n                    'value': 'value', 'sigma': 'sigma'\n                }\n            },\n            thresholdMin: {\n                type: 'number', precision: 3, max: Infinity, min: -Infinity, rebuild: true\n            },\n            thresholdMax: {\n                type: 'number', precision: 3, max: Infinity, min: -Infinity, rebuild: true\n            },\n            normalize: {\n                type: 'boolean', rebuild: true\n            }\n        }, this.parameters, {\n            flatShaded: null,\n            side: null,\n            wireframe: null,\n            linewidth: null,\n            colorScheme: null,\n            roughness: null,\n            metalness: null,\n            diffuse: null\n        });\n        this.volume = volume;\n        this.init(params);\n    }\n    init(params) {\n        const v = this.volume;\n        const p = params || {};\n        p.colorDomain = defaults(p.colorDomain, [v.min, v.max]);\n        p.colorScheme = defaults(p.colorScheme, 'value');\n        p.colorScale = defaults(p.colorScale, 'Spectral');\n        this.colorScheme = 'value';\n        this.dimension = defaults(p.dimension, 'x');\n        this.filter = defaults(p.filter, 'cubic-bspline');\n        this.positionType = defaults(p.positionType, 'percent');\n        this.position = defaults(p.position, 30);\n        this.thresholdType = defaults(p.thresholdType, 'sigma');\n        this.thresholdMin = defaults(p.thresholdMin, -Infinity);\n        this.thresholdMax = defaults(p.thresholdMax, Infinity);\n        this.normalize = defaults(p.normalize, false);\n        super.init(p);\n        this.build();\n    }\n    attach(callback) {\n        this.bufferList.forEach(buffer => {\n            this.viewer.add(buffer);\n        });\n        this.setVisibility(this.visible);\n        callback();\n    }\n    create() {\n        const volumeSlice = new VolumeSlice(this.volume, {\n            positionType: this.positionType,\n            position: this.position,\n            dimension: this.dimension,\n            thresholdType: this.thresholdType,\n            thresholdMin: this.thresholdMin,\n            thresholdMax: this.thresholdMax,\n            normalize: this.normalize\n        });\n        const sliceBuffer = new ImageBuffer(volumeSlice.getData({ colorParams: this.getColorParams() }), this.getBufferParams({\n            filter: this.filter\n        }));\n        this.bufferList.push(sliceBuffer);\n    }\n}\nexport default SliceRepresentation;\n//# sourceMappingURL=slice-representation.js.map","/**\n * @file Representation Utils\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Debug, Log, RepresentationRegistry } from '../globals';\nimport Structure from '../structure/structure';\nimport Surface from '../surface/surface';\nimport Volume from '../surface/volume';\nimport Shape from '../geometry/shape';\nimport BufferRepresentation from './buffer-representation';\nimport SurfaceRepresentation from './surface-representation';\nimport DotRepresentation from './dot-representation';\nimport SliceRepresentation from './slice-representation';\nfunction logReprUnknown(type) {\n    Log.error(`makeRepresentation: representation type ${type} unknown`);\n}\nexport function makeRepresentation(type, object, viewer, params) {\n    if (Debug)\n        Log.time('makeRepresentation ' + type);\n    var ReprClass;\n    if (object instanceof Structure) {\n        ReprClass = RepresentationRegistry.get(type);\n        if (!ReprClass) {\n            logReprUnknown(type);\n            return;\n        }\n    }\n    else if (object instanceof Surface) {\n        if (type === 'surface') {\n            ReprClass = SurfaceRepresentation;\n        }\n        else if (type === 'dot') {\n            ReprClass = DotRepresentation;\n        }\n        else {\n            logReprUnknown(type);\n            return;\n        }\n    }\n    else if (object instanceof Volume) {\n        if (type === 'surface') {\n            ReprClass = SurfaceRepresentation;\n        }\n        else if (type === 'dot') {\n            ReprClass = DotRepresentation;\n        }\n        else if (type === 'slice') {\n            ReprClass = SliceRepresentation;\n        }\n        else {\n            logReprUnknown(type);\n            return;\n        }\n    }\n    else if (object instanceof Shape) {\n        ReprClass = BufferRepresentation;\n        object = object.getBufferList();\n    }\n    else if (type === 'buffer') {\n        ReprClass = BufferRepresentation;\n    }\n    else {\n        Log.error('makeRepresentation: object ' + object + ' unknown');\n        return;\n    }\n    const repr = new ReprClass(object, viewer, params);\n    if (Debug)\n        Log.timeEnd('makeRepresentation ' + type);\n    return repr;\n}\n//# sourceMappingURL=representation-utils.js.map","/**\n * @file Element\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Signal } from 'signals';\nimport { createParams } from '../utils';\nimport { generateUUID } from '../math/math-utils';\nexport const ElementDefaultParameters = {\n    name: 'some element',\n    status: ''\n};\n/**\n * Element base class\n */\nclass Element {\n    /**\n     * @param {Stage} stage - stage object the component belongs to\n     * @param {ElementParameters} params - component parameters\n     */\n    constructor(stage, params = {}) {\n        this.stage = stage;\n        /**\n         * Events emitted by the element\n         */\n        this.signals = {\n            statusChanged: new Signal(),\n            nameChanged: new Signal(),\n            disposed: new Signal()\n        };\n        this.parameters = createParams(params, this.defaultParameters);\n        this.uuid = generateUUID();\n    }\n    get defaultParameters() { return ElementDefaultParameters; }\n    get name() { return this.parameters.name; }\n    setStatus(value) {\n        this.parameters.status = value;\n        this.signals.statusChanged.dispatch(value);\n        return this;\n    }\n    setName(value) {\n        this.parameters.name = value;\n        this.signals.nameChanged.dispatch(value);\n        return this;\n    }\n    dispose() {\n        this.signals.disposed.dispatch();\n    }\n}\nexport default Element;\n//# sourceMappingURL=element.js.map","/**\n * @file Representation Element\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Signal } from 'signals';\nimport Element, { ElementDefaultParameters } from './element';\nexport const RepresentationElementDefaultParameters = Object.assign({\n    visible: true\n}, ElementDefaultParameters);\n/**\n * Element wrapping a {@link Representation} object\n */\nclass RepresentationElement extends Element {\n    /**\n     * Create representation component\n     * @param {Stage} stage - stage object the component belongs to\n     * @param {Representation} repr - representation object to wrap\n     * @param {RepresentationParameters} [params] - component parameters\n     * @param {Component} [parent] - parent component\n     */\n    constructor(stage, repr, params = {}, parent) {\n        super(stage, Object.assign({ name: repr.type }, params));\n        this.parent = parent;\n        this.signals = Object.assign({\n            visibilityChanged: new Signal(),\n            parametersChanged: new Signal()\n        }, this.signals);\n        this.setRepresentation(repr);\n    }\n    get defaultParameters() { return RepresentationElementDefaultParameters; }\n    get visible() { return this.parameters.visible; }\n    /**\n     * Component type\n     * @type {String}\n     */\n    get type() { return 'representation'; }\n    getType() {\n        return this.repr.type;\n    }\n    setRepresentation(repr) {\n        this._disposeRepresentation();\n        this.repr = repr;\n        // this.name = repr.type;\n        this.stage.tasks.listen(this.repr.tasks);\n        this.updateVisibility();\n    }\n    _disposeRepresentation() {\n        if (this.repr) {\n            this.stage.tasks.unlisten(this.repr.tasks);\n            this.repr.dispose();\n        }\n    }\n    dispose() {\n        if (this.parent && this.parent.hasRepresentation(this)) {\n            this.parent.removeRepresentation(this);\n        }\n        else {\n            this._disposeRepresentation();\n            this.signals.disposed.dispatch();\n        }\n    }\n    /**\n     * Set the visibility of the component, takes parent visibility into account\n     * @param {Boolean} value - visibility flag\n     * @return {RepresentationElement} this object\n     */\n    setVisibility(value) {\n        this.parameters.visible = value;\n        this.updateVisibility();\n        this.signals.visibilityChanged.dispatch(this.parameters.visible);\n        return this;\n    }\n    getVisibility() {\n        if (this.parent) {\n            return this.parent.parameters.visible && this.parameters.visible;\n        }\n        else {\n            return this.parameters.visible;\n        }\n    }\n    /**\n     * Toggle visibility of the component, takes parent visibility into account\n     * @return {RepresentationElement} this object\n     */\n    toggleVisibility() {\n        return this.setVisibility(!this.parameters.visible);\n    }\n    updateVisibility() {\n        this.repr.setVisibility(this.getVisibility());\n    }\n    /**\n     * Set selection\n     * @param {Object} what - flags indicating what attributes to update\n     * @param {Boolean} what.position - update position attribute\n     * @param {Boolean} what.color - update color attribute\n     * @param {Boolean} what.radius - update radius attribute\n     * @return {RepresentationElement} this object\n     */\n    update(what) {\n        this.repr.update(what); // TODO\n        return this;\n    }\n    build(params) {\n        this.repr.build(params);\n        return this;\n    }\n    /**\n     * Set selection\n     * @param {String} string - selection string\n     * @return {RepresentationElement} this object\n     */\n    setSelection(string) {\n        const repr = this.repr; // TODO\n        if (repr.setSelection) {\n            repr.setSelection(string);\n        }\n        return this;\n    }\n    /**\n     * Set representation parameters\n     * @param {RepresentationParameters} params - parameter object\n     * @return {RepresentationElement} this object\n     */\n    setParameters(params) {\n        this.repr.setParameters(params);\n        this.signals.parametersChanged.dispatch(this.repr.getParameters());\n        return this;\n    }\n    /**\n     * Get representation parameters\n     * @return {RepresentationParameters} parameter object\n     */\n    getParameters() {\n        return this.repr.getParameters();\n    }\n    /**\n     * Set color\n     * @param {String|Color|Hex} value - color value\n     * @return {RepresentationElement} this object\n     */\n    setColor(value) {\n        this.repr.setColor(value);\n        return this;\n    }\n}\nexport default RepresentationElement;\n//# sourceMappingURL=representation-element.js.map","/**\n * @file Component\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3, Quaternion, Matrix4, Euler, Box3 } from 'three';\nimport { Signal } from 'signals';\nimport { defaults, createParams } from '../utils';\nimport { generateUUID } from '../math/math-utils';\nimport Annotation from '../component/annotation';\nimport ComponentControls from '../controls/component-controls';\nimport { makeRepresentation } from '../representation/representation-utils';\nimport RepresentationElement from './representation-element';\nconst _m = new Matrix4();\nconst _v = new Vector3();\nexport const ComponentDefaultParameters = {\n    name: '',\n    status: '',\n    visible: true\n};\n/**\n * Base class for components\n */\nclass Component {\n    /**\n     * @param {Stage} stage - stage object the component belongs to\n     * @param {ComponentParameters} params - parameter object\n     */\n    constructor(stage, object, params = {}) {\n        this.stage = stage;\n        this.object = object;\n        /**\n         * Events emitted by the component\n         */\n        this.signals = {\n            representationAdded: new Signal(),\n            representationRemoved: new Signal(),\n            visibilityChanged: new Signal(),\n            matrixChanged: new Signal(),\n            statusChanged: new Signal(),\n            nameChanged: new Signal(),\n            disposed: new Signal()\n        };\n        this.reprList = [];\n        this.annotationList = [];\n        this.matrix = new Matrix4();\n        this.position = new Vector3();\n        this.quaternion = new Quaternion();\n        this.scale = new Vector3(1, 1, 1);\n        this.transform = new Matrix4();\n        this.parameters = createParams(params, this.defaultParameters);\n        this.uuid = generateUUID();\n        this.viewer = stage.viewer;\n        this.controls = new ComponentControls(this);\n    }\n    get defaultParameters() { return ComponentDefaultParameters; }\n    get name() { return this.parameters.name; }\n    get status() { return this.parameters.status; }\n    get visible() { return this.parameters.visible; }\n    /**\n     * Set position transform\n     *\n     * @example\n     * // translate by 25 angstrom along x axis\n     * component.setPosition([ 25, 0, 0 ]);\n     *\n     * @param {Vector3|Array} p - the coordinates\n     * @return {Component} this object\n     */\n    setPosition(p) {\n        if (Array.isArray(p)) {\n            this.position.fromArray(p);\n        }\n        else {\n            this.position.copy(p);\n        }\n        this.updateMatrix();\n        return this;\n    }\n    /**\n     * Set local rotation transform\n     * (for global rotation use setTransform)\n     *\n     * @example\n     * // rotate by 2 degree radians on x axis\n     * component.setRotation( [ 2, 0, 0 ] );\n     *\n     * @param {Quaternion|Euler|Array} r - the rotation\n     * @return {Component} this object\n     */\n    setRotation(r) {\n        if (Array.isArray(r)) {\n            if (r.length === 3) {\n                const e = new Euler().fromArray(r);\n                this.quaternion.setFromEuler(e);\n            }\n            else {\n                this.quaternion.fromArray(r);\n            }\n        }\n        else if (r instanceof Euler) {\n            this.quaternion.setFromEuler(r);\n        }\n        else {\n            this.quaternion.copy(r);\n        }\n        this.updateMatrix();\n        return this;\n    }\n    /**\n     * Set scale transform\n     *\n     * @example\n     * // scale by factor of two\n     * component.setScale( 2 );\n     *\n     * @param {Number} s - the scale\n     * @return {Component} this object\n     */\n    setScale(s) {\n        this.scale.set(s, s, s);\n        this.updateMatrix();\n        return this;\n    }\n    /**\n     * Set general transform. Is applied before and in addition\n     * to the position, rotation and scale transformations\n     *\n     * @example\n     * component.setTransform( matrix );\n     *\n     * @param {Matrix4} m - the matrix\n     * @return {Component} this object\n     */\n    setTransform(m) {\n        this.transform.copy(m);\n        this.updateMatrix();\n        return this;\n    }\n    updateMatrix() {\n        const c = this.getCenterUntransformed(_v);\n        this.matrix.makeTranslation(-c.x, -c.y, -c.z);\n        _m.makeRotationFromQuaternion(this.quaternion);\n        this.matrix.premultiply(_m);\n        _m.makeScale(this.scale.x, this.scale.y, this.scale.z);\n        this.matrix.premultiply(_m);\n        const p = this.position;\n        _m.makeTranslation(p.x + c.x, p.y + c.y, p.z + c.z);\n        this.matrix.premultiply(_m);\n        this.matrix.premultiply(this.transform);\n        this.updateRepresentationMatrices();\n        this.stage.viewer.updateBoundingBox();\n        this.signals.matrixChanged.dispatch(this.matrix);\n    }\n    /**\n     * Propogates our matrix to each representation\n     */\n    updateRepresentationMatrices() {\n        this.reprList.forEach(repr => {\n            repr.setParameters({ matrix: this.matrix });\n        });\n    }\n    /**\n     * Add an anotation object\n     * @param {Vector3} position - the 3d position\n     * @param {String|Element} content - the HTML content\n     * @param {Object} [params] - parameters\n     * @param {Integer} params.offsetX - 2d offset in x direction\n     * @param {Integer} params.offsetY - 2d offset in y direction\n     * @return {Annotation} the added annotation object\n     */\n    addAnnotation(position, content, params) {\n        const annotation = new Annotation(this, position, content, params);\n        this.annotationList.push(annotation);\n        return annotation;\n    }\n    /**\n     * Iterator over each annotation and executing the callback\n     * @param  {Function} callback - function to execute\n     * @return {undefined}\n     */\n    eachAnnotation(callback) {\n        this.annotationList.slice().forEach(callback);\n    }\n    /**\n     * Remove the give annotation from the component\n     * @param {Annotation} annotation - the annotation to remove\n     * @return {undefined}\n     */\n    removeAnnotation(annotation) {\n        const idx = this.annotationList.indexOf(annotation);\n        if (idx !== -1) {\n            this.annotationList.splice(idx, 1);\n            annotation.dispose();\n        }\n    }\n    /**\n     * Remove all annotations from the component\n     * @return {undefined}\n     */\n    removeAllAnnotations() {\n        this.eachAnnotation(annotation => annotation.dispose());\n        this.annotationList.length = 0;\n    }\n    /**\n     * Add a new representation to the component\n     * @param {String} type - the name of the representation\n     * @param {Object} object - the object on which the representation should be based\n     * @param {RepresentationParameters} [params] - representation parameters\n     * @return {RepresentationElement} the created representation wrapped into\n     *                                   a representation element object\n     */\n    _addRepresentation(type, object, params, hidden = false) {\n        const p = params || {};\n        const sp = this.stage.getParameters(); // TODO\n        p.matrix = this.matrix.clone();\n        p.quality = p.quality || sp.quality;\n        p.disableImpostor = defaults(p.disableImpostor, !sp.impostor);\n        p.useWorker = defaults(p.useWorker, sp.workerDefault);\n        p.visible = defaults(p.visible, true);\n        const p2 = Object.assign({}, p, { visible: this.parameters.visible && p.visible });\n        const repr = makeRepresentation(type, object, this.viewer, p2);\n        const reprElem = new RepresentationElement(this.stage, repr, p, this);\n        if (!hidden) {\n            this.reprList.push(reprElem);\n            this.signals.representationAdded.dispatch(reprElem);\n        }\n        return reprElem;\n    }\n    addBufferRepresentation(buffer, params) {\n        return this._addRepresentation.call(this, 'buffer', buffer, params);\n    }\n    hasRepresentation(repr) {\n        return this.reprList.indexOf(repr) !== -1;\n    }\n    /**\n     * Iterator over each representation and executing the callback\n     * @param  {Function} callback - function to execute\n     * @return {undefined}\n     */\n    eachRepresentation(callback) {\n        this.reprList.slice().forEach(callback);\n    }\n    /**\n     * Removes a representation component\n     * @param {RepresentationElement} repr - the representation element\n     * @return {undefined}\n     */\n    removeRepresentation(repr) {\n        const idx = this.reprList.indexOf(repr);\n        if (idx !== -1) {\n            this.reprList.splice(idx, 1);\n            repr.dispose();\n            this.signals.representationRemoved.dispatch(repr);\n        }\n    }\n    updateRepresentations(what) {\n        this.reprList.forEach(repr => repr.update(what));\n        this.stage.viewer.requestRender();\n    }\n    /**\n     * Removes all representation components\n     * @return {undefined}\n     */\n    removeAllRepresentations() {\n        this.eachRepresentation(repr => repr.dispose());\n    }\n    dispose() {\n        this.removeAllAnnotations();\n        this.removeAllRepresentations();\n        delete this.annotationList;\n        delete this.reprList;\n        this.signals.disposed.dispatch();\n    }\n    /**\n     * Set the visibility of the component, including added representations\n     * @param {Boolean} value - visibility flag\n     * @return {Component} this object\n     */\n    setVisibility(value) {\n        this.parameters.visible = value;\n        this.eachRepresentation((repr) => repr.updateVisibility());\n        this.eachAnnotation((annotation) => annotation.updateVisibility());\n        this.signals.visibilityChanged.dispatch(value);\n        return this;\n    }\n    setStatus(value) {\n        this.parameters.status = value;\n        this.signals.statusChanged.dispatch(value);\n        return this;\n    }\n    setName(value) {\n        this.parameters.name = value;\n        this.signals.nameChanged.dispatch(value);\n        return this;\n    }\n    /**\n     * @return {Box3} the component's bounding box\n     */\n    getBox(...args) {\n        return this.getBoxUntransformed(...args)\n            .clone().applyMatrix4(this.matrix);\n    }\n    /**\n     * @return {Vector3} the component's center position\n     */\n    getCenter(...args) {\n        return this.getCenterUntransformed(...args)\n            .clone().applyMatrix4(this.matrix);\n    }\n    getZoom(...args) {\n        return this.stage.getZoomForBox(this.getBox(...args));\n    }\n    /**\n     * @abstract\n     * @return {Box3} the untransformed component's bounding box\n     */\n    getBoxUntransformed(...args) {\n        return new Box3();\n    }\n    getCenterUntransformed(...args) {\n        return this.getBoxUntransformed().getCenter(new Vector3());\n    }\n    /**\n     * Automatically center and zoom the component\n     * @param  {Integer} [duration] - duration of the animation, defaults to 0\n     * @return {undefined}\n     */\n    autoView(duration) {\n        this.stage.animationControls.zoomMove(this.getCenter(), this.getZoom(), defaults(duration, 0));\n    }\n}\nexport default Component;\n//# sourceMappingURL=component.js.map","/**\n * @file Collection\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nclass Collection {\n    constructor(list = []) {\n        this.list = list;\n        // remove elements from list when they get disposed\n        const n = list.length;\n        for (let i = 0; i < n; ++i) {\n            const elm = list[i];\n            elm.signals.disposed.add(this._remove, this);\n        }\n    }\n    _remove(elm) {\n        const idx = this.list.indexOf(elm);\n        if (idx !== -1) {\n            this.list.splice(idx, 1);\n        }\n    }\n    get first() {\n        return this.list.length > 0 ? this.list[0] : undefined;\n    }\n    forEach(fn) {\n        this.list.forEach(fn);\n        return this;\n    }\n    dispose() {\n        return this.forEach((elm) => elm.dispose());\n    }\n}\nexport default Collection;\n//# sourceMappingURL=collection.js.map","/**\n * @file Component Collection\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport Collection from './collection';\nclass RepresentationCollection extends Collection {\n    setParameters(params) {\n        return this.forEach((repr) => repr.setParameters(params));\n    }\n    setVisibility(value) {\n        return this.forEach((repr) => repr.setVisibility(value));\n    }\n    setSelection(string) {\n        return this.forEach((repr) => repr.setSelection(string));\n    }\n    setColor(color) {\n        return this.forEach((repr) => repr.setColor(color));\n    }\n    update(what) {\n        return this.forEach((repr) => repr.update(what));\n    }\n    build(params) {\n        return this.forEach((repr) => repr.build(params));\n    }\n    dispose(params) {\n        return this.forEach((repr) => repr.dispose());\n    }\n}\nexport default RepresentationCollection;\n//# sourceMappingURL=representation-collection.js.map","/**\n * @file Trajectory Component\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Signal } from 'signals';\nimport Element, { ElementDefaultParameters } from './element';\n/**\n * Trajectory component parameter object.\n * @typedef {Object} TrajectoryComponentParameters - component parameters\n *\n * @property {String} name - component name\n * @property {Integer} initialFrame - initial frame the trajectory is set to\n * @property {Integer} defaultStep - default step size to be used by trajectory players\n * @property {Integer} defaultTimeout - default timeout to be used by trajectory players\n * @property {String} defaultInterpolateType - one of \"\" (empty string), \"linear\" or \"spline\"\n * @property {Integer} defaultInterpolateStep - window size used for interpolation\n * @property {String} defaultMode - either \"loop\" or \"once\"\n * @property {String} defaultDirection - either \"forward\" or \"backward\"\n */\nexport const TrajectoryElementDefaultParameters = Object.assign({\n    defaultStep: 1,\n    defaultTimeout: 50,\n    defaultInterpolateType: '',\n    defaultInterpolateStep: 5,\n    defaultMode: 'loop',\n    defaultDirection: 'forward',\n    initialFrame: 0\n}, ElementDefaultParameters);\n/**\n * Component wrapping a {@link Trajectory} object\n */\nclass TrajectoryElement extends Element {\n    /**\n     * @param {Stage} stage - stage object the component belongs to\n     * @param {Trajectory} trajectory - the trajectory object\n     * @param {TrajectoryComponentParameters} params - component parameters\n     * @param {StructureComponent} parent - the parent structure\n     */\n    constructor(stage, trajectory, params = {}) {\n        super(stage, Object.assign({ name: trajectory.name }, params));\n        this.trajectory = trajectory;\n        this.signals = Object.assign(this.signals, {\n            frameChanged: new Signal(),\n            playerChanged: new Signal(),\n            countChanged: new Signal(),\n            parametersChanged: new Signal()\n        });\n        // signals\n        trajectory.signals.frameChanged.add((i) => {\n            this.signals.frameChanged.dispatch(i);\n        });\n        trajectory.signals.playerChanged.add((player) => {\n            this.signals.playerChanged.dispatch(player);\n        });\n        trajectory.signals.countChanged.add((n) => {\n            this.signals.countChanged.dispatch(n);\n        });\n        //\n        if (params.initialFrame !== undefined) {\n            this.setFrame(params.initialFrame);\n        }\n    }\n    get defaultParameters() { return TrajectoryElementDefaultParameters; }\n    /**\n     * Component type\n     * @type {String}\n     */\n    get type() { return 'trajectory'; }\n    /**\n     * Set the frame of the trajectory\n     * @param {Integer} i - frame number\n     * @return {undefined}\n     */\n    setFrame(i) {\n        this.trajectory.setFrame(i);\n    }\n    /**\n     * Set trajectory parameters\n     * @param {TrajectoryParameters} params - trajectory parameters\n     * @return {undefined}\n     */\n    setParameters(params = {}) {\n        this.trajectory.setParameters(params);\n        this.signals.parametersChanged.dispatch(params);\n    }\n    dispose() {\n        this.trajectory.dispose();\n        super.dispose();\n    }\n}\nexport default TrajectoryElement;\n//# sourceMappingURL=trajectory-element.js.map","/**\n * @file Frames\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nexport default class Frames {\n    constructor(name, path) {\n        this.name = name;\n        this.path = path;\n        this.coordinates = [];\n        this.boxes = [];\n        this.times = [];\n        this.timeOffset = 0;\n        this.deltaTime = 1;\n    }\n    get type() { return 'Frames'; }\n}\n//# sourceMappingURL=frames.js.map","/**\n * @file Superposition\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Matrix4 } from 'three';\nimport { Debug, Log } from '../globals';\nimport { Matrix, svd, meanRows, subRows, transpose, multiplyABt, invert3x3, multiply3x3, mat3x3determinant, multiply } from '../math/matrix-utils';\nimport Structure from '../structure/structure';\nclass Superposition {\n    constructor(atoms1, atoms2) {\n        // allocate & init data structures\n        this.A = new Matrix(3, 3);\n        this.W = new Matrix(1, 3);\n        this.U = new Matrix(3, 3);\n        this.V = new Matrix(3, 3);\n        this.VH = new Matrix(3, 3);\n        this.R = new Matrix(3, 3);\n        this.tmp = new Matrix(3, 3);\n        this.c = new Matrix(3, 3);\n        let n1;\n        if (atoms1 instanceof Structure) {\n            n1 = atoms1.atomCount;\n        }\n        else if (atoms1 instanceof Float32Array) {\n            n1 = atoms1.length / 3;\n        }\n        else {\n            return;\n        }\n        let n2;\n        if (atoms2 instanceof Structure) {\n            n2 = atoms2.atomCount;\n        }\n        else if (atoms2 instanceof Float32Array) {\n            n2 = atoms2.length / 3;\n        }\n        else {\n            return;\n        }\n        const n = Math.min(n1, n2);\n        const coords1 = new Matrix(3, n);\n        const coords2 = new Matrix(3, n);\n        this.coords1t = new Matrix(n, 3);\n        this.coords2t = new Matrix(n, 3);\n        this.transformationMatrix = new Matrix4();\n        this.c.data.set([1, 0, 0, 0, 1, 0, 0, 0, -1]);\n        // prep coords\n        this.prepCoords(atoms1, coords1, n, false);\n        this.prepCoords(atoms2, coords2, n, false);\n        // superpose\n        this._superpose(coords1, coords2);\n    }\n    _superpose(coords1, coords2) {\n        this.mean1 = meanRows(coords1);\n        this.mean2 = meanRows(coords2);\n        subRows(coords1, this.mean1);\n        subRows(coords2, this.mean2);\n        transpose(this.coords1t, coords1);\n        transpose(this.coords2t, coords2);\n        multiplyABt(this.A, this.coords2t, this.coords1t);\n        svd(this.A, this.W, this.U, this.V);\n        invert3x3(this.V, this.VH);\n        multiply3x3(this.R, this.U, this.VH);\n        if (mat3x3determinant(this.R) < 0.0) {\n            if (Debug)\n                Log.log('R not a right handed system');\n            multiply3x3(this.tmp, this.c, this.VH);\n            multiply3x3(this.R, this.U, this.tmp);\n        }\n        //get the transformation matrix\n        const transformMat_ = new Matrix(4, 4);\n        const tmp_1 = new Matrix(4, 4);\n        const tmp_2 = new Matrix(4, 4);\n        const sub = new Matrix(4, 4);\n        const mult = new Matrix(4, 4);\n        const add = new Matrix(4, 4);\n        const R = this.R.data;\n        const M1 = this.mean1;\n        const M2 = this.mean2;\n        sub.data.set([1, 0, 0, -M1[0],\n            0, 1, 0, -M1[1],\n            0, 0, 1, -M1[2],\n            0, 0, 0, 1]);\n        mult.data.set([R[0], R[1], R[2], 0,\n            R[3], R[4], R[5], 0,\n            R[6], R[7], R[8], 0,\n            0, 0, 0, 1]);\n        add.data.set([1, 0, 0, M2[0],\n            0, 1, 0, M2[1],\n            0, 0, 1, M2[2],\n            0, 0, 0, 1]);\n        transpose(tmp_1, sub);\n        multiplyABt(transformMat_, mult, tmp_1);\n        transpose(tmp_2, transformMat_);\n        multiplyABt(tmp_1, add, tmp_2);\n        transpose(transformMat_, tmp_1);\n        this.transformationMatrix.elements = transformMat_.data;\n    }\n    prepCoords(atoms, coords, n, is4X4) {\n        let i = 0;\n        const cd = coords.data;\n        let c = 3;\n        let d = n * 3;\n        if (is4X4) {\n            d = n * 4;\n            c = 4;\n        }\n        if (atoms instanceof Structure) {\n            atoms.eachAtom(function (a) {\n                if (i < d) {\n                    cd[i + 0] = a.x;\n                    cd[i + 1] = a.y;\n                    cd[i + 2] = a.z;\n                    if (is4X4)\n                        cd[i + 3] = 1;\n                    i += c;\n                }\n            });\n        }\n        else if (atoms instanceof Float32Array) {\n            for (; i < d; i += c) {\n                if (i < d) {\n                    cd[i] = atoms[i];\n                    cd[i + 1] = atoms[i + 1];\n                    cd[i + 2] = atoms[i + 2];\n                    if (is4X4)\n                        cd[i + 3] = 1;\n                }\n            }\n        }\n        else {\n            Log.warn('prepCoords: input type unknown');\n        }\n    }\n    transform(atoms) {\n        // allocate data structures\n        let n;\n        if (atoms instanceof Structure) {\n            n = atoms.atomCount;\n        }\n        else if (atoms instanceof Float32Array) {\n            n = atoms.length / 3;\n        }\n        else {\n            return;\n        }\n        const coords = new Matrix(4, n);\n        const tCoords = new Matrix(n, 4);\n        // prep coords\n        this.prepCoords(atoms, coords, n, true);\n        // check for transformation matrix correctness\n        const transform = this.transformationMatrix;\n        const det = transform.determinant();\n        if (!det) {\n            return det;\n        }\n        // do transform\n        const mult = new Matrix(4, 4);\n        mult.data = transform.elements;\n        multiply(tCoords, coords, mult);\n        let i = 0;\n        const cd = tCoords.data;\n        if (atoms instanceof Structure) {\n            atoms.eachAtom(function (a) {\n                a.x = cd[i];\n                a.y = cd[i + 1];\n                a.z = cd[i + 2];\n                i += 4;\n            });\n            //update transformation matrices for each assembly\n            const invertTrasform = new Matrix4();\n            invertTrasform.getInverse(transform);\n            const biomolDict = atoms.biomolDict;\n            for (let key in biomolDict) {\n                if (biomolDict.hasOwnProperty(key)) {\n                    let assembly = biomolDict[key];\n                    assembly.partList.forEach(function (part) {\n                        part.matrixList.forEach(function (mat) {\n                            mat.premultiply(transform);\n                            mat.multiply(invertTrasform);\n                        });\n                    });\n                }\n            }\n        }\n        else if (atoms instanceof Float32Array) {\n            const n4 = n * 4;\n            for (; i < n4; i += 4) {\n                atoms[i] = cd[i];\n                atoms[i + 1] = cd[i + 1];\n                atoms[i + 2] = cd[i + 2];\n            }\n        }\n        else {\n            Log.warn('transform: input type unknown');\n        }\n        return this.transformationMatrix;\n    }\n}\nexport default Superposition;\n//# sourceMappingURL=superposition.js.map","/**\n * @file Trajectory Player\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Signal } from 'signals';\nimport { defaults, createParams, updateParams } from '../utils';\nexport const TrajectoryPlayerDefaultParameters = {\n    step: 1,\n    timeout: 50,\n    start: 0,\n    end: 0,\n    interpolateType: '',\n    interpolateStep: 5,\n    mode: 'loop',\n    direction: 'forward'\n};\n/**\n * Trajectory player for animating coordinate frames\n * @example\n * var player = new TrajectoryPlayer(trajectory, {step: 1, timeout: 50});\n * player.play();\n */\nclass TrajectoryPlayer {\n    /**\n     * make trajectory player\n     * @param {Trajectory} traj - the trajectory\n     * @param {TrajectoryPlayerParameters} [params] - parameter object\n     */\n    constructor(traj, params = {}) {\n        this.signals = {\n            startedRunning: new Signal(),\n            haltedRunning: new Signal()\n        };\n        this._run = false;\n        this._previousTime = 0;\n        this._currentTime = 0;\n        this._currentStep = 1;\n        traj.signals.playerChanged.add((player) => {\n            if (player !== this) {\n                this.pause();\n            }\n        }, this);\n        const n = defaults(traj.frameCount, 1);\n        this.traj = traj;\n        this.parameters = createParams(params, TrajectoryPlayerDefaultParameters);\n        this.parameters.end = Math.min(defaults(params.end, n - 1), n - 1);\n        this.parameters.step = defaults(params.step, Math.ceil((n + 1) / 100));\n        this._currentFrame = this.parameters.start;\n        this._direction = this.parameters.direction === 'bounce' ? 'forward' : this.parameters.direction;\n        traj.signals.countChanged.add((n) => {\n            this.parameters.end = Math.min(defaults(this.parameters.end, n - 1), n - 1);\n        }, this);\n        this._animate = this._animate.bind(this);\n    }\n    get isRunning() { return this._run; }\n    /**\n     * set player parameters\n     * @param {TrajectoryPlayerParameters} [params] - parameter object\n     */\n    setParameters(params = {}) {\n        updateParams(this.parameters, params);\n        if (params.direction !== undefined && this.parameters.direction !== 'bounce') {\n            this._direction = this.parameters.direction;\n        }\n    }\n    _animate() {\n        if (!this._run)\n            return;\n        this._currentTime = window.performance.now();\n        const dt = this._currentTime - this._previousTime;\n        const step = this.parameters.interpolateType ? this.parameters.interpolateStep : 1;\n        const timeout = this.parameters.timeout / step;\n        const traj = this.traj;\n        if (traj && traj.frameCount && !traj.inProgress && dt >= timeout) {\n            if (this.parameters.interpolateType) {\n                if (this._currentStep > this.parameters.interpolateStep) {\n                    this._currentStep = 1;\n                }\n                if (this._currentStep === 1) {\n                    this._currentFrame = this._nextInterpolated();\n                }\n                if (traj.hasFrame(this._currentFrame)) {\n                    this._currentStep += 1;\n                    const t = this._currentStep / (this.parameters.interpolateStep + 1);\n                    const [i, ip, ipp, ippp] = this._currentFrame;\n                    traj.setFrameInterpolated(i, ip, ipp, ippp, t, this.parameters.interpolateType);\n                    this._previousTime = this._currentTime;\n                }\n                else {\n                    traj.loadFrame(this._currentFrame);\n                }\n            }\n            else {\n                const i = this._next();\n                if (traj.hasFrame(i)) {\n                    traj.setFrame(i);\n                    this._previousTime = this._currentTime;\n                }\n                else {\n                    traj.loadFrame(i);\n                }\n            }\n        }\n        window.requestAnimationFrame(this._animate);\n    }\n    _next() {\n        const p = this.parameters;\n        let i;\n        if (this._direction === 'forward') {\n            i = this.traj.currentFrame + p.step;\n        }\n        else {\n            i = this.traj.currentFrame - p.step;\n        }\n        if (i > p.end || i < p.start) {\n            if (p.direction === 'bounce') {\n                if (this._direction === 'forward') {\n                    this._direction = 'backward';\n                }\n                else {\n                    this._direction = 'forward';\n                }\n            }\n            if (p.mode === 'once') {\n                this.pause();\n                if (p.direction === 'forward') {\n                    i = p.end;\n                }\n                else if (p.direction === 'backward') {\n                    i = p.start;\n                }\n                else {\n                    if (this._direction === 'forward') {\n                        i = p.start;\n                    }\n                    else {\n                        i = p.end;\n                    }\n                }\n            }\n            else {\n                if (this._direction === 'forward') {\n                    i = p.start;\n                    if (p.interpolateType) {\n                        i = Math.min(p.end, i + p.step);\n                    }\n                }\n                else {\n                    i = p.end;\n                    if (p.interpolateType) {\n                        i = Math.max(p.start, i - p.step);\n                    }\n                }\n            }\n        }\n        return i;\n    }\n    _nextInterpolated() {\n        const p = this.parameters;\n        const i = this._next();\n        let ip, ipp, ippp;\n        if (this._direction === 'forward') {\n            ip = Math.max(p.start, i - p.step);\n            ipp = Math.max(p.start, i - 2 * p.step);\n            ippp = Math.max(p.start, i - 3 * p.step);\n        }\n        else {\n            ip = Math.min(p.end, i + p.step);\n            ipp = Math.min(p.end, i + 2 * p.step);\n            ippp = Math.min(p.end, i + 3 * p.step);\n        }\n        return [i, ip, ipp, ippp];\n    }\n    /**\n     * toggle between playing and pausing the animation\n     * @return {undefined}\n     */\n    toggle() {\n        if (this._run) {\n            this.pause();\n        }\n        else {\n            this.play();\n        }\n    }\n    /**\n     * start the animation\n     * @return {undefined}\n     */\n    play() {\n        if (!this._run) {\n            if (this.traj.player !== this) {\n                this.traj.setPlayer(this);\n            }\n            this._currentStep = 1;\n            const p = this.parameters;\n            const frame = this.traj.currentFrame;\n            // snap to the grid implied by this.step division and multiplication\n            // thus minimizing cache misses\n            let i = Math.ceil(frame / p.step) * p.step;\n            // wrap when restarting from the limit (i.e. end or start)\n            if (p.direction === 'forward' && frame >= p.end) {\n                i = p.start;\n            }\n            else if (p.direction === 'backward' && frame <= p.start) {\n                i = p.end;\n            }\n            this.traj.setFrame(i);\n            this._run = true;\n            this._animate();\n            this.signals.startedRunning.dispatch();\n        }\n    }\n    /**\n     * pause the animation\n     * @return {undefined}\n     */\n    pause() {\n        this._run = false;\n        this.signals.haltedRunning.dispatch();\n    }\n    /**\n     * stop the animation (pause and go to start-frame)\n     * @return {undefined}\n     */\n    stop() {\n        this.pause();\n        this.traj.setFrame(this.parameters.start);\n    }\n}\nexport default TrajectoryPlayer;\n//# sourceMappingURL=trajectory-player.js.map","/**\n * @file Trajectory\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Signal } from 'signals';\nimport { Log } from '../globals';\nimport { defaults } from '../utils';\nimport { circularMean, arrayMean } from '../math/array-utils';\nimport { lerp, spline } from '../math/math-utils';\nimport Selection from '../selection/selection';\nimport Superposition from '../align/superposition';\nimport TrajectoryPlayer from './trajectory-player';\nfunction centerPbc(coords, mean, box) {\n    if (box[0] === 0 || box[8] === 0 || box[4] === 0) {\n        return;\n    }\n    const n = coords.length;\n    const bx = box[0];\n    const by = box[1];\n    const bz = box[2];\n    const mx = mean[0];\n    const my = mean[1];\n    const mz = mean[2];\n    const fx = -mx + bx + bx / 2;\n    const fy = -my + by + by / 2;\n    const fz = -mz + bz + bz / 2;\n    for (let i = 0; i < n; i += 3) {\n        coords[i + 0] = (coords[i + 0] + fx) % bx;\n        coords[i + 1] = (coords[i + 1] + fy) % by;\n        coords[i + 2] = (coords[i + 2] + fz) % bz;\n    }\n}\nfunction removePbc(x, box) {\n    if (box[0] === 0 || box[8] === 0 || box[4] === 0) {\n        return;\n    }\n    // ported from GROMACS src/gmxlib/rmpbc.c:rm_gropbc()\n    // in-place\n    const n = x.length;\n    for (let i = 3; i < n; i += 3) {\n        for (let j = 0; j < 3; ++j) {\n            const dist = x[i + j] - x[i - 3 + j];\n            if (Math.abs(dist) > 0.9 * box[j * 3 + j]) {\n                if (dist > 0) {\n                    for (let d = 0; d < 3; ++d) {\n                        x[i + d] -= box[j * 3 + d];\n                    }\n                }\n                else {\n                    for (let d = 0; d < 3; ++d) {\n                        x[i + d] += box[j * 3 + d];\n                    }\n                }\n            }\n        }\n    }\n    return x;\n}\nfunction removePeriodicity(x, box, mean) {\n    if (box[0] === 0 || box[8] === 0 || box[4] === 0) {\n        return;\n    }\n    const n = x.length;\n    for (let i = 3; i < n; i += 3) {\n        for (let j = 0; j < 3; ++j) {\n            const f = (x[i + j] - mean[j]) / box[j * 3 + j];\n            if (Math.abs(f) > 0.5) {\n                x[i + j] -= box[j * 3 + j] * Math.round(f);\n            }\n        }\n    }\n    return x;\n}\nfunction circularMean3(indices, coords, box) {\n    return [\n        circularMean(coords, box[0], 3, 0, indices),\n        circularMean(coords, box[1], 3, 1, indices),\n        circularMean(coords, box[2], 3, 2, indices)\n    ];\n}\nfunction arrayMean3(coords) {\n    return [\n        arrayMean(coords, 3, 0),\n        arrayMean(coords, 3, 1),\n        arrayMean(coords, 3, 2)\n    ];\n}\nfunction interpolateSpline(c, cp, cpp, cppp, t) {\n    const m = c.length;\n    const coords = new Float32Array(m);\n    for (let j0 = 0; j0 < m; j0 += 3) {\n        const j1 = j0 + 1;\n        const j2 = j0 + 2;\n        coords[j0] = spline(cppp[j0], cpp[j0], cp[j0], c[j0], t, 1);\n        coords[j1] = spline(cppp[j1], cpp[j1], cp[j1], c[j1], t, 1);\n        coords[j2] = spline(cppp[j2], cpp[j2], cp[j2], c[j2], t, 1);\n    }\n    return coords;\n}\nfunction interpolateLerp(c, cp, t) {\n    const m = c.length;\n    const coords = new Float32Array(m);\n    for (let j0 = 0; j0 < m; j0 += 3) {\n        const j1 = j0 + 1;\n        const j2 = j0 + 2;\n        coords[j0] = lerp(cp[j0], c[j0], t);\n        coords[j1] = lerp(cp[j1], c[j1], t);\n        coords[j2] = lerp(cp[j2], c[j2], t);\n    }\n    return coords;\n}\n/**\n * Base class for trajectories, tying structures and coordinates together\n * @interface\n */\nclass Trajectory {\n    /**\n     * @param {String} trajPath - trajectory source\n     * @param {Structure} structure - the structure object\n     * @param {TrajectoryParameters} params - trajectory parameters\n     */\n    constructor(trajPath, structure, params = {}) {\n        this.signals = {\n            countChanged: new Signal(),\n            frameChanged: new Signal(),\n            playerChanged: new Signal()\n        };\n        this.frameCache = {};\n        this.loadQueue = {};\n        this.boxCache = {};\n        this.pathCache = {};\n        this.frameCacheSize = 0;\n        this._frameCount = 0;\n        this._currentFrame = -1;\n        this._disposed = false;\n        this.deltaTime = defaults(params.deltaTime, 0);\n        this.timeOffset = defaults(params.timeOffset, 0);\n        this.centerPbc = defaults(params.centerPbc, false);\n        this.removePbc = defaults(params.removePbc, false);\n        this.removePeriodicity = defaults(params.removePeriodicity, false);\n        this.superpose = defaults(params.superpose, false);\n        this.name = trajPath.replace(/^.*[\\\\/]/, '');\n        this.trajPath = trajPath;\n        this.selection = new Selection(defaults(params.sele, 'backbone and not hydrogen'));\n        this.selection.signals.stringChanged.add(() => {\n            this.selectionIndices = this.structure.getAtomIndices(this.selection);\n            this._resetCache();\n            this._saveInitialCoords();\n            this.setFrame(this._currentFrame);\n        });\n    }\n    /**\n     * Number of frames in the trajectory\n     */\n    get frameCount() {\n        return this._frameCount;\n    }\n    /**\n     * Currently set frame of the trajectory\n     */\n    get currentFrame() {\n        return this._currentFrame;\n    }\n    _init(structure) {\n        this.setStructure(structure);\n        this._loadFrameCount();\n        this.setPlayer(new TrajectoryPlayer(this));\n    }\n    _loadFrameCount() { }\n    setStructure(structure) {\n        this.structure = structure;\n        this.atomCount = structure.atomCount;\n        this.backboneIndices = this._getIndices(new Selection('backbone and not hydrogen'));\n        this._makeAtomIndices();\n        this._saveStructureCoords();\n        this.selectionIndices = this._getIndices(this.selection);\n        this._resetCache();\n        this._saveInitialCoords();\n        this.setFrame(this._currentFrame);\n    }\n    _saveInitialCoords() {\n        if (this.structure.hasCoords()) {\n            this.initialCoords = new Float32Array(this.structureCoords);\n            this._makeSuperposeCoords();\n        }\n        else if (this.frameCache[0]) {\n            this.initialCoords = new Float32Array(this.frameCache[0]);\n            this._makeSuperposeCoords();\n        }\n        else {\n            this.loadFrame(0, () => this._saveInitialCoords());\n        }\n    }\n    _saveStructureCoords() {\n        const p = { what: { position: true } };\n        this.structureCoords = this.structure.getAtomData(p).position;\n    }\n    setSelection(string) {\n        this.selection.setString(string);\n        return this;\n    }\n    _getIndices(selection) {\n        let i = 0;\n        const test = selection.test;\n        const indices = [];\n        if (test) {\n            this.structure.eachAtom((ap) => {\n                if (test(ap))\n                    indices.push(i);\n                i += 1;\n            });\n        }\n        return indices;\n    }\n    _makeSuperposeCoords() {\n        const n = this.selectionIndices.length * 3;\n        this.coords1 = new Float32Array(n);\n        this.coords2 = new Float32Array(n);\n        const y = this.initialCoords;\n        const coords2 = this.coords2;\n        for (let i = 0; i < n; i += 3) {\n            const j = this.selectionIndices[i / 3] * 3;\n            coords2[i + 0] = y[j + 0];\n            coords2[i + 1] = y[j + 1];\n            coords2[i + 2] = y[j + 2];\n        }\n    }\n    _makeAtomIndices() {\n        Log.error('Trajectory._makeAtomIndices not implemented');\n    }\n    _resetCache() {\n        this.frameCache = {};\n        this.loadQueue = {};\n        this.boxCache = {};\n        this.pathCache = {};\n        this.frameCacheSize = 0;\n        this.initialCoords = new Float32Array(0);\n    }\n    setParameters(params = {}) {\n        let resetCache = false;\n        if (params.centerPbc !== undefined && params.centerPbc !== this.centerPbc) {\n            this.centerPbc = params.centerPbc;\n            resetCache = true;\n        }\n        if (params.removePeriodicity !== undefined && params.removePeriodicity !== this.removePeriodicity) {\n            this.removePeriodicity = params.removePeriodicity;\n            resetCache = true;\n        }\n        if (params.removePbc !== undefined && params.removePbc !== this.removePbc) {\n            this.removePbc = params.removePbc;\n            resetCache = true;\n        }\n        if (params.superpose !== undefined && params.superpose !== this.superpose) {\n            this.superpose = params.superpose;\n            resetCache = true;\n        }\n        this.deltaTime = defaults(params.deltaTime, this.deltaTime);\n        this.timeOffset = defaults(params.timeOffset, this.timeOffset);\n        if (resetCache) {\n            this._resetCache();\n            this.setFrame(this._currentFrame);\n        }\n    }\n    /**\n     * Check if a frame is available\n     * @param  {Integer|Integer[]} i - the frame index\n     * @return {Boolean} frame availability\n     */\n    hasFrame(i) {\n        if (Array.isArray(i)) {\n            return i.every(j => !!this.frameCache[j]);\n        }\n        else {\n            return !!this.frameCache[i];\n        }\n    }\n    /**\n     * Set trajectory to a frame index\n     * @param {Integer} i - the frame index\n     * @param {Function} [callback] - fired when the frame has been set\n     */\n    setFrame(i, callback) {\n        if (i === undefined)\n            return this;\n        this.inProgress = true;\n        // i = parseInt(i)  // TODO\n        if (i === -1 || this.frameCache[i]) {\n            this._updateStructure(i);\n            if (callback)\n                callback();\n        }\n        else {\n            this.loadFrame(i, () => {\n                this._updateStructure(i);\n                if (callback)\n                    callback();\n            });\n        }\n        return this;\n    }\n    _interpolate(i, ip, ipp, ippp, t, type) {\n        const fc = this.frameCache;\n        let coords;\n        if (type === 'spline') {\n            coords = interpolateSpline(fc[i], fc[ip], fc[ipp], fc[ippp], t);\n        }\n        else {\n            coords = interpolateLerp(fc[i], fc[ip], t);\n        }\n        this.structure.updatePosition(coords);\n        this._currentFrame = i;\n        this.signals.frameChanged.dispatch(i);\n    }\n    /**\n     * Interpolated and set trajectory to frame indices\n     * @param {Integer} i - the frame index\n     * @param {Integer} ip - one before frame index\n     * @param {Integer} ipp - two before frame index\n     * @param {Integer} ippp - three before frame index\n     * @param {Number} t - interpolation step [0,1]\n     * @param {String} type - interpolation type, '', 'spline' or 'linear'\n     * @param {Function} callback - fired when the frame has been set\n     */\n    setFrameInterpolated(i, ip, ipp, ippp, t, type, callback) {\n        if (i === undefined)\n            return this;\n        const fc = this.frameCache;\n        const iList = [];\n        if (!fc[ippp])\n            iList.push(ippp);\n        if (!fc[ipp])\n            iList.push(ipp);\n        if (!fc[ip])\n            iList.push(ip);\n        if (!fc[i])\n            iList.push(i);\n        if (iList.length) {\n            this.loadFrame(iList, () => {\n                this._interpolate(i, ip, ipp, ippp, t, type);\n                if (callback)\n                    callback();\n            });\n        }\n        else {\n            this._interpolate(i, ip, ipp, ippp, t, type);\n            if (callback)\n                callback();\n        }\n        return this;\n    }\n    /**\n     * Load frame index\n     * @param {Integer|Integer[]} i - the frame index\n     * @param {Function} callback - fired when the frame has been loaded\n     */\n    loadFrame(i, callback) {\n        if (Array.isArray(i)) {\n            i.forEach(j => {\n                if (!this.loadQueue[j] && !this.frameCache[j]) {\n                    this.loadQueue[j] = true;\n                    this._loadFrame(j, () => {\n                        delete this.loadQueue[j];\n                    });\n                }\n            });\n        }\n        else {\n            if (!this.loadQueue[i] && !this.frameCache[i]) {\n                this.loadQueue[i] = true;\n                this._loadFrame(i, () => {\n                    delete this.loadQueue[i];\n                    if (callback)\n                        callback();\n                });\n            }\n        }\n    }\n    /**\n     * Load frame index\n     * @abstract\n     * @param {Integer} i - the frame index\n     * @param {Function} callback - fired when the frame has been loaded\n     */\n    _loadFrame(i, callback) {\n        Log.error('Trajectory._loadFrame not implemented', i, callback);\n    }\n    _updateStructure(i) {\n        if (this._disposed) {\n            console.error('updateStructure: traj disposed');\n            return;\n        }\n        if (i === -1) {\n            if (this.structureCoords) {\n                this.structure.updatePosition(this.structureCoords);\n            }\n        }\n        else {\n            this.structure.updatePosition(this.frameCache[i]);\n        }\n        this.structure.trajectory = {\n            name: this.trajPath,\n            frame: i\n        };\n        this._currentFrame = i;\n        this.inProgress = false;\n        this.signals.frameChanged.dispatch(i);\n    }\n    _doSuperpose(x) {\n        const n = this.selectionIndices.length * 3;\n        const coords1 = this.coords1;\n        const coords2 = this.coords2;\n        for (let i = 0; i < n; i += 3) {\n            const j = this.selectionIndices[i / 3] * 3;\n            coords1[i + 0] = x[j + 0];\n            coords1[i + 1] = x[j + 1];\n            coords1[i + 2] = x[j + 2];\n        }\n        // TODO re-use superposition object\n        const sp = new Superposition(coords1, coords2);\n        sp.transform(x);\n    }\n    _process(i, box, coords, frameCount) {\n        this._setFrameCount(frameCount);\n        if (box) {\n            if (this.backboneIndices.length > 0 && this.centerPbc) {\n                const box2 = [box[0], box[4], box[8]];\n                const circMean = circularMean3(this.backboneIndices, coords, box2);\n                centerPbc(coords, circMean, box2);\n            }\n            if (this.removePeriodicity) {\n                const mean = arrayMean3(coords);\n                removePeriodicity(coords, box, mean);\n            }\n            if (this.removePbc) {\n                removePbc(coords, box);\n            }\n        }\n        if (this.selectionIndices.length > 0 && this.coords1 && this.superpose) {\n            this._doSuperpose(coords);\n        }\n        this.frameCache[i] = coords;\n        this.boxCache[i] = box;\n        this.frameCacheSize += 1;\n    }\n    _setFrameCount(n) {\n        if (n !== this._frameCount) {\n            this._frameCount = n;\n            this.signals.countChanged.dispatch(n);\n        }\n    }\n    /**\n     * Dispose of the trajectory object\n     * @return {undefined}\n     */\n    dispose() {\n        this._resetCache(); // aid GC\n        this._disposed = true;\n        if (this.player)\n            this.player.stop();\n    }\n    /**\n     * Set player for this trajectory\n     * @param {TrajectoryPlayer} player - the player\n     */\n    setPlayer(player) {\n        this.player = player;\n        this.signals.playerChanged.dispatch(player);\n    }\n    /**\n     * Get time for frame\n     * @param  {Integer} i - frame index\n     * @return {Number} time in picoseconds\n     */\n    getFrameTime(i) {\n        return this.timeOffset + i * this.deltaTime;\n    }\n}\nexport default Trajectory;\n//# sourceMappingURL=trajectory.js.map","/**\n * @file Frames Trajectory\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { defaults } from '../utils';\nimport Trajectory from './trajectory';\n/**\n * Frames trajectory class. Gets data from a frames object.\n */\nclass FramesTrajectory extends Trajectory {\n    constructor(frames, structure, params) {\n        const p = params || {};\n        p.timeOffset = defaults(p.timeOffset, frames.timeOffset);\n        p.deltaTime = defaults(p.deltaTime, frames.deltaTime);\n        super('', structure, p);\n        this.name = frames.name;\n        this.path = frames.path;\n        this.frames = frames.coordinates;\n        this.boxes = frames.boxes;\n        this._init(structure);\n    }\n    get type() { return 'frames'; }\n    _makeAtomIndices() {\n        if (this.structure.type === 'StructureView') {\n            this.atomIndices = this.structure.getAtomIndices();\n        }\n        else {\n            this.atomIndices = undefined;\n        }\n    }\n    _loadFrame(i, callback) {\n        let coords;\n        const frame = this.frames[i];\n        if (this.atomIndices) {\n            const indices = this.atomIndices;\n            const m = indices.length;\n            coords = new Float32Array(m * 3);\n            for (let j = 0; j < m; ++j) {\n                const j3 = j * 3;\n                const idx3 = indices[j] * 3;\n                coords[j3 + 0] = frame[idx3 + 0];\n                coords[j3 + 1] = frame[idx3 + 1];\n                coords[j3 + 2] = frame[idx3 + 2];\n            }\n        }\n        else {\n            coords = new Float32Array(frame);\n        }\n        const box = this.boxes[i];\n        const frameCount = this.frames.length;\n        this._process(i, box, coords, frameCount);\n        if (typeof callback === 'function') {\n            callback();\n        }\n    }\n    _loadFrameCount() {\n        if (this.frames) {\n            this._setFrameCount(this.frames.length);\n        }\n    }\n}\nexport default FramesTrajectory;\n//# sourceMappingURL=frames-trajectory.js.map","/**\n * @file Structure Trajectory\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport Trajectory from './trajectory';\n/**\n * Structure trajectory class. Gets data from a structure object.\n */\nclass StructureTrajectory extends Trajectory {\n    constructor(trajPath, structure, params) {\n        super('', structure, params);\n        this._init(structure);\n    }\n    get type() { return 'structure'; }\n    _makeAtomIndices() {\n        if (this.structure.atomSet && this.structure.atomSet.getSize() < this.structure.atomStore.count) {\n            this.atomIndices = this.structure.getAtomIndices();\n        }\n        else {\n            this.atomIndices = undefined;\n        }\n    }\n    _loadFrame(i, callback) {\n        let coords;\n        const structure = this.structure;\n        const frame = structure.frames[i];\n        if (this.atomIndices) {\n            const indices = this.atomIndices;\n            const m = indices.length;\n            coords = new Float32Array(m * 3);\n            for (let j = 0; j < m; ++j) {\n                const j3 = j * 3;\n                const idx3 = indices[j] * 3;\n                coords[j3 + 0] = frame[idx3 + 0];\n                coords[j3 + 1] = frame[idx3 + 1];\n                coords[j3 + 2] = frame[idx3 + 2];\n            }\n        }\n        else {\n            coords = new Float32Array(frame);\n        }\n        const box = structure.boxes[i];\n        const frameCount = structure.frames.length;\n        this._process(i, box, coords, frameCount);\n        if (typeof callback === 'function') {\n            callback();\n        }\n    }\n    _loadFrameCount() {\n        this._setFrameCount(this.structure.frames.length);\n    }\n}\nexport default StructureTrajectory;\n//# sourceMappingURL=structure-trajectory.js.map","/**\n * @file Remote Trajectory\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Log, TrajectoryDatasource } from '../globals';\nimport Trajectory from './trajectory';\n/**\n * Remote trajectory class. Gets data from an MDsrv instance.\n */\nclass RemoteTrajectory extends Trajectory {\n    constructor(trajPath, structure, params) {\n        super(trajPath, structure, params);\n        this._init(structure);\n    }\n    get type() { return 'remote'; }\n    _makeAtomIndices() {\n        const atomIndices = [];\n        if (this.structure.type === 'StructureView') {\n            const indices = this.structure.getAtomIndices(); // TODO\n            const n = indices.length;\n            let p = indices[0];\n            let q = indices[0];\n            for (let i = 1; i < n; ++i) {\n                const r = indices[i];\n                if (q + 1 < r) {\n                    atomIndices.push([p, q + 1]);\n                    p = r;\n                }\n                q = r;\n            }\n            atomIndices.push([p, q + 1]);\n        }\n        else {\n            atomIndices.push([0, this.atomCount]);\n        }\n        this.atomIndices = atomIndices;\n    }\n    _loadFrame(i, callback) {\n        // TODO implement max frameCache size, re-use arrays\n        const request = new XMLHttpRequest();\n        const url = TrajectoryDatasource.getFrameUrl(this.trajPath, i);\n        const params = TrajectoryDatasource.getFrameParams(this.trajPath, this.atomIndices);\n        request.open('POST', url, true);\n        request.responseType = 'arraybuffer';\n        request.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        request.addEventListener('load', () => {\n            const arrayBuffer = request.response;\n            if (!arrayBuffer) {\n                Log.error(`empty arrayBuffer for '${url}'`);\n                return;\n            }\n            const frameCount = new Int32Array(arrayBuffer, 0, 1)[0];\n            // const time = new Float32Array( arrayBuffer, 1 * 4, 1 )[ 0 ];\n            const box = new Float32Array(arrayBuffer, 2 * 4, 9);\n            const coords = new Float32Array(arrayBuffer, 11 * 4);\n            this._process(i, box, coords, frameCount);\n            if (typeof callback === 'function') {\n                callback();\n            }\n        }, false);\n        request.send(params);\n    }\n    _loadFrameCount() {\n        const request = new XMLHttpRequest();\n        const url = TrajectoryDatasource.getCountUrl(this.trajPath);\n        request.open('GET', url, true);\n        request.addEventListener('load', () => {\n            this._setFrameCount(parseInt(request.response));\n        }, false);\n        request.send();\n    }\n}\nexport default RemoteTrajectory;\n//# sourceMappingURL=remote-trajectory.js.map","/**\n * @file Trajectory Utils\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport Frames from './frames';\nimport FramesTrajectory from './frames-trajectory';\nimport StructureTrajectory from './structure-trajectory';\nimport RemoteTrajectory from './remote-trajectory';\nexport function makeTrajectory(trajSrc, structure, params) {\n    let traj;\n    if (trajSrc && trajSrc instanceof Frames) {\n        traj = new FramesTrajectory(trajSrc, structure, params);\n    }\n    else if (!trajSrc && structure.frames) {\n        traj = new StructureTrajectory(trajSrc, structure, params);\n    }\n    else {\n        traj = new RemoteTrajectory(trajSrc, structure, params);\n    }\n    return traj;\n}\n//# sourceMappingURL=trajectory-utils.js.map","/**\n * @file Structure View\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3, Box3 } from 'three';\nimport { Debug, Log } from '../globals';\nimport Structure from './structure';\nimport Selection from '../selection/selection';\nimport BitArray from '../utils/bitarray';\n/**\n * Get view on structure restricted to the selection\n * @param  {Selection} selection - the selection\n * @return {StructureView} the view on the structure\n */\nStructure.prototype.getView = function (selection) {\n    // added here to avoid cyclic import dependency\n    return new StructureView(this, selection);\n};\n/**\n * View on the structure, restricted to the selection\n */\nclass StructureView extends Structure {\n    /**\n     * @param {Structure} structure - the structure\n     * @param {Selection} selection - the selection\n     */\n    constructor(structure, selection) {\n        super();\n        this.structure = structure;\n        this.selection = selection;\n        this.center = new Vector3();\n        this.boundingBox = new Box3();\n        this._bp = this.getBondProxy();\n        this._ap = this.getAtomProxy();\n        this._rp = this.getResidueProxy();\n        this._cp = this.getChainProxy();\n        if (this.selection) {\n            this.selection.signals.stringChanged.add(this.refresh, this);\n        }\n        this.structure.signals.refreshed.add(this.refresh, this);\n        this.refresh();\n    }\n    init() { }\n    get type() { return 'StructureView'; }\n    get name() { return this.structure.name; }\n    get path() { return this.structure.path; }\n    get title() { return this.structure.title; }\n    get id() { return this.structure.id; }\n    get data() { return this.structure.data; }\n    get atomSetDict() { return this.structure.atomSetDict; }\n    get biomolDict() { return this.structure.biomolDict; }\n    get entityList() { return this.structure.entityList; }\n    get unitcell() { return this.structure.unitcell; }\n    get frames() { return this.structure.frames; }\n    get boxes() { return this.structure.boxes; }\n    get validation() { return this.structure.validation; }\n    get bondStore() { return this.structure.bondStore; }\n    get backboneBondStore() { return this.structure.backboneBondStore; }\n    get rungBondStore() { return this.structure.rungBondStore; }\n    get atomStore() { return this.structure.atomStore; }\n    get residueStore() { return this.structure.residueStore; }\n    get chainStore() { return this.structure.chainStore; }\n    get modelStore() { return this.structure.modelStore; }\n    get atomMap() { return this.structure.atomMap; }\n    get residueMap() { return this.structure.residueMap; }\n    get bondHash() { return this.structure.bondHash; }\n    get spatialHash() { return this.structure.spatialHash; }\n    get _hasCoords() { return this.structure._hasCoords; }\n    set _hasCoords(value) { this.structure._hasCoords = value; }\n    /**\n     * Updates atomSet, bondSet, atomSetCache, atomCount, bondCount, boundingBox, center.\n     * @emits {Structure.signals.refreshed} when refreshed\n     * @return {undefined}\n     */\n    refresh() {\n        if (Debug)\n            Log.time('StructureView.refresh');\n        this.atomSetCache = {};\n        const structure = this.structure;\n        if (this.selection.isAllSelection() &&\n            structure !== this && structure.atomSet && structure.bondSet) {\n            this.atomSet = structure.atomSet.clone();\n            this.bondSet = structure.bondSet.clone();\n            for (let name in this.atomSetDict) {\n                const atomSet = this.atomSetDict[name];\n                this.atomSetCache['__' + name] = atomSet.clone();\n            }\n            this.atomCount = structure.atomCount;\n            this.bondCount = structure.bondCount;\n            this.boundingBox.copy(structure.boundingBox);\n            this.center.copy(structure.center);\n        }\n        else if (this.selection.isNoneSelection() &&\n            structure !== this && structure.atomSet && structure.bondSet) {\n            this.atomSet = new BitArray(structure.atomCount);\n            this.bondSet = new BitArray(structure.bondCount);\n            for (let name in this.atomSetDict) {\n                this.atomSetCache['__' + name] = new BitArray(structure.atomCount);\n            }\n            this.atomCount = 0;\n            this.bondCount = 0;\n            this.boundingBox.makeEmpty();\n            this.center.set(0, 0, 0);\n        }\n        else {\n            this.atomSet = this.getAtomSet(this.selection, true);\n            if (structure.atomSet) {\n                this.atomSet = this.atomSet.intersection(structure.atomSet);\n            }\n            this.bondSet = this.getBondSet();\n            for (let name in this.atomSetDict) {\n                const atomSet = this.atomSetDict[name];\n                this.atomSetCache['__' + name] = atomSet.makeIntersection(this.atomSet);\n            }\n            this.atomCount = this.atomSet.getSize();\n            this.bondCount = this.bondSet.getSize();\n            this.boundingBox = this.getBoundingBox();\n            this.center = this.boundingBox.getCenter(new Vector3());\n        }\n        if (Debug)\n            Log.timeEnd('StructureView.refresh');\n        this.signals.refreshed.dispatch();\n    }\n    //\n    setSelection(selection) {\n        this.selection = selection;\n        this.refresh();\n    }\n    getSelection(selection) {\n        const seleList = [];\n        if (selection && selection.string) {\n            seleList.push(selection.string);\n        }\n        const parentSelection = this.structure.getSelection();\n        if (parentSelection && parentSelection.string) {\n            seleList.push(parentSelection.string);\n        }\n        if (this.selection && this.selection.string) {\n            seleList.push(this.selection.string);\n        }\n        let sele = '';\n        if (seleList.length > 0) {\n            sele = `( ${seleList.join(' ) AND ( ')} )`;\n        }\n        return new Selection(sele);\n    }\n    getStructure() {\n        return this.structure.getStructure();\n    }\n    //\n    eachBond(callback, selection) {\n        this.structure.eachBond(callback, this.getSelection(selection));\n    }\n    eachAtom(callback, selection) {\n        const ap = this.getAtomProxy();\n        const atomSet = this.getAtomSet(selection);\n        const n = this.atomStore.count;\n        if (atomSet.getSize() < n) {\n            atomSet.forEach(function (index) {\n                ap.index = index;\n                callback(ap);\n            });\n        }\n        else {\n            for (let i = 0; i < n; ++i) {\n                ap.index = i;\n                callback(ap);\n            }\n        }\n    }\n    eachResidue(callback, selection) {\n        this.structure.eachResidue(callback, this.getSelection(selection));\n    }\n    /**\n     * Not implemented\n     * @alias StructureView#eachResidueN\n     * @return {undefined}\n     */\n    eachResidueN(n, callback) {\n        console.error('StructureView.eachResidueN() not implemented');\n    }\n    eachChain(callback, selection) {\n        this.structure.eachChain(callback, this.getSelection(selection));\n    }\n    eachModel(callback, selection) {\n        this.structure.eachModel(callback, this.getSelection(selection));\n    }\n    //\n    getAtomSet(selection, ignoreView = false) {\n        let atomSet = this.structure.getAtomSet(selection);\n        if (!ignoreView && this.atomSet) {\n            atomSet = atomSet.makeIntersection(this.atomSet);\n        }\n        return atomSet;\n    }\n    //\n    getAtomIndices(selection) {\n        return this.structure.getAtomIndices(this.getSelection(selection));\n    }\n    refreshPosition() {\n        return this.structure.refreshPosition();\n    }\n    //\n    dispose() {\n        if (this.selection) {\n            this.selection.signals.stringChanged.remove(this.refresh, this);\n        }\n        this.structure.signals.refreshed.remove(this.refresh, this);\n        delete this.structure;\n        delete this.atomSet;\n        delete this.bondSet;\n        delete this.atomCount;\n        delete this.bondCount;\n    }\n}\nexport default StructureView;\n//# sourceMappingURL=structure-view.js.map","/**\n * @file Alignment\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Debug, Log } from '../globals';\n// const nucleotides = 'ACTG';\nconst aminoacidsX = 'ACDEFGHIKLMNPQRSTVWY';\nconst aminoacids = 'ARNDCQEGHILKMFPSTWYVBZ?';\nconst blosum62x = [\n    [4, 0, -2, -1, -2, 0, -2, -1, -1, -1, -1, -2, -1, -1, -1, 1, 0, 0, -3, -2],\n    [0, 9, -3, -4, -2, -3, -3, -1, -3, -1, -1, -3, -3, -3, -3, -1, -1, -1, -2, -2],\n    [-2, -3, 6, 2, -3, -1, -1, -3, -1, -4, -3, 1, -1, 0, -2, 0, -1, -3, -4, -3],\n    [-1, -4, 2, 5, -3, -2, 0, -3, 1, -3, -2, 0, -1, 2, 0, 0, -1, -2, -3, -2],\n    [-2, -2, -3, -3, 6, -3, -1, 0, -3, 0, 0, -3, -4, -3, -3, -2, -2, -1, 1, 3],\n    [0, -3, -1, -2, -3, 6, -2, -4, -2, -4, -3, 0, -2, -2, -2, 0, -2, -3, -2, -3],\n    [-2, -3, -1, 0, -1, -2, 8, -3, -1, -3, -2, 1, -2, 0, 0, -1, -2, -3, -2, 2],\n    [-1, -1, -3, -3, 0, -4, -3, 4, -3, 2, 1, -3, -3, -3, -3, -2, -1, 3, -3, -1],\n    [-1, -3, -1, 1, -3, -2, -1, -3, 5, -2, -1, 0, -1, 1, 2, 0, -1, -2, -3, -2],\n    [-1, -1, -4, -3, 0, -4, -3, 2, -2, 4, 2, -3, -3, -2, -2, -2, -1, 1, -2, -1],\n    [-1, -1, -3, -2, 0, -3, -2, 1, -1, 2, 5, -2, -2, 0, -1, -1, -1, 1, -1, -1],\n    [-2, -3, 1, 0, -3, 0, 1, -3, 0, -3, -2, 6, -2, 0, 0, 1, 0, -3, -4, -2],\n    [-1, -3, -1, -1, -4, -2, -2, -3, -1, -3, -2, -2, 7, -1, -2, -1, -1, -2, -4, -3],\n    [-1, -3, 0, 2, -3, -2, 0, -3, 1, -2, 0, 0, -1, 5, 1, 0, -1, -2, -2, -1],\n    [-1, -3, -2, 0, -3, -2, 0, -3, 2, -2, -1, 0, -2, 1, 5, -1, -1, -3, -3, -2],\n    [1, -1, 0, 0, -2, 0, -1, -2, 0, -2, -1, 1, -1, 0, -1, 4, 1, -2, -3, -2],\n    [0, -1, -1, -1, -2, -2, -2, -1, -1, -1, -1, 0, -1, -1, -1, 1, 5, 0, -2, -2],\n    [0, -1, -3, -2, -1, -3, -3, 3, -2, 1, 1, -3, -2, -2, -3, -2, 0, 4, -3, -1],\n    [-3, -2, -4, -3, 1, -2, -2, -3, -3, -2, -1, -4, -4, -2, -3, -3, -2, -3, 11, 2],\n    [-2, -2, -3, -2, 3, -3, 2, -1, -2, -1, -1, -2, -3, -1, -2, -2, -2, -1, 2, 7] // Y\n];\nconst blosum62 = [\n    // A  R  N  D  C  Q  E  G  H  I  L  K  M  F  P  S  T  W  Y  V  B  Z  X\n    [4, -1, -2, -2, 0, -1, -1, 0, -2, -1, -1, -1, -1, -2, -1, 1, 0, -3, -2, 0, -2, -1, 0],\n    [-1, 5, 0, -2, -3, 1, 0, -2, 0, -3, -2, 2, -1, -3, -2, -1, -1, -3, -2, -3, -1, 0, -1],\n    [-2, 0, 6, 1, -3, 0, 0, 0, 1, -3, -3, 0, -2, -3, -2, 1, 0, -4, -2, -3, 3, 0, -1],\n    [-2, -2, 1, 6, -3, 0, 2, -1, -1, -3, -4, -1, -3, -3, -1, 0, -1, -4, -3, -3, 4, 1, -1],\n    [0, -3, -3, -3, 9, -3, -4, -3, -3, -1, -1, -3, -1, -2, -3, -1, -1, -2, -2, -1, -3, -3, -2],\n    [-1, 1, 0, 0, -3, 5, 2, -2, 0, -3, -2, 1, 0, -3, -1, 0, -1, -2, -1, -2, 0, 3, -1],\n    [-1, 0, 0, 2, -4, 2, 5, -2, 0, -3, -3, 1, -2, -3, -1, 0, -1, -3, -2, -2, 1, 4, -1],\n    [0, -2, 0, -1, -3, -2, -2, 6, -2, -4, -4, -2, -3, -3, -2, 0, -2, -2, -3, -3, -1, -2, -1],\n    [-2, 0, 1, -1, -3, 0, 0, -2, 8, -3, -3, -1, -2, -1, -2, -1, -2, -2, 2, -3, 0, 0, -1],\n    [-1, -3, -3, -3, -1, -3, -3, -4, -3, 4, 2, -3, 1, 0, -3, -2, -1, -3, -1, 3, -3, -3, -1],\n    [-1, -2, -3, -4, -1, -2, -3, -4, -3, 2, 4, -2, 2, 0, -3, -2, -1, -2, -1, 1, -4, -3, -1],\n    [-1, 2, 0, -1, -3, 1, 1, -2, -1, -3, -2, 5, -1, -3, -1, 0, -1, -3, -2, -2, 0, 1, -1],\n    [-1, -1, -2, -3, -1, 0, -2, -3, -2, 1, 2, -1, 5, 0, -2, -1, -1, -1, -1, 1, -3, -1, -1],\n    [-2, -3, -3, -3, -2, -3, -3, -3, -1, 0, 0, -3, 0, 6, -4, -2, -2, 1, 3, -1, -3, -3, -1],\n    [-1, -2, -2, -1, -3, -1, -1, -2, -2, -3, -3, -1, -2, -4, 7, -1, -1, -4, -3, -2, -2, -1, -2],\n    [1, -1, 1, 0, -1, 0, 0, 0, -1, -2, -2, 0, -1, -2, -1, 4, 1, -3, -2, -2, 0, 0, 0],\n    [0, -1, 0, -1, -1, -1, -1, -2, -2, -1, -1, -1, -1, -2, -1, 1, 5, -2, -2, 0, -1, -1, 0],\n    [-3, -3, -4, -4, -2, -2, -3, -2, -2, -3, -2, -3, -1, 1, -4, -3, -2, 11, 2, -3, -4, -3, -2],\n    [-2, -2, -2, -3, -2, -1, -2, -3, 2, -1, -1, -2, -1, 3, -3, -2, -2, 2, 7, -1, -3, -2, -1],\n    [0, -3, -3, -3, -1, -2, -2, -3, -3, 3, 1, -2, 1, -1, -2, -2, 0, -3, -1, 4, -3, -2, -1],\n    [-2, -1, 3, 4, -3, 0, 1, -1, 0, -3, -4, 0, -3, -3, -2, 0, -1, -4, -3, -3, 4, 1, -1],\n    [-1, 0, 0, 1, -3, 3, 4, -2, 0, -3, -3, 1, -1, -3, -1, 0, -1, -3, -2, -2, 1, 4, -1],\n    [0, -1, -1, -1, -2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -2, 0, 0, -2, -1, -1, -1, -1, -1] // X\n];\nfunction prepareMatrix(cellNames, mat) {\n    let j;\n    let i = 0;\n    const matDict = {};\n    mat.forEach(function (row) {\n        j = 0;\n        const rowDict = {};\n        row.forEach(function (elm) {\n            rowDict[cellNames[j++]] = elm;\n        });\n        matDict[cellNames[i++]] = rowDict;\n    });\n    return matDict;\n}\nconst SubstitutionMatrices = (function () {\n    return {\n        blosum62: prepareMatrix(aminoacids, blosum62),\n        blosum62x: prepareMatrix(aminoacidsX, blosum62x)\n    };\n}());\nclass Alignment {\n    constructor(seq1, seq2, gapPenalty = -10, gapExtensionPenalty = -1, substMatrix = 'blosum62') {\n        // TODO try encoding seqs as integers and use array subst matrix, maybe faster\n        this.seq1 = seq1;\n        this.seq2 = seq2;\n        this.gapPenalty = gapPenalty;\n        this.gapExtensionPenalty = gapExtensionPenalty;\n        if (substMatrix) {\n            this.substMatrix = SubstitutionMatrices[substMatrix];\n        }\n    }\n    initMatrices() {\n        this.n = this.seq1.length;\n        this.m = this.seq2.length;\n        // Log.log(this.n, this.m);\n        this.score = undefined;\n        this.ali = '';\n        this.S = [];\n        this.V = [];\n        this.H = [];\n        for (let i = 0; i <= this.n; ++i) {\n            this.S[i] = [];\n            this.V[i] = [];\n            this.H[i] = [];\n            for (let j = 0; j <= this.m; ++j) {\n                this.S[i][j] = 0;\n                this.V[i][j] = 0;\n                this.H[i][j] = 0;\n            }\n        }\n        for (let i = 0; i <= this.n; ++i) {\n            this.S[i][0] = this.gap(0);\n            this.H[i][0] = -Infinity;\n        }\n        for (let j = 0; j <= this.m; ++j) {\n            this.S[0][j] = this.gap(0);\n            this.V[0][j] = -Infinity;\n        }\n        this.S[0][0] = 0;\n        // Log.log(this.S, this.V, this.H);\n    }\n    gap(len) {\n        return this.gapPenalty + len * this.gapExtensionPenalty;\n    }\n    makeScoreFn() {\n        const seq1 = this.seq1;\n        const seq2 = this.seq2;\n        const substMatrix = this.substMatrix;\n        if (substMatrix) {\n            return function score(i, j) {\n                const c1 = seq1[i];\n                const c2 = seq2[j];\n                try {\n                    return substMatrix[c1][c2];\n                }\n                catch (e) {\n                    return -4;\n                }\n            };\n        }\n        else {\n            Log.warn('Alignment: no subst matrix');\n            return function scoreNoSubstMat(i, j) {\n                const c1 = seq1[i];\n                const c2 = seq2[j];\n                return c1 === c2 ? 5 : -3;\n            };\n        }\n    }\n    calc() {\n        if (Debug)\n            Log.time('Alignment.calc');\n        this.initMatrices();\n        const gap0 = this.gap(0);\n        const scoreFn = this.makeScoreFn();\n        const gapExtensionPenalty = this.gapExtensionPenalty;\n        const V = this.V;\n        const H = this.H;\n        const S = this.S;\n        const n = this.n;\n        const m = this.m;\n        let Vi1, Si1, Vi, Hi, Si;\n        for (let i = 1; i <= n; ++i) {\n            Si1 = S[i - 1];\n            Vi1 = V[i - 1];\n            Vi = V[i];\n            Hi = H[i];\n            Si = S[i];\n            for (let j = 1; j <= m; ++j) {\n                Vi[j] = Math.max(Si1[j] + gap0, Vi1[j] + gapExtensionPenalty);\n                Hi[j] = Math.max(Si[j - 1] + gap0, Hi[j - 1] + gapExtensionPenalty);\n                Si[j] = Math.max(Si1[j - 1] + scoreFn(i - 1, j - 1), // match\n                Vi[j], // del\n                Hi[j] // ins\n                );\n            }\n        }\n        if (Debug)\n            Log.timeEnd('Alignment.calc');\n        if (Debug)\n            Log.log(this.S, this.V, this.H);\n    }\n    trace() {\n        if (Debug)\n            Log.time('Alignment.trace');\n        this.ali1 = '';\n        this.ali2 = '';\n        const scoreFn = this.makeScoreFn();\n        let i = this.n;\n        let j = this.m;\n        let mat;\n        if (this.S[i][j] >= this.V[i][j]) {\n            mat = 'S';\n            this.score = this.S[i][j];\n        }\n        else if (this.V[i][j] >= this.H[i][j]) {\n            mat = 'V';\n            this.score = this.V[i][j];\n        }\n        else {\n            mat = 'H';\n            this.score = this.H[i][j];\n        }\n        if (Debug)\n            Log.log('Alignment: SCORE', this.score);\n        if (Debug)\n            Log.log('Alignment: S, V, H', this.S[i][j], this.V[i][j], this.H[i][j]);\n        while (i > 0 && j > 0) {\n            if (mat === 'S') {\n                if (this.S[i][j] === this.S[i - 1][j - 1] + scoreFn(i - 1, j - 1)) {\n                    this.ali1 = this.seq1[i - 1] + this.ali1;\n                    this.ali2 = this.seq2[j - 1] + this.ali2;\n                    --i;\n                    --j;\n                    mat = 'S';\n                }\n                else if (this.S[i][j] === this.V[i][j]) {\n                    mat = 'V';\n                }\n                else if (this.S[i][j] === this.H[i][j]) {\n                    mat = 'H';\n                }\n                else {\n                    // Log.debug('Alignment: S');\n                    --i;\n                    --j;\n                }\n            }\n            else if (mat === 'V') {\n                if (this.V[i][j] === this.V[i - 1][j] + this.gapExtensionPenalty) {\n                    this.ali1 = this.seq1[i - 1] + this.ali1;\n                    this.ali2 = '-' + this.ali2;\n                    --i;\n                    mat = 'V';\n                }\n                else if (this.V[i][j] === this.S[i - 1][j] + this.gap(0)) {\n                    this.ali1 = this.seq1[i - 1] + this.ali1;\n                    this.ali2 = '-' + this.ali2;\n                    --i;\n                    mat = 'S';\n                }\n                else {\n                    // Log.debug('Alignment: V');\n                    --i;\n                }\n            }\n            else if (mat === 'H') {\n                if (this.H[i][j] === this.H[i][j - 1] + this.gapExtensionPenalty) {\n                    this.ali1 = '-' + this.ali1;\n                    this.ali2 = this.seq2[j - 1] + this.ali2;\n                    --j;\n                    mat = 'H';\n                }\n                else if (this.H[i][j] === this.S[i][j - 1] + this.gap(0)) {\n                    this.ali1 = '-' + this.ali1;\n                    this.ali2 = this.seq2[j - 1] + this.ali2;\n                    --j;\n                    mat = 'S';\n                }\n                else {\n                    // Log.debug('Alignment: H');\n                    --j;\n                }\n            }\n            else {\n                Log.error('Alignment: no matrix');\n            }\n        }\n        while (i > 0) {\n            this.ali1 = this.seq1[i - 1] + this.ali1;\n            this.ali2 = '-' + this.ali2;\n            --i;\n        }\n        while (j > 0) {\n            this.ali1 = '-' + this.ali1;\n            this.ali2 = this.seq2[j - 1] + this.ali2;\n            --j;\n        }\n        if (Debug)\n            Log.timeEnd('Alignment.trace');\n        if (Debug)\n            Log.log([this.ali1, this.ali2]);\n    }\n}\nexport default Alignment;\n//# sourceMappingURL=alignment.js.map","/**\n * @file Align Utils\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport Selection from '../selection/selection';\nimport Alignment from './alignment';\nimport Superposition from './superposition';\n/**\n * Perform structural superposition of two structures,\n * optionally guided by a sequence alignment\n * @param  {Structure|StructureView} s1 - structure 1 which is superposed onto structure 2\n * @param  {Structure|StructureView} s2 - structure 2 onto which structure 1 is superposed\n * @param  {Boolean} [align] - guide the superposition by a sequence alignment\n * @param  {String} [sele1] - selection string for structure 1\n * @param  {String} [sele2] - selection string for structure 2\n * @return {undefined}\n */\nfunction superpose(s1, s2, align = false, sele1 = '', sele2 = '') {\n    let i;\n    let j;\n    let n;\n    let atoms1;\n    let atoms2;\n    if (align) {\n        let _s1 = s1;\n        let _s2 = s2;\n        if (sele1 && sele2) {\n            _s1 = s1.getView(new Selection(sele1));\n            _s2 = s2.getView(new Selection(sele2));\n        }\n        const seq1 = _s1.getSequence();\n        const seq2 = _s2.getSequence();\n        // Log.log( seq1.join(\"\") );\n        // Log.log( seq2.join(\"\") );\n        const ali = new Alignment(seq1.join(''), seq2.join(''));\n        ali.calc();\n        ali.trace();\n        // Log.log( \"superpose alignment score\", ali.score );\n        // Log.log( ali.ali1 );\n        // Log.log( ali.ali2 );\n        let _i, _j;\n        i = 0;\n        j = 0;\n        n = ali.ali1.length;\n        const aliIdx1 = [];\n        const aliIdx2 = [];\n        for (let l = 0; l < n; ++l) {\n            const x = ali.ali1[l];\n            const y = ali.ali2[l];\n            _i = 0;\n            _j = 0;\n            if (x === '-') {\n                aliIdx2[j] = false;\n            }\n            else {\n                aliIdx2[j] = true;\n                _i = 1;\n            }\n            if (y === '-') {\n                aliIdx1[i] = false;\n            }\n            else {\n                aliIdx1[i] = true;\n                _j = 1;\n            }\n            i += _i;\n            j += _j;\n        }\n        // Log.log( i, j );\n        // Log.log( aliIdx1 );\n        // Log.log( aliIdx2 );\n        const _atoms1 = [];\n        const _atoms2 = [];\n        const ap1 = _s1.getAtomProxy();\n        const ap2 = _s2.getAtomProxy();\n        i = 0;\n        _s1.eachResidue(function (r) {\n            if (r.traceAtomIndex === undefined ||\n                r.traceAtomIndex !== r.getAtomIndexByName('CA'))\n                return;\n            if (aliIdx1[i]) {\n                ap1.index = r.getAtomIndexByName('CA'); // TODO\n                _atoms1.push(ap1.x, ap1.y, ap1.z);\n            }\n            i += 1;\n        });\n        i = 0;\n        _s2.eachResidue(function (r) {\n            if (r.traceAtomIndex === undefined ||\n                r.traceAtomIndex !== r.getAtomIndexByName('CA'))\n                return;\n            if (aliIdx2[i]) {\n                ap2.index = r.getAtomIndexByName('CA'); // TODO\n                _atoms2.push(ap2.x, ap2.y, ap2.z);\n            }\n            i += 1;\n        });\n        atoms1 = new Float32Array(_atoms1);\n        atoms2 = new Float32Array(_atoms2);\n    }\n    else {\n        const sviewCa1 = s1.getView(new Selection(`${sele1} and .CA`));\n        const sviewCa2 = s2.getView(new Selection(`${sele2} and .CA`));\n        atoms1 = sviewCa1;\n        atoms2 = sviewCa2;\n    }\n    const superpose = new Superposition(atoms1, atoms2);\n    const result = superpose.transform(s1);\n    s1.refreshPosition();\n    return result;\n}\nexport { superpose };\n//# sourceMappingURL=align-utils.js.map","/**\n * @file Sturucture Component\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Signal } from 'signals';\nimport { ComponentRegistry, MeasurementDefaultParams } from '../globals';\nimport { defaults, /*deepEqual, */ createRingBuffer, createSimpleDict } from '../utils';\nimport { smoothstep } from '../math/math-utils';\nimport Component, { ComponentDefaultParameters } from './component';\nimport RepresentationCollection from './representation-collection';\nimport TrajectoryElement from './trajectory-element';\nimport { makeTrajectory } from '../trajectory/trajectory-utils';\nimport Selection from '../selection/selection';\nimport StructureView from '../structure/structure-view';\nimport { superpose } from '../align/align-utils';\nexport const StructureComponentDefaultParameters = Object.assign({\n    sele: '',\n    defaultAssembly: ''\n}, ComponentDefaultParameters);\n/**\n * Component wrapping a {@link Structure} object\n *\n * @example\n * // get a structure component by loading a structure file into the stage\n * stage.loadFile( \"rcsb://4opj\" ).then( function( structureComponent ){\n *     structureComponent.addRepresentation( \"cartoon\" );\n *     structureComponent.autoView();\n * } );\n */\nclass StructureComponent extends Component {\n    constructor(stage, structure, params = {}) {\n        super(stage, structure, Object.assign({ name: structure.name }, params));\n        this.structure = structure;\n        this.trajList = [];\n        this.signals = Object.assign(this.signals, {\n            trajectoryAdded: new Signal(),\n            trajectoryRemoved: new Signal(),\n            defaultAssemblyChanged: new Signal()\n        });\n        this.initSelection(this.parameters.sele);\n        //\n        this.pickBuffer = createRingBuffer(4);\n        this.pickDict = createSimpleDict();\n        this.spacefillRepresentation = this.addRepresentation('spacefill', {\n            sele: 'none',\n            opacity: MeasurementDefaultParams.opacity,\n            color: MeasurementDefaultParams.color,\n            disablePicking: true,\n            radiusType: 'data'\n        }, true);\n        this.distanceRepresentation = this.addRepresentation('distance', MeasurementDefaultParams, true);\n        this.angleRepresentation = this.addRepresentation('angle', MeasurementDefaultParams, true);\n        this.dihedralRepresentation = this.addRepresentation('dihedral', MeasurementDefaultParams, true);\n        this.measureRepresentations = new RepresentationCollection([\n            this.spacefillRepresentation,\n            this.distanceRepresentation,\n            this.angleRepresentation,\n            this.dihedralRepresentation\n        ]);\n        //\n        this.setDefaultAssembly(this.parameters.defaultAssembly);\n    }\n    get defaultParameters() { return StructureComponentDefaultParameters; }\n    /**\n     * Component type\n     * @type {String}\n     */\n    get type() { return 'structure'; }\n    /**\n     * Initialize selection\n     * @private\n     * @param {String} sele - selection string\n     * @return {undefined}\n     */\n    initSelection(sele) {\n        /**\n         * Selection for {@link StructureComponent#structureView}\n         * @private\n         * @type {Selection}\n         */\n        this.selection = new Selection(sele);\n        /**\n         * View on {@link StructureComponent#structure}.\n         * Change its selection via {@link StructureComponent#setSelection}.\n         * @type {StructureView}\n         */\n        this.structureView = new StructureView(this.structure, this.selection);\n        this.selection.signals.stringChanged.add(() => {\n            this.structureView.setSelection(this.selection);\n            this.rebuildRepresentations();\n            this.rebuildTrajectories();\n        });\n    }\n    /**\n     * Set selection of {@link StructureComponent#structureView}\n     * @param {String} string - selection string\n     * @return {StructureComponent} this object\n     */\n    setSelection(string) {\n        this.parameters.sele = string;\n        this.selection.setString(string);\n        return this;\n    }\n    /**\n     * Set the default assembly\n     * @param {String} value - assembly name\n     * @return {undefined}\n     */\n    setDefaultAssembly(value) {\n        // filter out non-exsisting assemblies\n        if (this.structure.biomolDict[value] === undefined)\n            value = '';\n        // only set default assembly when changed\n        if (this.parameters.defaultAssembly !== value) {\n            const reprParams = { defaultAssembly: value };\n            this.reprList.forEach(repr => repr.setParameters(reprParams));\n            this.measureRepresentations.setParameters(reprParams);\n            this.parameters.defaultAssembly = value;\n            this.signals.defaultAssemblyChanged.dispatch(value);\n        }\n        return this;\n    }\n    /**\n     * Rebuild all representations\n     * @return {undefined}\n     */\n    rebuildRepresentations() {\n        this.reprList.forEach((repr) => {\n            repr.build();\n        });\n        this.measureRepresentations.build();\n    }\n    /**\n     * Rebuild all trajectories\n     * @return {undefined}\n     */\n    rebuildTrajectories() {\n        this.trajList.forEach(trajComp => {\n            trajComp.trajectory.setStructure(this.structureView);\n        });\n    }\n    updateRepresentations(what) {\n        super.updateRepresentations(what);\n        this.measureRepresentations.update(what);\n    }\n    /**\n     * Overrides {@link Component.updateRepresentationMatrices}\n     * to also update matrix for measureRepresentations\n     */\n    updateRepresentationMatrices() {\n        super.updateRepresentationMatrices();\n        this.measureRepresentations.setParameters({ matrix: this.matrix });\n    }\n    addRepresentation(type, params = {}, hidden = false) {\n        params.defaultAssembly = this.parameters.defaultAssembly;\n        const reprComp = this._addRepresentation(type, this.structureView, params, hidden);\n        if (!hidden) {\n            reprComp.signals.parametersChanged.add(() => this.measureUpdate());\n        }\n        return reprComp;\n    }\n    /**\n     * Add a new trajectory component to the structure\n     */\n    addTrajectory(trajPath = '', params = {}) {\n        const traj = makeTrajectory(trajPath, this.structureView, params);\n        traj.signals.frameChanged.add(() => {\n            this.updateRepresentations({ 'position': true });\n        });\n        const trajComp = new TrajectoryElement(this.stage, traj, params);\n        this.trajList.push(trajComp);\n        this.signals.trajectoryAdded.dispatch(trajComp);\n        return trajComp;\n    }\n    removeTrajectory(traj) {\n        const idx = this.trajList.indexOf(traj);\n        if (idx !== -1) {\n            this.trajList.splice(idx, 1);\n        }\n        traj.dispose();\n        this.signals.trajectoryRemoved.dispatch(traj);\n    }\n    dispose() {\n        // copy via .slice because side effects may change trajList\n        this.trajList.slice().forEach(traj => traj.dispose());\n        this.trajList.length = 0;\n        this.structure.dispose();\n        this.measureRepresentations.dispose();\n        super.dispose();\n    }\n    autoView(sele, duration) {\n        if (typeof sele === 'number') {\n            duration = sele;\n            sele = '';\n        }\n        this.stage.animationControls.zoomMove(this.getCenter(sele), this.getZoom(sele), defaults(duration, 0));\n    }\n    getBoxUntransformed(sele) {\n        let bb;\n        if (sele) {\n            bb = this.structureView.getBoundingBox(new Selection(sele));\n        }\n        else {\n            bb = this.structureView.boundingBox;\n        }\n        return bb;\n    }\n    getCenterUntransformed(sele) {\n        if (sele && typeof sele === 'string') {\n            return this.structure.atomCenter(new Selection(sele));\n        }\n        else {\n            return this.structure.center;\n        }\n    }\n    superpose(component, align, sele1, sele2) {\n        superpose(this.structureView, component.structureView, align, sele1, sele2);\n        this.updateRepresentations({ 'position': true });\n        return this;\n    }\n    getMaxRepresentationRadius(atomIndex) {\n        let maxRadius = 0;\n        const atom = this.structure.getAtomProxy(atomIndex);\n        this.eachRepresentation(reprElem => {\n            if (reprElem.getVisibility()) {\n                const repr = reprElem.repr; // TODO\n                maxRadius = Math.max(repr.getAtomRadius(atom), maxRadius);\n            }\n        });\n        return maxRadius;\n    }\n    measurePick(atom) {\n        const pickCount = this.pickBuffer.count;\n        if (this.lastPick === atom.index && pickCount >= 1) {\n            if (pickCount > 1) {\n                const atomList = this.pickBuffer.data;\n                const atomListSorted = this.pickBuffer.data.sort();\n                if (this.pickDict.has(atomListSorted)) {\n                    this.pickDict.del(atomListSorted);\n                }\n                else {\n                    this.pickDict.add(atomListSorted, atomList);\n                }\n                if (pickCount === 2) {\n                    this.distanceRepresentation.setParameters({\n                        atomPair: this.pickDict.values.filter(l => l.length === 2)\n                    });\n                }\n                else if (pickCount === 3) {\n                    this.angleRepresentation.setParameters({\n                        atomTriple: this.pickDict.values.filter(l => l.length === 3)\n                    });\n                }\n                else if (pickCount === 4) {\n                    this.dihedralRepresentation.setParameters({\n                        atomQuad: this.pickDict.values.filter(l => l.length === 4)\n                    });\n                }\n            }\n            this.pickBuffer.clear();\n            this.lastPick = undefined;\n        }\n        else {\n            if (!this.pickBuffer.has(atom.index)) {\n                this.pickBuffer.push(atom.index);\n            }\n            this.lastPick = atom.index;\n        }\n        this.measureUpdate();\n    }\n    measureClear() {\n        this.pickBuffer.clear();\n        this.lastPick = undefined;\n        this.spacefillRepresentation.setSelection('none');\n    }\n    measureBuild() {\n        const md = this.measureData();\n        this.distanceRepresentation.setParameters({ atomPair: md.distance });\n        this.angleRepresentation.setParameters({ atomTriple: md.angle });\n        this.dihedralRepresentation.setParameters({ atomQuad: md.dihedral });\n    }\n    measureUpdate() {\n        const pickData = this.pickBuffer.data;\n        const radiusData = {};\n        pickData.forEach(ai => {\n            const r = Math.max(0.1, this.getMaxRepresentationRadius(ai));\n            radiusData[ai] = r * (2.3 - smoothstep(0.1, 2, r));\n        });\n        this.spacefillRepresentation.setSelection(pickData.length ? ('@' + pickData.join(',')) : 'none');\n        if (pickData.length)\n            this.spacefillRepresentation.setParameters({ radiusData });\n    }\n    measureData() {\n        const pv = this.pickDict.values;\n        return {\n            distance: pv.filter(l => l.length === 2),\n            angle: pv.filter(l => l.length === 3),\n            dihedral: pv.filter(l => l.length === 4)\n        };\n    }\n    /**\n     * Remove all measurements, optionally limit to distance, angle or dihedral\n     */\n    removeAllMeasurements(type) {\n        const pd = this.pickDict;\n        const pv = pd.values;\n        const remove = function (len) {\n            pv.filter(l => l.length === len).forEach(l => pd.del(l.slice().sort()));\n        };\n        if (!type || type & 1 /* Distance */)\n            remove(2);\n        if (!type || type & 2 /* Angle */)\n            remove(3);\n        if (!type || type & 4 /* Dihedral */)\n            remove(4);\n        this.measureBuild();\n    }\n    /**\n     * Remove a measurement given as a pair, triple, quad of atom indices\n     */\n    removeMeasurement(atomList) {\n        this.pickDict.del(atomList.slice().sort());\n        this.measureBuild();\n    }\n    /**\n     * Add a measurement given as a pair, triple, quad of atom indices\n     */\n    addMeasurement(atomList) {\n        if (atomList.length < 2 || atomList.length > 4)\n            return;\n        const atomListSorted = atomList.slice().sort();\n        if (!this.pickDict.has(atomListSorted)) {\n            this.pickDict.add(atomListSorted, atomList);\n        }\n        this.measureBuild();\n    }\n}\nComponentRegistry.add('structure', StructureComponent);\nComponentRegistry.add('structureview', StructureComponent);\nexport default StructureComponent;\n//# sourceMappingURL=structure-component.js.map","/**\n * @file Surface Component\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ComponentRegistry } from '../globals';\nimport Component from './component';\n/**\n * Component wrapping a {@link Surface} object\n *\n * @example\n * // get a surface component by loading a surface file into the stage\n * stage.loadFile( \"url/for/surface\" ).then( function( surfaceComponent ){\n *     surfaceComponent.addRepresentation( \"surface\" );\n *     surfaceComponent.autoView();\n * } );\n */\nclass SurfaceComponent extends Component {\n    /**\n     * @param {Stage} stage - stage object the component belongs to\n     * @param {Surface} surface - surface object to wrap\n     * @param {ComponentParameters} params - component parameters\n     */\n    constructor(stage, surface, params = {}) {\n        super(stage, surface, Object.assign({ name: surface.name }, params));\n        this.surface = surface;\n    }\n    /**\n     * Component type\n     * @type {String}\n     */\n    get type() { return 'surface'; }\n    /**\n     * Add a new surface representation to the component\n     * @param {String} type - the name of the representation, one of:\n     *                        surface, dot.\n     * @param {SurfaceRepresentationParameters} params - representation parameters\n     * @return {RepresentationComponent} the created representation wrapped into\n     *                                   a representation component object\n     */\n    addRepresentation(type, params = {}) {\n        return this._addRepresentation(type, this.surface, params);\n    }\n    getBoxUntransformed() {\n        return this.surface.boundingBox;\n    }\n    getCenterUntransformed() {\n        return this.surface.center;\n    }\n    dispose() {\n        this.surface.dispose();\n        super.dispose();\n    }\n}\nComponentRegistry.add('surface', SurfaceComponent);\nexport default SurfaceComponent;\n//# sourceMappingURL=surface-component.js.map","/**\n * @file Volume Component\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ComponentRegistry } from '../globals';\nimport Component from './component';\n/**\n * Component wrapping a {@link Volume} object\n *\n * @example\n * // get a volume component by loading a volume file into the stage\n * stage.loadFile( \"url/for/volume\" ).then(function(volumeComponent){\n *   volumeComponent.addRepresentation('surface');\n *   volumeComponent.autoView();\n * });\n */\nclass VolumeComponent extends Component {\n    /**\n     * @param {Stage} stage - stage object the component belongs to\n     * @param {Volume} volume - volume object to wrap\n     * @param {ComponentParameters} params - component parameters\n     */\n    constructor(stage, volume, params = {}) {\n        super(stage, volume, Object.assign({ name: volume.name }, params));\n        this.volume = volume;\n    }\n    /**\n     * Component type\n     * @type {String}\n     */\n    get type() { return 'volume'; }\n    /**\n     * Add a new volume representation to the component\n     */\n    addRepresentation(type, params = {}) {\n        return this._addRepresentation(type, this.volume, params);\n    }\n    getBoxUntransformed() {\n        return this.volume.boundingBox;\n    }\n    getCenterUntransformed() {\n        return this.volume.center;\n    }\n    dispose() {\n        this.volume.dispose();\n        super.dispose();\n    }\n}\nComponentRegistry.add('volume', VolumeComponent);\nexport default VolumeComponent;\n//# sourceMappingURL=volume-component.js.map","/**\n * @file Component Collection\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport Collection from './collection';\nclass ComponentCollection extends Collection {\n    addRepresentation(name, params) {\n        return this.forEach((comp) => comp.addRepresentation(name, params));\n    }\n    autoView(duration) {\n        return this.forEach((comp) => comp.autoView(duration));\n    }\n}\nexport default ComponentCollection;\n//# sourceMappingURL=component-collection.js.map","/**\n * @file Stage\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3 } from 'three';\nimport { Signal } from 'signals';\nimport { Debug, Log, Mobile, ComponentRegistry, ParserRegistry } from '../globals';\nimport { defaults, createParams, updateParams } from '../utils';\nimport { degToRad, clamp, pclamp } from '../math/math-utils';\nimport Counter from '../utils/counter';\nimport Viewer from '../viewer/viewer';\nimport MouseObserver from './mouse-observer';\nimport TrackballControls from '../controls/trackball-controls';\nimport PickingControls from '../controls/picking-controls';\nimport ViewerControls from '../controls/viewer-controls';\nimport AnimationControls from '../controls/animation-controls';\nimport MouseControls from '../controls/mouse-controls';\nimport KeyControls from '../controls/key-controls';\nimport PickingBehavior from './picking-behavior';\nimport MouseBehavior from './mouse-behavior';\nimport AnimationBehavior from './animation-behavior';\nimport KeyBehavior from './key-behavior';\nimport StructureComponent from '../component/structure-component';\nimport SurfaceComponent from '../component/surface-component';\nimport VolumeComponent from '../component/volume-component';\nimport ComponentCollection from '../component/component-collection';\nimport RepresentationCollection from '../component/representation-collection';\nimport { autoLoad, getFileInfo } from '../loader/loader-utils';\nimport Selection from '../selection/selection';\nfunction matchName(name, object) {\n    if (name instanceof RegExp) {\n        return object.name.match(name) !== null;\n    }\n    else {\n        return object.name === name;\n    }\n}\nconst tmpZoomVector = new Vector3();\nexport const StageDefaultParameters = {\n    impostor: true,\n    quality: 'medium',\n    workerDefault: true,\n    sampleLevel: 0,\n    backgroundColor: 'black',\n    rotateSpeed: 2.0,\n    zoomSpeed: 1.2,\n    panSpeed: 1.0,\n    clipNear: 0,\n    clipFar: 100,\n    clipDist: 10,\n    clipMode: 'scene',\n    clipScale: 'relative',\n    fogNear: 50,\n    fogFar: 100,\n    cameraFov: 40,\n    cameraEyeSep: 0.3,\n    cameraType: 'perspective',\n    lightColor: 0xdddddd,\n    lightIntensity: 1.0,\n    ambientColor: 0xdddddd,\n    ambientIntensity: 0.2,\n    hoverTimeout: 0,\n    tooltip: true,\n    mousePreset: 'default'\n};\n/**\n * Stage class, central for creating molecular scenes with NGL.\n *\n * @example\n * var stage = new Stage( \"elementId\", { backgroundColor: \"white\" } );\n */\nclass Stage {\n    constructor(idOrElement, params = {}) {\n        this.signals = {\n            parametersChanged: new Signal(),\n            fullscreenChanged: new Signal(),\n            componentAdded: new Signal(),\n            componentRemoved: new Signal(),\n            clicked: new Signal(),\n            hovered: new Signal()\n        };\n        /**\n         * Counter that keeps track of various potentially long-running tasks,\n         * including file loading and surface calculation.\n         */\n        this.tasks = new Counter();\n        this.compList = [];\n        this.defaultFileParams = {};\n        this.logList = [];\n        this.viewer = new Viewer(idOrElement);\n        if (!this.viewer.renderer)\n            return;\n        this.tooltip = document.createElement('div');\n        Object.assign(this.tooltip.style, {\n            display: 'none',\n            position: 'fixed',\n            zIndex: '1000000',\n            pointerEvents: 'none',\n            backgroundColor: 'rgba( 0, 0, 0, 0.6 )',\n            color: 'lightgrey',\n            padding: '8px',\n            fontFamily: 'sans-serif'\n        });\n        this.viewer.container.appendChild(this.tooltip);\n        this.mouseObserver = new MouseObserver(this.viewer.renderer.domElement);\n        this.viewerControls = new ViewerControls(this);\n        this.trackballControls = new TrackballControls(this);\n        this.pickingControls = new PickingControls(this);\n        this.animationControls = new AnimationControls(this);\n        this.mouseControls = new MouseControls(this);\n        this.keyControls = new KeyControls(this);\n        this.pickingBehavior = new PickingBehavior(this);\n        this.mouseBehavior = new MouseBehavior(this);\n        this.animationBehavior = new AnimationBehavior(this);\n        this.keyBehavior = new KeyBehavior(this);\n        this.spinAnimation = this.animationControls.spin([0, 1, 0], 0.005);\n        this.spinAnimation.pause(true);\n        this.rockAnimation = this.animationControls.rock([0, 1, 0], 0.005);\n        this.rockAnimation.pause(true);\n        // must come after the viewer has been instantiated\n        this.parameters = createParams(params, StageDefaultParameters);\n        this.setParameters(this.parameters);\n        this.viewer.animate();\n    }\n    /**\n     * Set stage parameters\n     */\n    setParameters(params = {}) {\n        updateParams(this.parameters, params);\n        const p = params;\n        const tp = this.parameters;\n        const viewer = this.viewer;\n        const controls = this.trackballControls;\n        // apply parameters\n        if (p.quality !== undefined)\n            this.setQuality(tp.quality);\n        if (p.impostor !== undefined)\n            this.setImpostor(tp.impostor);\n        if (p.rotateSpeed !== undefined)\n            controls.rotateSpeed = tp.rotateSpeed;\n        if (p.zoomSpeed !== undefined)\n            controls.zoomSpeed = tp.zoomSpeed;\n        if (p.panSpeed !== undefined)\n            controls.panSpeed = tp.panSpeed;\n        if (p.mousePreset !== undefined)\n            this.mouseControls.preset(tp.mousePreset);\n        this.mouseObserver.setParameters({ hoverTimeout: tp.hoverTimeout });\n        viewer.setClip(tp.clipNear, tp.clipFar, tp.clipDist, tp.clipMode, tp.clipScale);\n        viewer.setFog(undefined, tp.fogNear, tp.fogFar);\n        viewer.setCamera(tp.cameraType, tp.cameraFov, tp.cameraEyeSep);\n        viewer.setSampling(tp.sampleLevel);\n        viewer.setBackground(tp.backgroundColor);\n        viewer.setLight(tp.lightColor, tp.lightIntensity, tp.ambientColor, tp.ambientIntensity);\n        this.signals.parametersChanged.dispatch(this.getParameters());\n        return this;\n    }\n    log(msg) {\n        console.log('STAGE LOG', msg);\n        this.logList.push(msg);\n    }\n    /**\n     * Get stage parameters\n     */\n    getParameters() {\n        return Object.assign({}, this.parameters);\n    }\n    /**\n     * Create default representations for the given component\n     * @param  {StructureComponent|SurfaceComponent} object - component to create the representations for\n     * @return {undefined}\n     */\n    defaultFileRepresentation(component) {\n        if (component instanceof StructureComponent) {\n            component.setSelection('/0');\n            let atomCount, residueCount, instanceCount;\n            const structure = component.structure;\n            if (structure.biomolDict.BU1) {\n                const assembly = structure.biomolDict.BU1;\n                atomCount = assembly.getAtomCount(structure);\n                residueCount = assembly.getResidueCount(structure);\n                instanceCount = assembly.getInstanceCount();\n                component.setDefaultAssembly('BU1');\n            }\n            else {\n                atomCount = structure.getModelProxy(0).atomCount;\n                residueCount = structure.getModelProxy(0).residueCount;\n                instanceCount = 1;\n            }\n            let sizeScore = atomCount;\n            if (Mobile) {\n                sizeScore *= 4;\n            }\n            const backboneOnly = structure.atomStore.count / structure.residueStore.count < 2;\n            if (backboneOnly) {\n                sizeScore *= 10;\n            }\n            let colorScheme = 'chainname';\n            let colorScale = 'RdYlBu';\n            let colorReverse = false;\n            if (structure.getChainnameCount(new Selection('polymer and /0')) === 1) {\n                colorScheme = 'residueindex';\n                colorScale = 'spectral';\n                colorReverse = true;\n            }\n            if (Debug)\n                console.log(sizeScore, atomCount, instanceCount, backboneOnly);\n            if (residueCount / instanceCount < 4) {\n                component.addRepresentation('ball+stick', {\n                    colorScheme: 'element',\n                    radiusScale: 2.0,\n                    aspectRatio: 1.5,\n                    bondScale: 0.3,\n                    bondSpacing: 0.75,\n                    quality: 'auto'\n                });\n            }\n            else if ((instanceCount > 5 && sizeScore > 15000) || sizeScore > 700000) {\n                let scaleFactor = (Math.min(1.5, Math.max(0.1, 2000 / (sizeScore / instanceCount))));\n                if (backboneOnly)\n                    scaleFactor = Math.min(scaleFactor, 0.15);\n                component.addRepresentation('surface', {\n                    colorScheme, colorScale, colorReverse,\n                    sele: 'polymer',\n                    surfaceType: 'sas',\n                    probeRadius: 1.4,\n                    scaleFactor: scaleFactor,\n                    useWorker: false\n                });\n            }\n            else if (sizeScore > 250000) {\n                component.addRepresentation('backbone', {\n                    colorScheme, colorScale, colorReverse,\n                    lineOnly: true\n                });\n            }\n            else if (sizeScore > 100000) {\n                component.addRepresentation('backbone', {\n                    colorScheme, colorScale, colorReverse,\n                    quality: 'low',\n                    disableImpostor: true,\n                    radiusScale: 2.0\n                });\n            }\n            else if (sizeScore > 80000) {\n                component.addRepresentation('backbone', {\n                    colorScheme, colorScale, colorReverse,\n                    radiusScale: 2.0\n                });\n            }\n            else {\n                component.addRepresentation('cartoon', {\n                    colorScheme, colorScale, colorReverse,\n                    radiusScale: 0.7,\n                    aspectRatio: 5,\n                    quality: 'auto'\n                });\n                if (sizeScore < 50000) {\n                    component.addRepresentation('base', {\n                        colorScheme, colorScale, colorReverse,\n                        quality: 'auto'\n                    });\n                }\n                component.addRepresentation('ball+stick', {\n                    sele: 'ligand',\n                    colorScheme: 'element',\n                    radiusScale: 2.0,\n                    aspectRatio: 1.5,\n                    bondScale: 0.3,\n                    bondSpacing: 0.75,\n                    quality: 'auto'\n                });\n            }\n            // add frames as trajectory\n            if (component.structure.frames.length) {\n                component.addTrajectory();\n            }\n        }\n        else if (component instanceof SurfaceComponent) {\n            component.addRepresentation('surface');\n        }\n        else if (component instanceof VolumeComponent) {\n            component.addRepresentation('surface');\n        }\n        this.tasks.onZeroOnce(this.autoView, this);\n    }\n    /**\n     * Load a file onto the stage\n     *\n     * @example\n     * // load from URL\n     * stage.loadFile( \"http://files.rcsb.org/download/5IOS.cif\" );\n     *\n     * @example\n     * // load binary data in CCP4 format via a Blob\n     * var binaryBlob = new Blob( [ ccp4Data ], { type: 'application/octet-binary'} );\n     * stage.loadFile( binaryBlob, { ext: \"ccp4\" } );\n     *\n     * @example\n     * // load string data in PDB format via a Blob\n     * var stringBlob = new Blob( [ pdbData ], { type: 'text/plain'} );\n     * stage.loadFile( stringBlob, { ext: \"pdb\" } );\n     *\n     * @example\n     * // load a File object\n     * stage.loadFile( file );\n     *\n     * @example\n     * // load from URL and add a 'ball+stick' representation with double/triple bonds\n     * stage.loadFile( \"http://files.rcsb.org/download/1crn.cif\" ).then( function( comp ){\n     *     comp.addRepresentation( \"ball+stick\", { multipleBond: true } );\n     * } );\n     *\n     * @param  {String|File|Blob} path - either a URL or an object containing the file data\n     * @param  {LoaderParameters} params - loading parameters\n     * @param  {Boolean} params.asTrajectory - load multi-model structures as a trajectory\n     * @return {Promise} A Promise object that resolves to a {@link StructureComponent},\n     *                   a {@link SurfaceComponent} or a {@link ScriptComponent} object,\n     *                   depending on the type of the loaded file.\n     */\n    loadFile(path, params = {}) {\n        const p = Object.assign({}, this.defaultFileParams, params);\n        const name = getFileInfo(path).name;\n        this.tasks.increment();\n        this.log(`loading file '${name}'`);\n        const onLoadFn = (object) => {\n            this.log(`loaded '${name}'`);\n            const component = this.addComponentFromObject(object, p);\n            if (p.defaultRepresentation) {\n                this.defaultFileRepresentation(component);\n            }\n            this.tasks.decrement();\n            return component;\n        };\n        const onErrorFn = (e) => {\n            this.tasks.decrement();\n            const errorMsg = `error loading file: '${e}'`;\n            this.log(errorMsg);\n            throw errorMsg; // throw so it can be catched\n        };\n        const ext = defaults(p.ext, getFileInfo(path).ext);\n        let promise;\n        if (ParserRegistry.isTrajectory(ext)) {\n            promise = Promise.reject(new Error(`loadFile: ext '${ext}' is a trajectory and must be loaded into a structure component`));\n        }\n        else {\n            promise = autoLoad(path, p);\n        }\n        return promise.then(onLoadFn, onErrorFn);\n    }\n    loadScript(path) {\n        const name = getFileInfo(path).name;\n        this.log(`loading script '${name}'`);\n        return autoLoad(path).then((script) => {\n            this.tasks.increment();\n            this.log(`running script '${name}'`);\n            script.run(this).then(() => {\n                this.tasks.decrement();\n                this.log(`finished script '${name}'`);\n            });\n            this.log(`called script '${name}'`);\n        }, (error) => {\n            this.tasks.decrement();\n            const errorMsg = `errored script '${name}' \"${error}\"`;\n            this.log(errorMsg);\n            throw errorMsg; // throw so it can be catched\n        });\n    }\n    /**\n     * Add the given component to the stage\n     * @param {Component} component - the component to add\n     * @return {undefined}\n     */\n    addComponent(component) {\n        if (!component) {\n            Log.warn('Stage.addComponent: no component given');\n            return;\n        }\n        this.compList.push(component);\n        this.signals.componentAdded.dispatch(component);\n    }\n    /**\n     * Create a component from the given object and add to the stage\n     */\n    addComponentFromObject(object, params = {}) {\n        const CompClass = ComponentRegistry.get(object.type);\n        if (CompClass) {\n            const component = new CompClass(this, object, params);\n            this.addComponent(component);\n            return component;\n        }\n        Log.warn('no component for object type', object.type);\n    }\n    /**\n     * Remove the given component\n     * @param  {Component} component - the component to remove\n     * @return {undefined}\n     */\n    removeComponent(component) {\n        const idx = this.compList.indexOf(component);\n        if (idx !== -1) {\n            this.compList.splice(idx, 1);\n            component.dispose();\n            this.signals.componentRemoved.dispatch(component);\n        }\n    }\n    /**\n     * Remove all components from the stage\n     */\n    removeAllComponents() {\n        this.compList.slice().forEach(o => this.removeComponent(o));\n    }\n    /**\n     * Handle any size-changes of the container element\n     * @return {undefined}\n     */\n    handleResize() {\n        this.viewer.handleResize();\n    }\n    /**\n     * Set width and height\n     * @param {String} width - CSS width value\n     * @param {String} height - CSS height value\n     * @return {undefined}\n     */\n    setSize(width, height) {\n        const container = this.viewer.container;\n        if (container !== document.body) {\n            if (width !== undefined)\n                container.style.width = width;\n            if (height !== undefined)\n                container.style.height = height;\n            this.handleResize();\n        }\n    }\n    /**\n     * Toggle fullscreen\n     * @param  {Element} [element] - document element to put into fullscreen,\n     *                               defaults to the viewer container\n     * @return {undefined}\n     */\n    toggleFullscreen(element) {\n        if (!document.fullscreenEnabled && !document.mozFullScreenEnabled &&\n            !document.webkitFullscreenEnabled && !document.msFullscreenEnabled) {\n            Log.log('fullscreen mode (currently) not possible');\n            return;\n        }\n        const self = this;\n        element = element || this.viewer.container;\n        this.lastFullscreenElement = element;\n        //\n        function getFullscreenElement() {\n            return document.fullscreenElement || document.mozFullScreenElement ||\n                document.webkitFullscreenElement || document.msFullscreenElement;\n        }\n        function resizeElement() {\n            if (!getFullscreenElement() && self.lastFullscreenElement) {\n                const element = self.lastFullscreenElement;\n                element.style.width = element.dataset.normalWidth || '';\n                element.style.height = element.dataset.normalHeight || '';\n                document.removeEventListener('fullscreenchange', resizeElement);\n                document.removeEventListener('mozfullscreenchange', resizeElement);\n                document.removeEventListener('webkitfullscreenchange', resizeElement);\n                document.removeEventListener('MSFullscreenChange', resizeElement);\n                self.handleResize();\n                self.signals.fullscreenChanged.dispatch(false);\n            }\n        }\n        //\n        if (!getFullscreenElement()) {\n            element.dataset.normalWidth = element.style.width || '';\n            element.dataset.normalHeight = element.style.height || '';\n            element.style.width = window.screen.width + 'px';\n            element.style.height = window.screen.height + 'px';\n            if (element.requestFullscreen) {\n                element.requestFullscreen();\n            }\n            else if (element.msRequestFullscreen) {\n                element.msRequestFullscreen();\n            }\n            else if (element.mozRequestFullScreen) {\n                element.mozRequestFullScreen();\n            }\n            else if (element.webkitRequestFullscreen) {\n                element.webkitRequestFullscreen();\n            }\n            document.addEventListener('fullscreenchange', resizeElement);\n            document.addEventListener('mozfullscreenchange', resizeElement);\n            document.addEventListener('webkitfullscreenchange', resizeElement);\n            document.addEventListener('MSFullscreenChange', resizeElement);\n            this.handleResize();\n            this.signals.fullscreenChanged.dispatch(true);\n            // workaround for Safari\n            setTimeout(function () { self.handleResize(); }, 100);\n        }\n        else {\n            if (document.exitFullscreen) {\n                document.exitFullscreen();\n            }\n            else if (document.msExitFullscreen) {\n                document.msExitFullscreen();\n            }\n            else if (document.mozCancelFullScreen) {\n                document.mozCancelFullScreen();\n            }\n            else if (document.webkitExitFullscreen) {\n                document.webkitExitFullscreen();\n            }\n        }\n    }\n    /**\n     * Set spin\n     * @param {Boolean} flag - if true start rocking and stop spinning\n     * @return {undefined}\n     */\n    setSpin(flag) {\n        if (flag) {\n            this.spinAnimation.resume(true);\n            this.rockAnimation.pause(true);\n        }\n        else {\n            this.spinAnimation.pause(true);\n        }\n    }\n    /**\n     * Set rock\n     * @param {Boolean} flag - if true start rocking and stop spinning\n     * @return {undefined}\n     */\n    setRock(flag) {\n        if (flag) {\n            this.rockAnimation.resume(true);\n            this.spinAnimation.pause(true);\n        }\n        else {\n            this.rockAnimation.pause(true);\n        }\n    }\n    /**\n     * Toggle spin\n     * @return {undefined}\n     */\n    toggleSpin() {\n        this.setSpin(this.spinAnimation.paused);\n    }\n    /**\n     * Toggle rock\n     * @return {undefined}\n     */\n    toggleRock() {\n        this.setRock(this.rockAnimation.paused);\n    }\n    /**\n     * Get the current focus from the current clipNear value expressed\n     * as 0 (full view) to 100 (completely clipped)\n     * Negative values may be returned in some cases.\n     *\n     * In 'camera' clipMode focus isn't applicable, this method returns 0.0\n     *\n     * @return {number} focus\n     */\n    getFocus() {\n        const p = this.parameters;\n        if (p.clipMode !== 'scene')\n            return 0.0;\n        let clipNear = p.clipNear;\n        if (p.clipScale === 'absolute') {\n            clipNear = this.viewer.absoluteToRelative(clipNear);\n        }\n        return clipNear * 2;\n    }\n    /**\n     * Set the focus, a value of 0 sets clipping planes to show full scene,\n     * while a value of 100 will compltely clip the scene.\n     *\n     * @param {number} value focus\n     */\n    setFocus(value) {\n        if (this.parameters.clipMode !== 'scene')\n            return;\n        let clipNear;\n        let clipFar;\n        let fogNear;\n        let fogFar;\n        if (this.parameters.clipScale === 'relative') {\n            clipNear = clamp(value / 2.0, 0.0, 49.9);\n            clipFar = 100 - clipNear;\n            fogNear = 50;\n            fogFar = pclamp(2 * clipFar - 50);\n        }\n        else {\n            clipNear = this.viewer.relativeToAbsolute(value / 2.0);\n            clipFar = clipNear;\n            fogNear = 0;\n            fogFar = 2 * clipFar;\n        }\n        this.setParameters({ clipNear, clipFar, fogNear, fogFar });\n    }\n    getZoomForBox(boundingBox) {\n        const bbSize = boundingBox.getSize(tmpZoomVector);\n        const maxSize = Math.max(bbSize.x, bbSize.y, bbSize.z);\n        const minSize = Math.min(bbSize.x, bbSize.y, bbSize.z);\n        let distance = maxSize + Math.sqrt(minSize);\n        const fov = degToRad(this.viewer.perspectiveCamera.fov);\n        const width = this.viewer.width;\n        const height = this.viewer.height;\n        const aspect = width / height;\n        const aspectFactor = (height < width ? 1 : aspect);\n        distance = Math.abs(((distance * 0.5) / aspectFactor) / Math.sin(fov / 2));\n        distance += this.parameters.clipDist;\n        return -distance;\n    }\n    getBox() {\n        return this.viewer.boundingBox;\n    }\n    getZoom() {\n        return this.getZoomForBox(this.getBox());\n    }\n    getCenter(optionalTarget) {\n        return this.getBox().getCenter(optionalTarget || new Vector3());\n    }\n    /**\n     * Add a zoom and a move animation with automatic targets\n     * @param  {Integer} duration - animation time in milliseconds\n     * @return {undefined}\n     */\n    autoView(duration) {\n        this.animationControls.zoomMove(this.getCenter(), this.getZoom(), defaults(duration, 0));\n    }\n    /**\n     * Make image from what is shown in a viewer canvas\n     */\n    makeImage(params = {}) {\n        return new Promise((resolve, reject) => {\n            this.tasks.onZeroOnce(() => {\n                this.tasks.increment();\n                this.viewer.makeImage(params).then(blob => {\n                    this.tasks.decrement();\n                    resolve(blob);\n                }).catch(e => {\n                    this.tasks.decrement();\n                    reject(e);\n                });\n            });\n        });\n    }\n    setImpostor(value) {\n        this.parameters.impostor = value;\n        const types = [\n            'spacefill', 'ball+stick', 'licorice', 'hyperball',\n            'backbone', 'rocket', 'helixorient', 'contact', 'distance',\n            'dot'\n        ];\n        this.eachRepresentation(function (reprElem) {\n            if (!types.includes(reprElem.getType()))\n                return;\n            const p = reprElem.getParameters(); // TODO\n            p.disableImpostor = !value;\n            reprElem.build(p);\n        });\n    }\n    setQuality(value) {\n        this.parameters.quality = value;\n        const types = [\n            'tube', 'cartoon', 'ribbon', 'trace', 'rope'\n        ];\n        const impostorTypes = [\n            'spacefill', 'ball+stick', 'licorice', 'hyperball',\n            'backbone', 'rocket', 'helixorient', 'contact', 'distance',\n            'dot'\n        ];\n        this.eachRepresentation(function (repr) {\n            const p = repr.getParameters(); // TODO\n            if (!types.includes(repr.getType())) {\n                if (!impostorTypes.includes(repr.getType()))\n                    return;\n                if (!p.disableImpostor) {\n                    repr.repr.quality = value; // TODO\n                    return;\n                }\n            }\n            p.quality = value;\n            repr.build(p);\n        });\n    }\n    /**\n     * Iterator over each component and executing the callback\n     */\n    eachComponent(callback, type) {\n        this.compList.slice().forEach(comp => {\n            if (type === undefined || type === comp.type)\n                callback(comp);\n        });\n    }\n    /**\n     * Iterator over each representation and executing the callback\n     */\n    eachRepresentation(callback, type) {\n        this.eachComponent(comp => {\n            comp.reprList.slice().forEach(reprElem => {\n                if (type === undefined || type === reprElem.getType())\n                    callback(reprElem, comp);\n            });\n        });\n    }\n    /**\n     * Get collection of components by name\n     */\n    getComponentsByName(name) {\n        const compList = [];\n        this.eachComponent(comp => {\n            if (name === undefined || matchName(name, comp))\n                compList.push(comp);\n        });\n        return new ComponentCollection(compList);\n    }\n    /**\n     * Get collection of components by object\n     */\n    getComponentsByObject(object) {\n        const compList = [];\n        this.eachComponent(comp => {\n            if (comp.object === object)\n                compList.push(comp);\n        });\n        return new ComponentCollection(compList);\n    }\n    /**\n     * Get collection of representations by name\n     */\n    getRepresentationsByName(name) {\n        const reprList = [];\n        this.eachRepresentation((repr, comp) => {\n            if (name === undefined || matchName(name, repr))\n                reprList.push(repr);\n        });\n        return new RepresentationCollection(reprList);\n    }\n    measureClear() {\n        this.eachComponent((sc) => sc.measureClear(), 'structure');\n    }\n    measureUpdate() {\n        this.eachComponent((sc) => sc.measureUpdate(), 'structure');\n    }\n    /**\n     * Cleanup when disposing of a stage object\n     */\n    dispose() {\n        this.tasks.dispose();\n        this.viewer.dispose();\n    }\n}\nexport default Stage;\n//# sourceMappingURL=stage.js.map","/**\n * @file Shape Component\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ComponentRegistry } from '../globals';\nimport Component from './component';\n/**\n * Component wrapping a {@link Shape} object\n *\n * @example\n * // get a shape component by adding a shape object to the stage\n * var shape = new NGL.Shape( \"shape\" );\n * shape.addSphere( [ 0, 0, 0 ], [ 1, 0, 0 ], 1.5 );\n * var shapeComponent = stage.addComponentFromObject( shape );\n * shapeComponent.addRepresentation( \"buffer\" );\n */\nclass ShapeComponent extends Component {\n    constructor(stage, shape, params = {}) {\n        super(stage, shape, Object.assign({ name: shape.name }, params));\n        this.shape = shape;\n    }\n    /**\n     * Component type\n     * @type {String}\n     */\n    get type() { return 'shape'; }\n    /**\n     * Add a new shape representation to the component\n     * @param {String} type - the name of the representation, one of:\n     *                        buffer.\n     * @param {BufferRepresentationParameters} params - representation parameters\n     * @return {RepresentationComponent} the created representation wrapped into\n     *                                   a representation component object\n     */\n    addRepresentation(type, params = {}) {\n        return this._addRepresentation(type, this.shape, params);\n    }\n    getBoxUntransformed() {\n        return this.shape.boundingBox;\n    }\n    getCenterUntransformed() {\n        return this.shape.center;\n    }\n    dispose() {\n        this.shape.dispose();\n        super.dispose();\n    }\n}\nComponentRegistry.add('shape', ShapeComponent);\nexport default ShapeComponent;\n//# sourceMappingURL=shape-component.js.map","/**\n * @file Atomindex Colormaker\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ColormakerRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport Colormaker from './colormaker';\n/**\n * Color by atom index. The {@link AtomProxy.index} property is used for coloring.\n * Each {@link ModelProxy} of a {@link Structure} is colored seperately. The\n * `params.domain` parameter is ignored.\n *\n * __Name:__ _atomindex_\n *\n * @example\n * stage.loadFile( \"rcsb://1crn\" ).then( function( o ){\n *     o.addRepresentation( \"ball+stick\", { colorScheme: \"atomindex\" } );\n *     o.autoView();\n * } );\n */\nclass AtomindexColormaker extends Colormaker {\n    constructor(params) {\n        super(params);\n        if (!params.scale) {\n            this.parameters.scale = 'rainbow';\n            this.parameters.reverse = defaults(params.reverse, true);\n        }\n        this.scalePerModel = {};\n        params.structure.eachModel((mp) => {\n            this.parameters.domain = [mp.atomOffset, mp.atomEnd];\n            this.scalePerModel[mp.index] = this.getScale(); // TODO\n        });\n    }\n    /**\n     * get color for an atom\n     * @param  {AtomProxy} atom - atom to get color for\n     * @return {Integer} hex atom color\n     */\n    atomColor(atom) {\n        return this.scalePerModel[atom.modelIndex](atom.index);\n    }\n}\nColormakerRegistry.add('atomindex', AtomindexColormaker); // TODO\nexport default AtomindexColormaker;\n//# sourceMappingURL=atomindex-colormaker.js.map","/**\n * @file Bfactor Colormaker\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ColormakerRegistry } from '../globals';\nimport Colormaker from './colormaker';\nimport Selection from '../selection/selection';\n/**\n * Color by b-factor. The {@link AtomProxy.bfactor} property is used for coloring.\n * By default the min and max b-factor values are used for the scale`s domain.\n *\n * __Name:__ _bfactor_\n *\n * @example\n * stage.loadFile( \"rcsb://1crn\" ).then( function( o ){\n *     o.addRepresentation( \"ball+stick\", { colorScheme: \"bfactor\" } );\n *     o.autoView();\n * } );\n */\nclass BfactorColormaker extends Colormaker {\n    constructor(params) {\n        super(params);\n        if (!params.scale) {\n            this.parameters.scale = 'OrRd';\n        }\n        if (!params.domain) {\n            let selection;\n            let min = Infinity;\n            let max = -Infinity;\n            if (params.sele) {\n                selection = new Selection(params.sele);\n            }\n            params.structure.eachAtom(function (a) {\n                const bfactor = a.bfactor;\n                min = Math.min(min, bfactor);\n                max = Math.max(max, bfactor);\n            }, selection);\n            this.parameters.domain = [min, max];\n        }\n        this.bfactorScale = this.getScale();\n    }\n    atomColor(a) {\n        return this.bfactorScale(a.bfactor);\n    }\n}\nColormakerRegistry.add('bfactor', BfactorColormaker);\nexport default BfactorColormaker;\n//# sourceMappingURL=bfactor-colormaker.js.map","/**\n * @file Chainid Colormaker\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ColormakerRegistry } from '../globals';\nimport Colormaker from './colormaker';\n/**\n * Color by chain id\n */\nclass ChainidColormaker extends Colormaker {\n    constructor(params) {\n        super(params);\n        this.chainidDictPerModel = {};\n        this.scalePerModel = {};\n        if (!params.scale) {\n            this.parameters.scale = 'Spectral';\n        }\n        params.structure.eachModel((mp) => {\n            let i = 0;\n            const chainidDict = {};\n            mp.eachChain(function (cp) {\n                if (chainidDict[cp.chainid] === undefined) {\n                    chainidDict[cp.chainid] = i;\n                    i += 1;\n                }\n            });\n            this.parameters.domain = [0, i - 1];\n            this.chainidDictPerModel[mp.index] = chainidDict;\n            this.scalePerModel[mp.index] = this.getScale();\n        });\n    }\n    atomColor(a) {\n        const chainidDict = this.chainidDictPerModel[a.modelIndex];\n        return this.scalePerModel[a.modelIndex](chainidDict[a.chainid]);\n    }\n}\nColormakerRegistry.add('chainid', ChainidColormaker);\nexport default ChainidColormaker;\n//# sourceMappingURL=chainid-colormaker.js.map","/**\n * @file Chainindex Colormaker\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ColormakerRegistry } from '../globals';\nimport Colormaker from './colormaker';\n/**\n * Color by chain index\n */\nclass ChainindexColormaker extends Colormaker {\n    constructor(params) {\n        super(params);\n        this.scalePerModel = {};\n        if (!params.scale) {\n            this.parameters.scale = 'Spectral';\n        }\n        params.structure.eachModel((mp) => {\n            this.parameters.domain = [mp.chainOffset, mp.chainEnd];\n            this.scalePerModel[mp.index] = this.getScale();\n        });\n    }\n    atomColor(a) {\n        return this.scalePerModel[a.modelIndex](a.chainIndex);\n    }\n}\nColormakerRegistry.add('chainindex', ChainindexColormaker);\nexport default ChainindexColormaker;\n//# sourceMappingURL=chainindex-colormaker.js.map","/**\n * @file Chainname Colormaker\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ColormakerRegistry } from '../globals';\nimport Colormaker from './colormaker';\n/**\n * Color by chain name\n */\nclass ChainnameColormaker extends Colormaker {\n    constructor(params) {\n        super(params);\n        this.chainnameDictPerModel = {};\n        this.scalePerModel = {};\n        if (!params.scale) {\n            this.parameters.scale = 'Spectral';\n        }\n        params.structure.eachModel((mp) => {\n            let i = 0;\n            const chainnameDict = {};\n            mp.eachChain(function (cp) {\n                if (chainnameDict[cp.chainname] === undefined) {\n                    chainnameDict[cp.chainname] = i;\n                    i += 1;\n                }\n            });\n            this.parameters.domain = [0, i - 1];\n            this.chainnameDictPerModel[mp.index] = chainnameDict;\n            this.scalePerModel[mp.index] = this.getScale();\n        });\n    }\n    atomColor(a) {\n        const chainnameDict = this.chainnameDictPerModel[a.modelIndex];\n        return this.scalePerModel[a.modelIndex](chainnameDict[a.chainname]);\n    }\n}\nColormakerRegistry.add('chainname', ChainnameColormaker);\nexport default ChainnameColormaker;\n//# sourceMappingURL=chainname-colormaker.js.map","/**\n * @file Densityfit Colormaker\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ColormakerRegistry } from '../globals';\nimport Colormaker from './colormaker';\n/**\n * Color by validation density fit\n */\nclass DensityfitColormaker extends Colormaker {\n    constructor(params) {\n        super(params);\n        this.rsrzDict = {};\n        this.rsccDict = {};\n        if (!params.scale) {\n            this.parameters.scale = 'RdYlBu';\n        }\n        this.rsrzScale = this.getScale({ domain: [2, 0] });\n        this.rsccScale = this.getScale({ domain: [0.678, 1.0] });\n        const val = params.structure.validation;\n        if (val) {\n            this.rsrzDict = val.rsrzDict;\n            this.rsccDict = val.rsccDict;\n        }\n    }\n    atomColor(atom) {\n        let sele = atom.resno + '';\n        if (atom.inscode)\n            sele += '^' + atom.inscode;\n        if (atom.chainname)\n            sele += ':' + atom.chainname;\n        sele += '/' + atom.modelIndex;\n        const rsrz = this.rsrzDict[sele];\n        if (rsrz !== undefined) {\n            return this.rsrzScale(rsrz);\n        }\n        const rscc = this.rsccDict[sele];\n        if (rscc !== undefined) {\n            return this.rsccScale(rscc);\n        }\n        return 0x909090;\n    }\n}\nColormakerRegistry.add('densityfit', DensityfitColormaker);\nexport default DensityfitColormaker;\n//# sourceMappingURL=densityfit-colormaker.js.map","/**\n * @file Atomindex Colormaker\n * @author Fred Ludlow <Fred.Ludlow@astx.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3 } from 'three';\nimport { ColormakerRegistry } from '../globals';\nimport Colormaker from './colormaker';\nimport SpatialHash from '../geometry/spatial-hash';\n// from CHARMM\nconst partialCharges = {\n    'ARG': {\n        'CD': 0.1,\n        'CZ': 0.5,\n        'NE': -0.1\n    },\n    'ASN': {\n        'CG': 0.55,\n        'OD1': -0.55\n    },\n    'ASP': {\n        'CB': -0.16,\n        'CG': 0.36,\n        'OD1': -0.6,\n        'OD2': -0.6\n    },\n    'CYS': {\n        'CB': 0.19,\n        'SG': -0.19\n    },\n    'GLN': {\n        'CD': 0.55,\n        'OE1': -0.55\n    },\n    'GLU': {\n        'CD': 0.36,\n        'CG': -0.16,\n        'OE1': -0.6,\n        'OE2': -0.6\n    },\n    'HIS': {\n        'CB': 0.1,\n        'CD2': 0.2,\n        'CE1': 0.45,\n        'CG': 0.15,\n        'ND1': 0.05,\n        'NE2': 0.05\n    },\n    'LYS': {\n        'CE': 0.25,\n        'NZ': 0.75\n    },\n    'MET': {\n        'CE': 0.06,\n        'CG': 0.06,\n        'SD': -0.12\n    },\n    'PTR': {\n        'C': 0.55,\n        'CA': 0.1,\n        'CZ': 0.25,\n        'N': -0.35,\n        'O': -0.55,\n        'O1P': -0.85,\n        'O2P': -0.85,\n        'O3P': -0.85,\n        'OG1': -1.1,\n        'P': 1.4\n    },\n    'SEP': {\n        'C': 0.55,\n        'CA': 0.1,\n        'CB': 0.25,\n        'N': -0.35,\n        'O': -0.55,\n        'O1P': -0.85,\n        'O2P': -0.85,\n        'O3P': -0.85,\n        'OG1': -1.1,\n        'P': 1.4\n    },\n    'SER': {\n        'CB': 0.25,\n        'OG': -0.25\n    },\n    'THR': {\n        'CB': 0.25,\n        'OG1': -0.25\n    },\n    'TPO': {\n        'C': 0.55,\n        'CA': 0.1,\n        'CB': 0.25,\n        'N': -0.35,\n        'O': -0.55,\n        'OG1': -1.1,\n        'O1P': -0.85,\n        'O2P': -0.85,\n        'O3P': -0.85,\n        'P': 1.4\n    },\n    'TRP': {\n        'CD1': 0.06,\n        'CD2': 0.1,\n        'CE2': -0.04,\n        'CE3': -0.03,\n        'CG': -0.03,\n        'NE1': -0.06\n    },\n    'TYR': {\n        'CZ': 0.25,\n        'OH': -0.25\n    },\n    'backbone': {\n        'C': 0.55,\n        'O': -0.55,\n        'N': -0.35,\n        'CA': 0.1\n    }\n};\nconst maxRadius = 12.0;\nconst nHBondDistance = 1.04;\nconst nHCharge = 0.25;\n/**\n * Populates position vector with location of implicit or explicit H\n * Returns position or undefined if not able to locate H\n *\n * @param {AtomProxy} ap - the nitrogen atom\n * @param {Vector3} [position] - optional target\n * @return {Vectors|undefined} the hydrogen atom position\n */\nfunction backboneNHPosition(ap, position = new Vector3()) {\n    let h = false;\n    let ca = false;\n    let c = false;\n    position.set(2 * ap.x, 2 * ap.y, 2 * ap.z);\n    ap.eachBondedAtom(function (a2) {\n        // Any time we detect H, reset position and skip\n        // future tests\n        if (h)\n            return;\n        if (a2.atomname === 'H') {\n            position.set(a2.x, a2.y, a2.z);\n            h = true;\n            return;\n        }\n        if (!ca && a2.atomname === 'CA') {\n            position.sub(a2); // TODO\n            ca = true;\n        }\n        else if (!c && a2.atomname === 'C') {\n            c = true;\n            position.sub(a2); // TODO\n        }\n    });\n    if (h) {\n        return position;\n    }\n    if (ca && c) {\n        position.normalize();\n        position.multiplyScalar(nHBondDistance);\n        position.add(ap);\n        return position;\n    }\n}\n/**\n * Takes an array of Vector3 objects and\n * converts to an object that looks like an AtomStore\n *\n * @param {Vector3[]} positions - array of positions\n * @return {Object} AtomStore-like object\n */\nfunction buildStoreLike(positions) {\n    const n = positions.length;\n    const x = new Float32Array(n);\n    const y = new Float32Array(n);\n    const z = new Float32Array(n);\n    for (let i = 0; i < positions.length; i++) {\n        const v = positions[i];\n        x[i] = v.x;\n        y[i] = v.y;\n        z[i] = v.z;\n    }\n    return { x: x, y: y, z: z, count: n };\n}\nfunction chargeForAtom(a) {\n    if (a.partialCharge !== null)\n        return a.partialCharge;\n    if (!a.isProtein()) {\n        return 0.0;\n    }\n    return ((partialCharges[a.resname] &&\n        partialCharges[a.resname][a.atomname]) ||\n        partialCharges['backbone'][a.atomname] || 0.0);\n}\n/**\n * Color a surface by electrostatic charge. This is a highly approximate\n * calculation! The partial charges are CHARMM with hydrogens added to heavy\n * atoms and hydrogen positions generated for amides.\n *\n * __Name:__ _electrostatic_\n *\n * @example\n * stage.loadFile( \"rcsb://3dqb\" ).then( function( o ){\n *     o.addRepresentation( \"surface\", { colorScheme: \"electrostatic\" } );\n *     o.autoView();\n * } );\n */\nclass ElectrostaticColormaker extends Colormaker {\n    constructor(params) {\n        super(params);\n        this.delta = new Vector3();\n        this.hCharges = [];\n        if (!params.scale) {\n            this.parameters.scale = 'rwb';\n        }\n        if (!params.domain) {\n            this.parameters.domain = [-50, 50];\n        }\n        this.scale = this.getScale();\n        this.charges = new Float32Array(params.structure.atomCount);\n        const hPositions = [];\n        params.structure.eachAtom((ap) => {\n            this.charges[ap.index] = chargeForAtom(ap) * ap.occupancy;\n            if (ap.atomname === 'N') {\n                // In the specific case where N forms two bonds to\n                // CA and C, try and place a dummy hydrogen\n                if (ap.bondCount >= 3)\n                    return; // Skip if 3 bonds already (e.g. PRO)\n                if (ap.bondToElementCount(1))\n                    return; // Skip if any H specificed\n                const hPos = backboneNHPosition(ap);\n                if (hPos !== undefined) {\n                    hPositions.push(hPos);\n                    this.hCharges.push(nHCharge * ap.occupancy);\n                }\n            }\n        });\n        const bbox = params.structure.getBoundingBox();\n        bbox.expandByScalar(nHBondDistance); // Worst case\n        // SpatialHash requires x,y,z and count\n        this.hStore = buildStoreLike(hPositions);\n        this.hHash = new SpatialHash(this.hStore, bbox); // TODO\n        this.hash = new SpatialHash(params.structure.atomStore, bbox);\n    }\n    positionColor(v) {\n        const charges = this.charges;\n        const hCharges = this.hCharges;\n        let p = 0.0;\n        this.hash.eachWithin(v.x, v.y, v.z, maxRadius, (atomIndex, dSq) => {\n            const charge = charges[atomIndex];\n            if (charge === 0.0)\n                return;\n            p += charge / dSq;\n        });\n        this.hHash.eachWithin(v.x, v.y, v.z, maxRadius, (atomIndex, dSq) => {\n            const charge = hCharges[atomIndex];\n            if (charge === 0.0)\n                return;\n            p += charge / dSq;\n        });\n        return this.scale(p * 332); // 332 to convert to kcal/mol\n    }\n}\nColormakerRegistry.add('electrostatic', ElectrostaticColormaker);\nexport default ElectrostaticColormaker;\n//# sourceMappingURL=electrostatic-colormaker.js.map","/**\n * @file Element Colormaker\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ColormakerRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport Colormaker from './colormaker';\n// from Jmol http://jmol.sourceforge.net/jscolors/ (or 0xFFFFFF)\nconst ElementColors = {\n    'H': 0xFFFFFF,\n    'HE': 0xD9FFFF,\n    'LI': 0xCC80FF,\n    'BE': 0xC2FF00,\n    'B': 0xFFB5B5,\n    'C': 0x909090,\n    'N': 0x3050F8,\n    'O': 0xFF0D0D,\n    'F': 0x90E050,\n    'NE': 0xB3E3F5,\n    'NA': 0xAB5CF2,\n    'MG': 0x8AFF00,\n    'AL': 0xBFA6A6,\n    'SI': 0xF0C8A0,\n    'P': 0xFF8000,\n    'S': 0xFFFF30,\n    'CL': 0x1FF01F,\n    'AR': 0x80D1E3,\n    'K': 0x8F40D4,\n    'CA': 0x3DFF00,\n    'SC': 0xE6E6E6,\n    'TI': 0xBFC2C7,\n    'V': 0xA6A6AB,\n    'CR': 0x8A99C7,\n    'MN': 0x9C7AC7,\n    'FE': 0xE06633,\n    'CO': 0xF090A0,\n    'NI': 0x50D050,\n    'CU': 0xC88033,\n    'ZN': 0x7D80B0,\n    'GA': 0xC28F8F,\n    'GE': 0x668F8F,\n    'AS': 0xBD80E3,\n    'SE': 0xFFA100,\n    'BR': 0xA62929,\n    'KR': 0x5CB8D1,\n    'RB': 0x702EB0,\n    'SR': 0x00FF00,\n    'Y': 0x94FFFF,\n    'ZR': 0x94E0E0,\n    'NB': 0x73C2C9,\n    'MO': 0x54B5B5,\n    'TC': 0x3B9E9E,\n    'RU': 0x248F8F,\n    'RH': 0x0A7D8C,\n    'PD': 0x006985,\n    'AG': 0xC0C0C0,\n    'CD': 0xFFD98F,\n    'IN': 0xA67573,\n    'SN': 0x668080,\n    'SB': 0x9E63B5,\n    'TE': 0xD47A00,\n    'I': 0x940094,\n    'XE': 0x940094,\n    'CS': 0x57178F,\n    'BA': 0x00C900,\n    'LA': 0x70D4FF,\n    'CE': 0xFFFFC7,\n    'PR': 0xD9FFC7,\n    'ND': 0xC7FFC7,\n    'PM': 0xA3FFC7,\n    'SM': 0x8FFFC7,\n    'EU': 0x61FFC7,\n    'GD': 0x45FFC7,\n    'TB': 0x30FFC7,\n    'DY': 0x1FFFC7,\n    'HO': 0x00FF9C,\n    'ER': 0x00E675,\n    'TM': 0x00D452,\n    'YB': 0x00BF38,\n    'LU': 0x00AB24,\n    'HF': 0x4DC2FF,\n    'TA': 0x4DA6FF,\n    'W': 0x2194D6,\n    'RE': 0x267DAB,\n    'OS': 0x266696,\n    'IR': 0x175487,\n    'PT': 0xD0D0E0,\n    'AU': 0xFFD123,\n    'HG': 0xB8B8D0,\n    'TL': 0xA6544D,\n    'PB': 0x575961,\n    'BI': 0x9E4FB5,\n    'PO': 0xAB5C00,\n    'AT': 0x754F45,\n    'RN': 0x428296,\n    'FR': 0x420066,\n    'RA': 0x007D00,\n    'AC': 0x70ABFA,\n    'TH': 0x00BAFF,\n    'PA': 0x00A1FF,\n    'U': 0x008FFF,\n    'NP': 0x0080FF,\n    'PU': 0x006BFF,\n    'AM': 0x545CF2,\n    'CM': 0x785CE3,\n    'BK': 0x8A4FE3,\n    'CF': 0xA136D4,\n    'ES': 0xB31FD4,\n    'FM': 0xB31FBA,\n    'MD': 0xB30DA6,\n    'NO': 0xBD0D87,\n    'LR': 0xC70066,\n    'RF': 0xCC0059,\n    'DB': 0xD1004F,\n    'SG': 0xD90045,\n    'BH': 0xE00038,\n    'HS': 0xE6002E,\n    'MT': 0xEB0026,\n    'DS': 0xFFFFFF,\n    'RG': 0xFFFFFF,\n    'CN': 0xFFFFFF,\n    'UUT': 0xFFFFFF,\n    'FL': 0xFFFFFF,\n    'UUP': 0xFFFFFF,\n    'LV': 0xFFFFFF,\n    'UUH': 0xFFFFFF,\n    'D': 0xFFFFC0,\n    'T': 0xFFFFA0\n};\nconst DefaultElementColor = 0xFFFFFF;\n/**\n * Color by element\n */\nclass ElementColormaker extends Colormaker {\n    constructor(params) {\n        params.value = defaults(params.value, ElementColors.C);\n        super(params);\n    }\n    atomColor(a) {\n        const element = a.element;\n        if (element === 'C') {\n            return this.parameters.value;\n        }\n        else {\n            return ElementColors[element] || DefaultElementColor;\n        }\n    }\n}\nColormakerRegistry.add('element', ElementColormaker);\nexport default ElementColormaker;\n//# sourceMappingURL=element-colormaker.js.map","/**\n * @file Entityindex Colormaker\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ColormakerRegistry } from '../globals';\nimport Colormaker from './colormaker';\n/**\n * Color by entity index\n */\nclass EntityindexColormaker extends Colormaker {\n    constructor(params) {\n        super(params);\n        if (!params.scale) {\n            this.parameters.scale = 'Spectral';\n        }\n        if (!params.domain) {\n            this.parameters.domain = [0, params.structure.entityList.length - 1];\n        }\n        this.entityindexScale = this.getScale();\n    }\n    atomColor(a) {\n        return this.entityindexScale(a.entityIndex);\n    }\n}\nColormakerRegistry.add('entityindex', EntityindexColormaker);\nexport default EntityindexColormaker;\n//# sourceMappingURL=entityindex-colormaker.js.map","/**\n * @file Entitytype Colormaker\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ColormakerRegistry } from '../globals';\nimport Colormaker from './colormaker';\nimport { PolymerEntity, NonPolymerEntity, MacrolideEntity, WaterEntity } from '../structure/structure-constants';\n/**\n * Color by entity type\n */\nclass EntitytypeColormaker extends Colormaker {\n    atomColor(a) {\n        const e = a.entity;\n        const et = e ? e.entityType : undefined;\n        switch (et) {\n            case PolymerEntity:\n                return 0x7fc97f;\n            case NonPolymerEntity:\n                return 0xfdc086;\n            case MacrolideEntity:\n                return 0xbeaed4;\n            case WaterEntity:\n                return 0x386cb0;\n            default:\n                return 0xffff99;\n        }\n    }\n}\nColormakerRegistry.add('entitytype', EntitytypeColormaker);\nexport default EntitytypeColormaker;\n//# sourceMappingURL=entitytype-colormaker.js.map","/**\n * @file Geoquality Colormaker\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ColormakerRegistry } from '../globals';\nimport Colormaker from './colormaker';\nimport { countSetBits } from '../math/math-utils';\n/**\n * Color by validation gometry quality\n */\nclass GeoqualityColormaker extends Colormaker {\n    constructor(params) {\n        super(params);\n        this.geoAtomDict = {};\n        this.geoDict = {};\n        const val = params.structure.validation;\n        if (val) {\n            this.geoAtomDict = val.geoAtomDict;\n            this.geoDict = val.geoDict;\n        }\n    }\n    atomColor(atom) {\n        let sele = atom.resno + '';\n        if (atom.inscode)\n            sele += '^' + atom.inscode;\n        if (atom.chainname)\n            sele += ':' + atom.chainname;\n        sele += '/' + atom.modelIndex;\n        let geoProblemCount;\n        const geoAtom = this.geoAtomDict[sele];\n        if (geoAtom !== undefined) {\n            const atomProblems = geoAtom[atom.atomname] || 0;\n            geoProblemCount = countSetBits(atomProblems);\n        }\n        else {\n            geoProblemCount = this.geoDict[sele] || 0;\n        }\n        if (geoProblemCount === 0) {\n            return 0x2166ac;\n        }\n        else if (geoProblemCount === 1) {\n            return 0xfee08b;\n        }\n        else if (geoProblemCount === 2) {\n            return 0xf46d43;\n        }\n        else if (geoProblemCount >= 3) {\n            return 0xa50026;\n        }\n        return 0x909090;\n    }\n}\nColormakerRegistry.add('geoquality', GeoqualityColormaker);\nexport default GeoqualityColormaker;\n//# sourceMappingURL=geoquality-colormaker.js.map","/**\n * @file Hydrophobicity Colormaker\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ColormakerRegistry } from '../globals';\nimport Colormaker from './colormaker';\nimport { ResidueHydrophobicity, DefaultResidueHydrophobicity } from '../structure/structure-constants';\n/**\n * Color by hydrophobicity\n */\nclass HydrophobicityColormaker extends Colormaker {\n    constructor(params) {\n        super(params);\n        this.resHF = {};\n        if (!params.scale) {\n            this.parameters.scale = 'RdYlGn';\n        }\n        const idx = 0; // 0: DGwif, 1: DGwoct, 2: Oct-IF\n        for (const name in ResidueHydrophobicity) {\n            this.resHF[name] = ResidueHydrophobicity[name][idx];\n        }\n        this.defaultResidueHydrophobicity = DefaultResidueHydrophobicity[idx];\n        if (!params.domain) {\n            let min = Infinity;\n            let max = -Infinity;\n            for (const name in this.resHF) {\n                const val = this.resHF[name];\n                min = Math.min(min, val);\n                max = Math.max(max, val);\n            }\n            this.parameters.domain = [min, 0, max];\n        }\n        this.hfScale = this.getScale();\n    }\n    atomColor(a) {\n        return this.hfScale(this.resHF[a.resname] || this.defaultResidueHydrophobicity);\n    }\n}\nColormakerRegistry.add('hydrophobicity', HydrophobicityColormaker);\nexport default HydrophobicityColormaker;\n//# sourceMappingURL=hydrophobicity-colormaker.js.map","/**\n * @file Modelindex Colormaker\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ColormakerRegistry } from '../globals';\nimport Colormaker from './colormaker';\n/**\n * Color by model index\n */\nclass ModelindexColormaker extends Colormaker {\n    constructor(params) {\n        super(params);\n        if (!params.scale) {\n            this.parameters.scale = 'rainbow';\n        }\n        if (!params.domain) {\n            this.parameters.domain = [0, params.structure.modelStore.count];\n        }\n        this.modelindexScale = this.getScale();\n    }\n    atomColor(a) {\n        return this.modelindexScale(a.modelIndex);\n    }\n}\nColormakerRegistry.add('modelindex', ModelindexColormaker);\nexport default ModelindexColormaker;\n//# sourceMappingURL=modelindex-colormaker.js.map","/**\n * @file Moleculetype Colormaker\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ColormakerRegistry } from '../globals';\nimport Colormaker from './colormaker';\nimport { WaterType, IonType, ProteinType, RnaType, DnaType, SaccharideType } from '../structure/structure-constants';\n/**\n * Color by molecule type\n */\nclass MoleculetypeColormaker extends Colormaker {\n    atomColor(a) {\n        switch (a.residueType.moleculeType) {\n            case WaterType:\n                return 0x386cb0;\n            case IonType:\n                return 0xf0027f;\n            case ProteinType:\n                return 0xbeaed4;\n            case RnaType:\n                return 0xfdc086;\n            case DnaType:\n                return 0xbf5b17;\n            case SaccharideType:\n                return 0x7fc97f;\n            default:\n                return 0xffff99;\n        }\n    }\n}\nColormakerRegistry.add('moleculetype', MoleculetypeColormaker);\nexport default MoleculetypeColormaker;\n//# sourceMappingURL=moleculetype-colormaker.js.map","/**\n * @file Occupancy Colormaker\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ColormakerRegistry } from '../globals';\nimport Colormaker from './colormaker';\n/**\n * Color by occupancy\n */\nclass OccupancyColormaker extends Colormaker {\n    constructor(params) {\n        super(params);\n        if (!params.scale) {\n            this.parameters.scale = 'PuBu';\n        }\n        if (!params.domain) {\n            this.parameters.domain = [0.0, 1.0];\n        }\n        this.occupancyScale = this.getScale();\n    }\n    atomColor(a) {\n        return this.occupancyScale(a.occupancy);\n    }\n}\nColormakerRegistry.add('occupancy', OccupancyColormaker);\nexport default OccupancyColormaker;\n//# sourceMappingURL=occupancy-colormaker.js.map","/**\n * @file Partialcharge Colormaker\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ColormakerRegistry } from '../globals';\nimport Colormaker from './colormaker';\n/**\n * Color by partial charge. The {@link AtomProxy.partialCharge} property is used for coloring.\n * The default domain is [-1, 1].\n *\n * __Name:__ _partialCharge_\n *\n * @example\n * stage.loadFile(\"rcsb://1crn\").then(function (o) {\n *   o.addRepresentation(\"ball+stick\", {colorScheme: \"partialCharge\"});\n *   o.autoView();\n * });\n */\nclass PartialchargeColormaker extends Colormaker {\n    constructor(params) {\n        super(params);\n        if (!params.scale) {\n            this.parameters.scale = 'rwb';\n        }\n        if (!params.domain) {\n            this.parameters.domain = [-1, 1];\n        }\n        this.partialchargeScale = this.getScale();\n    }\n    atomColor(a) {\n        return this.partialchargeScale(a.partialCharge || 0);\n    }\n}\nColormakerRegistry.add('partialcharge', PartialchargeColormaker);\nexport default PartialchargeColormaker;\n//# sourceMappingURL=partialcharge-colormaker.js.map","/**\n * @file Random Colormaker\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ColormakerRegistry } from '../globals';\nimport Colormaker from './colormaker';\nfunction randomColor() {\n    return Math.random() * 0xFFFFFF;\n}\n/**\n * Class by random color\n */\nclass RandomColormaker extends Colormaker {\n    /**\n     * get color for an atom\n     * @return {Integer} random hex color\n     */\n    atomColor() {\n        return randomColor();\n    }\n    /**\n     * get color for volume cell\n     * @return {Integer} random hex color\n     */\n    volumeColor() {\n        return randomColor();\n    }\n    /**\n     * get color for coordinates in space\n     * @return {Integer} random hex color\n     */\n    positionColor() {\n        return randomColor();\n    }\n}\nColormakerRegistry.add('random', RandomColormaker);\nexport default RandomColormaker;\n//# sourceMappingURL=random-colormaker.js.map","/**\n * @file Randomcoilindex Colormaker\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ColormakerRegistry } from '../globals';\nimport Colormaker from './colormaker';\n/**\n * Color by random coil index\n */\nclass RandomcoilindexColormaker extends Colormaker {\n    constructor(params) {\n        super(params);\n        this.rciDict = {};\n        if (!params.scale) {\n            this.parameters.scale = 'RdYlBu';\n        }\n        this.rciScale = this.getScale({ domain: [0.6, 0] });\n        const val = params.structure.validation;\n        if (val)\n            this.rciDict = val.rciDict;\n    }\n    atomColor(atom) {\n        let sele = `[${atom.resname}]${atom.resno}`;\n        if (atom.chainname)\n            sele += ':' + atom.chainname;\n        const rci = this.rciDict[sele];\n        return rci !== undefined ? this.rciScale(rci) : 0x909090;\n    }\n}\nColormakerRegistry.add('randomcoilindex', RandomcoilindexColormaker);\nexport default RandomcoilindexColormaker;\n//# sourceMappingURL=randomcoilindex-colormaker.js.map","/**\n * @file Residueindex Colormaker\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ColormakerRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport Colormaker from './colormaker';\n/**\n * Color by residue index\n */\nclass ResidueindexColormaker extends Colormaker {\n    constructor(params) {\n        super(params);\n        this.scalePerChain = {};\n        if (!params.scale) {\n            this.parameters.scale = 'rainbow';\n            this.parameters.reverse = defaults(params.reverse, true);\n        }\n        params.structure.eachChain((cp) => {\n            this.parameters.domain = [cp.residueOffset, cp.residueEnd];\n            this.scalePerChain[cp.index] = this.getScale();\n        });\n    }\n    atomColor(a) {\n        return this.scalePerChain[a.chainIndex](a.residueIndex);\n    }\n}\nColormakerRegistry.add('residueindex', ResidueindexColormaker);\nexport default ResidueindexColormaker;\n//# sourceMappingURL=residueindex-colormaker.js.map","/**\n * @file Resname Colormaker\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ColormakerRegistry } from '../globals';\nimport Colormaker from './colormaker';\n// protein colors from Jmol http://jmol.sourceforge.net/jscolors/\nconst ResidueColors = {\n    'ALA': 0x8CFF8C,\n    'ARG': 0x00007C,\n    'ASN': 0xFF7C70,\n    'ASP': 0xA00042,\n    'CYS': 0xFFFF70,\n    'GLN': 0xFF4C4C,\n    'GLU': 0x660000,\n    'GLY': 0xFFFFFF,\n    'HIS': 0x7070FF,\n    'ILE': 0x004C00,\n    'LEU': 0x455E45,\n    'LYS': 0x4747B8,\n    'MET': 0xB8A042,\n    'PHE': 0x534C52,\n    'PRO': 0x525252,\n    'SER': 0xFF7042,\n    'THR': 0xB84C00,\n    'TRP': 0x4F4600,\n    'TYR': 0x8C704C,\n    'VAL': 0xFF8CFF,\n    'ASX': 0xFF00FF,\n    'GLX': 0xFF00FF,\n    'ASH': 0xFF00FF,\n    'GLH': 0xFF00FF,\n    'A': 0xDC143C,\n    'G': 0x32CD32,\n    'I': 0x9ACD32,\n    'X': 0x7CFC00,\n    'C': 0xFFD700,\n    'T': 0x4169E1,\n    'U': 0x40E0D0,\n    'D': 0x008B8B,\n    'DA': 0xDC143C,\n    'DG': 0x32CD32,\n    'DI': 0x9ACD32,\n    'DX': 0x7CFC00,\n    'DC': 0xFFD700,\n    'DT': 0x4169E1,\n    'DU': 0x40E0D0,\n    'DD': 0x008B8B\n};\nconst DefaultResidueColor = 0xFF00FF;\n/**\n * Color by residue name\n */\nclass ResnameColormaker extends Colormaker {\n    atomColor(a) {\n        return ResidueColors[a.resname] || DefaultResidueColor;\n    }\n}\nColormakerRegistry.add('resname', ResnameColormaker);\nexport default ResnameColormaker;\n//# sourceMappingURL=resname-colormaker.js.map","/**\n * @file Sstruc Colormaker\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ColormakerRegistry } from '../globals';\nimport Colormaker from './colormaker';\n// from Jmol http://jmol.sourceforge.net/jscolors/ (shapely)\nconst StructureColors = {\n    'alphaHelix': 0xFF0080,\n    'threeTenHelix': 0xA00080,\n    'piHelix': 0x600080,\n    'betaStrand': 0xFFC800,\n    'betaTurn': 0x6080FF,\n    'coil': 0xFFFFFF,\n    'dna': 0xAE00FE,\n    'rna': 0xFD0162,\n    'carbohydrate': 0xA6A6FA\n};\nconst DefaultStructureColor = 0x808080;\n/**\n * Color by secondary structure\n */\nclass SstrucColormaker extends Colormaker {\n    constructor(params) {\n        super(params);\n        this.residueProxy = params.structure.getResidueProxy();\n    }\n    atomColor(ap) {\n        const sstruc = ap.sstruc;\n        const rp = this.residueProxy;\n        if (sstruc === 'h') {\n            return StructureColors.alphaHelix;\n        }\n        else if (sstruc === 'g') {\n            return StructureColors.threeTenHelix;\n        }\n        else if (sstruc === 'i') {\n            return StructureColors.piHelix;\n        }\n        else if (sstruc === 'e' || sstruc === 'b') {\n            return StructureColors.betaStrand;\n        }\n        else if (sstruc === 't') {\n            return StructureColors.betaTurn;\n        }\n        else {\n            rp.index = ap.residueIndex;\n            if (rp.isDna()) {\n                return StructureColors.dna;\n            }\n            else if (rp.isRna()) {\n                return StructureColors.rna;\n            }\n            else if (rp.isSaccharide()) {\n                return StructureColors.carbohydrate;\n            }\n            else if (rp.isProtein() || sstruc === 's' || sstruc === 'l') {\n                return StructureColors.coil;\n            }\n            else {\n                return DefaultStructureColor;\n            }\n        }\n    }\n}\nColormakerRegistry.add('sstruc', SstrucColormaker);\nexport default SstrucColormaker;\n//# sourceMappingURL=sstruc-colormaker.js.map","/**\n * @file Uniform Colormaker\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ColormakerRegistry } from '../globals';\nimport Colormaker from './colormaker';\n/**\n * Color by uniform color\n */\nclass UniformColormaker extends Colormaker {\n    atomColor() {\n        return this.parameters.value;\n    }\n    bondColor() {\n        return this.parameters.value;\n    }\n    valueColor() {\n        return this.parameters.value;\n    }\n    volumeColor() {\n        return this.parameters.value;\n    }\n}\nColormakerRegistry.add('uniform', UniformColormaker);\nexport default UniformColormaker;\n//# sourceMappingURL=uniform-colormaker.js.map","/**\n * @file Value Colormaker\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ColormakerRegistry } from '../globals';\nimport Colormaker from './colormaker';\n/**\n * Color by volume value\n */\nclass ValueColormaker extends Colormaker {\n    constructor(params) {\n        super(params);\n        this.valueScale = this.getScale();\n    }\n    /**\n     * return the color for a volume cell\n     * @param  {Integer} index - volume cell index\n     * @return {Integer} hex cell color\n     */\n    volumeColor(index) {\n        return this.valueScale(this.parameters.volume.data[index]); // TODO\n    }\n}\nColormakerRegistry.add('value', ValueColormaker);\nexport default ValueColormaker;\n//# sourceMappingURL=value-colormaker.js.map","/**\n * @file Volume Colormaker\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3 } from 'three';\nimport { lerp } from '../math/math-utils';\nimport { ColormakerRegistry } from '../globals';\nimport Colormaker from './colormaker';\n/**\n * Color by volume position\n */\nclass VolumeColormaker extends Colormaker {\n    constructor(params) {\n        super(params);\n        this.vec = new Vector3();\n        this.valueScale = this.getScale();\n    }\n    /**\n     * return the color for coordinates in space\n     * @param  {Vector3} coords - xyz coordinates\n     * @return {Integer} hex coords color\n     */\n    positionColor(coords) {\n        const volume = this.parameters.volume; // TODO\n        if (!volume || !volume.inverseMatrix) {\n            return this.parameters.value;\n        }\n        const vec = this.vec;\n        const data = volume.data;\n        const nx = volume.nx;\n        const ny = volume.ny;\n        const nxy = nx * ny;\n        vec.copy(coords);\n        vec.applyMatrix4(volume.inverseMatrix);\n        // position of grid cell\n        const x0 = Math.floor(vec.x);\n        const y0 = Math.floor(vec.y);\n        const z0 = Math.floor(vec.z);\n        // Indices\n        const i = ((((z0 * ny) + y0) * nx) + x0);\n        const i1 = i + 1;\n        const iy = i + nx;\n        const iz = i + nxy;\n        const i1y = iy + 1;\n        const i1z = iz + 1;\n        const iyz = iy + nxy;\n        const i1yz = iyz + 1;\n        // Values\n        const v = data[i];\n        const v1 = data[i1];\n        const vy = data[iy];\n        const vz = data[iz];\n        const v1y = data[i1y];\n        const v1z = data[i1z];\n        const vyz = data[iyz];\n        const v1yz = data[i1yz];\n        // Position of point in fraction of grid\n        const xd = vec.x - x0;\n        const yd = vec.y - y0;\n        const zd = vec.z - z0;\n        // 1st Dimension\n        const c00 = lerp(v, v1, xd);\n        const c01 = lerp(vz, v1z, xd);\n        const c10 = lerp(vy, v1y, xd);\n        const c11 = lerp(vyz, v1yz, xd);\n        // 2nd Dimension\n        const c0 = lerp(c00, c10, yd);\n        const c1 = lerp(c01, c11, yd);\n        // 3rd Dimension\n        const c = lerp(c0, c1, zd);\n        return this.valueScale(c);\n    }\n}\nColormakerRegistry.add('volume', VolumeColormaker);\nexport default VolumeColormaker;\n//# sourceMappingURL=volume-colormaker.js.map","/**\n * @file Structure Representation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ExtensionFragDepth, Mobile } from '../globals';\nimport { defaults } from '../utils';\nimport { default as Representation } from './representation';\nimport Selection from '../selection/selection';\nimport RadiusFactory, { RadiusFactoryTypes } from '../utils/radius-factory';\n/**\n * Structure representation\n * @interface\n */\nclass StructureRepresentation extends Representation {\n    /**\n     * Create Structure representation object\n     * @param {Structure} structure - the structure to be represented\n     * @param {Viewer} viewer - a viewer object\n     * @param {StructureRepresentationParameters} params - structure representation parameters\n     */\n    constructor(structure, viewer, params) {\n        const p = params || {};\n        super(structure, viewer, p);\n        this.type = 'structure';\n        this.parameters = Object.assign({\n            radiusType: {\n                type: 'select', options: RadiusFactory.types\n            },\n            radiusData: {\n                type: 'hidden'\n            },\n            radiusSize: {\n                type: 'number', precision: 3, max: 10.0, min: 0.001\n            },\n            radiusScale: {\n                type: 'number', precision: 3, max: 10.0, min: 0.001\n            },\n            assembly: null,\n            defaultAssembly: {\n                type: 'hidden'\n            }\n        }, this.parameters);\n        /**\n         * @type {Selection}\n         * @private\n         */\n        this.selection = new Selection(p.sele);\n        /**\n         * @type {Array}\n         * @private\n         */\n        this.dataList = [];\n        /**\n         * @type {Structure}\n         */\n        this.structure = structure;\n        /**\n         * @type {StructureView}\n         */\n        this.structureView = this.structure.getView(this.selection);\n        if (structure.biomolDict) {\n            const biomolOptions = {\n                'default': 'default',\n                '': (structure.unitcell ? 'AU' : 'FULL')\n            };\n            Object.keys(structure.biomolDict).forEach(function (k) {\n                biomolOptions[k] = k;\n            });\n            this.parameters.assembly = {\n                type: 'select',\n                options: biomolOptions,\n                rebuild: true\n            };\n        }\n        else {\n            this.parameters.assembly = null;\n        }\n    }\n    get defaultScale() {\n        return {\n            'vdw': 1.0,\n            'covalent': 1.0,\n            'bfactor': 0.01,\n            'sstruc': 1.0\n        };\n    }\n    init(params) {\n        const p = params || {};\n        p.colorScheme = defaults(p.colorScheme, 'element');\n        this.setRadius(p.radius, p);\n        this.radiusType = defaults(p.radiusType, 'vdw');\n        this.radiusData = defaults(p.radiusData, {});\n        this.radiusSize = defaults(p.radiusSize, 1.0);\n        this.radiusScale = defaults(p.radiusScale, 1.0);\n        this.assembly = defaults(p.assembly, 'default');\n        this.defaultAssembly = defaults(p.defaultAssembly, '');\n        if (p.quality === 'auto') {\n            p.quality = this.getQuality();\n        }\n        super.init(p);\n        this.selection.signals.stringChanged.add(( /* sele */) => {\n            this.build();\n        });\n        this.build();\n    }\n    setRadius(value, p) {\n        const types = Object.keys(RadiusFactoryTypes);\n        if (typeof value === 'string' && types.includes(value.toLowerCase())) {\n            p.radiusType = value;\n        }\n        else if (value !== undefined) {\n            p.radiusType = 'size';\n            p.radiusSize = value;\n        }\n        return this;\n    }\n    getAssembly() {\n        const name = this.assembly === 'default' ? this.defaultAssembly : this.assembly;\n        return this.structure.biomolDict[name];\n    }\n    getQuality() {\n        let atomCount;\n        const s = this.structureView;\n        const assembly = this.getAssembly();\n        if (assembly) {\n            atomCount = assembly.getAtomCount(s);\n        }\n        else {\n            atomCount = s.atomCount;\n        }\n        if (Mobile) {\n            atomCount *= 4;\n        }\n        const backboneOnly = s.atomStore.count / s.residueStore.count < 2;\n        if (backboneOnly) {\n            atomCount *= 10;\n        }\n        if (atomCount < 15000) {\n            return 'high';\n        }\n        else if (atomCount < 80000) {\n            return 'medium';\n        }\n        else {\n            return 'low';\n        }\n    }\n    create() {\n        if (this.structureView.atomCount === 0)\n            return;\n        if (!this.structureView.hasCoords()) {\n            this.needsBuild = true;\n            return;\n        }\n        else {\n            this.needsBuild = false;\n        }\n        const assembly = this.getAssembly();\n        if (assembly) {\n            assembly.partList.forEach((part, i) => {\n                const sview = part.getView(this.structureView);\n                if (sview.atomCount === 0)\n                    return;\n                const data = this.createData(sview, i);\n                if (data) {\n                    data.sview = sview;\n                    data.instanceList = part.getInstanceList();\n                    this.dataList.push(data);\n                }\n            });\n        }\n        else {\n            const data = this.createData(this.structureView, 0);\n            if (data) {\n                data.sview = this.structureView;\n                this.dataList.push(data);\n            }\n        }\n    }\n    update(what) {\n        if (this.lazy && !this.visible) {\n            Object.assign(this.lazyProps.what, what);\n            return;\n        }\n        if (this.needsBuild) {\n            this.build();\n            return;\n        }\n        this.dataList.forEach((data) => {\n            if (data.bufferList.length > 0) {\n                this.updateData(what, data);\n            }\n        }, this);\n    }\n    updateData(what, data) {\n        this.build();\n    }\n    getColorParams() {\n        return Object.assign(Object.assign({}, super.getColorParams()), { structure: this.structure });\n    }\n    getRadiusParams(param) {\n        return {\n            type: this.radiusType,\n            scale: this.radiusScale,\n            size: this.radiusSize,\n            data: this.radiusData\n        };\n    }\n    getAtomParams(what, params) {\n        return Object.assign({\n            what: what,\n            colorParams: this.getColorParams(),\n            radiusParams: this.getRadiusParams()\n        }, params);\n    }\n    getBondParams(what, params) {\n        return Object.assign({\n            what: what,\n            colorParams: this.getColorParams(),\n            radiusParams: this.getRadiusParams()\n        }, params);\n    }\n    getAtomRadius(atom) {\n        if (this.structureView.atomSet.isSet(atom.index)) {\n            const radiusFactory = new RadiusFactory(this.getRadiusParams());\n            return radiusFactory.atomRadius(atom);\n        }\n        return 0;\n    }\n    /**\n     * Set representation parameters\n     * @alias StructureRepresentation#setSelection\n     * @param {String} string - selection string, see {@tutorial selection-language}\n     * @param {Boolean} [silent] - don't trigger a change event in the selection\n     * @return {StructureRepresentation} this object\n     */\n    setSelection(string, silent) {\n        this.selection.setString(string, silent);\n        return this;\n    }\n    /**\n     * Set representation parameters\n     * @alias StructureRepresentation#setParameters\n     * @param {StructureRepresentationParameters} params - structure parameter object\n     * @param {Object} [what] - buffer data attributes to be updated,\n     *                        note that this needs to be implemented in the\n     *                        derived classes. Generally it allows more\n     *                        fine-grained control over updating than\n     *                        forcing a rebuild.\n     * @param {Boolean} what.position - update position data\n     * @param {Boolean} what.color - update color data\n     * @param {Boolean} [rebuild] - whether or not to rebuild the representation\n     * @return {StructureRepresentation} this object\n     */\n    setParameters(params, what = {}, rebuild = false) {\n        const p = params || {};\n        this.setRadius(p.radius, p);\n        if (p.radiusType !== undefined || p.radiusData !== undefined || p.radiusSize !== undefined || p.radiusScale !== undefined) {\n            what.radius = true;\n            if (!ExtensionFragDepth || this.disableImpostor) {\n                rebuild = true;\n            }\n        }\n        if (p.defaultAssembly !== undefined &&\n            p.defaultAssembly !== this.defaultAssembly &&\n            ((this.assembly === 'default' && p.assembly === undefined) ||\n                p.assembly === 'default')) {\n            rebuild = true;\n        }\n        super.setParameters(p, what, rebuild);\n        return this;\n    }\n    getParameters() {\n        const params = Object.assign(super.getParameters(), {\n            sele: this.selection ? this.selection.string : undefined,\n            defaultAssembly: this.defaultAssembly\n        });\n        return params;\n    }\n    attach(callback) {\n        const viewer = this.viewer;\n        const bufferList = this.bufferList;\n        this.dataList.forEach(function (data) {\n            data.bufferList.forEach(function (buffer) {\n                bufferList.push(buffer);\n                viewer.add(buffer, data.instanceList);\n            });\n        });\n        this.setVisibility(this.visible);\n        callback();\n    }\n    clear() {\n        this.dataList.length = 0;\n        super.clear();\n    }\n    dispose() {\n        this.structureView.dispose();\n        delete this.structure;\n        delete this.structureView;\n        super.dispose();\n    }\n}\nexport default StructureRepresentation;\n//# sourceMappingURL=structure-representation.js.map","/**\n * @file Measurement Representation\n * @author Fred Ludlow <fred.ludlow@gmail.com>\n * @private\n */\n// @ts-ignore: unused import Vector3, Matrix4 required for declaration only\nimport { Color } from 'three';\nimport Selection from '../selection/selection';\nimport { Browser } from '../globals';\nimport { defaults } from '../utils';\nimport StructureRepresentation from './structure-representation';\nimport { uniformArray, uniformArray3 } from '../math/array-utils';\n/**\n * Measurement representation\n * @interface\n */\nclass MeasurementRepresentation extends StructureRepresentation {\n    /**\n     * Handles common label settings and position logic for\n     * distance, angle and dihedral representations\n     */\n    constructor(structure, viewer, params) {\n        super(structure, viewer, params);\n        this.n = 0; // Subclass create sets value\n        this.parameters = Object.assign({\n            labelVisible: {\n                type: 'boolean'\n            },\n            labelSize: {\n                type: 'number', precision: 3, max: 10.0, min: 0.001\n            },\n            labelColor: {\n                type: 'color'\n            },\n            labelFontFamily: {\n                type: 'select',\n                options: {\n                    'sans-serif': 'sans-serif',\n                    'monospace': 'monospace',\n                    'serif': 'serif'\n                },\n                buffer: 'fontFamily'\n            },\n            labelFontStyle: {\n                type: 'select',\n                options: {\n                    'normal': 'normal',\n                    'italic': 'italic'\n                },\n                buffer: 'fontStyle'\n            },\n            labelFontWeight: {\n                type: 'select',\n                options: {\n                    'normal': 'normal',\n                    'bold': 'bold'\n                },\n                buffer: 'fontWeight'\n            },\n            labelsdf: {\n                type: 'boolean', buffer: 'sdf'\n            },\n            labelXOffset: {\n                type: 'number', precision: 1, max: 20, min: -20, buffer: 'xOffset'\n            },\n            labelYOffset: {\n                type: 'number', precision: 1, max: 20, min: -20, buffer: 'yOffset'\n            },\n            labelZOffset: {\n                type: 'number', precision: 1, max: 20, min: -20, buffer: 'zOffset'\n            },\n            labelAttachment: {\n                type: 'select',\n                options: {\n                    'bottom-left': 'bottom-left',\n                    'bottom-center': 'bottom-center',\n                    'bottom-right': 'bottom-right',\n                    'middle-left': 'middle-left',\n                    'middle-center': 'middle-center',\n                    'middle-right': 'middle-right',\n                    'top-left': 'top-left',\n                    'top-center': 'top-center',\n                    'top-right': 'top-right'\n                },\n                rebuild: true\n            },\n            labelBorder: {\n                type: 'boolean', buffer: 'showBorder'\n            },\n            labelBorderColor: {\n                type: 'color', buffer: 'borderColor'\n            },\n            labelBorderWidth: {\n                type: 'number', precision: 2, max: 0.3, min: 0, buffer: 'borderWidth'\n            },\n            labelBackground: {\n                type: 'boolean', rebuild: true\n            },\n            labelBackgroundColor: {\n                type: 'color', buffer: 'backgroundColor'\n            },\n            labelBackgroundMargin: {\n                type: 'number', precision: 2, max: 2, min: 0, rebuild: true\n            },\n            labelBackgroundOpacity: {\n                type: 'range', step: 0.01, max: 1, min: 0, buffer: 'backgroundOpacity'\n            },\n            labelFixedSize: {\n                type: 'boolean', buffer: 'fixedSize'\n            },\n            lineOpacity: {\n                type: 'range', min: 0.0, max: 1.0, step: 0.01\n            },\n            linewidth: {\n                type: 'integer', max: 50, min: 1, buffer: true\n            }\n        }, this.parameters, {\n            flatShaded: null\n        });\n    }\n    init(params) {\n        const p = params || {};\n        this.labelVisible = defaults(p.labelVisible, true);\n        this.labelSize = defaults(p.labelSize, 2.0);\n        this.labelColor = defaults(p.labelColor, 0xFFFFFF);\n        this.labelFontFamily = defaults(p.labelFontFamily, 'sans-serif');\n        this.labelFontStyle = defaults(p.labelFontstyle, 'normal');\n        this.labelFontWeight = defaults(p.labelFontWeight, 'bold');\n        this.labelsdf = defaults(p.labelsdf, Browser === 'Chrome');\n        this.labelXOffset = defaults(p.labelXOffset, 0.0);\n        this.labelYOffset = defaults(p.labelYOffset, 0.0);\n        this.labelZOffset = defaults(p.labelZOffset, 0.5);\n        this.labelAttachment = defaults(p.labelAttachment, 'bottom-left');\n        this.labelBorder = defaults(p.labelBorder, false);\n        this.labelBorderColor = defaults(p.labelBorderColor, 'lightgrey');\n        this.labelBorderWidth = defaults(p.labelBorderWidth, 0.15);\n        this.labelBackground = defaults(p.labelBackground, false);\n        this.labelBackgroundColor = defaults(p.labelBackgroundColor, 'lightgrey');\n        this.labelBackgroundMargin = defaults(p.labelBackgroundMargin, 0.5);\n        this.labelBackgroundOpacity = defaults(p.labelBackgroundOpacity, 1.0);\n        this.labelFixedSize = defaults(p.labelFixedSize, false);\n        this.lineOpacity = defaults(p.lineOpacity, 1.0);\n        this.linewidth = defaults(p.linewidth, 2);\n        super.init(p);\n    }\n    // All measurements need to rebuild on position change\n    update(what) {\n        if (what.position) {\n            this.build();\n        }\n        else {\n            super.update(what);\n        }\n    }\n    updateData(what, data) {\n        const textData = {};\n        if (!what || what.labelSize) {\n            Object.assign(textData, { size: uniformArray(this.n, this.labelSize) });\n        }\n        if (!what || what.labelColor) {\n            const c = new Color(this.labelColor);\n            Object.assign(textData, { color: uniformArray3(this.n, c.r, c.g, c.b) });\n        }\n        this.textBuffer.setAttributes(textData);\n    }\n    setParameters(params, what = {}, rebuild = false) {\n        if (params && params.labelSize) {\n            what.labelSize = true;\n        }\n        if (params && (params.labelColor || params.labelColor === 0x000000)) {\n            what.labelColor = true;\n            rebuild = true;\n        }\n        super.setParameters(params, what, rebuild);\n        if (params && params.opacity !== undefined) {\n            this.textBuffer.setParameters({ opacity: 1.0 }); // only opaque labels\n        }\n        if (params && params.labelVisible !== undefined) {\n            this.setVisibility(this.visible);\n        }\n        return this;\n    }\n    setVisibility(value, noRenderRequest) {\n        super.setVisibility(value, true);\n        if (this.textBuffer) {\n            this.textBuffer.setVisibility(this.labelVisible && this.visible);\n        }\n        if (!noRenderRequest)\n            this.viewer.requestRender();\n        return this;\n    }\n    getLabelBufferParams(params = {}) {\n        return super.getBufferParams(Object.assign({\n            fontFamily: this.labelFontFamily,\n            fontStyle: this.labelFontStyle,\n            fontWeight: this.labelFontWeight,\n            sdf: this.labelsdf,\n            xOffset: this.labelXOffset,\n            yOffset: this.labelYOffset,\n            zOffset: this.labelZOffset,\n            attachment: this.labelAttachment,\n            showBorder: this.labelBorder,\n            borderColor: this.labelBorderColor,\n            borderWidth: this.labelBorderWidth,\n            showBackground: this.labelBackground,\n            backgroundColor: this.labelBackgroundColor,\n            backgroundMargin: this.labelBackgroundMargin,\n            backgroundOpacity: this.labelBackgroundOpacity,\n            fixedSize: this.labelFixedSize,\n            disablePicking: true,\n            visible: this.labelVisible\n        }, params, {\n            opacity: 1.0 // only opaque labels\n        }));\n    }\n    getAtomRadius() {\n        return 0;\n    }\n}\n/**\n * MeasurementRepresentations take atom[Pair|Triple|Quad] parameters.\n *\n * Parses nested array of either integer atom indices or selection\n * expressions into a flat array of coordinates.\n *\n * @param  {Structure} sview The structure to which the atoms refer\n * @param  {Array} atoms Nested array of atom pairs|triples|quads as\n *   Integer indices or selection expressions\n * @return {Float32Array} Flattened array of position coordinates\n */\nfunction parseNestedAtoms(sview, atoms) {\n    const ap = sview.getAtomProxy();\n    const sele = new Selection();\n    const nSets = atoms.length;\n    if (nSets === 0)\n        return new Float32Array(0);\n    // Peek-ahead at first item to determine order and parse mode\n    const order = atoms[0].length;\n    const selected = sview.getAtomSet();\n    const a = new Float32Array(nSets * order * 3);\n    let p = 0;\n    atoms.forEach(function (group) {\n        let _break = false;\n        for (let j = 0; j < order; j++) {\n            const value = group[j];\n            if (typeof (value) === 'number' && Number.isInteger(value)) {\n                if (selected.get(value)) {\n                    ap.index = value;\n                }\n                else {\n                    _break = true;\n                    break;\n                }\n            }\n            else {\n                sele.setString(value);\n                const atomIndices = sview.getAtomIndices(sele);\n                if (atomIndices.length) {\n                    ap.index = atomIndices[0];\n                }\n                else {\n                    _break = true;\n                    break;\n                }\n            }\n            let offset = p + j * 3;\n            a[offset++] = ap.x;\n            a[offset++] = ap.y;\n            a[offset++] = ap.z;\n        }\n        if (!_break)\n            p += 3 * order;\n    });\n    return a.subarray(0, p);\n}\n/* out = v1 * cos(angle) + v2 * sin(angle) */\nfunction calcArcPoint(out, center, v1, v2, angle) {\n    const x = Math.cos(angle);\n    const y = Math.sin(angle);\n    out[0] = center[0] + v1[0] * x + v2[0] * y;\n    out[1] = center[1] + v1[1] * x + v2[1] * y;\n    out[2] = center[2] + v1[2] * x + v2[2] * y;\n}\nexport { MeasurementRepresentation as default, calcArcPoint, parseNestedAtoms };\n//# sourceMappingURL=measurement-representation.js.map","/**\n * @file Edt\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\n// 2D Euclidean distance transform by Felzenszwalb & Huttenlocher https://cs.brown.edu/~pff/papers/dt-final.pdf\nexport function edt(data, width, height, f, d, v, z) {\n    for (let x = 0; x < width; x++) {\n        for (let y = 0; y < height; y++) {\n            f[y] = data[y * width + x];\n        }\n        edt1d(f, d, v, z, height);\n        for (let y = 0; y < height; y++) {\n            data[y * width + x] = d[y];\n        }\n    }\n    for (let y = 0; y < height; y++) {\n        for (let x = 0; x < width; x++) {\n            f[x] = data[y * width + x];\n        }\n        edt1d(f, d, v, z, width);\n        for (let x = 0; x < width; x++) {\n            data[y * width + x] = Math.sqrt(d[x]);\n        }\n    }\n}\n// 1D squared distance transform\nfunction edt1d(f, d, v, z, n) {\n    v[0] = 0;\n    z[0] = Number.MIN_SAFE_INTEGER;\n    z[1] = Number.MAX_SAFE_INTEGER;\n    for (let q = 1, k = 0; q < n; q++) {\n        let s = ((f[q] + q * q) - (f[v[k]] + v[k] * v[k])) / (2 * q - 2 * v[k]);\n        while (s <= z[k]) {\n            k--;\n            s = ((f[q] + q * q) - (f[v[k]] + v[k] * v[k])) / (2 * q - 2 * v[k]);\n        }\n        k++;\n        v[k] = q;\n        z[k] = s;\n        z[k + 1] = Number.MAX_SAFE_INTEGER;\n    }\n    for (let q = 0, k = 0; q < n; q++) {\n        while (z[k + 1] < q)\n            k++;\n        d[q] = (q - v[k]) * (q - v[k]) + f[v[k]];\n    }\n}\n//# sourceMappingURL=edt.js.map","/**\n * @file Text Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\n// @ts-ignore: unused import Vector3, Matrix4 required for declaration only\nimport { Color, CanvasTexture } from 'three';\nimport '../shader/SDFFont.vert';\nimport '../shader/SDFFont.frag';\nimport { BufferRegistry } from '../globals';\nimport { createParams } from '../utils';\nimport MappedQuadBuffer from './mappedquad-buffer';\nimport { IgnorePicker } from '../utils/picker';\nimport { edt } from '../utils/edt';\nimport { BufferDefaultParameters, BufferParameterTypes } from './buffer';\nconst TextAtlasCache = {};\nfunction getTextAtlas(params) {\n    const hash = JSON.stringify(params);\n    if (TextAtlasCache[hash] === undefined) {\n        TextAtlasCache[hash] = new TextAtlas(params);\n    }\n    return TextAtlasCache[hash];\n}\nexport const TextAtlasDefaultParams = {\n    font: 'sans-serif',\n    size: 36,\n    style: 'normal',\n    variant: 'normal',\n    weight: 'normal',\n    outline: 3,\n    width: 1024,\n    height: 1024\n};\nexport class TextAtlas {\n    constructor(params = {}) {\n        this.gamma = 1;\n        this.mapped = {};\n        this.scratchW = 0;\n        this.scratchH = 0;\n        this.currentX = 0;\n        this.currentY = 0;\n        this.cutoff = 0.25;\n        this.parameters = createParams(params, TextAtlasDefaultParams);\n        const p = this.parameters;\n        this.radius = p.size / 8;\n        this.padding = p.size / 3;\n        // Prepare line-height with room for outline and descenders/ascenders\n        const lineHeight = this.lineHeight = p.size + 2 * p.outline + Math.round(p.size / 4);\n        const maxWidth = this.maxWidth = p.width / 4;\n        // Prepare scratch canvas\n        const canvas = this.canvas = document.createElement('canvas');\n        canvas.width = maxWidth;\n        canvas.height = lineHeight;\n        const ctx = this.context = this.canvas.getContext('2d');\n        ctx.font = `${p.style} ${p.variant} ${p.weight} ${p.size}px ${p.font}`;\n        ctx.fillStyle = 'black';\n        ctx.textAlign = 'left';\n        ctx.textBaseline = 'bottom';\n        ctx.lineJoin = 'round';\n        // temporary arrays for the distance transform\n        this.gridOuter = new Float64Array(lineHeight * maxWidth);\n        this.gridInner = new Float64Array(lineHeight * maxWidth);\n        this.f = new Float64Array(Math.max(lineHeight, maxWidth));\n        this.d = new Float64Array(Math.max(lineHeight, maxWidth));\n        this.z = new Float64Array(Math.max(lineHeight, maxWidth) + 1);\n        this.v = new Int16Array(Math.max(lineHeight, maxWidth));\n        //\n        this.data = new Uint8Array(p.width * p.height * 4);\n        this.canvas2 = document.createElement('canvas');\n        this.canvas2.width = p.width;\n        this.canvas2.height = p.height;\n        this.context2 = this.canvas2.getContext('2d');\n        // Replacement Character\n        this.placeholder = this.map(String.fromCharCode(0xFFFD));\n        // Basic Latin (subset)\n        for (let i = 0x0020; i <= 0x007E; ++i) {\n            this.map(String.fromCharCode(i));\n        }\n        // TODO: to slow to always prepare them\n        // // Latin-1 Supplement (subset)\n        // for (let i = 0x00A1; i <= 0x00FF; ++i) {\n        //   this.map(String.fromCharCode(i))\n        // }\n        // Degree sign\n        this.map(String.fromCharCode(0x00B0));\n        // // Greek and Coptic (subset)\n        // for (let i = 0x0391; i <= 0x03C9; ++i) {\n        //   this.map(String.fromCharCode(i))\n        // }\n        // // Cyrillic (subset)\n        // for (let i = 0x0400; i <= 0x044F; ++i) {\n        //   this.map(String.fromCharCode(i))\n        // }\n        // Angstrom Sign\n        this.map(String.fromCharCode(0x212B));\n        this.texture = new CanvasTexture(this.canvas2);\n        this.texture.flipY = false;\n        this.texture.needsUpdate = true;\n    }\n    map(text) {\n        const p = this.parameters;\n        if (this.mapped[text] === undefined) {\n            this.draw(text);\n            if (this.currentX + this.scratchW > p.width) {\n                this.currentX = 0;\n                this.currentY += this.scratchH;\n            }\n            if (this.currentY + this.scratchH > p.height) {\n                console.warn('canvas to small');\n            }\n            this.mapped[text] = {\n                x: this.currentX,\n                y: this.currentY,\n                w: this.scratchW,\n                h: this.scratchH\n            };\n            this.context2.drawImage(this.canvas, 0, 0, this.scratchW, this.scratchH, this.currentX, this.currentY, this.scratchW, this.scratchH);\n            this.currentX += this.scratchW;\n        }\n        return this.mapped[text];\n    }\n    get(text) {\n        return this.mapped[text] || this.placeholder;\n    }\n    draw(text) {\n        const p = this.parameters;\n        const h = this.lineHeight;\n        const o = p.outline;\n        const ctx = this.context;\n        // const dst = this.scratch\n        const max = this.maxWidth;\n        // const colors = this.colors\n        // Bottom aligned, take outline into account\n        const x = o;\n        const y = h - p.outline;\n        // Measure text\n        const m = ctx.measureText(text);\n        const w = Math.min(max, Math.ceil(m.width + 2 * x + 1));\n        const n = w * h;\n        // Clear scratch area\n        ctx.clearRect(0, 0, w, h);\n        // Draw text\n        ctx.fillText(text, x, y);\n        const imageData = ctx.getImageData(0, 0, w, h);\n        const data = imageData.data;\n        for (let i = 0; i < n; i++) {\n            const a = imageData.data[i * 4 + 3] / 255; // alpha value\n            this.gridOuter[i] = a === 1 ? 0 : a === 0 ? Number.MAX_SAFE_INTEGER : Math.pow(Math.max(0, 0.5 - a), 2);\n            this.gridInner[i] = a === 1 ? Number.MAX_SAFE_INTEGER : a === 0 ? 0 : Math.pow(Math.max(0, a - 0.5), 2);\n        }\n        edt(this.gridOuter, w, h, this.f, this.d, this.v, this.z);\n        edt(this.gridInner, w, h, this.f, this.d, this.v, this.z);\n        for (let i = 0; i < n; i++) {\n            const d = this.gridOuter[i] - this.gridInner[i];\n            data[i * 4 + 3] = Math.max(0, Math.min(255, Math.round(255 - 255 * (d / this.radius + this.cutoff))));\n        }\n        ctx.putImageData(imageData, 0, 0);\n        this.scratchW = w;\n        this.scratchH = h;\n    }\n}\nexport const TextBufferDefaultParameters = Object.assign({\n    fontFamily: 'sans-serif',\n    fontStyle: 'normal',\n    fontWeight: 'bold',\n    fontSize: 36,\n    xOffset: 0.0,\n    yOffset: 0.0,\n    zOffset: 0.5,\n    attachment: 'bottom-left',\n    showBorder: false,\n    borderColor: 'lightgrey',\n    borderWidth: 0.15,\n    showBackground: false,\n    backgroundColor: 'lightgrey',\n    backgroundMargin: 0.5,\n    backgroundOpacity: 1.0,\n    forceTransparent: true,\n    fixedSize: false\n}, BufferDefaultParameters);\nconst TextBufferParameterTypes = Object.assign({\n    fontFamily: { uniform: true },\n    fontStyle: { uniform: true },\n    fontWeight: { uniform: true },\n    fontSize: { uniform: true },\n    xOffset: { uniform: true },\n    yOffset: { uniform: true },\n    zOffset: { uniform: true },\n    showBorder: { uniform: true },\n    borderColor: { uniform: true },\n    borderWidth: { uniform: true },\n    backgroundColor: { uniform: true },\n    backgroundOpacity: { uniform: true },\n    fixedSize: { updateShader: true }\n}, BufferParameterTypes);\nfunction getCharCount(data, params) {\n    const n = data.position.length / 3;\n    let charCount = 0;\n    for (let i = 0; i < n; ++i) {\n        charCount += data.text[i].length;\n    }\n    if (params.showBackground)\n        charCount += n;\n    return charCount;\n}\n/**\n * Text buffer. Renders screen-aligned text strings.\n *\n * @example\n * var textBuffer = new TextBuffer({\n *   position: new Float32Array([ 0, 0, 0 ]),\n *   color: new Float32Array([ 1, 0, 0 ]),\n *   size: new Float32Array([ 2 ]),\n *   text: [ \"Hello\" ]\n * });\n */\nclass TextBuffer extends MappedQuadBuffer {\n    /**\n     * @param  {Object} data - attribute object\n     * @param  {Float32Array} data.position - positions\n     * @param  {Float32Array} data.color - colors\n     * @param  {Float32Array} data.size - sizes\n     * @param  {String[]} data.text - text strings\n     * @param  {TextBufferParameters} params - parameters object\n     */\n    constructor(data, params = {}) {\n        super({\n            position: new Float32Array(getCharCount(data, params) * 3),\n            color: new Float32Array(getCharCount(data, params) * 3),\n            picking: new IgnorePicker()\n        }, params);\n        this.parameterTypes = TextBufferParameterTypes;\n        this.alwaysTransparent = true;\n        this.hasWireframe = false;\n        this.isText = true;\n        this.vertexShader = 'SDFFont.vert';\n        this.fragmentShader = 'SDFFont.frag';\n        this.text = data.text;\n        this.positionCount = data.position.length / 3;\n        this.addUniforms({\n            'fontTexture': { value: null },\n            'xOffset': { value: this.parameters.xOffset },\n            'yOffset': { value: this.parameters.yOffset },\n            'zOffset': { value: this.parameters.zOffset },\n            'ortho': { value: false },\n            'showBorder': { value: this.parameters.showBorder },\n            'borderColor': { value: new Color(this.parameters.borderColor) },\n            'borderWidth': { value: this.parameters.borderWidth },\n            'backgroundColor': { value: new Color(this.parameters.backgroundColor) },\n            'backgroundOpacity': { value: this.parameters.backgroundOpacity },\n            'canvasHeight': { value: 1.0 },\n            'pixelRatio': { value: 1.0 }\n        });\n        this.addAttributes({\n            'inputTexCoord': { type: 'v2', value: null },\n            'inputSize': { type: 'f', value: null }\n        });\n        this.setAttributes(data);\n        this.makeTexture();\n        this.makeMapping();\n    }\n    get defaultParameters() { return TextBufferDefaultParameters; }\n    makeMaterial() {\n        super.makeMaterial();\n        const tex = this.texture;\n        const m = this.material;\n        m.transparent = true;\n        m.extensions.derivatives = true;\n        m.lights = false;\n        m.uniforms.fontTexture.value = tex;\n        m.needsUpdate = true;\n        const wm = this.wireframeMaterial;\n        wm.transparent = true;\n        wm.extensions.derivatives = true;\n        wm.lights = false;\n        wm.uniforms.fontTexture.value = tex;\n        wm.needsUpdate = true;\n        const pm = this.pickingMaterial;\n        pm.extensions.derivatives = true;\n        pm.lights = false;\n        pm.uniforms.fontTexture.value = tex;\n        pm.needsUpdate = true;\n    }\n    setAttributes(data = {}) {\n        let position, size, color;\n        let aPosition, inputSize, aColor;\n        const text = this.text;\n        const attributes = this.geometry.attributes; // TODO\n        if (data.position) {\n            position = data.position;\n            aPosition = attributes.position.array;\n            attributes.position.needsUpdate = true;\n        }\n        if (data.size) {\n            size = data.size;\n            inputSize = attributes.inputSize.array;\n            attributes.inputSize.needsUpdate = true;\n        }\n        if (data.color) {\n            color = data.color;\n            aColor = attributes.color.array;\n            attributes.color.needsUpdate = true;\n        }\n        const n = this.positionCount;\n        let j, o;\n        let iCharAll = 0;\n        let txt, iChar, nChar;\n        for (let v = 0; v < n; ++v) {\n            o = 3 * v;\n            txt = text[v];\n            nChar = txt.length;\n            if (this.parameters.showBackground)\n                nChar += 1;\n            for (iChar = 0; iChar < nChar; ++iChar, ++iCharAll) {\n                for (let m = 0; m < 4; m++) {\n                    j = iCharAll * 4 * 3 + (3 * m);\n                    if (position) {\n                        aPosition[j] = position[o];\n                        aPosition[j + 1] = position[o + 1];\n                        aPosition[j + 2] = position[o + 2];\n                    }\n                    if (size) {\n                        inputSize[(iCharAll * 4) + m] = size[v];\n                    }\n                    if (color) {\n                        aColor[j] = color[o];\n                        aColor[j + 1] = color[o + 1];\n                        aColor[j + 2] = color[o + 2];\n                    }\n                }\n            }\n        }\n    }\n    makeTexture() {\n        this.textAtlas = getTextAtlas({\n            font: this.parameters.fontFamily,\n            style: this.parameters.fontStyle,\n            weight: this.parameters.fontWeight,\n            size: this.parameters.fontSize\n        });\n        this.texture = this.textAtlas.texture;\n    }\n    makeMapping() {\n        const ta = this.textAtlas;\n        const text = this.text;\n        const attachment = this.parameters.attachment;\n        const margin = (ta.lineHeight * this.parameters.backgroundMargin * 0.1) - 10;\n        const attribs = this.geometry.attributes; // TODO\n        const inputTexCoord = attribs.inputTexCoord.array;\n        const inputMapping = attribs.mapping.array;\n        const n = this.positionCount;\n        let iCharAll = 0;\n        let c, i, txt, xadvance, iChar, nChar, xShift, yShift;\n        for (let v = 0; v < n; ++v) {\n            txt = text[v];\n            xadvance = 0;\n            nChar = txt.length;\n            // calculate width\n            for (iChar = 0; iChar < nChar; ++iChar) {\n                c = ta.get(txt[iChar]);\n                xadvance += c.w - 2 * ta.parameters.outline;\n            }\n            // attachment\n            if (attachment.startsWith('top')) {\n                yShift = ta.lineHeight / 1.25;\n            }\n            else if (attachment.startsWith('middle')) {\n                yShift = ta.lineHeight / 2.5;\n            }\n            else {\n                yShift = 0; // \"bottom\"\n            }\n            if (attachment.endsWith('right')) {\n                xShift = xadvance;\n            }\n            else if (attachment.endsWith('center')) {\n                xShift = xadvance / 2;\n            }\n            else {\n                xShift = 0; // \"left\"\n            }\n            xShift += ta.parameters.outline;\n            yShift += ta.parameters.outline;\n            // background\n            if (this.parameters.showBackground) {\n                i = iCharAll * 2 * 4;\n                inputMapping[i + 0] = -ta.lineHeight / 6 - xShift - margin; // top left\n                inputMapping[i + 1] = ta.lineHeight - yShift + margin;\n                inputMapping[i + 2] = -ta.lineHeight / 6 - xShift - margin; // bottom left\n                inputMapping[i + 3] = 0 - yShift - margin;\n                inputMapping[i + 4] = xadvance + ta.lineHeight / 6 - xShift + 2 * ta.parameters.outline + margin; // top right\n                inputMapping[i + 5] = ta.lineHeight - yShift + margin;\n                inputMapping[i + 6] = xadvance + ta.lineHeight / 6 - xShift + 2 * ta.parameters.outline + margin; // bottom right\n                inputMapping[i + 7] = 0 - yShift - margin;\n                inputTexCoord[i + 0] = 10;\n                inputTexCoord[i + 2] = 10;\n                inputTexCoord[i + 4] = 10;\n                inputTexCoord[i + 6] = 10;\n                iCharAll += 1;\n            }\n            xadvance = 0;\n            for (iChar = 0; iChar < nChar; ++iChar, ++iCharAll) {\n                c = ta.get(txt[iChar]);\n                i = iCharAll * 2 * 4;\n                inputMapping[i + 0] = xadvance - xShift; // top left\n                inputMapping[i + 1] = c.h - yShift;\n                inputMapping[i + 2] = xadvance - xShift; // bottom left\n                inputMapping[i + 3] = 0 - yShift;\n                inputMapping[i + 4] = xadvance + c.w - xShift; // top right\n                inputMapping[i + 5] = c.h - yShift;\n                inputMapping[i + 6] = xadvance + c.w - xShift; // bottom right\n                inputMapping[i + 7] = 0 - yShift;\n                const texWidth = ta.parameters.width;\n                const texHeight = ta.parameters.height;\n                const texCoords = [\n                    c.x / texWidth, c.y / texHeight,\n                    c.x / texWidth, (c.y + c.h) / texHeight,\n                    (c.x + c.w) / texWidth, c.y / texHeight,\n                    (c.x + c.w) / texWidth, (c.y + c.h) / texHeight // bottom right\n                ];\n                inputTexCoord.set(texCoords, i);\n                xadvance += c.w - 2 * ta.parameters.outline;\n            }\n        }\n        attribs.inputTexCoord.needsUpdate = true;\n        attribs.mapping.needsUpdate = true;\n    }\n    getDefines(type) {\n        const defines = super.getDefines(type);\n        if (this.parameters.fixedSize) {\n            defines.FIXED_SIZE = 1;\n        }\n        return defines;\n    }\n    setUniforms(data) {\n        if (data && (data.fontFamily !== undefined ||\n            data.fontStyle !== undefined ||\n            data.fontWeight !== undefined ||\n            data.fontSize !== undefined)) {\n            this.makeTexture();\n            this.makeMapping();\n            this.texture.needsUpdate = true;\n            data.fontTexture = this.texture;\n        }\n        super.setUniforms(data);\n    }\n}\nBufferRegistry.add('text', TextBuffer);\nexport default TextBuffer;\n//# sourceMappingURL=text-buffer.js.map","/**\n * @file Wide Line Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\n// @ts-ignore: unused import Vector3 required for declaration only\nimport { Vector2, Matrix4 } from 'three';\nimport '../shader/WideLine.vert';\nimport '../shader/WideLine.frag';\nimport { BufferRegistry } from '../globals';\nimport MappedQuadBuffer from './mappedquad-buffer';\nimport { BufferDefaultParameters, BufferParameterTypes } from './buffer';\nexport const WideLineBufferDefaultParameters = Object.assign({\n    linewidth: 2\n}, BufferDefaultParameters);\nconst WideLineBufferParameterTypes = Object.assign({\n    linewidth: { uniform: true }\n}, BufferParameterTypes);\n/**\n * Wide Line buffer. Draws lines with a fixed width in pixels.\n *\n * @example\n * var lineBuffer = new WideLineBuffer({\n *   position1: new Float32Array([ 0, 0, 0 ]),\n *   position2: new Float32Array([ 1, 1, 1 ]),\n *   color: new Float32Array([ 1, 0, 0 ]),\n *   color2: new Float32Array([ 0, 1, 0 ])\n * });\n */\nclass WideLineBuffer extends MappedQuadBuffer {\n    constructor(data, params = {}) {\n        super(data, params);\n        this.parameterTypes = WideLineBufferParameterTypes;\n        this.vertexShader = 'WideLine.vert';\n        this.fragmentShader = 'WideLine.frag';\n        if (!data.color2 && data.color)\n            data.color2 = data.color;\n        this.addUniforms({\n            'linewidth': { value: this.parameters.linewidth },\n            'resolution': { value: new Vector2() },\n            'projectionMatrixInverse': { value: new Matrix4() }\n        });\n        this.addAttributes({\n            'position1': { type: 'v3', value: null },\n            'position2': { type: 'v3', value: null },\n            'color2': { type: 'c', value: null }\n        });\n        this.setAttributes(data);\n        this.makeMapping();\n    }\n    get defaultParameters() { return WideLineBufferDefaultParameters; }\n    setParameters(params) {\n        super.setParameters(params);\n    }\n}\nBufferRegistry.add('wideline', WideLineBuffer);\nexport default WideLineBuffer;\n//# sourceMappingURL=wideline-buffer.js.map","/**\n * @file Angle Representation\n * @author Fred Ludlow <fred.ludlow@gmail.com>\n * @private\n */\nimport { Color } from 'three';\nimport { RepresentationRegistry } from '../globals';\nimport MeasurementRepresentation, { parseNestedAtoms, calcArcPoint } from './measurement-representation';\nimport { defaults } from '../utils';\nimport MeshBuffer from '../buffer/mesh-buffer';\nimport TextBuffer from '../buffer/text-buffer';\nimport WideLineBuffer from '../buffer/wideline-buffer';\nimport { v3add, v3cross, v3dot, v3fromArray, v3length, v3new, v3normalize, v3sub, v3toArray } from '../math/vector-utils';\nimport { copyArray, uniformArray, uniformArray3 } from '../math/array-utils';\nimport { RAD2DEG } from '../math/math-constants';\nimport { getFixedLengthWrappedDashData } from '../geometry/dash';\n/**\n * Angle representation object\n *\n * Reperesentation consists of four parts, visibility can be set for each\n * label - the text label with the angle size\n * vectors - lines joining the three points\n * sector - triangles representing the angle\n * arc - line bordering the sector\n *\n * @param {Structure} structure - the structure to measure angles in\n * @param {Viewer} viewer - a viewer object\n * @param {AngleRepresentationParameters} params - angle representation parameters\n */\nclass AngleRepresentation extends MeasurementRepresentation {\n    constructor(structure, viewer, params) {\n        super(structure, viewer, params);\n        this.type = 'angle';\n        this.parameters = Object.assign({\n            atomTriple: {\n                type: 'hidden', rebuild: true\n            },\n            vectorVisible: {\n                type: 'boolean', default: true\n            },\n            arcVisible: {\n                type: 'boolean', default: true\n            },\n            sectorVisible: {\n                type: 'boolean', default: true\n            }\n        }, this.parameters);\n        this.init(params);\n    }\n    init(params) {\n        const p = params || {};\n        p.side = defaults(p.side, 'double');\n        p.opacity = defaults(p.opacity, 0.5);\n        this.atomTriple = defaults(p.atomTriple, []);\n        this.arcVisible = defaults(p.arcVisible, true);\n        this.sectorVisible = defaults(p.sectorVisible, true);\n        this.vectorVisible = defaults(p.vectorVisible, true);\n        super.init(p);\n    }\n    createData(sview) {\n        if (!sview.atomCount || !this.atomTriple.length)\n            return;\n        const atomPosition = atomTriplePositions(sview, this.atomTriple);\n        const angleData = getAngleData(atomPosition);\n        const n = this.n = angleData.labelPosition.length / 3;\n        const labelColor = new Color(this.labelColor);\n        // Create buffers\n        this.textBuffer = new TextBuffer({\n            position: angleData.labelPosition,\n            size: uniformArray(n, this.labelSize),\n            color: uniformArray3(n, labelColor.r, labelColor.g, labelColor.b),\n            text: angleData.labelText\n        }, this.getLabelBufferParams());\n        const c = new Color(this.colorValue);\n        this.vectorBuffer = new WideLineBuffer(getFixedLengthWrappedDashData({\n            position1: angleData.vectorPosition1,\n            position2: angleData.vectorPosition2,\n            color: uniformArray3(2 * n, c.r, c.g, c.b),\n            color2: uniformArray3(2 * n, c.r, c.g, c.b)\n        }), this.getBufferParams({\n            linewidth: this.linewidth,\n            visible: this.vectorVisible,\n            opacity: this.lineOpacity\n        }));\n        this.arcLength = angleData.arcPosition1.length / 3;\n        this.arcBuffer = new WideLineBuffer(getFixedLengthWrappedDashData({\n            position1: angleData.arcPosition1,\n            position2: angleData.arcPosition2,\n            color: uniformArray3(this.arcLength, c.r, c.g, c.b),\n            color2: uniformArray3(this.arcLength, c.r, c.g, c.b)\n        }), this.getBufferParams({\n            linewidth: this.linewidth,\n            visible: this.arcVisible,\n            opacity: this.lineOpacity\n        }));\n        this.sectorLength = angleData.sectorPosition.length / 3;\n        this.sectorBuffer = new MeshBuffer({\n            position: angleData.sectorPosition,\n            color: uniformArray3(this.sectorLength, c.r, c.g, c.b)\n        }, this.getBufferParams({\n            visible: this.sectorVisible\n        }));\n        return {\n            bufferList: [\n                this.textBuffer,\n                this.vectorBuffer,\n                this.arcBuffer,\n                this.sectorBuffer\n            ]\n        };\n    }\n    updateData(what, data) {\n        super.updateData(what, data);\n        const vectorData = {};\n        const arcData = {};\n        const sectorData = {};\n        if (what.color) {\n            const c = new Color(this.colorValue);\n            Object.assign(vectorData, {\n                color: uniformArray3(this.n * 2, c.r, c.g, c.b),\n                color2: uniformArray3(this.n * 2, c.r, c.g, c.b)\n            });\n            Object.assign(arcData, {\n                color: uniformArray3(this.arcLength, c.r, c.g, c.b),\n                color2: uniformArray3(this.arcLength, c.r, c.g, c.b)\n            });\n            Object.assign(sectorData, {\n                color: uniformArray3(this.sectorLength, c.r, c.g, c.b)\n            });\n        }\n        // if (what.sectorOpacity) {\n        //   this.sectorBuffer.opacity = what.sectorOpacity\n        // }\n        this.vectorBuffer.setAttributes(vectorData);\n        this.arcBuffer.setAttributes(arcData);\n        this.sectorBuffer.setAttributes(sectorData);\n    }\n    setParameters(params) {\n        var rebuild = false;\n        var what = {};\n        super.setParameters(params, what, rebuild);\n        if (params && (params.vectorVisible !== undefined ||\n            params.arcVisible !== undefined ||\n            params.sectorVisible !== undefined)) {\n            this.setVisibility(this.visible);\n        }\n        if (params && params.lineOpacity) {\n            this.vectorBuffer.setParameters({ opacity: params.lineOpacity });\n            this.arcBuffer.setParameters({ opacity: params.lineOpacity });\n        }\n        if (params && params.opacity !== undefined) {\n            this.vectorBuffer.setParameters({ opacity: this.lineOpacity });\n            this.arcBuffer.setParameters({ opacity: this.lineOpacity });\n        }\n        if (params && params.linewidth) {\n            this.vectorBuffer.setParameters({ linewidth: params.linewidth });\n            this.arcBuffer.setParameters({ linewidth: params.linewidth });\n        }\n        return this;\n    }\n    setVisibility(value, noRenderRequest) {\n        super.setVisibility(value, true);\n        if (this.vectorBuffer) {\n            this.vectorBuffer.setVisibility(this.vectorVisible && this.visible);\n        }\n        if (this.arcBuffer) {\n            this.arcBuffer.setVisibility(this.arcVisible && this.visible);\n        }\n        if (this.sectorBuffer) {\n            this.sectorBuffer.setVisibility(this.sectorVisible && this.visible);\n        }\n        if (!noRenderRequest)\n            this.viewer.requestRender();\n        return this;\n    }\n}\n/**\n * Ensure mid point does not coincide with first or second\n * @param  {Float32Array} position 9*nAngle array of coordinates\n * @return {Float32Array}          Filtered position array, may be shorter\n */\nfunction validatePositions(position) {\n    const include = [];\n    const n = position.length / 9;\n    for (let i = 0; i < n; i++) {\n        // Check that first point not same as second and that second not same as third\n        let okay = true;\n        for (let j = i; j < i + 3; j += 3) {\n            if (position[j] === position[j + 3] &&\n                position[j + 1] === position[j + 4] &&\n                position[j + 2] === position[j + 5]) {\n                okay = false;\n            }\n        }\n        if (okay)\n            include.push(i);\n    }\n    const outPosition = new Float32Array(include.length * 9);\n    let outIdx = 0;\n    include.forEach(function (i) {\n        copyArray(position, outPosition, i * 9, outIdx * 9, 9);\n        outIdx++;\n    });\n    return outPosition;\n}\nfunction atomTriplePositions(sview, atomTriple) {\n    return validatePositions(parseNestedAtoms(sview, atomTriple));\n}\n/**\n * Converts triple positions into data required to build various buffers.\n */\nfunction getAngleData(position, params = {}) {\n    const angleStep = defaults(params.angleStep, Math.PI / 90);\n    const n = position.length / 9;\n    const angles = new Float32Array(n);\n    const labelPosition = new Float32Array(n * 3);\n    const labelText = new Array(n);\n    const vectorPosition1 = new Float32Array(n * 6); // Two lines per angle\n    const vectorPosition2 = new Float32Array(n * 6);\n    const arcPositionTmp1 = new Array(n); // Start points for arc lines\n    const arcPositionTmp2 = new Array(n); // End points for arc lines\n    const sectorPositionTmp = new Array(n); // Triangle points\n    let totalSegments = 0;\n    // Re-used vectors etc\n    const p1 = v3new(); // Positions of points for each angel\n    const p2 = v3new();\n    const p3 = v3new();\n    const v21 = v3new(); // Vectors\n    const v23 = v3new();\n    const cross = v3new(); // Cross product v21xv23\n    const cross2 = v3new(); // In-plane cross product v21 x (v21 x v23)\n    const labelTmp = v3new();\n    const arcPoint = v3new();\n    for (var i = 0; i < n; i++) {\n        let p = 9 * i;\n        v3fromArray(p1, position, p);\n        v3fromArray(p2, position, p + 3);\n        v3fromArray(p3, position, p + 6);\n        let v = 6 * i;\n        v3toArray(p1, vectorPosition1, v);\n        v3toArray(p2, vectorPosition2, v);\n        v3toArray(p2, vectorPosition1, v + 3);\n        v3toArray(p3, vectorPosition2, v + 3);\n        v3sub(v21, p1, p2);\n        v3sub(v23, p3, p2);\n        v3normalize(v21, v21); // validatePositions ensures valid\n        v3normalize(v23, v23);\n        v3cross(cross, v21, v23);\n        const crossLength = v3length(cross);\n        const dot = v3dot(v21, v23);\n        const angle = angles[i] = Math.atan2(crossLength, dot);\n        labelText[i] = (RAD2DEG * angle).toFixed(1) + String.fromCharCode(0x00B0);\n        if (v3length(cross) === 0.0) {\n            // Angle exactly 0/180, pick an arbitrary direction\n            cross[0] = 1.0;\n            cross[1] = 0.0;\n            cross[2] = 0.0;\n        }\n        v3cross(cross2, cross, v21);\n        v3normalize(cross2, cross2);\n        calcArcPoint(labelTmp, p2, v21, cross2, angle / 2.0);\n        // TODO: Scale label position?\n        v3toArray(labelTmp, labelPosition, 3 * i);\n        // Build the arc and sector\n        const nSegments = Math.ceil(angle / angleStep);\n        const sectorVertices = new Float32Array(nSegments * 9);\n        sectorPositionTmp[i] = sectorVertices;\n        const arcVertices1 = new Float32Array(nSegments * 3);\n        const arcVertices2 = new Float32Array(nSegments * 3);\n        arcPositionTmp1[i] = arcVertices1;\n        arcPositionTmp2[i] = arcVertices2;\n        v3add(arcPoint, p2, v21); // Our initial arc point\n        const appendArcSection = function (a, j) {\n            const si = j * 9;\n            const ai = j * 3;\n            v3toArray(p2, sectorVertices, si);\n            v3toArray(arcPoint, sectorVertices, si + 3);\n            v3toArray(arcPoint, arcVertices1, ai);\n            calcArcPoint(arcPoint, p2, v21, cross2, a);\n            v3toArray(arcPoint, sectorVertices, si + 6);\n            v3toArray(arcPoint, arcVertices2, ai);\n        };\n        let j = 0;\n        for (let a = angleStep; a < angle; a += angleStep) {\n            appendArcSection(a, j);\n            j++;\n        }\n        appendArcSection(angle, j);\n        totalSegments += nSegments;\n    }\n    // Flatten nested arrays of arc/segment points\n    const arcSize = totalSegments * 3;\n    const sectorSize = totalSegments * 9;\n    const arcPosition1 = new Float32Array(arcSize);\n    const arcPosition2 = new Float32Array(arcSize);\n    const sectorPosition = new Float32Array(sectorSize);\n    let sectorOffset = 0;\n    let arcOffset = 0;\n    for (let i = 0; i < n; i++) {\n        const ap1 = arcPositionTmp1[i];\n        const ap2 = arcPositionTmp2[i];\n        copyArray(ap1, arcPosition1, 0, arcOffset, ap1.length);\n        copyArray(ap2, arcPosition2, 0, arcOffset, ap2.length);\n        arcOffset += ap1.length; // === ap2.length\n        const sp = sectorPositionTmp[i];\n        copyArray(sp, sectorPosition, 0, sectorOffset, sp.length);\n        sectorOffset += sp.length;\n    }\n    return {\n        labelPosition,\n        labelText,\n        vectorPosition1,\n        vectorPosition2,\n        arcPosition1,\n        arcPosition2,\n        sectorPosition\n    };\n}\nRepresentationRegistry.add('angle', AngleRepresentation);\nexport default AngleRepresentation;\n//# sourceMappingURL=angle-representation.js.map","/**\n * @file Cylinder Geometry Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Matrix4, Vector3, CylinderBufferGeometry } from 'three';\nimport { defaults } from '../utils';\nimport { calculateCenterArray, serialBlockArray } from '../math/array-utils';\nimport GeometryBuffer from './geometry-buffer';\nimport { BufferDefaultParameters } from './buffer';\nconst scale = new Vector3();\nconst eye = new Vector3();\nconst target = new Vector3();\nconst up = new Vector3(0, 1, 0);\nexport const CylinderGeometryBufferDefaultParameters = Object.assign({\n    radialSegments: 1,\n    openEnded: true\n}, BufferDefaultParameters);\nfunction getData(data, params = {}) {\n    const geo = getGeo(params);\n    const n = data.position1.length;\n    const geoLength = geo.attributes.position.array.length / 3;\n    const count = n / 3;\n    const primitiveId = new Float32Array(count * 2 * geoLength);\n    serialBlockArray(count, geoLength, 0, primitiveId);\n    serialBlockArray(count, geoLength, count * geoLength, primitiveId);\n    const position = new Float32Array(n * 2);\n    const color = new Float32Array(n * 2);\n    return {\n        position, color, primitiveId, picking: data.picking\n    };\n}\nfunction getGeo(params = {}) {\n    const radialSegments = defaults(params.radialSegments, 10);\n    const openEnded = defaults(params.openEnded, true);\n    const matrix = new Matrix4().makeRotationX(Math.PI / 2);\n    const geo = new CylinderBufferGeometry(1, // radiusTop,\n    1, // radiusBottom,\n    1, // height,\n    radialSegments, // radialSegments,\n    1, // heightSegments,\n    openEnded // openEnded\n    );\n    geo.applyMatrix4(matrix);\n    return geo;\n}\n/**\n * Cylinder geometry buffer.\n *\n * @example\n * var cylinderGeometryBuffer = new CylinderGeometryBuffer({\n *   position1: new Float32Array([ 0, 0, 0 ]),\n *   position2: new Float32Array([ 1, 1, 1 ]),\n *   color: new Float32Array([ 1, 0, 0 ]),\n *   color2: new Float32Array([ 0, 1, 0 ]),\n *   radius: new Float32Array([ 1 ])\n * });\n */\nclass CylinderGeometryBuffer extends GeometryBuffer {\n    /**\n     * @param {Object} data - buffer data\n     * @param {Float32Array} data.position1 - from positions\n     * @param {Float32Array} data.position2 - to positions\n     * @param {Float32Array} data.color - from colors\n     * @param {Float32Array} data.color2 - to colors\n     * @param {Float32Array} data.radius - radii\n     * @param {Picker} [data.picking] - picking ids\n     * @param {BufferParameters} [params] - parameters object\n     */\n    constructor(data, params = {}) {\n        super(getData(data, params), params, getGeo(params));\n        this.updateNormals = true;\n        const n = data.position1.length;\n        const m = data.radius.length;\n        this.__center = new Float32Array(n);\n        this._position = new Float32Array(n * 2);\n        this._color = new Float32Array(n * 2);\n        this._from = new Float32Array(n * 2);\n        this._to = new Float32Array(n * 2);\n        this._radius = new Float32Array(m * 2);\n        this.setAttributes(data, true);\n    }\n    get defaultParameters() { return CylinderGeometryBufferDefaultParameters; }\n    applyPositionTransform(matrix, i, i3) {\n        eye.fromArray(this._from, i3);\n        target.fromArray(this._to, i3);\n        matrix.lookAt(eye, target, up);\n        const r = this._radius[i];\n        scale.set(r, r, eye.distanceTo(target));\n        matrix.scale(scale);\n    }\n    setAttributes(data = {}, initNormals) {\n        const meshData = {};\n        if (data.position1 && data.position2) {\n            calculateCenterArray(data.position1, data.position2, this.__center);\n            calculateCenterArray(data.position1, this.__center, this._position);\n            calculateCenterArray(this.__center, data.position2, this._position, data.position1.length);\n            this._from.set(data.position1);\n            this._from.set(this.__center, data.position1.length);\n            this._to.set(this.__center);\n            this._to.set(data.position2, this.__center.length);\n            meshData.position = this._position;\n        }\n        if (data.color && data.color2) {\n            this._color.set(data.color);\n            this._color.set(data.color2, data.color.length);\n            meshData.color = this._color;\n        }\n        if (data.radius) {\n            this._radius.set(data.radius);\n            this._radius.set(data.radius, data.radius.length);\n            meshData.radius = this._radius;\n        }\n        super.setAttributes(meshData, initNormals);\n    }\n}\nexport default CylinderGeometryBuffer;\n//# sourceMappingURL=cylindergeometry-buffer.js.map","/**\n * @file Mapped Aligned Box Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport MappedBuffer from './mapped-buffer';\nconst mapping = new Float32Array([\n    -1.0, 1.0, -1.0,\n    -1.0, -1.0, -1.0,\n    1.0, 1.0, -1.0,\n    1.0, 1.0, 1.0,\n    1.0, -1.0, -1.0,\n    1.0, -1.0, 1.0\n]);\nconst mappingIndices = new Uint16Array([\n    0, 1, 2,\n    1, 4, 2,\n    2, 4, 3,\n    4, 5, 3\n]);\n/**\n * Mapped Aligned box buffer. Draws boxes where one side is always screen-space aligned.\n * Used to render cylinder imposters.\n * @interface\n */\nclass MappedAlignedBoxBuffer extends MappedBuffer {\n    constructor(data, params = {}) {\n        super('v3', data, params);\n    }\n    get mapping() { return mapping; }\n    get mappingIndices() { return mappingIndices; }\n    get mappingIndicesSize() { return 12; }\n    get mappingSize() { return 6; }\n    get mappingItemSize() { return 3; }\n}\nexport default MappedAlignedBoxBuffer;\n//# sourceMappingURL=mappedalignedbox-buffer.js.map","/**\n * @file Cylinder Impostor Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\n// @ts-ignore: unused import Vector3 required for declaration only\nimport { Matrix4 } from 'three';\nimport '../shader/CylinderImpostor.vert';\nimport '../shader/CylinderImpostor.frag';\nimport MappedAlignedBoxBuffer from './mappedalignedbox-buffer';\nimport { BufferDefaultParameters, BufferParameterTypes } from './buffer';\nexport const CylinderImpostorBufferDefaultParameters = Object.assign({\n    openEnded: false\n}, BufferDefaultParameters);\nconst CylinderImpostorBufferParameterTypes = Object.assign({\n    openEnded: { updateShader: true }\n}, BufferParameterTypes);\n/**\n * Cylinder impostor buffer.\n *\n * @example\n * var cylinderimpostorBuffer = new CylinderImpostorBuffer({\n *     position1: new Float32Array([ 0, 0, 0 ]),\n *     position2: new Float32Array([ 1, 1, 1 ]),\n *     color: new Float32Array([ 1, 0, 0 ]),\n *     color2: new Float32Array([ 0, 1, 0 ]),\n *     radius: new Float32Array([ 1 ])\n * });\n */\nclass CylinderImpostorBuffer extends MappedAlignedBoxBuffer {\n    /**\n     * make cylinder impostor buffer\n     * @param  {Object} data - attribute object\n     * @param  {Float32Array} data.position1 - from positions\n     * @param  {Float32Array} data.position2 - to positions\n     * @param  {Float32Array} data.color - from colors\n     * @param  {Float32Array} data.color2 - to colors\n     * @param  {Float32Array} data.radius - radii\n     * @param  {Picker} data.picking - picking ids\n     * @param  {BufferParameters} params - parameter object\n     */\n    constructor(data, params = {}) {\n        super(data, params);\n        this.parameterTypes = CylinderImpostorBufferParameterTypes;\n        this.isImpostor = true;\n        this.vertexShader = 'CylinderImpostor.vert';\n        this.fragmentShader = 'CylinderImpostor.frag';\n        this.addUniforms({\n            'modelViewMatrixInverse': { value: new Matrix4() },\n            'ortho': { value: 0.0 }\n        });\n        this.addAttributes({\n            'position1': { type: 'v3', value: null },\n            'position2': { type: 'v3', value: null },\n            'color2': { type: 'c', value: null },\n            'radius': { type: 'f', value: null }\n        });\n        this.setAttributes(data);\n        this.makeMapping();\n    }\n    get defaultParameters() { return CylinderImpostorBufferDefaultParameters; }\n    getDefines(type) {\n        const defines = MappedAlignedBoxBuffer.prototype.getDefines.call(this, type);\n        if (!this.parameters.openEnded) {\n            defines.CAP = 1;\n        }\n        return defines;\n    }\n}\nexport default CylinderImpostorBuffer;\n//# sourceMappingURL=cylinderimpostor-buffer.js.map","/**\n * @file Cylinder Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { BufferRegistry, ExtensionFragDepth } from '../globals';\nimport CylinderGeometryBuffer, { CylinderGeometryBufferDefaultParameters } from './cylindergeometry-buffer';\nimport CylinderImpostorBuffer, { CylinderImpostorBufferDefaultParameters } from './cylinderimpostor-buffer';\nexport const CylinderBufferDefaultParameters = Object.assign({\n    disableImpostor: false\n}, CylinderGeometryBufferDefaultParameters, CylinderImpostorBufferDefaultParameters);\n/**\n * Cylinder buffer. Depending on the value {@link ExtensionFragDepth} and\n * `params.disableImpostor` the constructor returns either a\n * {@link CylinderGeometryBuffer} or a {@link CylinderImpostorBuffer}\n * @implements {Buffer}\n *\n * @example\n * var cylinderBuffer = new CylinderBuffer({\n *   position1: new Float32Array([ 0, 0, 0 ]),\n *   position2: new Float32Array([ 1, 1, 1 ]),\n *   color: new Float32Array([ 1, 0, 0 ]),\n *   color2: new Float32Array([ 0, 1, 0 ]),\n *   radius: new Float32Array([ 1 ])\n * });\n */\nclass CylinderBuffer {\n    constructor(data, params = {}) {\n        if (!data.color2 && data.color)\n            data.color2 = data.color;\n        if (!ExtensionFragDepth || (params && params.disableImpostor)) {\n            return new CylinderGeometryBuffer(data, params);\n        }\n        else {\n            return new CylinderImpostorBuffer(data, params);\n        }\n    }\n}\nBufferRegistry.add('cylinder', CylinderBuffer);\nexport default CylinderBuffer;\n//# sourceMappingURL=cylinder-buffer.js.map","/**\n * @file Axes Representation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Color, Vector3 } from 'three';\nimport { RepresentationRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport { AxesPicker } from '../utils/picker';\nimport { uniformArray, uniformArray3 } from '../math/array-utils';\nimport StructureRepresentation from './structure-representation';\nimport SphereBuffer from '../buffer/sphere-buffer';\nimport CylinderBuffer from '../buffer/cylinder-buffer';\n/**\n * Axes representation. Show principal axes and/or a box aligned with them\n * that fits the structure or selection.\n *\n * __Name:__ _axes_\n *\n * @example\n * stage.loadFile( \"rcsb://3pqr\", {\n *     assembly: \"BU1\"\n * } ).then( function( o ){\n *     o.addRepresentation( \"cartoon\" );\n *     o.addRepresentation( \"axes\", {\n *         sele: \"RET\", showAxes: false, showBox: true, radius: 0.2\n *     } );\n *     o.addRepresentation( \"ball+stick\", { sele: \"RET\" } );\n *     o.addRepresentation( \"axes\", {\n *         sele: \":B and backbone\", showAxes: false, showBox: true, radius: 0.2\n *     } );\n *     stage.autoView();\n *     var pa = o.structure.getPrincipalAxes();\n *     stage.animationControls.rotate( pa.getRotationQuaternion(), 1500 );\n * } );\n */\nclass AxesRepresentation extends StructureRepresentation {\n    /**\n     * @param  {Structure} structure - the structure object\n     * @param  {Viewer} viewer - the viewer object\n     * @param  {StructureRepresentationParameters} params - parameters object\n     */\n    constructor(structure, viewer, params) {\n        super(structure, viewer, params);\n        this.type = 'axes';\n        this.parameters = Object.assign({\n            radiusSize: {\n                type: 'number', precision: 3, max: 10.0, min: 0.001\n            },\n            sphereDetail: true,\n            radialSegments: true,\n            disableImpostor: true,\n            showAxes: {\n                type: 'boolean', rebuild: true\n            },\n            showBox: {\n                type: 'boolean', rebuild: true\n            }\n        }, this.parameters, {\n            assembly: null\n        });\n        this.init(params);\n    }\n    init(params) {\n        const p = params || {};\n        p.radiusSize = defaults(p.radiusSize, 0.5);\n        p.colorValue = defaults(p.colorValue, 'lightgreen');\n        p.useInteriorColor = defaults(p.useInteriorColor, true);\n        this.showAxes = defaults(p.showAxes, true);\n        this.showBox = defaults(p.showBox, false);\n        super.init(p);\n    }\n    getPrincipalAxes() {\n        let selection;\n        const assembly = this.getAssembly();\n        if (assembly) {\n            selection = assembly.partList[0].getSelection();\n        }\n        return this.structureView.getPrincipalAxes(selection);\n    }\n    getAxesData(sview) {\n        const pa = this.getPrincipalAxes();\n        const c = new Color(this.colorValue);\n        let vn = 0;\n        let en = 0;\n        if (this.showAxes) {\n            vn += 6;\n            en += 3;\n        }\n        if (this.showBox) {\n            vn += 8;\n            en += 12;\n        }\n        const vertexPosition = new Float32Array(3 * vn);\n        const vertexColor = uniformArray3(vn, c.r, c.g, c.b);\n        const vertexRadius = uniformArray(vn, this.radiusSize);\n        const edgePosition1 = new Float32Array(3 * en);\n        const edgePosition2 = new Float32Array(3 * en);\n        const edgeColor = uniformArray3(en, c.r, c.g, c.b);\n        const edgeRadius = uniformArray(en, this.radiusSize);\n        let offset = 0;\n        if (this.showAxes) {\n            const addAxis = function (v1, v2) {\n                v1.toArray(vertexPosition, offset * 2);\n                v2.toArray(vertexPosition, offset * 2 + 3);\n                v1.toArray(edgePosition1, offset);\n                v2.toArray(edgePosition2, offset);\n                offset += 3;\n            };\n            addAxis(pa.begA, pa.endA);\n            addAxis(pa.begB, pa.endB);\n            addAxis(pa.begC, pa.endC);\n        }\n        if (this.showBox) {\n            const v = new Vector3();\n            const { d1a, d2a, d3a, d1b, d2b, d3b } = pa.getProjectedScaleForAtoms(sview);\n            // console.log(d1a, d2a, d3a, d1b, d2b, d3b)\n            let offset2 = offset * 2;\n            const addCorner = function (d1, d2, d3) {\n                v.copy(pa.center)\n                    .addScaledVector(pa.normVecA, d1)\n                    .addScaledVector(pa.normVecB, d2)\n                    .addScaledVector(pa.normVecC, d3);\n                v.toArray(vertexPosition, offset2);\n                offset2 += 3;\n            };\n            addCorner(d1a, d2a, d3a);\n            addCorner(d1a, d2a, d3b);\n            addCorner(d1a, d2b, d3b);\n            addCorner(d1a, d2b, d3a);\n            addCorner(d1b, d2b, d3b);\n            addCorner(d1b, d2b, d3a);\n            addCorner(d1b, d2a, d3a);\n            addCorner(d1b, d2a, d3b);\n            let edgeOffset = offset;\n            const addEdge = function (a, b) {\n                v.fromArray(vertexPosition, offset * 2 + a * 3)\n                    .toArray(edgePosition1, edgeOffset);\n                v.fromArray(vertexPosition, offset * 2 + b * 3)\n                    .toArray(edgePosition2, edgeOffset);\n                edgeOffset += 3;\n            };\n            addEdge(0, 1);\n            addEdge(0, 3);\n            addEdge(0, 6);\n            addEdge(1, 2);\n            addEdge(1, 7);\n            addEdge(2, 3);\n            addEdge(2, 4);\n            addEdge(3, 5);\n            addEdge(4, 5);\n            addEdge(4, 7);\n            addEdge(5, 6);\n            addEdge(6, 7);\n        }\n        const picker = new AxesPicker(pa);\n        return {\n            vertex: {\n                position: vertexPosition,\n                color: vertexColor,\n                radius: vertexRadius,\n                picking: picker\n            },\n            edge: {\n                position1: edgePosition1,\n                position2: edgePosition2,\n                color: edgeColor,\n                color2: edgeColor,\n                radius: edgeRadius,\n                picking: picker\n            }\n        };\n    }\n    create() {\n        const axesData = this.getAxesData(this.structureView);\n        this.sphereBuffer = new SphereBuffer(axesData.vertex, this.getBufferParams({\n            sphereDetail: this.sphereDetail,\n            disableImpostor: this.disableImpostor,\n            dullInterior: true\n        }));\n        this.cylinderBuffer = new CylinderBuffer(axesData.edge, this.getBufferParams({\n            openEnded: true,\n            radialSegments: this.radialSegments,\n            disableImpostor: this.disableImpostor,\n            dullInterior: true\n        }));\n        this.dataList.push({\n            sview: this.structureView,\n            bufferList: [this.sphereBuffer, this.cylinderBuffer]\n        });\n    }\n    createData(sview) {\n        return;\n    }\n    updateData(what, data) {\n        const axesData = this.getAxesData(data.sview);\n        const sphereData = {};\n        const cylinderData = {};\n        if (!what || what.position) {\n            Object.assign(sphereData, {\n                position: axesData.vertex.position\n            });\n            Object.assign(cylinderData, {\n                position1: axesData.edge.position1,\n                position2: axesData.edge.position2\n            });\n        }\n        if (!what || what.color) {\n            Object.assign(sphereData, {\n                color: axesData.vertex.color\n            });\n            Object.assign(cylinderData, {\n                color: axesData.edge.color,\n                color2: axesData.edge.color\n            });\n        }\n        if (!what || what.radius) {\n            Object.assign(sphereData, {\n                radius: axesData.vertex.radius\n            });\n            Object.assign(cylinderData, {\n                radius: axesData.edge.radius\n            });\n        }\n        this.sphereBuffer.setAttributes(sphereData);\n        this.cylinderBuffer.setAttributes(cylinderData);\n    }\n}\nRepresentationRegistry.add('axes', AxesRepresentation);\nexport default AxesRepresentation;\n//# sourceMappingURL=axes-representation.js.map","/**\n * @file Ball And Stick Representation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { defaults } from '../utils';\nimport { ExtensionFragDepth, RepresentationRegistry } from '../globals';\nimport StructureRepresentation from './structure-representation';\nimport SphereBuffer from '../buffer/sphere-buffer';\nimport CylinderBuffer from '../buffer/cylinder-buffer';\nimport WideLineBuffer from '../buffer/wideline-buffer';\n/**\n * Ball And Stick representation parameter object. Extends {@link RepresentationParameters} and\n * {@link StructureRepresentationParameters}.\n *\n * @typedef {Object} BallAndStickRepresentationParameters - ball and stick representation parameters\n *\n * @property {Integer} sphereDetail - sphere quality (icosahedron subdivisions)\n * @property {Integer} radialSegments - cylinder quality (number of segments)\n * @property {Boolean} openEnded - capped or not\n * @property {Boolean} disableImpostor - disable use of raycasted impostors for rendering\n * @property {Float} aspectRatio - size difference between atom and bond radii\n * @property {Boolean} lineOnly - render only bonds, and only as lines\n * @property {Integer} linewidth - width of lines\n * @property {Boolean} cylinderOnly - render only bonds (no atoms)\n * @property {String} multipleBond - one off \"off\", \"symmetric\", \"offset\"\n * @property {Float} bondSpacing - spacing for multiple bond rendering\n * @property {Float} bondScale - scale/radius for multiple bond rendering\n */\n/**\n * Ball And Stick representation. Show atoms as spheres and bonds as cylinders.\n *\n * __Name:__ _ball+stick_\n *\n * @example\n * stage.loadFile( \"rcsb://1crn\" ).then( function( o ){\n *     o.addRepresentation( \"ball+stick\" );\n *     o.autoView();\n * } );\n */\nclass BallAndStickRepresentation extends StructureRepresentation {\n    /**\n     * Create Ball And Stick representation object\n     * @param {Structure} structure - the structure to be represented\n     * @param {Viewer} viewer - a viewer object\n     * @param {BallAndStickRepresentationParameters} params - ball and stick representation parameters\n     */\n    constructor(structure, viewer, params) {\n        super(structure, viewer, params);\n        this.type = 'ball+stick';\n        this.parameters = Object.assign({\n            sphereDetail: true,\n            radialSegments: true,\n            openEnded: true,\n            disableImpostor: true,\n            aspectRatio: {\n                type: 'number', precision: 1, max: 10.0, min: 1.0\n            },\n            lineOnly: {\n                type: 'boolean', rebuild: true\n            },\n            cylinderOnly: {\n                type: 'boolean', rebuild: true\n            },\n            multipleBond: {\n                type: 'select',\n                rebuild: true,\n                options: {\n                    'off': 'off',\n                    'symmetric': 'symmetric',\n                    'offset': 'offset'\n                }\n            },\n            bondScale: {\n                type: 'number', precision: 2, max: 1.0, min: 0.01\n            },\n            bondSpacing: {\n                type: 'number', precision: 2, max: 2.0, min: 0.5\n            },\n            linewidth: {\n                type: 'integer', max: 50, min: 1, buffer: true\n            }\n        }, this.parameters);\n        this.init(params);\n    }\n    init(params) {\n        var p = params || {};\n        p.radiusType = defaults(p.radiusType, 'size');\n        p.radiusSize = defaults(p.radiusSize, 0.15);\n        p.useInteriorColor = defaults(p.useInteriorColor, true);\n        this.aspectRatio = defaults(p.aspectRatio, 2.0);\n        this.lineOnly = defaults(p.lineOnly, false);\n        this.cylinderOnly = defaults(p.cylinderOnly, false);\n        this.multipleBond = defaults(p.multipleBond, 'off');\n        this.bondSpacing = defaults(p.bondSpacing, 1.0);\n        this.bondScale = defaults(p.bondScale, 0.4);\n        this.linewidth = defaults(p.linewidth, 2);\n        super.init(p);\n    }\n    getAtomRadius(atom) {\n        return this.aspectRatio * super.getAtomRadius(atom);\n    }\n    getAtomParams(what, params) {\n        var p = super.getAtomParams(what, params);\n        p.radiusParams.scale *= this.aspectRatio;\n        return p;\n    }\n    getAtomData(sview, what, params) {\n        return sview.getAtomData(this.getAtomParams(what, params));\n    }\n    getBondParams(what, params) {\n        params = Object.assign({\n            multipleBond: this.multipleBond,\n            bondSpacing: this.bondSpacing,\n            bondScale: this.bondScale\n        }, params);\n        return super.getBondParams(what, params);\n    }\n    getBondData(sview, what, params) {\n        return sview.getBondData(this.getBondParams(what, params));\n    }\n    createData(sview) {\n        const bufferList = [];\n        if (this.lineOnly) {\n            this.lineBuffer = new WideLineBuffer(this.getBondData(sview, { position: true, color: true, picking: true }), this.getBufferParams({ linewidth: this.linewidth }));\n            bufferList.push(this.lineBuffer);\n        }\n        else {\n            const cylinderBuffer = new CylinderBuffer(this.getBondData(sview), this.getBufferParams({\n                openEnded: this.openEnded,\n                radialSegments: this.radialSegments,\n                disableImpostor: this.disableImpostor,\n                dullInterior: true\n            }));\n            bufferList.push(cylinderBuffer);\n            if (!this.cylinderOnly) {\n                const sphereBuffer = new SphereBuffer(this.getAtomData(sview), this.getBufferParams({\n                    sphereDetail: this.sphereDetail,\n                    disableImpostor: this.disableImpostor,\n                    dullInterior: true\n                }));\n                bufferList.push(sphereBuffer);\n            }\n        }\n        return {\n            bufferList: bufferList\n        };\n    }\n    updateData(what, data) {\n        if (this.multipleBond !== 'off' && what && what.radius) {\n            what.position = true;\n        }\n        const bondData = this.getBondData(data.sview, what);\n        if (this.lineOnly) {\n            const lineData = {};\n            if (!what || what.position) {\n                Object.assign(lineData, {\n                    position1: bondData.position1,\n                    position2: bondData.position2\n                });\n            }\n            if (!what || what.color) {\n                Object.assign(lineData, {\n                    color: bondData.color,\n                    color2: bondData.color2\n                });\n            }\n            data.bufferList[0].setAttributes(lineData);\n        }\n        else {\n            var cylinderData = {};\n            if (!what || what.position) {\n                Object.assign(cylinderData, {\n                    position1: bondData.position1,\n                    position2: bondData.position2\n                });\n            }\n            if (!what || what.color) {\n                Object.assign(cylinderData, {\n                    color: bondData.color,\n                    color2: bondData.color2\n                });\n            }\n            if (!what || what.radius) {\n                Object.assign(cylinderData, {\n                    radius: bondData.radius\n                });\n            }\n            data.bufferList[0].setAttributes(cylinderData);\n            if (!this.cylinderOnly) {\n                var atomData = this.getAtomData(data.sview, what);\n                var sphereData = {};\n                if (!what || what.position) {\n                    Object.assign(sphereData, {\n                        position: atomData.position\n                    });\n                }\n                if (!what || what.color) {\n                    Object.assign(sphereData, {\n                        color: atomData.color\n                    });\n                }\n                if (!what || what.radius) {\n                    Object.assign(sphereData, {\n                        radius: atomData.radius\n                    });\n                }\n                data.bufferList[1].setAttributes(sphereData);\n            }\n        }\n    }\n    setParameters(params = {}) {\n        let rebuild = false;\n        const what = {};\n        if (params.aspectRatio || params.bondSpacing || params.bondScale) {\n            Object.assign(what, { radius: true });\n            if (!ExtensionFragDepth || this.disableImpostor) {\n                rebuild = true;\n            }\n        }\n        super.setParameters(params, what, rebuild);\n        return this;\n    }\n}\nRepresentationRegistry.add('ball+stick', BallAndStickRepresentation);\nexport default BallAndStickRepresentation;\n//# sourceMappingURL=ballandstick-representation.js.map","/**\n * @file Backbone Representation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { RepresentationRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport BallAndStickRepresentation from './ballandstick-representation';\n/**\n * Backbone representation. Show cylinders (or lines) connecting .CA (protein)\n * or .C4'/.C3' (RNA/DNA) of polymers.\n *\n * __Name:__ _backbone_\n *\n * @example\n * stage.loadFile( \"rcsb://1sfi\" ).then( function( o ){\n *     o.addRepresentation( \"backbone\" );\n *     o.autoView();\n * } );\n */\nclass BackboneRepresentation extends BallAndStickRepresentation {\n    /**\n     * @param  {Structure} structure - the structure object\n     * @param  {Viewer} viewer - the viewer object\n     * @param  {BallAndStickRepresentationParameters} params - parameters object\n     */\n    constructor(structure, viewer, params) {\n        super(structure, viewer, params);\n        this.type = 'backbone';\n        this.parameters = Object.assign({}, this.parameters, {\n            multipleBond: null,\n            bondSpacing: null\n        });\n        this.init(params);\n    }\n    init(params) {\n        var p = params || {};\n        p.aspectRatio = defaults(p.aspectRatio, 1.0);\n        p.radiusSize = defaults(p.radiusSize, 0.25);\n        super.init(p);\n    }\n    getAtomRadius(atom) {\n        return atom.isTrace() ? super.getAtomRadius(atom) : 0;\n    }\n    getAtomData(sview, what, params) {\n        return sview.getBackboneAtomData(this.getAtomParams(what, params));\n    }\n    getBondData(sview, what, params) {\n        return sview.getBackboneBondData(this.getBondParams(what, params));\n    }\n}\nRepresentationRegistry.add('backbone', BackboneRepresentation);\nexport default BackboneRepresentation;\n//# sourceMappingURL=backbone-representation.js.map","/**\n * @file Base Representation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { RepresentationRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport BallAndStickRepresentation from './ballandstick-representation';\n/**\n * Base representation. Show cylinders for RNA/DNA ladders.\n *\n * __Name:__ _base_\n *\n * @example\n * stage.loadFile( \"rcsb://1d66\" ).then( function( o ){\n *     o.addRepresentation( \"cartoon\", { sele: \"nucleic\" } );\n *     o.addRepresentation( \"base\", { color: \"resname\" } );\n *     o.autoView( \"nucleic\" );\n * } );\n */\nclass BaseRepresentation extends BallAndStickRepresentation {\n    /**\n     * @param  {Structure} structure - the structure object\n     * @param  {Viewer} viewer - the viewer object\n     * @param  {BallAndStickRepresentationParameters} params - parameters object\n     */\n    constructor(structure, viewer, params) {\n        super(structure, viewer, params);\n        this.type = 'base';\n        this.parameters = Object.assign({}, this.parameters, {\n            multipleBond: null,\n            bondSpacing: null\n        });\n    }\n    init(params) {\n        let p = params || {};\n        p.aspectRatio = defaults(p.aspectRatio, 1.0);\n        p.radiusSize = defaults(p.radiusSize, 0.3);\n        super.init(p);\n    }\n    getAtomData(sview, what, params) {\n        return sview.getRungAtomData(this.getAtomParams(what, params));\n    }\n    getBondData(sview, what, params) {\n        let p = this.getBondParams(what, params);\n        Object.assign(p.colorParams, { rung: true });\n        return sview.getRungBondData(p);\n    }\n}\nRepresentationRegistry.add('base', BaseRepresentation);\nexport default BaseRepresentation;\n//# sourceMappingURL=base-representation.js.map","/**\n * @file Spline\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3 } from 'three';\nimport { ColormakerRegistry } from '../globals';\nimport { AtomPicker } from '../utils/picker';\nimport RadiusFactory from '../utils/radius-factory';\nimport { copyArray } from '../math/array-utils';\nimport { spline } from '../math/math-utils';\nexport class Interpolator {\n    constructor(m, tension) {\n        this.m = m;\n        this.tension = tension;\n        this.dt = 1.0 / this.m;\n        this.delta = 0.0001;\n        this.vec1 = new Vector3();\n        this.vec2 = new Vector3();\n        this.vDir = new Vector3();\n        this.vTan = new Vector3();\n        this.vNorm = new Vector3();\n        this.vBin = new Vector3();\n        this.m2 = Math.ceil(this.m / 2);\n    }\n    interpolateToArr(v0, v1, v2, v3, t, arr, offset) {\n        arr[offset + 0] = spline(v0.x, v1.x, v2.x, v3.x, t, this.tension);\n        arr[offset + 1] = spline(v0.y, v1.y, v2.y, v3.y, t, this.tension);\n        arr[offset + 2] = spline(v0.z, v1.z, v2.z, v3.z, t, this.tension);\n    }\n    interpolateToVec(v0, v1, v2, v3, t, vec) {\n        vec.x = spline(v0.x, v1.x, v2.x, v3.x, t, this.tension);\n        vec.y = spline(v0.y, v1.y, v2.y, v3.y, t, this.tension);\n        vec.z = spline(v0.z, v1.z, v2.z, v3.z, t, this.tension);\n    }\n    interpolatePosition(v0, v1, v2, v3, pos, offset) {\n        for (var j = 0; j < this.m; ++j) {\n            var l = offset + j * 3;\n            var d = this.dt * j;\n            this.interpolateToArr(v0, v1, v2, v3, d, pos, l);\n        }\n    }\n    interpolateTangent(v0, v1, v2, v3, tan, offset) {\n        for (var j = 0; j < this.m; ++j) {\n            var d = this.dt * j;\n            var d1 = d - this.delta;\n            var d2 = d + this.delta;\n            var l = offset + j * 3;\n            // capping as a precaution\n            if (d1 < 0)\n                d1 = 0;\n            if (d2 > 1)\n                d2 = 1;\n            //\n            this.interpolateToVec(v0, v1, v2, v3, d1, this.vec1);\n            this.interpolateToVec(v0, v1, v2, v3, d2, this.vec2);\n            //\n            this.vec2.sub(this.vec1).normalize();\n            this.vec2.toArray(tan, l);\n        }\n    }\n    vectorSubdivide(interpolationFn, iterator, array, offset, isCyclic) {\n        let v0;\n        let v1 = iterator.next();\n        let v2 = iterator.next();\n        let v3 = iterator.next();\n        //\n        const n = iterator.size;\n        const n1 = n - 1;\n        let k = offset || 0;\n        for (let i = 0; i < n1; ++i) {\n            v0 = v1;\n            v1 = v2;\n            v2 = v3;\n            v3 = iterator.next();\n            interpolationFn.apply(this, [v0, v1, v2, v3, array, k]);\n            k += 3 * this.m;\n        }\n        if (isCyclic) {\n            v0 = iterator.get(n - 2);\n            v1 = iterator.get(n - 1);\n            v2 = iterator.get(0);\n            v3 = iterator.get(1);\n            interpolationFn.apply(this, [v0, v1, v2, v3, array, k]);\n            k += 3 * this.m;\n        }\n    }\n    //\n    getPosition(iterator, array, offset, isCyclic) {\n        iterator.reset();\n        this.vectorSubdivide(this.interpolatePosition, iterator, array, offset, isCyclic);\n        var n1 = iterator.size - 1;\n        var k = n1 * this.m * 3;\n        if (isCyclic)\n            k += this.m * 3;\n        var v = iterator.get(isCyclic ? 0 : n1);\n        array[k] = v.x;\n        array[k + 1] = v.y;\n        array[k + 2] = v.z;\n    }\n    getTangent(iterator, array, offset, isCyclic) {\n        iterator.reset();\n        this.vectorSubdivide(this.interpolateTangent, iterator, array, offset, isCyclic);\n        const n1 = iterator.size - 1;\n        let k = n1 * this.m * 3;\n        if (isCyclic)\n            k += this.m * 3;\n        copyArray(array, array, k - 3, k, 3);\n    }\n    interpolateNormalDir(u0, u1, u2, u3, v0, v1, v2, v3, tan, norm, bin, offset, shift) {\n        for (let j = 0; j < this.m; ++j) {\n            let l = offset + j * 3;\n            if (shift)\n                l += this.m2 * 3;\n            const d = this.dt * j;\n            this.interpolateToVec(u0, u1, u2, u3, d, this.vec1);\n            this.interpolateToVec(v0, v1, v2, v3, d, this.vec2);\n            this.vDir.subVectors(this.vec2, this.vec1).normalize();\n            this.vTan.fromArray(tan, l);\n            this.vBin.crossVectors(this.vDir, this.vTan).normalize();\n            this.vBin.toArray(bin, l);\n            this.vNorm.crossVectors(this.vTan, this.vBin).normalize();\n            this.vNorm.toArray(norm, l);\n        }\n    }\n    interpolateNormal(vDir, tan, norm, bin, offset) {\n        for (var j = 0; j < this.m; ++j) {\n            var l = offset + j * 3;\n            vDir.copy(this.vNorm);\n            this.vTan.fromArray(tan, l);\n            this.vBin.crossVectors(vDir, this.vTan).normalize();\n            this.vBin.toArray(bin, l);\n            this.vNorm.crossVectors(this.vTan, this.vBin).normalize();\n            this.vNorm.toArray(norm, l);\n        }\n    }\n    getNormal(size, tan, norm, bin, offset, isCyclic) {\n        this.vNorm.set(0, 0, 1);\n        const n = size;\n        const n1 = n - 1;\n        let k = offset || 0;\n        for (var i = 0; i < n1; ++i) {\n            this.interpolateNormal(this.vDir, tan, norm, bin, k);\n            k += 3 * this.m;\n        }\n        if (isCyclic) {\n            this.interpolateNormal(this.vDir, tan, norm, bin, k);\n            k += 3 * this.m;\n        }\n        this.vBin.toArray(bin, k);\n        this.vNorm.toArray(norm, k);\n    }\n    getNormalDir(iterDir1, iterDir2, tan, norm, bin, offset, isCyclic, shift) {\n        iterDir1.reset();\n        iterDir2.reset();\n        //\n        const vSub1 = new Vector3();\n        const vSub2 = new Vector3();\n        const vSub3 = new Vector3();\n        const vSub4 = new Vector3();\n        //\n        const d1v1 = new Vector3();\n        const d1v2 = new Vector3().copy(iterDir1.next());\n        const d1v3 = new Vector3().copy(iterDir1.next());\n        const d1v4 = new Vector3().copy(iterDir1.next());\n        const d2v1 = new Vector3();\n        const d2v2 = new Vector3().copy(iterDir2.next());\n        const d2v3 = new Vector3().copy(iterDir2.next());\n        const d2v4 = new Vector3().copy(iterDir2.next());\n        //\n        this.vNorm.set(0, 0, 1);\n        let n = iterDir1.size;\n        let n1 = n - 1;\n        let k = offset || 0;\n        for (var i = 0; i < n1; ++i) {\n            d1v1.copy(d1v2);\n            d1v2.copy(d1v3);\n            d1v3.copy(d1v4);\n            d1v4.copy(iterDir1.next());\n            d2v1.copy(d2v2);\n            d2v2.copy(d2v3);\n            d2v3.copy(d2v4);\n            d2v4.copy(iterDir2.next());\n            //\n            if (i === 0) {\n                vSub1.subVectors(d2v1, d1v1);\n                vSub2.subVectors(d2v2, d1v2);\n                if (vSub1.dot(vSub2) < 0) {\n                    vSub2.multiplyScalar(-1);\n                    d2v2.addVectors(d1v2, vSub2);\n                }\n                vSub3.subVectors(d2v3, d1v3);\n                if (vSub2.dot(vSub3) < 0) {\n                    vSub3.multiplyScalar(-1);\n                    d2v3.addVectors(d1v3, vSub3);\n                }\n            }\n            else {\n                vSub3.copy(vSub4);\n            }\n            vSub4.subVectors(d2v4, d1v4);\n            if (vSub3.dot(vSub4) < 0) {\n                vSub4.multiplyScalar(-1);\n                d2v4.addVectors(d1v4, vSub4);\n            }\n            this.interpolateNormalDir(d1v1, d1v2, d1v3, d1v4, d2v1, d2v2, d2v3, d2v4, tan, norm, bin, k, shift);\n            k += 3 * this.m;\n        }\n        if (isCyclic) {\n            d1v1.copy(iterDir1.get(n - 2));\n            d1v2.copy(iterDir1.get(n - 1));\n            d1v3.copy(iterDir1.get(0));\n            d1v4.copy(iterDir1.get(1));\n            d2v1.copy(iterDir2.get(n - 2));\n            d2v2.copy(iterDir2.get(n - 1));\n            d2v3.copy(iterDir2.get(0));\n            d2v4.copy(iterDir2.get(1));\n            //\n            vSub3.copy(vSub4);\n            vSub4.subVectors(d2v4, d1v4);\n            if (vSub3.dot(vSub4) < 0) {\n                vSub4.multiplyScalar(-1);\n                d2v4.addVectors(d1v4, vSub4);\n            }\n            this.interpolateNormalDir(d1v1, d1v2, d1v3, d1v4, d2v1, d2v2, d2v3, d2v4, tan, norm, bin, k, shift);\n            k += 3 * this.m;\n        }\n        if (shift) {\n            // FIXME shift requires data from one this.more preceeding residue\n            this.vBin.fromArray(bin, this.m2 * 3);\n            this.vNorm.fromArray(norm, this.m2 * 3);\n            for (var j = 0; j < this.m2; ++j) {\n                this.vBin.toArray(bin, j * 3);\n                this.vNorm.toArray(norm, j * 3);\n            }\n        }\n        else {\n            this.vBin.toArray(bin, k);\n            this.vNorm.toArray(norm, k);\n        }\n    }\n    //\n    interpolateColor(item1, item2, colFn, col, offset) {\n        var j, l;\n        for (j = 0; j < this.m2; ++j) {\n            l = offset + j * 3;\n            colFn.apply(this, [item1, col, l]); // itemColorToArray\n        }\n        for (j = this.m2; j < this.m; ++j) {\n            l = offset + j * 3;\n            colFn.apply(this, [item2, col, l]); // itemColorToArray\n        }\n    }\n    getColor(iterator, colFn, col, offset, isCyclic) {\n        iterator.reset();\n        iterator.next(); // first element not needed\n        let i0;\n        let i1 = iterator.next();\n        //\n        var n = iterator.size;\n        var n1 = n - 1;\n        var k = offset || 0;\n        for (var i = 0; i < n1; ++i) {\n            i0 = i1;\n            i1 = iterator.next();\n            this.interpolateColor(i0, i1, colFn, col, k);\n            k += 3 * this.m;\n        }\n        if (isCyclic) {\n            i0 = iterator.get(n - 1);\n            i1 = iterator.get(0);\n            this.interpolateColor(i0, i1, colFn, col, k);\n            k += 3 * this.m;\n        }\n        //\n        col[k] = col[k - 3];\n        col[k + 1] = col[k - 2];\n        col[k + 2] = col[k - 1];\n    }\n    //\n    interpolatePicking(item1, item2, pickFn, pick, offset) {\n        var j;\n        for (j = 0; j < this.m2; ++j) {\n            pick[offset + j] = pickFn.apply(this, [item1]);\n        }\n        for (j = this.m2; j < this.m; ++j) {\n            pick[offset + j] = pickFn.apply(this, [item2]);\n        }\n    }\n    getPicking(iterator, pickFn, pick, offset, isCyclic) {\n        iterator.reset();\n        iterator.next(); // first element not needed\n        let i0;\n        let i1 = iterator.next();\n        //\n        const n = iterator.size;\n        const n1 = n - 1;\n        let k = offset || 0;\n        for (var i = 0; i < n1; ++i) {\n            i0 = i1;\n            i1 = iterator.next();\n            this.interpolatePicking(i0, i1, pickFn, pick, k);\n            k += this.m;\n        }\n        if (isCyclic) {\n            i0 = iterator.get(n - 1);\n            i1 = iterator.get(0);\n            this.interpolatePicking(i0, i1, pickFn, pick, k);\n            k += this.m;\n        }\n        //\n        pick[k] = pick[k - 1];\n    }\n    //\n    interpolateSize(item1, item2, sizeFn, size, offset) {\n        const s1 = sizeFn.apply(this, [item1]);\n        const s2 = sizeFn.apply(this, [item2]);\n        for (let j = 0; j < this.m; ++j) {\n            // linear interpolation\n            let t = j / this.m;\n            size[offset + j] = (1 - t) * s1 + t * s2;\n        }\n    }\n    getSize(iterator, sizeFn, size, offset, isCyclic) {\n        iterator.reset();\n        iterator.next(); // first element not needed\n        let i0;\n        let i1 = iterator.next();\n        //\n        const n = iterator.size;\n        const n1 = n - 1;\n        let k = offset || 0;\n        for (var i = 0; i < n1; ++i) {\n            i0 = i1;\n            i1 = iterator.next();\n            this.interpolateSize(i0, i1, sizeFn, size, k);\n            k += this.m;\n        }\n        if (isCyclic) {\n            i0 = iterator.get(n - 1);\n            i1 = iterator.get(0);\n            this.interpolateSize(i0, i1, sizeFn, size, k);\n            k += this.m;\n        }\n        //\n        size[k] = size[k - 1];\n    }\n}\nclass Spline {\n    constructor(polymer, params) {\n        this.polymer = polymer;\n        this.size = polymer.residueCount;\n        var p = params || {};\n        this.directional = p.directional || false;\n        this.positionIterator = p.positionIterator || false;\n        this.subdiv = p.subdiv || 1;\n        this.smoothSheet = p.smoothSheet || false;\n        if (!p.tension) {\n            this.tension = this.polymer.isNucleic() ? 0.5 : 0.9;\n        }\n        else {\n            this.tension = p.tension;\n        }\n        this.interpolator = new Interpolator(this.subdiv, this.tension);\n    }\n    getAtomIterator(type, smooth) {\n        const polymer = this.polymer;\n        const structure = polymer.structure;\n        const n = polymer.residueCount;\n        let i = 0;\n        let j = -1;\n        const cache = [\n            structure.getAtomProxy(),\n            structure.getAtomProxy(),\n            structure.getAtomProxy(),\n            structure.getAtomProxy()\n        ];\n        const cache2 = [\n            new Vector3(),\n            new Vector3(),\n            new Vector3(),\n            new Vector3()\n        ];\n        function next() {\n            var atomProxy = get(j);\n            j += 1;\n            return atomProxy;\n        }\n        var apPrev = structure.getAtomProxy();\n        var apNext = structure.getAtomProxy();\n        function get(idx) {\n            var atomProxy = cache[i % 4];\n            atomProxy.index = polymer.getAtomIndexByType(idx, type);\n            if (smooth && idx > 0 && idx < n && atomProxy.sstruc === 'e') {\n                var vec = cache2[i % 4];\n                apPrev.index = polymer.getAtomIndexByType(idx + 1, type);\n                apNext.index = polymer.getAtomIndexByType(idx - 1, type);\n                vec.addVectors(apPrev, apNext)\n                    .add(atomProxy).add(atomProxy)\n                    .multiplyScalar(0.25);\n                i += 1;\n                return vec;\n            }\n            i += 1;\n            return atomProxy;\n        }\n        function reset() {\n            i = 0;\n            j = -1;\n        }\n        return {\n            size: n,\n            next: next,\n            get: get,\n            reset: reset\n        };\n    }\n    getSubdividedColor(params) {\n        var m = this.subdiv;\n        var polymer = this.polymer;\n        var n = polymer.residueCount;\n        var n1 = n - 1;\n        var nCol = n1 * m * 3 + 3;\n        if (polymer.isCyclic)\n            nCol += m * 3;\n        var col = new Float32Array(nCol);\n        var iterator = this.getAtomIterator('trace');\n        var p = params || {};\n        p.structure = polymer.structure;\n        var colormaker = ColormakerRegistry.getScheme(p);\n        function colFn(item, array, offset) {\n            colormaker.atomColorToArray(item, array, offset);\n        }\n        this.interpolator.getColor(iterator, colFn, col, 0, polymer.isCyclic);\n        return {\n            'color': col\n        };\n    }\n    getSubdividedPicking() {\n        var m = this.subdiv;\n        var polymer = this.polymer;\n        var n = polymer.residueCount;\n        var n1 = n - 1;\n        var nCol = n1 * m + 1;\n        if (polymer.isCyclic)\n            nCol += m;\n        var structure = polymer.structure;\n        var iterator = this.getAtomIterator('trace');\n        var pick = new Float32Array(nCol);\n        function pickFn(item) {\n            return item.index;\n        }\n        this.interpolator.getPicking(iterator, pickFn, pick, 0, polymer.isCyclic);\n        return {\n            'picking': new AtomPicker(pick, structure)\n        };\n    }\n    getSubdividedPosition() {\n        var pos = this.getPosition();\n        return {\n            'position': pos\n        };\n    }\n    getSubdividedOrientation() {\n        const tan = this.getTangent();\n        const normals = this.getNormals(tan);\n        return {\n            'tangent': tan,\n            'normal': normals.normal,\n            'binormal': normals.binormal\n        };\n    }\n    getSubdividedSize(params) {\n        var m = this.subdiv;\n        var polymer = this.polymer;\n        var n = polymer.residueCount;\n        var n1 = n - 1;\n        var nSize = n1 * m + 1;\n        if (polymer.isCyclic)\n            nSize += m;\n        var size = new Float32Array(nSize);\n        var iterator = this.getAtomIterator('trace');\n        var radiusFactory = new RadiusFactory(params);\n        function sizeFn(item) {\n            return radiusFactory.atomRadius(item);\n        }\n        this.interpolator.getSize(iterator, sizeFn, size, 0, polymer.isCyclic);\n        return {\n            'size': size\n        };\n    }\n    getPosition() {\n        const m = this.subdiv;\n        const polymer = this.polymer;\n        const n = polymer.residueCount;\n        const n1 = n - 1;\n        let nPos = n1 * m * 3 + 3;\n        if (polymer.isCyclic)\n            nPos += m * 3;\n        const pos = new Float32Array(nPos);\n        const iterator = this.positionIterator || this.getAtomIterator('trace', this.smoothSheet);\n        this.interpolator.getPosition(iterator, pos, 0, polymer.isCyclic);\n        return pos;\n    }\n    getTangent() {\n        const m = this.subdiv;\n        const polymer = this.polymer;\n        const n = this.size;\n        const n1 = n - 1;\n        let nTan = n1 * m * 3 + 3;\n        if (polymer.isCyclic)\n            nTan += m * 3;\n        const tan = new Float32Array(nTan);\n        const iterator = this.positionIterator || this.getAtomIterator('trace', this.smoothSheet);\n        this.interpolator.getTangent(iterator, tan, 0, polymer.isCyclic);\n        return tan;\n    }\n    getNormals(tan) {\n        const m = this.subdiv;\n        const polymer = this.polymer;\n        const isProtein = polymer.isProtein();\n        const n = this.size;\n        const n1 = n - 1;\n        let nNorm = n1 * m * 3 + 3;\n        if (polymer.isCyclic)\n            nNorm += m * 3;\n        const norm = new Float32Array(nNorm);\n        const bin = new Float32Array(nNorm);\n        if (this.directional && !this.polymer.isCg()) {\n            const iterDir1 = this.getAtomIterator('direction1');\n            const iterDir2 = this.getAtomIterator('direction2');\n            this.interpolator.getNormalDir(iterDir1, iterDir2, tan, norm, bin, 0, polymer.isCyclic, isProtein);\n        }\n        else {\n            this.interpolator.getNormal(n, tan, norm, bin, 0, polymer.isCyclic);\n        }\n        return {\n            'normal': norm,\n            'binormal': bin\n        };\n    }\n}\nexport default Spline;\n//# sourceMappingURL=spline.js.map","/**\n * @file Tube Mesh Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\n// @ts-ignore: unused import Matrix4 required for declaration only\nimport { Vector3 } from 'three';\nimport { defaults, getUintArray } from '../utils';\nimport { serialArray } from '../math/array-utils';\nimport MeshBuffer from './mesh-buffer';\nimport { BufferDefaultParameters } from './buffer';\nimport { Log } from \"../globals\";\nconst vTangent = new Vector3();\nconst vMeshNormal = new Vector3();\nexport const TubeMeshBufferDefaultParameters = Object.assign({\n    radialSegments: 4,\n    capped: false,\n    aspectRatio: 1.0\n}, BufferDefaultParameters);\nfunction getData(data, params = {}) {\n    const radialSegments = defaults(params.radialSegments, 4);\n    const capped = defaults(params.capped, false);\n    const capVertices = capped ? radialSegments : 0;\n    const capTriangles = capped ? radialSegments - 2 : 0;\n    const n = data.position.length / 3;\n    const n1 = n - 1;\n    const x = n * radialSegments * 3 + 2 * capVertices * 3;\n    const xi = n1 * 2 * radialSegments * 3 + 2 * capTriangles * 3;\n    return {\n        position: new Float32Array(x),\n        color: new Float32Array(x),\n        index: getUintArray(xi, x / 3),\n        normal: new Float32Array(x),\n        picking: data.picking\n    };\n}\n/**\n * Tube mesh buffer. Draws a tube.\n */\nclass TubeMeshBuffer extends MeshBuffer {\n    /**\n     * @param  {Object} data - attribute object\n     * @param  {Float32Array} data.position - positions\n     * @param  {Float32Array} data.normal - normals\n     * @param  {Float32Array} data.binormal - binormals\n     * @param  {Float32Array} data.tangent - tangents\n     * @param  {Float32Array} data.color - colors\n     * @param  {Float32Array} data.size - sizes\n     * @param  {Picker} data.picking - picking ids\n     * @param  {BufferParameters} params - parameter object\n     */\n    constructor(data, params = {}) {\n        super(getData(data, params), params);\n        this.capVertices = this.parameters.capped ? this.parameters.radialSegments : 0;\n        this.capTriangles = this.parameters.capped ? this.parameters.radialSegments - 2 : 0;\n        this.size2 = data.position.length / 3;\n        data.primitiveId = serialArray(this.size2);\n        this.setAttributes(data);\n        this.makeIndex();\n    }\n    get defaultParameters() { return TubeMeshBufferDefaultParameters; }\n    setAttributes(data = {}) {\n        const aspectRatio = this.parameters.aspectRatio;\n        const n = this.size2;\n        const n1 = n - 1;\n        const radialSegments = this.parameters.radialSegments;\n        const attributes = this.geometry.attributes;\n        let position, normal, binormal, tangent, color, size, primitiveId;\n        let meshPosition, meshColor, meshNormal, meshPrimitiveId;\n        if (data.position) {\n            position = data.position;\n            normal = data.normal;\n            binormal = data.binormal;\n            tangent = data.tangent;\n            size = data.size;\n            meshPosition = attributes.position.array;\n            meshNormal = attributes.normal.array;\n            attributes.position.needsUpdate = true;\n            attributes.normal.needsUpdate = true;\n        }\n        if (data.color) {\n            color = data.color;\n            meshColor = attributes.color.array;\n            attributes.color.needsUpdate = true;\n        }\n        if (data.primitiveId) {\n            primitiveId = data.primitiveId;\n            meshPrimitiveId = attributes.primitiveId.array;\n            attributes.primitiveId.needsUpdate = true;\n        }\n        let k, l;\n        let radius = 0;\n        let normX = 0;\n        let normY = 0;\n        let normZ = 0;\n        let biX = 0;\n        let biY = 0;\n        let biZ = 0;\n        let posX = 0;\n        let posY = 0;\n        let posZ = 0;\n        const cxArr = [];\n        const cyArr = [];\n        const cx1Arr = [];\n        const cy1Arr = [];\n        const cx2Arr = [];\n        const cy2Arr = [];\n        if (position) {\n            for (let j = 0; j < radialSegments; ++j) {\n                const v = (j / radialSegments) * 2 * Math.PI;\n                cxArr[j] = aspectRatio * Math.cos(v);\n                cyArr[j] = Math.sin(v);\n                cx1Arr[j] = aspectRatio * Math.cos(v - 0.01);\n                cy1Arr[j] = Math.sin(v - 0.01);\n                cx2Arr[j] = aspectRatio * Math.cos(v + 0.01);\n                cy2Arr[j] = Math.sin(v + 0.01);\n            }\n        }\n        for (let i = 0; i < n; ++i) {\n            k = i * 3;\n            l = k * radialSegments;\n            if (position && tangent && normal && binormal && size) {\n                vTangent.set(tangent[k], tangent[k + 1], tangent[k + 2]);\n                normX = normal[k];\n                normY = normal[k + 1];\n                normZ = normal[k + 2];\n                biX = binormal[k];\n                biY = binormal[k + 1];\n                biZ = binormal[k + 2];\n                posX = position[k];\n                posY = position[k + 1];\n                posZ = position[k + 2];\n                radius = size[i];\n            }\n            for (let j = 0; j < radialSegments; ++j) {\n                const s = l + j * 3;\n                if (position) {\n                    const cx = -radius * cxArr[j]; // TODO: Hack: Negating it so it faces outside.\n                    const cy = radius * cyArr[j];\n                    const cx1 = -radius * cx1Arr[j];\n                    const cy1 = radius * cy1Arr[j];\n                    const cx2 = -radius * cx2Arr[j];\n                    const cy2 = radius * cy2Arr[j];\n                    meshPosition[s] = posX + cx * normX + cy * biX;\n                    meshPosition[s + 1] = posY + cx * normY + cy * biY;\n                    meshPosition[s + 2] = posZ + cx * normZ + cy * biZ;\n                    // TODO half of these are symmetric\n                    vMeshNormal.set(\n                    // ellipse tangent approximated as vector from/to adjacent points\n                    (cx2 * normX + cy2 * biX) - (cx1 * normX + cy1 * biX), (cx2 * normY + cy2 * biY) - (cx1 * normY + cy1 * biY), (cx2 * normZ + cy2 * biZ) - (cx1 * normZ + cy1 * biZ)).cross(vTangent);\n                    meshNormal[s] = vMeshNormal.x;\n                    meshNormal[s + 1] = vMeshNormal.y;\n                    meshNormal[s + 2] = vMeshNormal.z;\n                }\n                if (color) {\n                    meshColor[s] = color[k];\n                    meshColor[s + 1] = color[k + 1];\n                    meshColor[s + 2] = color[k + 2];\n                }\n                if (primitiveId) {\n                    meshPrimitiveId[i * radialSegments + j] = primitiveId[i];\n                }\n            }\n        }\n        // front cap\n        k = 0;\n        l = n * 3 * radialSegments;\n        for (let j = 0; j < radialSegments; ++j) {\n            const s = k + j * 3;\n            const t = l + j * 3;\n            if (position && tangent) {\n                meshPosition[t] = meshPosition[s];\n                meshPosition[t + 1] = meshPosition[s + 1];\n                meshPosition[t + 2] = meshPosition[s + 2];\n                meshNormal[t] = tangent[k];\n                meshNormal[t + 1] = tangent[k + 1];\n                meshNormal[t + 2] = tangent[k + 2];\n            }\n            if (color) {\n                meshColor[t] = meshColor[s];\n                meshColor[t + 1] = meshColor[s + 1];\n                meshColor[t + 2] = meshColor[s + 2];\n            }\n            if (primitiveId) {\n                meshPrimitiveId[n * radialSegments + j] = meshPrimitiveId[0 + j];\n            }\n        }\n        // back cap\n        k = (n - 1) * 3 * radialSegments;\n        l = (n + 1) * 3 * radialSegments;\n        for (let j = 0; j < radialSegments; ++j) {\n            const s = k + j * 3;\n            const t = l + j * 3;\n            if (position && tangent) {\n                meshPosition[t] = meshPosition[s];\n                meshPosition[t + 1] = meshPosition[s + 1];\n                meshPosition[t + 2] = meshPosition[s + 2];\n                meshNormal[t] = tangent[n1 * 3];\n                meshNormal[t + 1] = tangent[n1 * 3 + 1];\n                meshNormal[t + 2] = tangent[n1 * 3 + 2];\n            }\n            if (color) {\n                meshColor[t] = meshColor[s];\n                meshColor[t + 1] = meshColor[s + 1];\n                meshColor[t + 2] = meshColor[s + 2];\n            }\n            if (primitiveId) {\n                meshPrimitiveId[(n + 1) * radialSegments + j] = meshPrimitiveId[(n - 1) * radialSegments + j];\n            }\n        }\n    }\n    makeIndex() {\n        const index = this.geometry.getIndex();\n        if (!index) {\n            Log.error('Index is null');\n            return;\n        }\n        const meshIndex = index.array;\n        const n = this.size2;\n        const n1 = n - 1;\n        const capTriangles = this.capTriangles;\n        const radialSegments = this.parameters.radialSegments;\n        const radialSegments1 = this.parameters.radialSegments + 1;\n        let k, l;\n        for (let i = 0; i < n1; ++i) {\n            const k = i * radialSegments * 3 * 2;\n            const irs = i * radialSegments;\n            const irs1 = (i + 1) * radialSegments;\n            for (let j = 0; j < radialSegments; ++j) {\n                l = k + j * 3 * 2;\n                // meshIndex[ l + 0 ] = irs + ( ( j + 0 ) % radialSegments );\n                meshIndex[l] = irs + j;\n                meshIndex[l + 1] = irs + ((j + 1) % radialSegments);\n                // meshIndex[ l + 2 ] = irs1 + ( ( j + 0 ) % radialSegments );\n                meshIndex[l + 2] = irs1 + j;\n                // meshIndex[ l + 3 ] = irs1 + ( ( j + 0 ) % radialSegments );\n                meshIndex[l + 3] = irs1 + j;\n                meshIndex[l + 4] = irs + ((j + 1) % radialSegments);\n                meshIndex[l + 5] = irs1 + ((j + 1) % radialSegments);\n            }\n        }\n        // capping\n        const strip = [0];\n        for (let j = 1; j < radialSegments1 / 2; ++j) {\n            strip.push(j);\n            if (radialSegments - j !== j) {\n                strip.push(radialSegments - j);\n            }\n        }\n        // front cap\n        l = n1 * radialSegments * 3 * 2;\n        k = n * radialSegments;\n        for (let j = 0; j < strip.length - 2; ++j) {\n            if (j % 2 === 0) {\n                meshIndex[l + j * 3 + 0] = k + strip[j + 0];\n                meshIndex[l + j * 3 + 1] = k + strip[j + 1];\n                meshIndex[l + j * 3 + 2] = k + strip[j + 2];\n            }\n            else {\n                meshIndex[l + j * 3 + 0] = k + strip[j + 2];\n                meshIndex[l + j * 3 + 1] = k + strip[j + 1];\n                meshIndex[l + j * 3 + 2] = k + strip[j + 0];\n            }\n        }\n        // back cap\n        l = n1 * radialSegments * 3 * 2 + 3 * capTriangles;\n        k = n * radialSegments + radialSegments;\n        for (let j = 0; j < strip.length - 2; ++j) {\n            if (j % 2 === 0) {\n                meshIndex[l + j * 3 + 0] = k + strip[j + 0];\n                meshIndex[l + j * 3 + 1] = k + strip[j + 1];\n                meshIndex[l + j * 3 + 2] = k + strip[j + 2];\n            }\n            else {\n                meshIndex[l + j * 3 + 0] = k + strip[j + 2];\n                meshIndex[l + j * 3 + 1] = k + strip[j + 1];\n                meshIndex[l + j * 3 + 2] = k + strip[j + 0];\n            }\n        }\n    }\n}\nexport default TubeMeshBuffer;\n//# sourceMappingURL=tubemesh-buffer.js.map","/**\n * @file Cartoon Representation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { defaults } from '../utils';\nimport { Debug, Log, RepresentationRegistry } from '../globals';\nimport Spline from '../geometry/spline';\nimport StructureRepresentation from './structure-representation';\nimport TubeMeshBuffer from '../buffer/tubemesh-buffer';\n/**\n * Cartoon representation. Show a thick ribbon that\n * smoothly connecting backbone atoms in polymers.\n *\n * __Name:__ _cartoon_\n *\n * @example\n * stage.loadFile( \"rcsb://1crn\" ).then( function( o ){\n *     o.addRepresentation( \"cartoon\" );\n *     o.autoView();\n * } );\n */\nclass CartoonRepresentation extends StructureRepresentation {\n    /**\n     * Create Cartoon representation object\n     * @param {Structure} structure - the structure to be represented\n     * @param {Viewer} viewer - a viewer object\n     * @param {StructureRepresentationParameters} params - representation parameters\n     */\n    constructor(structure, viewer, params) {\n        super(structure, viewer, params);\n        this.type = 'cartoon';\n        this.parameters = Object.assign({\n            aspectRatio: {\n                type: 'number', precision: 1, max: 10.0, min: 1.0, rebuild: true\n            },\n            subdiv: {\n                type: 'integer', max: 50, min: 1, rebuild: true\n            },\n            radialSegments: {\n                type: 'integer', max: 50, min: 1, rebuild: true\n            },\n            tension: {\n                type: 'number', precision: 1, max: 1.0, min: 0.1\n            },\n            capped: {\n                type: 'boolean', rebuild: true\n            },\n            smoothSheet: {\n                type: 'boolean', rebuild: true\n            }\n        }, this.parameters);\n        this.init(params);\n    }\n    init(params) {\n        var p = params || {};\n        p.colorScheme = defaults(p.colorScheme, 'chainname');\n        p.colorScale = defaults(p.colorScale, 'RdYlBu');\n        p.radiusType = defaults(p.radiusType, 'sstruc');\n        p.radiusScale = defaults(p.radiusScale, 0.7);\n        p.useInteriorColor = defaults(p.useInteriorColor, true);\n        this.aspectRatio = defaults(p.aspectRatio, 5.0);\n        this.tension = defaults(p.tension, NaN);\n        this.capped = defaults(p.capped, true);\n        this.smoothSheet = defaults(p.smoothSheet, false);\n        if (p.quality === 'low') {\n            this.subdiv = 3;\n            this.radialSegments = 6;\n        }\n        else if (p.quality === 'medium') {\n            this.subdiv = 6;\n        }\n        else if (p.quality === 'high') {\n            this.subdiv = 12;\n        }\n        else {\n            this.subdiv = defaults(p.subdiv, 6);\n        }\n        super.init(p);\n    }\n    getSplineParams(params) {\n        return Object.assign({\n            subdiv: this.subdiv,\n            tension: this.tension,\n            directional: this.aspectRatio !== 1.0,\n            smoothSheet: this.smoothSheet\n        }, params);\n    }\n    getSpline(polymer) {\n        return new Spline(polymer, this.getSplineParams());\n    }\n    getAspectRatio(polymer) {\n        return polymer.isCg() ? 1.0 : this.aspectRatio;\n    }\n    getAtomRadius(atom) {\n        return atom.isTrace() ? super.getAtomRadius(atom) : 0;\n    }\n    createData(sview) {\n        let bufferList = [];\n        let polymerList = [];\n        this.structure.eachPolymer(polymer => {\n            if (polymer.residueCount < 4)\n                return;\n            polymerList.push(polymer);\n            const spline = this.getSpline(polymer);\n            const aspectRatio = this.getAspectRatio(polymer);\n            const subPos = spline.getSubdividedPosition();\n            const subOri = spline.getSubdividedOrientation();\n            const subCol = spline.getSubdividedColor(this.getColorParams());\n            const subPick = spline.getSubdividedPicking();\n            const subSize = spline.getSubdividedSize(this.getRadiusParams());\n            bufferList.push(new TubeMeshBuffer(Object.assign({}, subPos, subOri, subCol, subPick, subSize), this.getBufferParams({\n                radialSegments: this.radialSegments,\n                aspectRatio: aspectRatio,\n                capped: this.capped\n            })));\n        }, sview.getSelection());\n        return {\n            bufferList: bufferList,\n            polymerList: polymerList\n        };\n    }\n    updateData(what, data) {\n        if (Debug)\n            Log.time(this.type + ' repr update');\n        what = what || {};\n        for (var i = 0, il = data.polymerList.length; i < il; ++i) {\n            var bufferData = {};\n            var polymer = data.polymerList[i];\n            var spline = this.getSpline(polymer);\n            var aspectRatio = this.getAspectRatio(polymer);\n            Object.assign(data.bufferList[i], { aspectRatio: aspectRatio });\n            if (what.position || what.radius) {\n                var subPos = spline.getSubdividedPosition();\n                var subOri = spline.getSubdividedOrientation();\n                var subSize = spline.getSubdividedSize(this.getRadiusParams(aspectRatio));\n                bufferData.position = subPos.position;\n                bufferData.normal = subOri.normal;\n                bufferData.binormal = subOri.binormal;\n                bufferData.tangent = subOri.tangent;\n                bufferData.size = subSize.size;\n            }\n            if (what.color) {\n                var subCol = spline.getSubdividedColor(this.getColorParams());\n                bufferData.color = subCol.color;\n            }\n            if (what.picking) {\n                var subPick = spline.getSubdividedPicking();\n                bufferData.picking = subPick.picking;\n            }\n            data.bufferList[i].setAttributes(bufferData);\n        }\n        if (Debug)\n            Log.timeEnd(this.type + ' repr update');\n    }\n    setParameters(params) {\n        const rebuild = false;\n        var what = {};\n        if (params && params.aspectRatio) {\n            what.radius = true;\n        }\n        if (params && params.tension) {\n            what.position = true;\n        }\n        super.setParameters(params, what, rebuild);\n        return this;\n    }\n}\nRepresentationRegistry.add('cartoon', CartoonRepresentation);\nexport default CartoonRepresentation;\n//# sourceMappingURL=cartoon-representation.js.map","/**\n * @file Contact Representation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { defaults } from '../utils';\nimport { RepresentationRegistry } from '../globals';\nimport StructureRepresentation from './structure-representation';\nimport { calculateContacts, getContactData, getLabelData } from '../chemistry/interactions/contact';\nimport CylinderBuffer from '../buffer/cylinder-buffer';\nimport TextBuffer from '../buffer/text-buffer';\nimport { getFixedCountDashData } from '../geometry/dash';\n/**\n * Contact representation.\n */\nclass ContactRepresentation extends StructureRepresentation {\n    constructor(structure, viewer, params) {\n        super(structure, viewer, params);\n        this.type = 'contact';\n        this.parameters = Object.assign({\n            hydrogenBond: {\n                type: 'boolean', rebuild: true\n            },\n            weakHydrogenBond: {\n                type: 'boolean', rebuild: true\n            },\n            waterHydrogenBond: {\n                type: 'boolean', rebuild: true\n            },\n            backboneHydrogenBond: {\n                type: 'boolean', rebuild: true\n            },\n            hydrophobic: {\n                type: 'boolean', rebuild: true\n            },\n            halogenBond: {\n                type: 'boolean', rebuild: true\n            },\n            ionicInteraction: {\n                type: 'boolean', rebuild: true\n            },\n            metalCoordination: {\n                type: 'boolean', rebuild: true\n            },\n            cationPi: {\n                type: 'boolean', rebuild: true\n            },\n            piStacking: {\n                type: 'boolean', rebuild: true\n            },\n            filterSele: {\n                type: 'text', rebuild: true\n            },\n            labelVisible: {\n                type: 'boolean', rebuild: true\n            },\n            labelFixedSize: {\n                type: 'boolean', buffer: 'fixedSize'\n            },\n            labelSize: {\n                type: 'number', precision: 3, max: 10.0, min: 0.001, rebuild: true\n            },\n            labelUnit: {\n                type: 'select',\n                rebuild: true,\n                options: { '': '', angstrom: 'angstrom', nm: 'nm' }\n            },\n            maxHydrophobicDist: {\n                type: 'number', precision: 1, max: 10, min: 0.1, rebuild: true\n            },\n            maxHbondDist: {\n                type: 'number', precision: 1, max: 10, min: 0.1, rebuild: true\n            },\n            maxHbondSulfurDist: {\n                type: 'number', precision: 1, max: 10, min: 0.1, rebuild: true\n            },\n            maxHbondAccAngle: {\n                type: 'integer', max: 180, min: 0, rebuild: true\n            },\n            maxHbondDonAngle: {\n                type: 'integer', max: 180, min: 0, rebuild: true\n            },\n            maxHbondAccPlaneAngle: {\n                type: 'integer', max: 90, min: 0, rebuild: true\n            },\n            maxHbondDonPlaneAngle: {\n                type: 'integer', max: 90, min: 0, rebuild: true\n            },\n            maxPiStackingDist: {\n                type: 'number', precision: 1, max: 10, min: 0.1, rebuild: true\n            },\n            maxPiStackingOffset: {\n                type: 'number', precision: 1, max: 10, min: 0.1, rebuild: true\n            },\n            maxPiStackingAngle: {\n                type: 'integer', max: 180, min: 0, rebuild: true\n            },\n            maxCationPiDist: {\n                type: 'number', precision: 1, max: 10, min: 0.1, rebuild: true\n            },\n            maxCationPiOffset: {\n                type: 'number', precision: 1, max: 10, min: 0.1, rebuild: true\n            },\n            maxIonicDist: {\n                type: 'number', precision: 1, max: 10, min: 0.1, rebuild: true\n            },\n            maxHalogenBondDist: {\n                type: 'number', precision: 1, max: 10, min: 0.1, rebuild: true\n            },\n            maxHalogenBondAngle: {\n                type: 'integer', max: 180, min: 0, rebuild: true\n            },\n            maxMetalDist: {\n                type: 'number', precision: 1, max: 10, min: 0.1, rebuild: true\n            },\n            refineSaltBridges: {\n                type: 'boolean', rebuild: true\n            },\n            masterModelIndex: {\n                type: 'integer', max: 1000, min: -1, rebuild: true\n            },\n            lineOfSightDistFactor: {\n                type: 'number', precision: 1, max: 10, min: 0.0, rebuild: true\n            },\n            radialSegments: true,\n            disableImpostor: true\n        }, this.parameters);\n        this.init(params);\n    }\n    init(params) {\n        var p = params || {};\n        p.radiusSize = defaults(p.radiusSize, 0.05);\n        p.useInteriorColor = defaults(p.useInteriorColor, true);\n        this.hydrogenBond = defaults(p.hydrogenBond, true);\n        this.weakHydrogenBond = defaults(p.weakHydrogenBond, false);\n        this.waterHydrogenBond = defaults(p.waterHydrogenBond, false);\n        this.backboneHydrogenBond = defaults(p.backboneHydrogenBond, false);\n        this.hydrophobic = defaults(p.hydrophobic, false);\n        this.halogenBond = defaults(p.halogenBond, true);\n        this.ionicInteraction = defaults(p.ionicInteraction, true);\n        this.metalCoordination = defaults(p.metalCoordination, true);\n        this.cationPi = defaults(p.cationPi, true);\n        this.piStacking = defaults(p.piStacking, true);\n        this.filterSele = defaults(p.filterSele, '');\n        this.labelVisible = defaults(p.labelVisible, false);\n        this.labelFixedSize = defaults(p.labelFixedSize, false);\n        this.labelSize = defaults(p.labelSize, 2.0);\n        this.labelUnit = defaults(p.labelUnit, '');\n        this.maxHydrophobicDist = defaults(p.maxHydrophobicDist, 4.0);\n        this.maxHbondDist = defaults(p.maxHbondDist, 3.5);\n        this.maxHbondSulfurDist = defaults(p.maxHbondSulfurDist, 4.1);\n        this.maxHbondAccAngle = defaults(p.maxHbondAccAngle, 45);\n        this.maxHbondDonAngle = defaults(p.maxHbondDonAngle, 45);\n        this.maxHbondAccPlaneAngle = defaults(p.maxHbondAccPlaneAngle, 90);\n        this.maxHbondDonPlaneAngle = defaults(p.maxHbondDonPlaneAngle, 30);\n        this.maxPiStackingDist = defaults(p.maxPiStackingDist, 5.5);\n        this.maxPiStackingOffset = defaults(p.maxPiStackingOffset, 2.0);\n        this.maxPiStackingAngle = defaults(p.maxPiStackingAngle, 30);\n        this.maxCationPiDist = defaults(p.maxCationPiDist, 6.0);\n        this.maxCationPiOffset = defaults(p.maxCationPiOffset, 2.0);\n        this.maxIonicDist = defaults(p.maxIonicDist, 5.0);\n        this.maxHalogenBondDist = defaults(p.maxHalogenBondDist, 3.5);\n        this.maxHalogenBondAngle = defaults(p.maxHalogenBondAngle, 30);\n        this.maxMetalDist = defaults(p.maxMetalDist, 3.0);\n        this.refineSaltBridges = defaults(p.refineSaltBridges, true);\n        this.masterModelIndex = defaults(p.masterModelIndex, -1);\n        this.lineOfSightDistFactor = defaults(p.lineOfSightDistFactor, 1.0);\n        super.init(p);\n    }\n    getAtomRadius() {\n        return 0;\n    }\n    getContactData(sview) {\n        const params = {\n            maxHydrophobicDist: this.maxHydrophobicDist,\n            maxHbondDist: this.maxHbondDist,\n            maxHbondSulfurDist: this.maxHbondSulfurDist,\n            maxHbondAccAngle: this.maxHbondAccAngle,\n            maxHbondDonAngle: this.maxHbondDonAngle,\n            maxHbondAccPlaneAngle: this.maxHbondAccPlaneAngle,\n            maxHbondDonPlaneAngle: this.maxHbondDonPlaneAngle,\n            maxPiStackingDist: this.maxPiStackingDist,\n            maxPiStackingOffset: this.maxPiStackingOffset,\n            maxPiStackingAngle: this.maxPiStackingAngle,\n            maxCationPiDist: this.maxCationPiDist,\n            maxCationPiOffset: this.maxCationPiOffset,\n            maxIonicDist: this.maxIonicDist,\n            maxHalogenBondDist: this.maxHalogenBondDist,\n            maxHalogenBondAngle: this.maxHalogenBondAngle,\n            maxMetalDist: this.maxMetalDist,\n            refineSaltBridges: this.refineSaltBridges,\n            masterModelIndex: this.masterModelIndex,\n            lineOfSightDistFactor: this.lineOfSightDistFactor\n        };\n        const dataParams = {\n            hydrogenBond: this.hydrogenBond,\n            weakHydrogenBond: this.weakHydrogenBond,\n            waterHydrogenBond: this.waterHydrogenBond,\n            backboneHydrogenBond: this.backboneHydrogenBond,\n            hydrophobic: this.hydrophobic,\n            halogenBond: this.halogenBond,\n            ionicInteraction: this.ionicInteraction,\n            metalCoordination: this.metalCoordination,\n            cationPi: this.cationPi,\n            piStacking: this.piStacking,\n            radius: this.radiusSize * this.radiusScale,\n            filterSele: this.filterSele\n        };\n        const contacts = calculateContacts(sview, params);\n        return getContactData(contacts, sview, dataParams);\n    }\n    createData(sview) {\n        const contactData = this.getContactData(sview);\n        const bufferList = [\n            new CylinderBuffer(getFixedCountDashData(contactData), this.getBufferParams({\n                sphereDetail: 1,\n                dullInterior: true,\n                disableImpostor: this.disableImpostor\n            }))\n        ];\n        if (this.labelVisible) {\n            const labelParams = {\n                size: this.labelSize,\n                unit: this.labelUnit\n            };\n            bufferList.push(new TextBuffer(getLabelData(contactData, labelParams), this.getBufferParams({ fixedSize: this.labelFixedSize })));\n        }\n        return { bufferList };\n    }\n}\nRepresentationRegistry.add('contact', ContactRepresentation);\nexport default ContactRepresentation;\n//# sourceMappingURL=contact-representation.js.map","/**\n * @file Dihedral Representation\n * @author Fred Ludlow <fred.ludlow@gmail.com>\n * @private\n */\nimport { Color } from 'three';\nimport { RepresentationRegistry } from '../globals';\nimport MeasurementRepresentation, { calcArcPoint, parseNestedAtoms } from './measurement-representation';\nimport { defaults } from '../utils';\nimport MeshBuffer from '../buffer/mesh-buffer';\nimport TextBuffer from '../buffer/text-buffer';\nimport WideLineBuffer from '../buffer/wideline-buffer';\nimport { copyArray, uniformArray, uniformArray3 } from '../math/array-utils';\nimport { v3add, v3cross, v3dot, v3multiplyScalar, v3fromArray, v3length, v3negate, v3new, v3normalize, v3sub, v3toArray } from '../math/vector-utils';\nimport { RAD2DEG } from '../math/math-constants';\nimport { getFixedLengthWrappedDashData } from '../geometry/dash';\n/**\n * Dihedral representation object\n *\n * Reperesentation consists of three parts, visibility can be set for each\n * label - text label indicating dihedral angle\n * line - line indicating four positions that define the dihedral\n * sector - filled arc section\n *\n * @param {Structure} structure - the structure to measure angles in\n * @param {Viewer} viewer - a viewer object\n * @param {AngleRepresentationParameters} params - angle representation parameters\n */\nclass DihedralRepresentation extends MeasurementRepresentation {\n    constructor(structure, viewer, params) {\n        super(structure, viewer, params);\n        this.type = 'dihedral';\n        this.parameters = Object.assign({\n            atomQuad: {\n                type: 'hidden', rebuild: true\n            },\n            extendLine: {\n                type: 'boolean', rebuild: true, default: true\n            },\n            lineVisible: {\n                type: 'boolean', default: true\n            },\n            planeVisible: {\n                type: 'boolean', default: true\n            },\n            sectorVisible: {\n                type: 'boolean', default: true\n            }\n        }, this.parameters);\n        this.init(params);\n    }\n    init(params) {\n        const p = params || {};\n        p.side = defaults(p.side, 'double');\n        p.opacity = defaults(p.opacity, 0.5);\n        this.atomQuad = defaults(p.atomQuad, []);\n        this.extendLine = defaults(p.extendLine, true);\n        this.lineVisible = defaults(p.lineVisible, true);\n        this.planeVisible = defaults(p.planeVisible, true);\n        this.sectorVisible = defaults(p.sectorVisible, true);\n        super.init(p);\n    }\n    createData(sview) {\n        if (!sview.atomCount || !this.atomQuad.length)\n            return;\n        const atomPosition = parseNestedAtoms(sview, this.atomQuad);\n        const dihedralData = getDihedralData(atomPosition, {\n            extendLine: this.extendLine\n        });\n        const n = this.n = dihedralData.labelText.length;\n        const labelColor = new Color(this.labelColor);\n        this.textBuffer = new TextBuffer({\n            position: dihedralData.labelPosition,\n            size: uniformArray(n, this.labelSize),\n            color: uniformArray3(n, labelColor.r, labelColor.g, labelColor.b),\n            text: dihedralData.labelText\n        }, this.getLabelBufferParams());\n        const c = new Color(this.colorValue);\n        this.lineLength = dihedralData.linePosition1.length / 3;\n        const lineColor = uniformArray3(this.lineLength, c.r, c.g, c.b);\n        this.lineBuffer = new WideLineBuffer(getFixedLengthWrappedDashData({\n            position1: dihedralData.linePosition1,\n            position2: dihedralData.linePosition2,\n            color: lineColor,\n            color2: lineColor\n        }), this.getBufferParams({\n            linewidth: this.linewidth,\n            visible: this.lineVisible,\n            opacity: this.lineOpacity\n        }));\n        this.planeLength = dihedralData.planePosition.length / 3;\n        this.planeBuffer = new MeshBuffer({\n            position: dihedralData.planePosition,\n            color: uniformArray3(this.planeLength, c.r, c.g, c.b)\n        }, this.getBufferParams({\n            visible: this.planeVisible\n        }));\n        this.sectorLength = dihedralData.sectorPosition.length / 3;\n        this.sectorBuffer = new MeshBuffer({\n            position: dihedralData.sectorPosition,\n            color: uniformArray3(this.sectorLength, c.r, c.g, c.b)\n        }, this.getBufferParams({\n            visible: this.sectorVisible\n        }));\n        return {\n            bufferList: [\n                this.textBuffer,\n                this.lineBuffer,\n                this.planeBuffer,\n                this.sectorBuffer\n            ]\n        };\n    }\n    updateData(what, data) {\n        super.updateData(what, data);\n        const lineData = {};\n        const planeData = {};\n        const sectorData = {};\n        if (what.color) {\n            const c = new Color(this.colorValue);\n            Object.assign(lineData, {\n                color: uniformArray3(this.lineLength, c.r, c.g, c.b),\n                color2: uniformArray3(this.lineLength, c.r, c.g, c.b)\n            });\n            Object.assign(planeData, {\n                color: uniformArray3(this.planeLength, c.r, c.g, c.b)\n            });\n            Object.assign(sectorData, {\n                color: uniformArray3(this.sectorLength, c.r, c.g, c.b)\n            });\n        }\n        this.lineBuffer.setAttributes(lineData);\n        this.planeBuffer.setAttributes(planeData);\n        this.sectorBuffer.setAttributes(sectorData);\n    }\n    setParameters(params) {\n        var rebuild = false;\n        var what = {};\n        super.setParameters(params, what, rebuild);\n        if (params && (params.lineVisible !== undefined ||\n            params.sectorVisible !== undefined ||\n            params.planeVisible !== undefined)) {\n            this.setVisibility(this.visible);\n        }\n        if (params && params.lineOpacity) {\n            this.lineBuffer.setParameters({ opacity: params.lineOpacity });\n        }\n        if (params && params.opacity !== undefined) {\n            this.lineBuffer.setParameters({ opacity: this.lineOpacity });\n        }\n        if (params && params.linewidth) {\n            this.lineBuffer.setParameters({ linewidth: params.linewidth });\n        }\n        return this;\n    }\n    setVisibility(value, noRenderRequest) {\n        super.setVisibility(value, true);\n        if (this.lineBuffer) {\n            this.lineBuffer.setVisibility(this.lineVisible && this.visible);\n        }\n        if (this.planeBuffer) {\n            this.planeBuffer.setVisibility(this.planeVisible && this.visible);\n        }\n        if (this.sectorBuffer) {\n            this.sectorBuffer.setVisibility(this.sectorVisible && this.visible);\n        }\n        if (!noRenderRequest)\n            this.viewer.requestRender();\n        return this;\n    }\n}\n/**\n * Build the data required to create {Buffer} objects, given positions\n * @param  {Float32Array} atomPosition 3*4*nDihedral array of coordinates\n * @return {Object}              Arrays for building buffers\n */\nfunction getDihedralData(position, params = {}) {\n    const angleStep = defaults(params.angleStep, Math.PI / 90);\n    const nPos = position.length;\n    const n = position.length / 12;\n    const angles = new Float32Array(n);\n    const labelPosition = new Float32Array(n * 3);\n    const labelText = new Array(n);\n    // Temporary arrays as don't know output length yet\n    const lineTmp1 = new Array(n);\n    const lineTmp2 = new Array(n);\n    const sectorTmp = new Array(n);\n    const planeTmp = new Array(n);\n    // Eventual sizes of output arrays\n    let totalLines = 0;\n    let totalSegments = 0;\n    let totalPlanes = 0;\n    const p1 = v3new();\n    const p2 = v3new();\n    const p3 = v3new();\n    const p4 = v3new();\n    const v21 = v3new();\n    const v23 = v3new();\n    const v34 = v3new();\n    const tmp = v3new();\n    const mid = v3new();\n    const inPlane1 = v3new();\n    const inPlane2 = v3new();\n    const start = v3new();\n    const end = v3new();\n    const cross = v3new();\n    const arcPoint = v3new();\n    let i = 0; // Actual output index (after skipping inappropriate)\n    for (var p = 0; p < nPos; p += 12) {\n        // Set Positions\n        v3fromArray(p1, position, p);\n        v3fromArray(p2, position, p + 3);\n        v3fromArray(p3, position, p + 6);\n        v3fromArray(p4, position, p + 9);\n        // Vectors between points\n        v3sub(v21, p1, p2);\n        v3sub(v23, p3, p2);\n        if (v3length(v23) === 0.0) {\n            continue; // Can't define axis\n        }\n        v3sub(v34, p4, p3);\n        v3multiplyScalar(tmp, v23, 0.5);\n        v3add(mid, p2, tmp);\n        v3normalize(v21, v21);\n        v3normalize(v23, v23);\n        v3normalize(v34, v34);\n        // Which side of plane are p1, p4 (are we measuring something that\n        // looks more like an improper? e.g. C, CA, CB, N)\n        v3sub(tmp, p1, mid);\n        const improperStart = v3dot(tmp, v23) > 0.0;\n        v3sub(tmp, p4, mid);\n        const improperEnd = v3dot(tmp, v23) < 0.0;\n        // Calculate vectors perp to v23 (lying in plane (1,2,3) and (2,3,4))\n        v3multiplyScalar(tmp, v23, v3dot(v23, v21));\n        v3sub(inPlane1, v21, tmp);\n        v3multiplyScalar(tmp, v23, v3dot(v23, v34));\n        v3sub(inPlane2, v34, tmp);\n        if (v3length(inPlane1) === 0.0 || v3length(inPlane2) === 0.0) {\n            continue; // Indeterminate angle\n        }\n        v3normalize(inPlane1, inPlane1);\n        v3normalize(inPlane2, inPlane2);\n        // Can use acos as normalized and non-zero\n        const angle = angles[i] = Math.acos(v3dot(inPlane1, inPlane2));\n        labelText[i] = (RAD2DEG * angle).toFixed(1) + String.fromCharCode(0x00B0);\n        v3cross(cross, inPlane1, v23);\n        v3normalize(cross, cross);\n        if (v3dot(cross, inPlane2) < 0.0) {\n            v3negate(cross, cross); // Ensure cp faces correct way\n        }\n        calcArcPoint(tmp, mid, inPlane1, cross, angle / 2.0);\n        v3toArray(tmp, labelPosition, 3 * i);\n        const nSegments = Math.ceil(angle / angleStep);\n        // For extended display mode, 4 straight lines plus arc/segment edge\n        // For non-extended, 2 straight lines plus segment edge\n        const nLines = nSegments + ((params.extendLine) ? 4 : 2);\n        // Don't draw planes if not extending lines\n        const nPlanes = params.extendLine ? 36 : 0;\n        const line1 = new Float32Array(nLines * 3);\n        const line2 = new Float32Array(nLines * 3);\n        const sector = new Float32Array(nSegments * 9);\n        // 2 planes, 2 triangles each per dihedral (2*2*9)\n        const plane = new Float32Array(nPlanes);\n        lineTmp1[i] = line1;\n        lineTmp2[i] = line2;\n        sectorTmp[i] = sector;\n        planeTmp[i] = plane;\n        // Start points for lines/planes, only required\n        // if extending lines\n        if (params.extendLine) {\n            if (improperStart) { // We'll start on the v3->1 line (tmp)\n                v3sub(tmp, p1, p3);\n                v3normalize(tmp, tmp);\n                v3multiplyScalar(start, tmp, 1.0 / v3dot(inPlane1, tmp));\n                v3add(start, start, p3);\n            }\n            else { // start on the 2->1 line\n                v3multiplyScalar(start, v21, 1.0 / v3dot(inPlane1, v21));\n                v3add(start, start, p2);\n            }\n            if (improperEnd) { // Finish on 2->4 line\n                v3sub(tmp, p4, p2);\n                v3normalize(tmp, tmp);\n                v3multiplyScalar(end, tmp, 1.0 / v3dot(inPlane2, tmp));\n                v3add(end, end, p2);\n            }\n            else { // end on the 3->4 line\n                v3multiplyScalar(end, v34, 1.0 / v3dot(inPlane2, v34));\n                v3add(end, end, p3);\n            }\n        }\n        v3add(arcPoint, mid, inPlane1);\n        // index into line1, line2\n        let li = 0;\n        // If extending lines, there's a bit of stuff to do here\n        // figuring out start and end positions\n        if (params.extendLine) {\n            v3toArray(p1, line1, li);\n            v3toArray(start, line2, li);\n            li += 3;\n            v3toArray(start, line1, li);\n            v3toArray(arcPoint, line2, li);\n            li += 3;\n            // Construct plane at start, if not extening lines\n            // this is skipped\n            v3toArray(start, plane, 0);\n            v3toArray(arcPoint, plane, 3);\n            v3toArray(improperStart ? p3 : p2, plane, 6);\n            v3toArray(improperStart ? p3 : p2, plane, 9);\n            v3toArray(arcPoint, plane, 12);\n            v3toArray(mid, plane, 15);\n        }\n        else {\n            // Not extending lines\n            v3toArray(mid, line1, li);\n            v3toArray(arcPoint, line2, li);\n            li += 3;\n        }\n        const appendArcSection = function (a, j) {\n            const si = j * 9;\n            v3toArray(mid, sector, si);\n            v3toArray(arcPoint, sector, si + 3);\n            v3toArray(arcPoint, line1, li);\n            calcArcPoint(arcPoint, mid, inPlane1, cross, a);\n            v3toArray(arcPoint, sector, si + 6);\n            v3toArray(arcPoint, line2, li);\n            li += 3;\n        };\n        let j = 0;\n        for (let a = angleStep; a < angle; a += angleStep) {\n            appendArcSection(a, j++);\n        }\n        appendArcSection(angle, j++);\n        if (params.extendLine) {\n            v3toArray(arcPoint, line1, (nLines - 2) * 3);\n            v3toArray(end, line2, (nLines - 2) * 3);\n            v3toArray(end, line1, (nLines - 1) * 3);\n            v3toArray(p4, line2, (nLines - 1) * 3);\n            // Construct plane at end\n            v3toArray(end, plane, 18);\n            v3toArray(arcPoint, plane, 21);\n            v3toArray(improperEnd ? p2 : p3, plane, 24);\n            v3toArray(improperEnd ? p2 : p3, plane, 27);\n            v3toArray(arcPoint, plane, 30);\n            v3toArray(mid, plane, 33);\n        }\n        else {\n            v3toArray(arcPoint, line1, li);\n            v3toArray(mid, line2, li);\n            li += 3;\n        }\n        totalLines += nLines * 3;\n        totalSegments += nSegments * 9;\n        totalPlanes += nPlanes;\n        i += 1;\n    }\n    const nSuccess = i;\n    const linePosition1 = new Float32Array(totalLines);\n    const linePosition2 = new Float32Array(totalLines);\n    const sectorPosition = new Float32Array(totalSegments);\n    const planePosition = new Float32Array(totalPlanes);\n    let lineOffset = 0;\n    let sectorOffset = 0;\n    let planeOffset = 0;\n    for (let i = 0; i < nSuccess; i++) {\n        const lp1 = lineTmp1[i];\n        const lp2 = lineTmp2[i];\n        const sp = sectorTmp[i];\n        const pp = planeTmp[i];\n        copyArray(lp1, linePosition1, 0, lineOffset, lp1.length);\n        copyArray(lp2, linePosition2, 0, lineOffset, lp2.length);\n        copyArray(sp, sectorPosition, 0, sectorOffset, sp.length);\n        copyArray(pp, planePosition, 0, planeOffset, pp.length);\n        lineOffset += lp1.length;\n        sectorOffset += sp.length;\n        planeOffset += pp.length;\n    }\n    return {\n        labelPosition: labelPosition.subarray(0, nSuccess * 3),\n        labelText: labelText.slice(0, nSuccess),\n        linePosition1,\n        linePosition2,\n        planePosition,\n        sectorPosition\n    };\n}\nRepresentationRegistry.add('dihedral', DihedralRepresentation);\nexport default DihedralRepresentation;\n//# sourceMappingURL=dihedral-representation.js.map","/**\n * @file Dihedral Histogram Representation\n * @author Rudolfs Petrovs <rudolfs.petrovs@astx.com>\n * @private\n */\nimport { Color } from 'three';\nimport { calcArcPoint, parseNestedAtoms } from './measurement-representation';\nimport StructureRepresentation from './structure-representation';\nimport { RepresentationRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport MeshBuffer from '../buffer/mesh-buffer';\nimport WideLineBuffer from '../buffer/wideline-buffer';\nimport { copyArray, uniformArray3, arraySum } from '../math/array-utils';\nimport { v3add, v3cross, v3dot, v3multiplyScalar, v3fromArray, v3negate, v3new, v3normalize, v3sub, v3toArray, v3length } from '../math/vector-utils';\nconst pointLength = 3; // One Point Length (number of coordinates of one point in 3D)\nconst pointsInTriangle = 3;\nfunction createUpdatedObject(o, updateSource) {\n    function hasKey(obj, key) {\n        return key in obj;\n    }\n    const result = Object.assign({}, o); // Shallow copy\n    for (const key in result) {\n        if (hasKey(result, key) && hasKey(updateSource, key)) {\n            result[key] = defaults(updateSource[key], result[key]);\n        }\n    }\n    return result;\n}\nfunction createColorArray(color, arrayLength) {\n    const colorValue = new Color(color);\n    const targetArray = new Float32Array(arrayLength * 3);\n    uniformArray3(arrayLength, colorValue.r, colorValue.g, colorValue.b, targetArray);\n    return targetArray;\n}\n/**\n * Dihedral Histogram representation object\n *\n * Reperesentation consists of several parts:\n * opaqueMiddleDisc - opaque disc in the middle of the dihedral between front and back histograms\n * frontHistogram - circular histogram from the adjacent bond viewpoint\n * backHistogram - circular histogram from the distant bond viewpoint\n * histogramBinBorder - lines, which separate histogram bins\n * bondArrows - lines, which show the actual angle on the histogram disc\n *\n * @param {Structure} structure - the structure to measure angles in\n * @param {Viewer} viewer - a viewer object\n * @param {DihedralHistogramRepresentationParameters} params - Dihedral histogram representation parameters\n */\nclass DihedralHistogramRepresentation extends StructureRepresentation {\n    constructor(structure, viewer, params) {\n        super(structure, viewer, params);\n        this.type = 'dihedral-histogram';\n        this.parameters = Object.assign({\n            histogramsData: {\n                type: 'hidden', rebuild: true\n            },\n            histogramBinBorderVisible: {\n                type: 'boolean', default: true\n            },\n            scaleBinToSectorArea: {\n                type: 'boolean',\n                rebuild: true,\n                default: false\n            }\n        }, this.parameters);\n        this.init(params);\n    }\n    init(params) {\n        const p = params || {};\n        const defaultColorData = {\n            histogramBinBorderColor: 'grey',\n            adjacentBondArrowColor: 'black',\n            distantBondArrowColor: 'magenta',\n            frontHistogramColor: 'green',\n            backHistogramColor: 'blue',\n            opaqueMiddleDiscColor: 'white'\n        };\n        const colorData = createUpdatedObject(defaultColorData, p);\n        Object.assign(this, colorData);\n        const defaultParameters = {\n            histogramsData: [],\n            histogramOpacity: 1.0,\n            opaqueMiddleDiscVisible: true,\n            opaqueMiddleDiscOpacity: 1.0,\n            histogramBinBorderVisible: true,\n            histogramBinBorderWidth: 1,\n            histogramBinBorderOpacity: 0.5,\n            bondArrowVisible: true,\n            bondArrowWidth: 2,\n            bondArrowOpacity: 1.0,\n            scaleBinToSectorArea: false,\n        };\n        const parameters = createUpdatedObject(defaultParameters, p);\n        Object.assign(this, parameters);\n        this.histogramsData.forEach(x => {\n            const specificColorData = createUpdatedObject(colorData, x);\n            Object.assign(x, specificColorData);\n        });\n        p.side = defaults(p.side, 'double');\n        p.opacity = defaults(p.opacity, 0.5);\n        p.radiusType = defaults(p.radiusType, 'size');\n        p.radiusSize = defaults(p.radiusSize, 0.15);\n        super.init(p);\n    }\n    getHistogramBinBorderBufferParameters() {\n        return this.getBufferParams({\n            linewidth: this.histogramBinBorderWidth,\n            visible: this.histogramBinBorderVisible,\n            opacity: this.histogramBinBorderOpacity,\n        });\n    }\n    getBondArrowsBufferParameters() {\n        return this.getBufferParams({\n            linewidth: this.bondArrowWidth,\n            visible: this.bondArrowVisible,\n            opacity: this.bondArrowOpacity,\n        });\n    }\n    getOpaqueMiddleDiscBufferParameters() {\n        return this.getBufferParams({\n            visible: this.opaqueMiddleDiscVisible,\n            opacity: this.opaqueMiddleDiscOpacity\n        });\n    }\n    getHistogramBufferParameters() {\n        return this.getBufferParams({\n            visible: true,\n            opacity: this.histogramOpacity,\n            side: \"double\"\n        });\n    }\n    createData(sview) {\n        if (!sview.atomCount || !this.histogramsData.length)\n            return;\n        this.histogramsData.forEach(x => x.atomPositions = parseNestedAtoms(sview, [x.atomQuad]));\n        const scaleData = this.scaleBinToSectorArea ? function (y) { return Math.sqrt(y); } : function (y) { return y; };\n        this.histogramsData.forEach(x => x.histogram360Scaled = x.histogram360.map(scaleData));\n        function Float32Concat(arrays) {\n            const lengths = arrays.map(x => x.length);\n            const result = new Float32Array(arraySum(lengths));\n            let accumulatedOffset = 0;\n            for (let i = 0; i < arrays.length; i++) {\n                result.set(arrays[i], accumulatedOffset);\n                accumulatedOffset += arrays[i].length;\n            }\n            return result;\n        }\n        function createWideLineBuffer(linesList, params) {\n            return new WideLineBuffer({\n                position1: Float32Concat(linesList.map(x => x.startPoints)),\n                position2: Float32Concat(linesList.map(x => x.endPoints)),\n                color: Float32Concat(linesList.map(x => x.startColors)),\n                color2: Float32Concat(linesList.map(x => x.endColors)),\n            }, params);\n        }\n        function createMeshBuffer(mesh, params) {\n            return new MeshBuffer({\n                position: Float32Concat(mesh.map(x => x.triangles)),\n                color: Float32Concat(mesh.map(x => x.triangleColors))\n            }, params);\n        }\n        const dihedralDataArray = [];\n        for (let i = 0; i < this.histogramsData.length; i++) {\n            let dihedralData = undefined;\n            let currentHistogramData = this.histogramsData[i];\n            let currentHistogram360 = currentHistogramData.histogram360;\n            if (currentHistogram360.length >= 3) {\n                dihedralData = calculateDihedralHistogram(currentHistogramData);\n            }\n            if (typeof dihedralData === \"undefined\")\n                continue;\n            dihedralDataArray.push(dihedralData);\n        }\n        this.frontHistogramBinBordersBuffer = createWideLineBuffer(dihedralDataArray.map(x => x.frontHistogramBinBorders), this.getHistogramBinBorderBufferParameters());\n        this.backHistogramBinBordersBuffer = createWideLineBuffer(dihedralDataArray.map(x => x.backHistogramBinBorders), this.getHistogramBinBorderBufferParameters());\n        this.adjacentBondArrowsBuffer = createWideLineBuffer(dihedralDataArray.map(x => x.adjacentBondArrows), this.getBondArrowsBufferParameters());\n        this.distantBondArrowsBuffer = createWideLineBuffer(dihedralDataArray.map(x => x.distantBondArrows), this.getBondArrowsBufferParameters());\n        this.opaqueMiddleDiscBuffer = createMeshBuffer(dihedralDataArray.map(x => x.opaqueMiddleDisc), this.getOpaqueMiddleDiscBufferParameters());\n        this.frontHistogramBuffer = createMeshBuffer(dihedralDataArray.map(x => x.frontHistogram), this.getHistogramBufferParameters());\n        this.backHistogramBuffer = createMeshBuffer(dihedralDataArray.map(x => x.backHistogram), this.getHistogramBufferParameters());\n        return {\n            bufferList: [].concat(this.frontHistogramBinBordersBuffer, this.backHistogramBinBordersBuffer, this.adjacentBondArrowsBuffer, this.distantBondArrowsBuffer, this.opaqueMiddleDiscBuffer, this.frontHistogramBuffer, this.backHistogramBuffer)\n        };\n    }\n    setParameters(params) {\n        const rebuild = false;\n        const what = {};\n        super.setParameters(params, what, rebuild);\n        if (params && (params.histogramBinBorderVisible !== undefined)) {\n            this.setVisibility(this.visible);\n        }\n        return this;\n    }\n    setVisibility(value, noRenderRequest) {\n        super.setVisibility(value, true);\n        if (this.frontHistogramBinBordersBuffer) {\n            this.frontHistogramBinBordersBuffer.setVisibility(this.histogramBinBorderVisible);\n        }\n        if (this.backHistogramBinBordersBuffer) {\n            this.backHistogramBinBordersBuffer.setVisibility(this.histogramBinBorderVisible);\n        }\n        if (!noRenderRequest)\n            this.viewer.requestRender();\n        return this;\n    }\n}\n/**\n * Calculates the data required to create {Buffer} objects for one histogram, given positions\n * @param  Float32Array positionOfDihedralAtoms 3*4 array of coordinates\n * @param  NumberArray histogram array of coordinates\n * @return Arrays for building buffers\n */\nfunction calculateDihedralHistogram(histogramData) {\n    const positionOfDihedralAtoms = histogramData.atomPositions;\n    const histogram = histogramData.histogram360Scaled;\n    const totalSectorTrianglesInOpaqueMiddleDisc = histogram.length <= 180 ? 360 : histogram.length * 2;\n    const frontAndBack = 2;\n    const opaqueMiddleDisc = {\n        triangles: new Float32Array(totalSectorTrianglesInOpaqueMiddleDisc * pointsInTriangle * pointLength),\n        triangleColors: createColorArray(histogramData.opaqueMiddleDiscColor, totalSectorTrianglesInOpaqueMiddleDisc * pointsInTriangle)\n    };\n    const frontHistogram = {\n        triangles: new Float32Array(histogram.length * pointsInTriangle * pointLength),\n        triangleColors: createColorArray(histogramData.frontHistogramColor, histogram.length * pointsInTriangle)\n    };\n    const backHistogram = {\n        triangles: new Float32Array(histogram.length * pointsInTriangle * pointLength),\n        triangleColors: createColorArray(histogramData.backHistogramColor, histogram.length * pointsInTriangle)\n    };\n    const frontHistogramBinBorders = {\n        startPoints: new Float32Array(histogram.length * pointLength),\n        endPoints: new Float32Array(histogram.length * pointLength),\n        startColors: createColorArray(histogramData.histogramBinBorderColor, histogram.length),\n        endColors: createColorArray(histogramData.histogramBinBorderColor, histogram.length)\n    };\n    const backHistogramBinBorders = {\n        startPoints: new Float32Array(histogram.length * pointLength),\n        endPoints: new Float32Array(histogram.length * pointLength),\n        startColors: createColorArray(histogramData.histogramBinBorderColor, histogram.length),\n        endColors: createColorArray(histogramData.histogramBinBorderColor, histogram.length)\n    };\n    const adjacentBondArrows = {\n        startPoints: new Float32Array(frontAndBack * pointLength),\n        endPoints: new Float32Array(frontAndBack * pointLength),\n        startColors: createColorArray(histogramData.adjacentBondArrowColor, histogram.length),\n        endColors: createColorArray(histogramData.adjacentBondArrowColor, histogram.length)\n    };\n    const distantBondArrows = {\n        startPoints: new Float32Array(frontAndBack * pointLength),\n        endPoints: new Float32Array(frontAndBack * pointLength),\n        startColors: createColorArray(histogramData.distantBondArrowColor, histogram.length),\n        endColors: createColorArray(histogramData.distantBondArrowColor, histogram.length)\n    };\n    const p1 = v3new();\n    const p2 = v3new();\n    const p3 = v3new();\n    const p4 = v3new();\n    const v21 = v3new();\n    const v23 = v3new();\n    const v32 = v3new();\n    const v34 = v3new();\n    const mid = v3new();\n    const inPlane1 = v3new();\n    const inPlane2 = v3new();\n    const cross1 = v3new();\n    const cross2 = v3new();\n    const arcPoint = v3new();\n    const tmp = v3new();\n    const tmp2 = v3new();\n    // Set Atom Coordinates\n    const dihedralAtomVectors = [p1, p2, p3, p4];\n    for (let i = 0; i < dihedralAtomVectors.length; i++) {\n        v3fromArray(dihedralAtomVectors[i], positionOfDihedralAtoms, i * pointLength);\n    }\n    // Vectors between points\n    v3sub(v21, p1, p2);\n    v3sub(v23, p3, p2);\n    v3sub(v34, p4, p3);\n    if (v3length(v23) === 0.0) {\n        return; // Can't define axis\n    }\n    v3multiplyScalar(tmp, v23, 0.5);\n    v3add(mid, p2, tmp);\n    v3normalize(v21, v21);\n    v3normalize(v23, v23);\n    v3normalize(v34, v34);\n    v3negate(v32, v23);\n    // Calculate vectors perp to v23 (lying in plane (1,2,3) and (2,3,4))\n    v3multiplyScalar(tmp, v32, v3dot(v32, v21));\n    v3sub(inPlane1, v21, tmp);\n    v3multiplyScalar(tmp, v23, v3dot(v23, v34));\n    v3sub(inPlane2, v34, tmp);\n    if (v3length(inPlane1) === 0.0 || v3length(inPlane2) === 0.0) {\n        return; // Indeterminate angle\n    }\n    v3normalize(inPlane1, inPlane1);\n    v3normalize(inPlane2, inPlane2);\n    // Can use acos as normalized and non-zero\n    const absAngle = Math.acos(v3dot(inPlane1, inPlane2));\n    v3cross(cross1, v32, inPlane1);\n    v3cross(cross2, v23, inPlane2);\n    v3normalize(cross1, cross1);\n    v3normalize(cross2, cross2);\n    let angle = absAngle;\n    if (v3dot(cross1, inPlane2) < 0.0) {\n        angle = -absAngle;\n    }\n    v3add(arcPoint, mid, inPlane1);\n    // Calculate necessary constants\n    const maxHist = Math.max.apply(null, histogram);\n    const histBinAngleStep = (Math.PI * 2) / histogram.length;\n    function setHistogramBinCoordinates(out, ind, zeroDegreeVector, crossVector, histBinAngleStep) {\n        const startOffset = ind * pointsInTriangle * pointLength;\n        v3toArray(mid, out, startOffset);\n        const scalingFactor = Number(histogram[ind]) / maxHist;\n        v3multiplyScalar(tmp, zeroDegreeVector, scalingFactor);\n        v3multiplyScalar(tmp2, crossVector, scalingFactor);\n        calcArcPoint(arcPoint, mid, tmp, tmp2, ind * histBinAngleStep);\n        v3toArray(arcPoint, out, startOffset + 1 * pointLength);\n        calcArcPoint(arcPoint, mid, tmp, tmp2, (ind + 1) * histBinAngleStep);\n        v3toArray(arcPoint, out, startOffset + 2 * pointLength);\n    }\n    function setOneSideHistogram(discHistogram, binBorders, ind, zeroDegreeVector, crossVector) {\n        // Set Bond Arrows\n        copyArray(mid, adjacentBondArrows.startPoints, 0, ind * pointLength, mid.length);\n        calcArcPoint(tmp, mid, zeroDegreeVector, crossVector, 0 + histBinAngleStep * 0);\n        copyArray(tmp, adjacentBondArrows.endPoints, 0, ind * pointLength, mid.length);\n        copyArray(mid, distantBondArrows.startPoints, 0, ind * pointLength, mid.length);\n        calcArcPoint(tmp, mid, zeroDegreeVector, crossVector, angle);\n        copyArray(tmp, distantBondArrows.endPoints, 0, ind * pointLength, mid.length);\n        // Set Histogram Bin Borders\n        for (let i = 0; i < histogram.length; i++) {\n            copyArray(mid, binBorders.startPoints, 0, i * 3, mid.length);\n            calcArcPoint(tmp, mid, zeroDegreeVector, crossVector, 0 + histBinAngleStep * i);\n            copyArray(tmp, binBorders.endPoints, 0, i * 3, tmp.length);\n        }\n        // Set Histogram Bins\n        for (let sectionIndex = 0; sectionIndex < histogram.length; sectionIndex++) {\n            setHistogramBinCoordinates(discHistogram.triangles, sectionIndex, zeroDegreeVector, crossVector, histBinAngleStep);\n        }\n    }\n    // Opaque disc\n    const opaqueCircleSectorAngleStep = Math.PI * 2 / totalSectorTrianglesInOpaqueMiddleDisc;\n    for (let sectionIndex = 0; sectionIndex < totalSectorTrianglesInOpaqueMiddleDisc; sectionIndex++) {\n        const startOffset = sectionIndex * pointsInTriangle * pointLength;\n        v3toArray(mid, opaqueMiddleDisc.triangles, startOffset);\n        calcArcPoint(arcPoint, mid, inPlane1, cross1, sectionIndex * opaqueCircleSectorAngleStep);\n        v3toArray(arcPoint, opaqueMiddleDisc.triangles, startOffset + 1 * pointLength);\n        calcArcPoint(arcPoint, mid, inPlane1, cross1, (sectionIndex + 1) * opaqueCircleSectorAngleStep);\n        v3toArray(arcPoint, opaqueMiddleDisc.triangles, startOffset + 2 * pointLength);\n    }\n    // Front Histogram\n    const distanceToOpaqueDisc = 0.01;\n    v3multiplyScalar(tmp, v23, -distanceToOpaqueDisc); // Get a vector to move \"mid\" just a bit from opaque disc\n    v3add(mid, mid, tmp);\n    setOneSideHistogram(frontHistogram, frontHistogramBinBorders, 0, inPlane1, cross1);\n    // Back Histogram\n    v3multiplyScalar(tmp, v23, 2 * distanceToOpaqueDisc); // Get a vector to move \"mid\" back and plus just a bit from opaque disc the other way\n    v3add(mid, mid, tmp);\n    setOneSideHistogram(backHistogram, backHistogramBinBorders, 1, inPlane2, cross2);\n    return {\n        opaqueMiddleDisc,\n        frontHistogram,\n        backHistogram,\n        frontHistogramBinBorders,\n        backHistogramBinBorders,\n        adjacentBondArrows,\n        distantBondArrows\n    };\n}\nRepresentationRegistry.add('dihedral-histogram', DihedralHistogramRepresentation);\nexport default DihedralHistogramRepresentation;\n//# sourceMappingURL=dihedral-histogram-representation.js.map","/**\n * @file Distance Representation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author Fred Ludlow <fred.ludlow@gmail.com>\n * @private\n */\nimport { Color } from 'three';\nimport { RepresentationRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport { DistancePicker } from '../utils/picker';\nimport { uniformArray, uniformArray3 } from '../math/array-utils';\nimport BitArray from '../utils/bitarray';\nimport MeasurementRepresentation from './measurement-representation';\nimport Selection from '../selection/selection';\nimport BondStore from '../store/bond-store';\nimport TextBuffer from '../buffer/text-buffer';\nimport WideLineBuffer from '../buffer/wideline-buffer';\nimport CylinderBuffer from '../buffer/cylinder-buffer';\nimport { getFixedLengthDashData } from '../geometry/dash';\n/**\n * Distance representation\n */\nclass DistanceRepresentation extends MeasurementRepresentation {\n    /**\n     * Create Distance representation object\n     * @example\n     * stage.loadFile( \"rcsb://1crn\" ).then( function( o ){\n     *     o.addRepresentation( \"cartoon\" );\n     *     // either give selections (uses first selected atom) ...\n     *     var atomPair = [ [ \"1.CA\", \"4.CA\" ], [ \"7.CA\", \"13.CA\" ] ];\n     *     // or atom indices\n     *     var atomPair = [ [ 8, 28 ], [ 173, 121 ] ];\n     *     o.addRepresentation( \"distance\", { atomPair: atomPair } );\n     *     stage.autoView();\n     * } );\n     * @param {Structure} structure - the structure to be represented\n     * @param {Viewer} viewer - a viewer object\n     * @param {DistanceRepresentationParameters} params - distance representation parameters\n     */\n    constructor(structure, viewer, params) {\n        super(structure, viewer, params);\n        this.type = 'distance';\n        this.parameters = Object.assign({\n            radialSegments: true,\n            openEnded: true,\n            disableImpostor: true,\n            labelUnit: {\n                type: 'select',\n                rebuild: true,\n                options: { '': '', angstrom: 'angstrom', nm: 'nm' }\n            },\n            useCylinder: {\n                type: 'boolean', rebuild: true\n            },\n            atomPair: {\n                type: 'hidden', rebuild: true\n            }\n        }, this.parameters);\n        this.init(params);\n    }\n    init(params) {\n        const p = params || {};\n        p.linewidth = defaults(p.linewidth, 5.0);\n        p.radiusType = defaults(p.radiusType, 'size');\n        p.radiusSize = defaults(p.radiusSize, 0.2);\n        this.labelUnit = defaults(p.labelUnit, '');\n        this.useCylinder = defaults(p.useCylinder, false);\n        this.atomPair = defaults(p.atomPair, []);\n        super.init(p);\n    }\n    getDistanceData(sview, atomPair) {\n        let n = atomPair.length;\n        const text = new Array(n);\n        let position = new Float32Array(n * 3);\n        const sele1 = new Selection();\n        const sele2 = new Selection();\n        const bondStore = new BondStore();\n        const ap1 = sview.getAtomProxy();\n        const ap2 = sview.getAtomProxy();\n        let j = 0; // Skipped pairs\n        const selected = sview.getAtomSet();\n        atomPair.forEach((pair, i) => {\n            let v1 = pair[0];\n            let v2 = pair[1];\n            if (typeof (v1) === 'number' && Number.isInteger(v1) && typeof (v2) === 'number' && Number.isInteger(v2)) {\n                if (selected.get(v1) && selected.get(v2)) {\n                    ap1.index = v1;\n                    ap2.index = v2;\n                }\n                else {\n                    j += 1;\n                    return;\n                }\n            }\n            else {\n                sele1.setString(v1);\n                sele2.setString(v2);\n                var atomIndices1 = sview.getAtomIndices(sele1);\n                var atomIndices2 = sview.getAtomIndices(sele2);\n                if (atomIndices1.length && atomIndices2.length) {\n                    ap1.index = atomIndices1[0];\n                    ap2.index = atomIndices2[0];\n                }\n                else {\n                    j += 1;\n                    return;\n                }\n            }\n            bondStore.addBond(ap1, ap2, 1);\n            i -= j;\n            var d = ap1.distanceTo(ap2);\n            switch (this.labelUnit) {\n                case 'angstrom':\n                    text[i] = d.toFixed(2) + ' ' + String.fromCharCode(0x212B);\n                    break;\n                case 'nm':\n                    text[i] = (d / 10).toFixed(2) + ' nm';\n                    break;\n                default:\n                    text[i] = d.toFixed(2);\n                    break;\n            }\n            var i3 = i * 3;\n            position[i3 + 0] = (ap1.x + ap2.x) / 2;\n            position[i3 + 1] = (ap1.y + ap2.y) / 2;\n            position[i3 + 2] = (ap1.z + ap2.z) / 2;\n        });\n        if (j > 0) {\n            n -= j;\n            position = position.subarray(0, n * 3);\n        }\n        var bondSet = new BitArray(bondStore.count, true);\n        return {\n            text: text,\n            position: position,\n            bondSet: bondSet,\n            bondStore: bondStore\n        };\n    }\n    getBondData(sview, what, params) {\n        const bondData = sview.getBondData(this.getBondParams(what, params));\n        if (bondData.picking) {\n            bondData.picking = new DistancePicker(bondData.picking.array, bondData.picking.structure, params.bondStore);\n        }\n        return bondData;\n    }\n    createData(sview) {\n        if (!sview.atomCount || !this.atomPair.length)\n            return;\n        const n = this.atomPair.length;\n        const c = new Color(this.labelColor);\n        const distanceData = this.getDistanceData(sview, this.atomPair);\n        this.textBuffer = new TextBuffer({\n            position: distanceData.position,\n            size: uniformArray(n, this.labelSize),\n            color: uniformArray3(n, c.r, c.g, c.b),\n            text: distanceData.text\n        }, this.getLabelBufferParams());\n        const bondParams = {\n            bondSet: distanceData.bondSet,\n            bondStore: distanceData.bondStore\n        };\n        const bondData = this.getBondData(sview, { position: true, color: true, picking: true, radius: this.useCylinder }, bondParams);\n        if (this.useCylinder) {\n            this.distanceBuffer = new CylinderBuffer(bondData, this.getBufferParams({\n                openEnded: this.openEnded,\n                radialSegments: this.radialSegments,\n                disableImpostor: this.disableImpostor,\n                dullInterior: true\n            }));\n        }\n        else {\n            this.distanceBuffer = new WideLineBuffer(getFixedLengthDashData(bondData), this.getBufferParams({\n                linewidth: this.linewidth,\n                visible: this.lineVisible,\n                opacity: this.lineOpacity\n            }));\n        }\n        return {\n            bondSet: distanceData.bondSet,\n            bondStore: distanceData.bondStore,\n            position: distanceData.position,\n            bufferList: [this.textBuffer, this.distanceBuffer]\n        };\n    }\n    updateData(what, data) {\n        super.updateData(what, data);\n        const bondParams = {\n            bondSet: data.bondSet,\n            bondStore: data.bondStore\n        };\n        const bondData = this.getBondData(data.sview, what, bondParams);\n        const distanceData = {};\n        if (!what || what.color) {\n            Object.assign(distanceData, {\n                color: bondData.color,\n                color2: bondData.color2\n            });\n        }\n        if (!what || what.radius) {\n            Object.assign(distanceData, { radius: bondData.radius });\n        }\n        this.distanceBuffer.setAttributes(distanceData);\n    }\n    setParameters(params) {\n        let rebuild = false;\n        const what = {};\n        super.setParameters(params, what, rebuild);\n        if (!this.useCylinder) {\n            if (params && params.lineOpacity) {\n                this.distanceBuffer.setParameters({ opacity: params.lineOpacity });\n            }\n            if (params && params.opacity !== undefined) {\n                this.distanceBuffer.setParameters({ opacity: this.lineOpacity });\n            }\n            if (params && params.linewidth) {\n                this.distanceBuffer.setParameters({ linewidth: params.linewidth });\n            }\n        }\n        return this;\n    }\n}\nRepresentationRegistry.add('distance', DistanceRepresentation);\nexport default DistanceRepresentation;\n//# sourceMappingURL=distance-representation.js.map","/**\n * @file Vector Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\n// @ts-ignore: unused import Vector3, Matrix4 required for declaration only\nimport { Color } from 'three';\nimport '../shader/Line.vert';\nimport '../shader/Line.frag';\nimport { uniformArray3 } from '../math/array-utils';\nimport Buffer, { BufferDefaultParameters } from './buffer';\nfunction getSize(data) {\n    const n = data.position.length / 3;\n    return n * 2 * 3;\n}\nexport const VectorBufferDefaultParameters = Object.assign({\n    scale: 1,\n    color: 'grey'\n}, BufferDefaultParameters);\n/**\n * Vector buffer. Draws vectors as lines.\n */\nclass VectorBuffer extends Buffer {\n    /**\n     * @param  {Object} data - attribute object\n     * @param  {Float32Array} data.position - positions\n     * @param  {Float32Array} data.vector - vectors\n     * @param  {BufferParameters} params - parameter object\n     */\n    constructor(data, params = {}) {\n        super({\n            position: new Float32Array(getSize(data)),\n            color: new Float32Array(getSize(data))\n        }, params);\n        this.isLine = true;\n        this.vertexShader = 'Line.vert';\n        this.fragmentShader = 'Line.frag';\n        const color = new Color(this.parameters.color);\n        const attributes = this.geometry.attributes; // TODO\n        uniformArray3(getSize(data) / 3, color.r, color.g, color.b, attributes.color.array);\n        this.setAttributes(data);\n    }\n    get defaultParameters() { return VectorBufferDefaultParameters; }\n    setAttributes(data = {}) {\n        const attributes = this.geometry.attributes; // TODO\n        let position, vector;\n        let aPosition;\n        if (data.position && data.vector) {\n            position = data.position;\n            vector = data.vector;\n            aPosition = attributes.position.array;\n            attributes.position.needsUpdate = true;\n        }\n        const n = this.size / 2;\n        const scale = this.parameters.scale;\n        if (position && vector) {\n            for (let v = 0; v < n; v++) {\n                const i = v * 2 * 3;\n                const j = v * 3;\n                aPosition[i + 0] = position[j + 0];\n                aPosition[i + 1] = position[j + 1];\n                aPosition[i + 2] = position[j + 2];\n                aPosition[i + 3] = position[j + 0] + vector[j + 0] * scale;\n                aPosition[i + 4] = position[j + 1] + vector[j + 1] * scale;\n                aPosition[i + 5] = position[j + 2] + vector[j + 2] * scale;\n            }\n        }\n    }\n}\nexport default VectorBuffer;\n//# sourceMappingURL=vector-buffer.js.map","/**\n * @file Helixorient Representation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Debug, Log, RepresentationRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport Helixorient from '../geometry/helixorient';\nimport StructureRepresentation from './structure-representation';\nimport SphereBuffer from '../buffer/sphere-buffer';\nimport VectorBuffer from '../buffer/vector-buffer';\n/**\n * Helixorient Representation\n */\nclass HelixorientRepresentation extends StructureRepresentation {\n    constructor(structure, viewer, params) {\n        super(structure, viewer, params);\n        this.type = 'helixorient';\n        this.parameters = Object.assign({\n            sphereDetail: true,\n            disableImpostor: true\n        }, this.parameters);\n        this.init(params);\n    }\n    init(params) {\n        const p = params || {};\n        p.colorScheme = defaults(p.colorScheme, 'sstruc');\n        p.radiusType = defaults(p.radiusType, 'size');\n        p.radiusSize = defaults(p.radiusSize, 0.15);\n        p.radiusScale = defaults(p.radiusScale, 1.0);\n        p.useInteriorColor = defaults(p.useInteriorColor, true);\n        super.init(p);\n    }\n    createData(sview) {\n        const bufferList = [];\n        const polymerList = [];\n        this.structure.eachPolymer(polymer => {\n            if (polymer.residueCount < 4)\n                return;\n            polymerList.push(polymer);\n            const helixorient = new Helixorient(polymer);\n            const position = helixorient.getPosition();\n            const color = helixorient.getColor(this.getColorParams());\n            const size = helixorient.getSize(this.getRadiusParams());\n            const picking = helixorient.getPicking();\n            bufferList.push(new SphereBuffer({\n                position: position.center,\n                color: color.color,\n                radius: size.size,\n                picking: picking.picking\n            }, this.getBufferParams({\n                sphereDetail: this.sphereDetail,\n                disableImpostor: this.disableImpostor,\n                dullInterior: true\n            })), new VectorBuffer({\n                position: position.center,\n                vector: position.axis\n            }, this.getBufferParams({\n                color: 'skyblue',\n                scale: 1\n            })), new VectorBuffer({\n                position: position.center,\n                vector: position.resdir\n            }, this.getBufferParams({\n                color: 'lightgreen',\n                scale: 1\n            })));\n        }, sview.getSelection());\n        return {\n            bufferList: bufferList,\n            polymerList: polymerList\n        };\n    }\n    updateData(what, data) {\n        if (Debug)\n            Log.time(this.type + ' repr update');\n        what = what || {};\n        for (let i = 0, il = data.polymerList.length; i < il; ++i) {\n            const j = i * 3;\n            const bufferData = {};\n            const polymer = data.polymerList[i];\n            const helixorient = new Helixorient(polymer);\n            if (what.position) {\n                const position = helixorient.getPosition();\n                Object.assign(bufferData, { position: position.center });\n                data.bufferList[j + 1].setAttributes({\n                    'position': position.center,\n                    'vector': position.axis\n                });\n                data.bufferList[j + 2].setAttributes({\n                    'position': position.center,\n                    'vector': position.resdir\n                });\n            }\n            data.bufferList[j].setAttributes(bufferData);\n        }\n        if (Debug)\n            Log.timeEnd(this.type + ' repr update');\n    }\n}\nRepresentationRegistry.add('helixorient', HelixorientRepresentation);\nexport default HelixorientRepresentation;\n//# sourceMappingURL=helixorient-representation.js.map","/**\n * @file Licorice Representation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { RepresentationRegistry } from '../globals';\nimport BallAndStickRepresentation from './ballandstick-representation';\n/**\n * Licorice representation object ({@link BallAndStickRepresentation} with `aspectRatio` fixed at 1.0)\n */\nclass LicoriceRepresentation extends BallAndStickRepresentation {\n    /**\n     * Create Licorice representation object\n     * @param {Structure} structure - the structure to be represented\n     * @param {Viewer} viewer - a viewer object\n     * @param {BallAndStickRepresentationParameters} params - ball and stick representation parameters\n     */\n    constructor(structure, viewer, params) {\n        super(structure, viewer, params);\n        this.type = 'licorice';\n        this.parameters = Object.assign({}, this.parameters, { aspectRatio: null });\n    }\n    init(params) {\n        var p = params || {};\n        p.aspectRatio = 1.0;\n        super.init(p);\n    }\n}\nRepresentationRegistry.add('licorice', LicoriceRepresentation);\nexport default LicoriceRepresentation;\n//# sourceMappingURL=licorice-representation.js.map","/**\n * @file Mapped Box Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport MappedBuffer from './mapped-buffer';\nconst mapping = new Float32Array([\n    -1.0, -1.0, -1.0,\n    1.0, -1.0, -1.0,\n    1.0, -1.0, 1.0,\n    -1.0, -1.0, 1.0,\n    -1.0, 1.0, -1.0,\n    1.0, 1.0, -1.0,\n    1.0, 1.0, 1.0,\n    -1.0, 1.0, 1.0\n]);\nconst mappingIndices = new Uint16Array([\n    0, 1, 2,\n    0, 2, 3,\n    1, 5, 6,\n    1, 6, 2,\n    4, 6, 5,\n    4, 7, 6,\n    0, 7, 4,\n    0, 3, 7,\n    0, 5, 1,\n    0, 4, 5,\n    3, 2, 6,\n    3, 6, 7\n]);\n/**\n * Mapped Box buffer. Draws boxes. Used to render general imposters.\n * @interface\n */\nclass MappedBoxBuffer extends MappedBuffer {\n    constructor(data, params = {}) {\n        super('v3', data, params);\n    }\n    get mapping() { return mapping; }\n    get mappingIndices() { return mappingIndices; }\n    get mappingIndicesSize() { return 36; }\n    get mappingSize() { return 8; }\n    get mappingItemSize() { return 3; }\n}\nexport default MappedBoxBuffer;\n//# sourceMappingURL=mappedbox-buffer.js.map","/**\n * @file Hyperball Stick Impostor Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\n// @ts-ignore: unused import Vector3 required for declaration only\nimport { Matrix4 } from 'three';\nimport '../shader/HyperballStickImpostor.vert';\nimport '../shader/HyperballStickImpostor.frag';\nimport MappedBoxBuffer from './mappedbox-buffer';\nimport { BufferDefaultParameters, BufferParameterTypes } from './buffer';\nexport const HyperballStickImpostorBufferDefaultParameters = Object.assign({\n    shrink: 0.14\n}, BufferDefaultParameters);\nconst HyperballStickImpostorBufferParameterTypes = Object.assign({\n    shrink: { uniform: true }\n}, BufferParameterTypes);\n/**\n * Hyperball stick impostor buffer.\n *\n * @example\n * var hyperballStickImpostorBuffer = new HyperballStickImpostorBuffer({\n *   position1: new Float32Array([ 0, 0, 0 ]),\n *   position2: new Float32Array([ 2, 2, 2 ]),\n *   color: new Float32Array([ 1, 0, 0 ]),\n *   color2: new Float32Array([ 0, 1, 0 ]),\n *   radius: new Float32Array([ 1 ]),\n *   radius2: new Float32Array([ 2 ])\n * });\n */\nclass HyperballStickImpostorBuffer extends MappedBoxBuffer {\n    constructor(data, params = {}) {\n        super(data, params);\n        this.parameterTypes = HyperballStickImpostorBufferParameterTypes;\n        this.isImpostor = true;\n        this.vertexShader = 'HyperballStickImpostor.vert';\n        this.fragmentShader = 'HyperballStickImpostor.frag';\n        this.addUniforms({\n            'modelViewProjectionMatrix': { value: new Matrix4() },\n            'modelViewProjectionMatrixInverse': { value: new Matrix4() },\n            'modelViewMatrixInverseTranspose': { value: new Matrix4() },\n            'shrink': { value: this.parameters.shrink }\n        });\n        this.addAttributes({\n            'position1': { type: 'v3', value: null },\n            'position2': { type: 'v3', value: null },\n            'color2': { type: 'c', value: null },\n            'radius': { type: 'f', value: null },\n            'radius2': { type: 'f', value: null }\n        });\n        this.setAttributes(data);\n        this.makeMapping();\n    }\n    get defaultParameters() { return HyperballStickImpostorBufferDefaultParameters; }\n}\nexport default HyperballStickImpostorBuffer;\n//# sourceMappingURL=hyperballstickimpostor-buffer.js.map","/**\n * @file Hyperball Stick Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ExtensionFragDepth } from '../globals';\nimport { calculateMinArray } from '../math/array-utils';\nimport CylinderGeometryBuffer, { CylinderGeometryBufferDefaultParameters } from './cylindergeometry-buffer';\nimport HyperballStickImpostorBuffer, { HyperballStickImpostorBufferDefaultParameters } from './hyperballstickimpostor-buffer';\nexport const HyperballStickBufferDefaultParameters = Object.assign({\n    disableImpostor: false\n}, CylinderGeometryBufferDefaultParameters, HyperballStickImpostorBufferDefaultParameters);\n/**\n * Hyperball stick buffer. Depending on the value {@link ExtensionFragDepth} and\n * `params.disableImpostor` the constructor returns either a\n * {@link CylinderGeometryBuffer} or a {@link HyperballStickImpostorBuffer}\n * @implements {Buffer}\n *\n * @example\n * var hyperballStickBuffer = new HyperballStickBuffer({\n *   position1: new Float32Array([ 0, 0, 0 ]),\n *   position2: new Float32Array([ 2, 2, 2 ]),\n *   color: new Float32Array([ 1, 0, 0 ]),\n *   color2: new Float32Array([ 0, 1, 0 ]),\n *   radius: new Float32Array([ 1 ]),\n *   radius2: new Float32Array([ 2 ])\n * });\n */\nclass HyperballStickBuffer {\n    /**\n     * @param  {Object} data - attribute object\n     * @param  {Float32Array} data.position1 - from positions\n     * @param  {Float32Array} data.position2 - to positions\n     * @param  {Float32Array} data.color - from colors\n     * @param  {Float32Array} data.color2 - to colors\n     * @param  {Float32Array} data.radius - from radii\n     * @param  {Float32Array} data.radius2 - to radii\n     * @param  {Float32Array} data.picking - picking ids\n     * @param  {BufferParameters} params - parameter object\n     */\n    constructor(data, params = {}) {\n        if (!ExtensionFragDepth || (params && params.disableImpostor)) {\n            data.radius = calculateMinArray(data.radius, data.radius2);\n            return new CylinderGeometryBuffer(data, params);\n        }\n        else {\n            return new HyperballStickImpostorBuffer(data, params);\n        }\n    }\n}\nexport default HyperballStickBuffer;\n//# sourceMappingURL=hyperballstick-buffer.js.map","/**\n * @file Hyperball Representation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { RepresentationRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport { calculateCenterArray } from '../math/array-utils';\nimport LicoriceRepresentation from './licorice-representation';\nimport SphereBuffer from '../buffer/sphere-buffer';\nimport HyperballStickBuffer from '../buffer/hyperballstick-buffer';\n/**\n * Hyperball Representation\n */\nclass HyperballRepresentation extends LicoriceRepresentation {\n    constructor(structure, viewer, params) {\n        super(structure, viewer, params);\n        this.type = 'hyperball';\n        this.parameters = Object.assign({\n            shrink: {\n                type: 'number', precision: 3, max: 1.0, min: 0.001, buffer: true\n            }\n        }, this.parameters, {\n            multipleBond: null,\n            bondSpacing: null\n        });\n    }\n    init(params) {\n        var p = params || {};\n        p.radiusScale = defaults(p.radiusScale, 0.2);\n        p.radiusType = defaults(p.radiusType, 'vdw');\n        p.useInteriorColor = defaults(p.useInteriorColor, true);\n        this.shrink = defaults(p.shrink, 0.12);\n        super.init(p);\n    }\n    getBondParams(what, params) {\n        if (!what || what.radius) {\n            params = Object.assign({ radius2: true }, params);\n        }\n        return super.getBondParams(what, params);\n    }\n    createData(sview) {\n        var sphereBuffer = new SphereBuffer(sview.getAtomData(this.getAtomParams()), this.getBufferParams({\n            sphereDetail: this.sphereDetail,\n            disableImpostor: this.disableImpostor,\n            dullInterior: true\n        }));\n        this.__center = new Float32Array(sview.bondCount * 3);\n        var stickBuffer = new HyperballStickBuffer(sview.getBondData(this.getBondParams()), this.getBufferParams({\n            shrink: this.shrink,\n            radialSegments: this.radialSegments,\n            disableImpostor: this.disableImpostor,\n            dullInterior: true\n        }));\n        return {\n            bufferList: [sphereBuffer, stickBuffer]\n        };\n    }\n    updateData(what, data) {\n        var atomData = data.sview.getAtomData(this.getAtomParams());\n        var bondData = data.sview.getBondData(this.getBondParams());\n        var sphereData = {};\n        var stickData = {};\n        if (!what || what.position) {\n            Object.assign(sphereData, { position: atomData.position });\n            var from = bondData.position1;\n            var to = bondData.position2;\n            Object.assign(stickData, {\n                position: calculateCenterArray(from, to, this.__center),\n                position1: from,\n                position2: to\n            });\n        }\n        if (!what || what.color) {\n            Object.assign(sphereData, { color: atomData.color });\n            Object.assign(stickData, {\n                color: bondData.color,\n                color2: bondData.color2\n            });\n        }\n        if (!what || what.radius) {\n            Object.assign(sphereData, { radius: atomData.radius });\n            Object.assign(stickData, {\n                radius: bondData.radius,\n                radius2: bondData.radius2\n            });\n        }\n        data.bufferList[0].setAttributes(sphereData);\n        data.bufferList[1].setAttributes(stickData);\n    }\n}\nRepresentationRegistry.add('hyperball', HyperballRepresentation);\nexport default HyperballRepresentation;\n//# sourceMappingURL=hyperball-representation.js.map","/**\n * @file Label Factory\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { AA1 } from '../structure/structure-constants';\nimport { sprintf } from 'sprintf-js';\nexport const LabelFactoryTypes = {\n    '': '',\n    'atomname': 'atom name',\n    'atomindex': 'atom index',\n    'occupancy': 'occupancy',\n    'bfactor': 'b-factor',\n    'serial': 'serial',\n    'element': 'element',\n    'atom': 'atom name + index',\n    'resname': 'residue name',\n    'resno': 'residue no',\n    'res': 'one letter code + no',\n    'residue': '[residue name] + no + inscode',\n    'text': 'text',\n    'format': 'format',\n    'qualified': 'qualified name'\n};\nclass LabelFactory {\n    constructor(type, text = {}, format = '') {\n        this.type = type;\n        this.text = text;\n        this.format = format;\n    }\n    atomLabel(a) {\n        const type = this.type;\n        let l;\n        switch (type) {\n            case 'atomname':\n                l = a.atomname;\n                break;\n            case 'atomindex':\n                l = `${a.index}`;\n                break;\n            case 'occupancy':\n                l = a.occupancy.toFixed(2);\n                break;\n            case 'bfactor':\n                l = a.bfactor.toFixed(2);\n                break;\n            case 'serial':\n                l = `${a.serial}`;\n                break;\n            case 'element':\n                l = a.element;\n                break;\n            case 'atom':\n                l = `${a.atomname}|${a.index}`;\n                break;\n            case 'resname':\n                l = a.resname;\n                break;\n            case 'resno':\n                l = `${a.resno}`;\n                break;\n            case 'res':\n                l = `${(AA1[a.resname.toUpperCase()] || a.resname)}${a.resno}`;\n                break;\n            case 'residue':\n                const aa1 = AA1[a.resname.toUpperCase()];\n                if (aa1 && !a.inscode) {\n                    l = `${aa1}${a.resno}`;\n                }\n                else {\n                    l = `[${a.resname}]${a.resno}${a.inscode}`;\n                }\n                break;\n            case 'text':\n                l = this.text[a.index];\n                break;\n            case 'format':\n                l = sprintf(this.format, a);\n                break;\n            // case \"qualified\":\n            default:\n                l = a.qualifiedName();\n                break;\n        }\n        return l === undefined ? '' : l;\n    }\n}\nLabelFactory.types = LabelFactoryTypes;\nexport default LabelFactory;\n//# sourceMappingURL=label-factory.js.map","/**\n * @file Label Representation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { RepresentationRegistry, ColormakerRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport LabelFactory from '../utils/label-factory';\nimport RadiusFactory from '../utils/radius-factory';\nimport StructureRepresentation from './structure-representation';\nimport TextBuffer from '../buffer/text-buffer';\n/**\n * Label representation\n */\nclass LabelRepresentation extends StructureRepresentation {\n    /**\n     * Create Label representation object\n     * @param {Structure} structure - the structure to be represented\n     * @param {Viewer} viewer - a viewer object\n     * @param {LabelRepresentationParameters} params - label representation parameters\n     */\n    constructor(structure, viewer, params) {\n        super(structure, viewer, params);\n        this.type = 'label';\n        this.parameters = Object.assign({\n            labelType: {\n                type: 'select', options: LabelFactory.types, rebuild: true\n            },\n            labelText: {\n                type: 'hidden', rebuild: true\n            },\n            labelFormat: {\n                type: 'text', rebuild: true\n            },\n            labelGrouping: {\n                type: 'select',\n                options: {\n                    'atom': 'atom',\n                    'residue': 'residue'\n                },\n                rebuild: true\n            },\n            fontFamily: {\n                type: 'select',\n                options: {\n                    'sans-serif': 'sans-serif',\n                    'monospace': 'monospace',\n                    'serif': 'serif'\n                },\n                buffer: true\n            },\n            fontStyle: {\n                type: 'select',\n                options: {\n                    'normal': 'normal',\n                    'italic': 'italic'\n                },\n                buffer: true\n            },\n            fontWeight: {\n                type: 'select',\n                options: {\n                    'normal': 'normal',\n                    'bold': 'bold'\n                },\n                buffer: true\n            },\n            xOffset: {\n                type: 'number', precision: 1, max: 20, min: -20, buffer: true\n            },\n            yOffset: {\n                type: 'number', precision: 1, max: 20, min: -20, buffer: true\n            },\n            zOffset: {\n                type: 'number', precision: 1, max: 20, min: -20, buffer: true\n            },\n            attachment: {\n                type: 'select',\n                options: {\n                    'bottom-left': 'bottom-left',\n                    'bottom-center': 'bottom-center',\n                    'bottom-right': 'bottom-right',\n                    'middle-left': 'middle-left',\n                    'middle-center': 'middle-center',\n                    'middle-right': 'middle-right',\n                    'top-left': 'top-left',\n                    'top-center': 'top-center',\n                    'top-right': 'top-right'\n                },\n                rebuild: true\n            },\n            showBorder: {\n                type: 'boolean', buffer: true\n            },\n            borderColor: {\n                type: 'color', buffer: true\n            },\n            borderWidth: {\n                type: 'number', precision: 2, max: 0.3, min: 0, buffer: true\n            },\n            showBackground: {\n                type: 'boolean', rebuild: true\n            },\n            backgroundColor: {\n                type: 'color', buffer: true\n            },\n            backgroundMargin: {\n                type: 'number', precision: 2, max: 2, min: 0, rebuild: true\n            },\n            backgroundOpacity: {\n                type: 'range', step: 0.01, max: 1, min: 0, buffer: true\n            },\n            fixedSize: {\n                type: 'boolean', buffer: true\n            }\n        }, this.parameters, {\n            side: null,\n            flatShaded: null,\n            wireframe: null,\n            linewidth: null,\n            roughness: null,\n            metalness: null,\n            diffuse: null\n        });\n        this.init(params);\n    }\n    init(params) {\n        const p = params || {};\n        this.labelType = defaults(p.labelType, 'res');\n        this.labelText = defaults(p.labelText, {});\n        this.labelFormat = defaults(p.labelFormat, '');\n        this.labelGrouping = defaults(p.labelGrouping, 'atom');\n        this.fontFamily = defaults(p.fontFamily, 'sans-serif');\n        this.fontStyle = defaults(p.fontStyle, 'normal');\n        this.fontWeight = defaults(p.fontWeight, 'bold');\n        this.xOffset = defaults(p.xOffset, 0.0);\n        this.yOffset = defaults(p.yOffset, 0.0);\n        this.zOffset = defaults(p.zOffset, 0.5);\n        this.attachment = defaults(p.attachment, 'bottom-left');\n        this.showBorder = defaults(p.showBorder, false);\n        this.borderColor = defaults(p.borderColor, 'lightgrey');\n        this.borderWidth = defaults(p.borderWidth, 0.15);\n        this.showBackground = defaults(p.showBackground, false);\n        this.backgroundColor = defaults(p.backgroundColor, 'lightgrey');\n        this.backgroundMargin = defaults(p.backgroundMargin, 0.5);\n        this.backgroundOpacity = defaults(p.backgroundOpacity, 1.0);\n        this.fixedSize = defaults(p.fixedSize, false);\n        super.init(p);\n    }\n    getTextData(sview, what) {\n        const p = this.getAtomParams(what);\n        const labelFactory = new LabelFactory(this.labelType, this.labelText, this.labelFormat);\n        let position, size, color, text, positionN, sizeN, colorN;\n        if (this.labelGrouping === 'atom') {\n            const atomData = sview.getAtomData(p);\n            position = atomData.position;\n            size = atomData.radius;\n            color = atomData.color;\n            if (!what || what.text) {\n                text = [];\n                sview.eachAtom(ap => text.push(labelFactory.atomLabel(ap)));\n            }\n        }\n        else if (this.labelGrouping === 'residue') {\n            if (!what || what.position)\n                positionN = [];\n            if (!what || what.color)\n                colorN = [];\n            if (!what || what.radius)\n                sizeN = [];\n            if (!what || what.text)\n                text = [];\n            if (p.colorParams)\n                p.colorParams.structure = sview.getStructure();\n            const colormaker = ColormakerRegistry.getScheme(p.colorParams);\n            const radiusFactory = new RadiusFactory(p.radiusParams);\n            const ap1 = sview.getAtomProxy();\n            let i = 0;\n            sview.eachResidue(rp => {\n                const i3 = i * 3;\n                if (rp.isProtein() || rp.isNucleic()) {\n                    ap1.index = rp.traceAtomIndex;\n                    if (!what || what.position) {\n                        ap1.positionToArray(positionN, i3);\n                    }\n                }\n                else {\n                    ap1.index = rp.atomOffset;\n                    if (!what || what.position) {\n                        rp.positionToArray(positionN, i3);\n                    }\n                }\n                if (!what || what.color) {\n                    colormaker.atomColorToArray(ap1, colorN, i3);\n                }\n                if (!what || what.radius) {\n                    sizeN[i] = radiusFactory.atomRadius(ap1);\n                }\n                if (!what || what.text) {\n                    text.push(labelFactory.atomLabel(ap1));\n                }\n                ++i;\n            });\n            if (!what || what.position)\n                position = new Float32Array(positionN);\n            if (!what || what.color)\n                color = new Float32Array(colorN);\n            if (!what || what.radius)\n                size = new Float32Array(sizeN);\n        }\n        return { position: position, size: size, color: color, text: text };\n    }\n    createData(sview) {\n        const what = { position: true, color: true, radius: true, text: true };\n        const textBuffer = new TextBuffer(this.getTextData(sview, what), this.getBufferParams({\n            fontFamily: this.fontFamily,\n            fontStyle: this.fontStyle,\n            fontWeight: this.fontWeight,\n            xOffset: this.xOffset,\n            yOffset: this.yOffset,\n            zOffset: this.zOffset,\n            attachment: this.attachment,\n            showBorder: this.showBorder,\n            borderColor: this.borderColor,\n            borderWidth: this.borderWidth,\n            showBackground: this.showBackground,\n            backgroundColor: this.backgroundColor,\n            backgroundMargin: this.backgroundMargin,\n            backgroundOpacity: this.backgroundOpacity,\n            fixedSize: this.fixedSize\n        }));\n        return { bufferList: [textBuffer] };\n    }\n    updateData(what, data) {\n        data.bufferList[0].setAttributes(this.getTextData(data.sview, what));\n    }\n    getAtomRadius() {\n        return 0;\n    }\n}\nRepresentationRegistry.add('label', LabelRepresentation);\nexport default LabelRepresentation;\n//# sourceMappingURL=label-representation.js.map","/**\n * @file Line Representation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { defaults } from '../utils';\nimport { RepresentationRegistry } from '../globals';\nimport StructureRepresentation from './structure-representation';\nimport WideLineBuffer from '../buffer/wideline-buffer';\nimport { AtomPicker } from '../utils/picker';\n/**\n * Determine which atoms in  a Structure[View] form no bonds to any other atoms\n * in that Structure.\n *\n * This differs from setting the selection to \"nonbonded\" as it finds atoms\n * that have no bonds within the current selection.\n * @param  {Structure} structure - The Structure or StructureView object\n * @return {AtomSet} AtomSet of lone atoms\n */\nfunction getLoneAtomSet(structure) {\n    const atomSet = structure.getAtomSet();\n    const bondSet = structure.getBondSet();\n    const bp = structure.getBondProxy();\n    bondSet.forEach(function (idx) {\n        bp.index = idx;\n        atomSet.clear(bp.atomIndex1);\n        atomSet.clear(bp.atomIndex2);\n    });\n    return atomSet;\n}\n/**\n * Line representation\n */\nclass LineRepresentation extends StructureRepresentation {\n    /**\n     * Create Line representation object\n     * @param {Structure} structure - the structure to be represented\n     * @param {Viewer} viewer - a viewer object\n     * @param {RepresentationParameters} params - representation parameters, plus the properties listed below\n     * @property {String} multipleBond - one off \"off\", \"symmetric\", \"offset\"\n     * @param {Float} params.bondSpacing - spacing for multiple bond rendering\n     * @param {Integer} params.linewidth - width of lines\n     * @param {Boolean} params.lines - render bonds as lines\n     * @param {String} params.crosses - render atoms as crosses: \"off\", \"all\" or \"lone\" (default)\n     * @param {Float} params.crossSize - size of cross\n     * @param {null} params.flatShaded - not available\n     * @param {null} params.side - not available\n     * @param {null} params.wireframe - not available\n     * @param {null} params.roughness - not available\n     * @param {null} params.metalness - not available\n     * @param {null} params.diffuse - not available\n     */\n    constructor(structure, viewer, params) {\n        super(structure, viewer, params);\n        this.type = 'line';\n        this.parameters = Object.assign({\n            multipleBond: {\n                type: 'select',\n                rebuild: true,\n                options: {\n                    'off': 'off',\n                    'symmetric': 'symmetric',\n                    'offset': 'offset'\n                }\n            },\n            bondSpacing: {\n                type: 'number', precision: 2, max: 2.0, min: 0.5\n            },\n            linewidth: {\n                type: 'integer', max: 50, min: 1, buffer: true\n            },\n            lines: {\n                type: 'boolean', rebuild: true\n            },\n            crosses: {\n                type: 'select',\n                rebuild: true,\n                options: {\n                    'off': 'off',\n                    'lone': 'lone',\n                    'all': 'all'\n                }\n            },\n            crossSize: {\n                type: 'number', precision: 2, max: 2.0, min: 0.1\n            }\n        }, this.parameters, {\n            flatShaded: null,\n            side: null,\n            wireframe: null,\n            roughness: null,\n            metalness: null\n        });\n        this.init(params);\n    }\n    init(params) {\n        var p = params || {};\n        this.multipleBond = defaults(p.multipleBond, 'off');\n        this.bondSpacing = defaults(p.bondSpacing, 1.0);\n        this.linewidth = defaults(p.linewidth, 2);\n        this.lines = defaults(p.lines, true);\n        this.crosses = defaults(p.crosses, 'lone');\n        this.crossSize = defaults(p.crossSize, 0.4);\n        super.init(p);\n    }\n    getAtomRadius(atom) {\n        return 0.1;\n    }\n    getBondParams(what, params) {\n        params = Object.assign({\n            multipleBond: this.multipleBond,\n            bondSpacing: this.bondSpacing,\n            radiusParams: { 'type': 'size', 'size': 0.1, 'scale': 1 }\n        }, params);\n        return super.getBondParams(what, params);\n    }\n    _crossData(what, sview) {\n        if (what) {\n            if (!what.position && !what.color)\n                return;\n        }\n        const p = {};\n        if (this.crosses === 'lone') {\n            Object.assign(p, { atomSet: getLoneAtomSet(sview) });\n        }\n        const atomData = sview.getAtomData(this.getAtomParams(what, p));\n        const crossData = {};\n        const position = atomData.position;\n        const color = atomData.color;\n        const picking = atomData.picking;\n        const size = (position || color).length;\n        const attrSize = size * 3;\n        let cPosition1 = new Float32Array(0);\n        let cPosition2 = new Float32Array(0);\n        let cColor = new Float32Array(0);\n        let cColor2 = new Float32Array(0);\n        let cOffset = 0;\n        let pickingArray = new Float32Array(0);\n        if (!what || what.position) {\n            cPosition1 = crossData.position1 = new Float32Array(attrSize);\n            cPosition2 = crossData.position2 = new Float32Array(attrSize);\n            cOffset = this.crossSize / 2;\n        }\n        if (!what || what.color) {\n            cColor = crossData.color = new Float32Array(attrSize);\n            cColor2 = crossData.color2 = new Float32Array(attrSize);\n        }\n        if (!what || what.picking) {\n            pickingArray = new Float32Array(atomData.picking.array.length * 3); // Needs padding??\n        }\n        for (let v = 0; v < size; v++) {\n            const j = v * 3;\n            const i = j * 3;\n            if (!what || what.position) {\n                const x = position[j];\n                const y = position[j + 1];\n                const z = position[j + 2];\n                cPosition1[i] = x - cOffset;\n                cPosition1[i + 1] = y;\n                cPosition1[i + 2] = z;\n                cPosition2[i] = x + cOffset;\n                cPosition2[i + 1] = y;\n                cPosition2[i + 2] = z;\n                cPosition1[i + 3] = x;\n                cPosition1[i + 4] = y - cOffset;\n                cPosition1[i + 5] = z;\n                cPosition2[i + 3] = x;\n                cPosition2[i + 4] = y + cOffset;\n                cPosition2[i + 5] = z;\n                cPosition1[i + 6] = x;\n                cPosition1[i + 7] = y;\n                cPosition1[i + 8] = z - cOffset;\n                cPosition2[i + 6] = x;\n                cPosition2[i + 7] = y;\n                cPosition2[i + 8] = z + cOffset;\n            }\n            if (!what || what.color) {\n                const cimax = i + 9;\n                for (let ci = i; ci < cimax; ci += 3) {\n                    cColor[ci] = cColor2[ci] = color[j];\n                    cColor[ci + 1] = cColor2[ci + 1] = color[j + 1];\n                    cColor[ci + 2] = cColor2[ci + 2] = color[j + 2];\n                }\n            }\n            if (!what || what.picking) {\n                pickingArray[j] =\n                    pickingArray[j + 1] =\n                        pickingArray[j + 2] = picking.array[v];\n            }\n        }\n        if (!what || what.picking) {\n            crossData.picking = new AtomPicker(pickingArray, picking.structure);\n        }\n        return crossData;\n    }\n    createData(sview) {\n        const what = { position: true, color: true, picking: true };\n        const bufferList = [];\n        if (this.lines) {\n            const bondData = sview.getBondData(this.getBondParams(what));\n            const lineBuffer = new WideLineBuffer(bondData, this.getBufferParams({ linewidth: this.linewidth }));\n            bufferList.push(lineBuffer);\n        }\n        if (this.crosses !== 'off') {\n            const crossBuffer = new WideLineBuffer(this._crossData(what, sview), this.getBufferParams({ linewidth: this.linewidth }));\n            bufferList.push(crossBuffer);\n        }\n        return {\n            bufferList: bufferList\n        };\n    }\n    updateData(what, data) {\n        let bufferIdx = 0;\n        if (this.lines) {\n            const bondData = data.sview.getBondData(this.getBondParams(what));\n            const lineAttributes = {};\n            if (!what || what.position) {\n                Object.assign(lineAttributes, {\n                    position1: bondData.position1,\n                    position2: bondData.position2\n                });\n            }\n            if (!what || what.color) {\n                Object.assign(lineAttributes, {\n                    color: bondData.color,\n                    color2: bondData.color2\n                });\n            }\n            data.bufferList[bufferIdx++].setAttributes(lineAttributes);\n        }\n        if (this.crosses !== 'off') {\n            const crossData = this._crossData(what, data.sview);\n            const crossAttributes = {};\n            if (!what || what.position) {\n                Object.assign(crossAttributes, {\n                    position1: crossData.position1,\n                    position2: crossData.position2\n                });\n            }\n            if (!what || what.color) {\n                Object.assign(crossAttributes, {\n                    color: crossData.color,\n                    color2: crossData.color2\n                });\n            }\n            data.bufferList[bufferIdx++].setAttributes(crossAttributes);\n        }\n    }\n    setParameters(params) {\n        var rebuild = false;\n        var what = {};\n        if (params && (params.bondSpacing || params.crossSize)) {\n            Object.assign(what, { position: true });\n        }\n        super.setParameters(params, what, rebuild);\n        return this;\n    }\n}\nRepresentationRegistry.add('line', LineRepresentation);\nexport default LineRepresentation;\n//# sourceMappingURL=line-representation.js.map","function makeGrid(length, width, height, DataCtor, elemSize) {\n    DataCtor = DataCtor || Int32Array;\n    elemSize = elemSize || 1;\n    const data = new DataCtor(length * width * height * elemSize);\n    function index(x, y, z) {\n        return ((((x * width) + y) * height) + z) * elemSize;\n    }\n    function set(x, y, z, ...args) {\n        const i = index(x, y, z);\n        for (let j = 0; j < elemSize; ++j) {\n            data[i + j] = args[j];\n        }\n    }\n    function toArray(x, y, z, array = [], offset = 0) {\n        const i = index(x, y, z);\n        for (let j = 0; j < elemSize; ++j) {\n            array[offset + j] = data[i + j];\n        }\n    }\n    function fromArray(x, y, z, array, offset = 0) {\n        const i = index(x, y, z);\n        for (let j = 0; j < elemSize; ++j) {\n            data[i + j] = array[offset + j];\n        }\n    }\n    function copy(grid) {\n        data.set(grid.data);\n    }\n    // function clone() {\n    //   return makeGrid(\n    //     length, width, height, DataCtor, elemSize\n    //   ).copy(this)\n    // }\n    return { data, index, set, toArray, fromArray, copy };\n}\nexport { makeGrid };\n//# sourceMappingURL=grid.js.map","/**\n * @file EDT Surface\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { VolumeSurface } from './volume';\nimport { makeGrid } from '../geometry/grid';\nimport { computeBoundingBox } from '../math/vector-utils';\nimport { getRadiusDict, getSurfaceGrid } from './surface-utils';\nfunction EDTSurface(coordList, radiusList, indexList) {\n    // based on D. Xu, Y. Zhang (2009) Generating Triangulated Macromolecular\n    // Surfaces by Euclidean Distance Transform. PLoS ONE 4(12): e8140.\n    //\n    // Permission to use, copy, modify, and distribute this program for\n    // any purpose, with or without fee, is hereby granted, provided that\n    // the notices on the head, the reference information, and this\n    // copyright notice appear in all copies or substantial portions of\n    // the Software. It is provided \"as is\" without express or implied\n    // warranty.\n    //\n    // ported to JavaScript by biochem_fan (http://webglmol.sourceforge.jp/)\n    // refactored by dkoes (https://github.com/dkoes)\n    //\n    // adapted to NGL by Alexander Rose\n    var radiusDict = getRadiusDict(radiusList);\n    var bbox = computeBoundingBox(coordList);\n    if (coordList.length === 0) {\n        bbox[0].set([0, 0, 0]);\n        bbox[1].set([0, 0, 0]);\n    }\n    var min = bbox[0];\n    var max = bbox[1];\n    var probeRadius, scaleFactor, cutoff;\n    var pLength, pWidth, pHeight;\n    var matrix, ptran;\n    var depty, widxz;\n    var cutRadius;\n    var setAtomID;\n    var vpBits, vpDistance, vpAtomID;\n    function init(btype, _probeRadius, _scaleFactor, _cutoff, _setAtomID) {\n        probeRadius = _probeRadius || 1.4;\n        scaleFactor = _scaleFactor || 2.0;\n        setAtomID = _setAtomID || true;\n        var maxRadius = 0;\n        for (var radius in radiusDict) {\n            maxRadius = Math.max(maxRadius, radius);\n        }\n        var grid = getSurfaceGrid(min, max, maxRadius, scaleFactor, btype ? probeRadius : 0);\n        pLength = grid.dim[0];\n        pWidth = grid.dim[1];\n        pHeight = grid.dim[2];\n        matrix = grid.matrix;\n        ptran = grid.tran;\n        scaleFactor = grid.scaleFactor;\n        // boundingatom caches\n        depty = {};\n        widxz = {};\n        boundingatom(btype);\n        cutRadius = probeRadius * scaleFactor;\n        if (_cutoff) {\n            cutoff = _cutoff;\n        }\n        else {\n            // cutoff = Math.max( 0.1, -1.2 + scaleFactor * probeRadius );\n            cutoff = probeRadius / scaleFactor;\n        }\n        vpBits = new Uint8Array(pLength * pWidth * pHeight);\n        if (btype) {\n            vpDistance = new Float64Array(pLength * pWidth * pHeight);\n        }\n        if (setAtomID) {\n            vpAtomID = new Int32Array(pLength * pWidth * pHeight);\n        }\n    }\n    // constants for vpBits bitmasks\n    var INOUT = 1;\n    var ISDONE = 2;\n    var ISBOUND = 4;\n    var nb = [\n        new Int32Array([1, 0, 0]), new Int32Array([-1, 0, 0]),\n        new Int32Array([0, 1, 0]), new Int32Array([0, -1, 0]),\n        new Int32Array([0, 0, 1]), new Int32Array([0, 0, -1]),\n        new Int32Array([1, 1, 0]), new Int32Array([1, -1, 0]),\n        new Int32Array([-1, 1, 0]), new Int32Array([-1, -1, 0]),\n        new Int32Array([1, 0, 1]), new Int32Array([1, 0, -1]),\n        new Int32Array([-1, 0, 1]), new Int32Array([-1, 0, -1]),\n        new Int32Array([0, 1, 1]), new Int32Array([0, 1, -1]),\n        new Int32Array([0, -1, 1]), new Int32Array([0, -1, -1]),\n        new Int32Array([1, 1, 1]), new Int32Array([1, 1, -1]),\n        new Int32Array([1, -1, 1]), new Int32Array([-1, 1, 1]),\n        new Int32Array([1, -1, -1]), new Int32Array([-1, -1, 1]),\n        new Int32Array([-1, 1, -1]), new Int32Array([-1, -1, -1])\n    ];\n    //\n    this.getVolume = function (type, probeRadius, scaleFactor, cutoff, setAtomID) {\n        console.time('EDTSurface.getVolume');\n        var btype = type !== 'vws';\n        init(btype, probeRadius, scaleFactor, cutoff, setAtomID);\n        fillvoxels(btype);\n        buildboundary();\n        if (type === 'ms' || type === 'ses') {\n            fastdistancemap();\n        }\n        if (type === 'ses') {\n            boundingatom(false);\n            fillvoxelswaals();\n        }\n        marchingcubeinit(type);\n        // set atomindex in the volume data\n        for (var i = 0, il = vpAtomID.length; i < il; ++i) {\n            vpAtomID[i] = indexList[vpAtomID[i]];\n        }\n        console.timeEnd('EDTSurface.getVolume');\n        return {\n            data: vpBits,\n            nx: pHeight,\n            ny: pWidth,\n            nz: pLength,\n            atomindex: vpAtomID\n        };\n    };\n    this.getSurface = function (type, probeRadius, scaleFactor, cutoff, setAtomID, smooth, contour) {\n        var vd = this.getVolume(type, probeRadius, scaleFactor, cutoff, setAtomID);\n        var volsurf = new VolumeSurface(vd.data, vd.nx, vd.ny, vd.nz, vd.atomindex);\n        return volsurf.getSurface(1, smooth, undefined, matrix, contour);\n    };\n    function boundingatom(btype) {\n        var r;\n        var j;\n        var k;\n        var txz;\n        var tdept;\n        var sradius;\n        var tradius;\n        var widxzR;\n        var deptyName;\n        var indx;\n        for (var name in radiusDict) {\n            r = parseFloat(name);\n            if (depty[name])\n                continue;\n            if (!btype) {\n                tradius = r * scaleFactor + 0.5;\n            }\n            else {\n                tradius = (r + probeRadius) * scaleFactor + 0.5;\n            }\n            sradius = tradius * tradius;\n            widxzR = Math.floor(tradius) + 1;\n            deptyName = new Int32Array(widxzR * widxzR);\n            indx = 0;\n            for (j = 0; j < widxzR; ++j) {\n                for (k = 0; k < widxzR; ++k) {\n                    txz = j * j + k * k;\n                    if (txz > sradius) {\n                        deptyName[indx] = -1;\n                    }\n                    else {\n                        tdept = Math.sqrt(sradius - txz);\n                        deptyName[indx] = Math.floor(tdept);\n                    }\n                    ++indx;\n                }\n            }\n            widxz[name] = widxzR;\n            depty[name] = deptyName;\n        }\n    }\n    function fillatom(idx) {\n        var ci = idx * 3;\n        var ri = idx;\n        var cx, cy, cz, ox, oy, oz, mi, mj, mk, i, j, k, si, sj, sk;\n        var ii, jj, kk;\n        cx = Math.floor(0.5 + scaleFactor * (coordList[ci] + ptran[0]));\n        cy = Math.floor(0.5 + scaleFactor * (coordList[ci + 1] + ptran[1]));\n        cz = Math.floor(0.5 + scaleFactor * (coordList[ci + 2] + ptran[2]));\n        var at = radiusList[ri];\n        var deptyAt = depty[at];\n        var nind = 0;\n        var pWH = pWidth * pHeight;\n        var n = widxz[at];\n        var deptyAtNind;\n        for (i = 0; i < n; ++i) {\n            for (j = 0; j < n; ++j) {\n                deptyAtNind = deptyAt[nind];\n                if (deptyAtNind !== -1) {\n                    for (ii = -1; ii < 2; ++ii) {\n                        for (jj = -1; jj < 2; ++jj) {\n                            for (kk = -1; kk < 2; ++kk) {\n                                if (ii !== 0 && jj !== 0 && kk !== 0) {\n                                    mi = ii * i;\n                                    mk = kk * j;\n                                    for (k = 0; k <= deptyAtNind; ++k) {\n                                        mj = k * jj;\n                                        si = cx + mi;\n                                        sj = cy + mj;\n                                        sk = cz + mk;\n                                        if (si < 0 || sj < 0 || sk < 0 ||\n                                            si >= pLength || sj >= pWidth || sk >= pHeight) {\n                                            continue;\n                                        }\n                                        var index = si * pWH + sj * pHeight + sk;\n                                        if (!setAtomID) {\n                                            vpBits[index] |= INOUT;\n                                        }\n                                        else {\n                                            if (!(vpBits[index] & INOUT)) {\n                                                vpBits[index] |= INOUT;\n                                                vpAtomID[index] = idx;\n                                            }\n                                            else if (vpBits[index] & INOUT) {\n                                                var ci2 = vpAtomID[index];\n                                                if (ci2 !== ci) {\n                                                    ox = cx + mi - Math.floor(0.5 + scaleFactor * (coordList[ci2] + ptran[0]));\n                                                    oy = cy + mj - Math.floor(0.5 + scaleFactor * (coordList[ci2 + 1] + ptran[1]));\n                                                    oz = cz + mk - Math.floor(0.5 + scaleFactor * (coordList[ci2 + 2] + ptran[2]));\n                                                    if (mi * mi + mj * mj + mk * mk < ox * ox + oy * oy + oz * oz) {\n                                                        vpAtomID[index] = idx;\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    } // k\n                                } // if\n                            } // kk\n                        } // jj\n                    } // ii\n                } // if\n                nind++;\n            } // j\n        } // i\n    }\n    function fillvoxels(btype) {\n        console.time('EDTSurface fillvoxels');\n        var i, il;\n        for (i = 0, il = vpBits.length; i < il; ++i) {\n            vpBits[i] = 0;\n            if (btype)\n                vpDistance[i] = -1.0;\n            if (setAtomID)\n                vpAtomID[i] = -1;\n        }\n        for (i = 0, il = coordList.length / 3; i < il; ++i) {\n            fillatom(i);\n        }\n        for (i = 0, il = vpBits.length; i < il; ++i) {\n            if (vpBits[i] & INOUT) {\n                vpBits[i] |= ISDONE;\n            }\n        }\n        console.timeEnd('EDTSurface fillvoxels');\n    }\n    function fillAtomWaals(idx) {\n        var ci = idx * 3;\n        var ri = idx;\n        var cx;\n        var cy;\n        var cz;\n        var ox;\n        var oy;\n        var oz;\n        var nind = 0;\n        var mi;\n        var mj;\n        var mk;\n        var si;\n        var sj;\n        var sk;\n        var i;\n        var j;\n        var k;\n        var ii;\n        var jj;\n        var kk;\n        var n;\n        cx = Math.floor(0.5 + scaleFactor * (coordList[ci] + ptran[0]));\n        cy = Math.floor(0.5 + scaleFactor * (coordList[ci + 1] + ptran[1]));\n        cz = Math.floor(0.5 + scaleFactor * (coordList[ci + 2] + ptran[2]));\n        var at = radiusList[ri];\n        var pWH = pWidth * pHeight;\n        for (i = 0, n = widxz[at]; i < n; ++i) {\n            for (j = 0; j < n; ++j) {\n                if (depty[at][nind] !== -1) {\n                    for (ii = -1; ii < 2; ++ii) {\n                        for (jj = -1; jj < 2; ++jj) {\n                            for (kk = -1; kk < 2; ++kk) {\n                                if (ii !== 0 && jj !== 0 && kk !== 0) {\n                                    mi = ii * i;\n                                    mk = kk * j;\n                                    for (k = 0; k <= depty[at][nind]; ++k) {\n                                        mj = k * jj;\n                                        si = cx + mi;\n                                        sj = cy + mj;\n                                        sk = cz + mk;\n                                        if (si < 0 || sj < 0 || sk < 0 ||\n                                            si >= pLength || sj >= pWidth || sk >= pHeight) {\n                                            continue;\n                                        }\n                                        var index = si * pWH + sj * pHeight + sk;\n                                        if (!(vpBits[index] & ISDONE)) {\n                                            vpBits[index] |= ISDONE;\n                                            if (setAtomID)\n                                                vpAtomID[index] = idx;\n                                        }\n                                        else if (setAtomID) {\n                                            var ci2 = vpAtomID[index];\n                                            ox = Math.floor(0.5 + scaleFactor * (coordList[ci2] + ptran[0]));\n                                            oy = Math.floor(0.5 + scaleFactor * (coordList[ci2 + 1] + ptran[1]));\n                                            oz = Math.floor(0.5 + scaleFactor * (coordList[ci2 + 2] + ptran[2]));\n                                            if (mi * mi + mj * mj + mk * mk < ox * ox + oy * oy + oz * oz) {\n                                                vpAtomID[index] = idx;\n                                            }\n                                        }\n                                    } // k\n                                } // if\n                            } // kk\n                        } // jj\n                    } // ii\n                } // if\n                nind++;\n            } // j\n        } // i\n    }\n    function fillvoxelswaals() {\n        var i, il;\n        for (i = 0, il = vpBits.length; i < il; ++i) {\n            vpBits[i] &= ~ISDONE; // not isdone\n        }\n        for (i = 0, il = coordList.length / 3; i < il; ++i) {\n            fillAtomWaals(i);\n        }\n    }\n    function buildboundary() {\n        var i, j, k;\n        var pWH = pWidth * pHeight;\n        for (i = 0; i < pLength; ++i) {\n            for (j = 0; j < pHeight; ++j) {\n                for (k = 0; k < pWidth; ++k) {\n                    var index = i * pWH + k * pHeight + j;\n                    if (vpBits[index] & INOUT) {\n                        // var flagbound = false;\n                        var ii = 0;\n                        // while( !flagbound && ii < 26 ){\n                        while (ii < 26) {\n                            var ti = i + nb[ii][0];\n                            var tj = j + nb[ii][2];\n                            var tk = k + nb[ii][1];\n                            if (ti > -1 && ti < pLength &&\n                                tk > -1 && tk < pWidth &&\n                                tj > -1 && tj < pHeight &&\n                                !(vpBits[ti * pWH + tk * pHeight + tj] & INOUT)) {\n                                vpBits[index] |= ISBOUND;\n                                // flagbound = true;\n                                break;\n                            }\n                            else {\n                                ii++;\n                            }\n                        }\n                    }\n                } // k\n            } // j\n        } // i\n    }\n    function fastdistancemap() {\n        console.time('EDTSurface fastdistancemap');\n        var i, j, k, n;\n        var boundPoint = makeGrid(pLength, pWidth, pHeight, Uint16Array, 3);\n        var pWH = pWidth * pHeight;\n        var cutRSq = cutRadius * cutRadius;\n        var totalsurfacevox = 0;\n        // var totalinnervox = 0;\n        var index;\n        for (i = 0; i < pLength; ++i) {\n            for (j = 0; j < pWidth; ++j) {\n                for (k = 0; k < pHeight; ++k) {\n                    index = i * pWH + j * pHeight + k;\n                    vpBits[index] &= ~ISDONE;\n                    if (vpBits[index] & INOUT) {\n                        if (vpBits[index] & ISBOUND) {\n                            boundPoint.set(i, j, k, i, j, k);\n                            vpDistance[index] = 0;\n                            vpBits[index] |= ISDONE;\n                            totalsurfacevox += 1;\n                        } /* else{\n                            totalinnervox += 1;\n                        } */\n                    }\n                }\n            }\n        }\n        var inarray = new Int32Array(3 * totalsurfacevox);\n        var positin = 0;\n        var outarray = new Int32Array(3 * totalsurfacevox);\n        var positout = 0;\n        for (i = 0; i < pLength; ++i) {\n            for (j = 0; j < pWidth; ++j) {\n                for (k = 0; k < pHeight; ++k) {\n                    index = i * pWH + j * pHeight + k;\n                    if (vpBits[index] & ISBOUND) {\n                        inarray[positin] = i;\n                        inarray[positin + 1] = j;\n                        inarray[positin + 2] = k;\n                        positin += 3;\n                        vpBits[index] &= ~ISBOUND;\n                    }\n                }\n            }\n        }\n        do {\n            positout = fastoneshell(inarray, boundPoint, positin, outarray);\n            positin = 0;\n            for (i = 0, n = positout; i < n; i += 3) {\n                index = pWH * outarray[i] + pHeight * outarray[i + 1] + outarray[i + 2];\n                vpBits[index] &= ~ISBOUND;\n                if (vpDistance[index] <= 1.0404 * cutRSq) {\n                    // if( vpDistance[ index ] <= 1.02 * cutRadius ){\n                    inarray[positin] = outarray[i];\n                    inarray[positin + 1] = outarray[i + 1];\n                    inarray[positin + 2] = outarray[i + 2];\n                    positin += 3;\n                }\n            }\n        } while (positin > 0);\n        // var cutsf = Math.max( 0, scaleFactor - 0.5 );\n        // cutoff = cutRadius - 0.5 / ( 0.1 + cutsf );\n        var cutoffSq = cutoff * cutoff;\n        var index2;\n        var bp = new Uint16Array(3);\n        for (i = 0; i < pLength; ++i) {\n            for (j = 0; j < pWidth; ++j) {\n                for (k = 0; k < pHeight; ++k) {\n                    index = i * pWH + j * pHeight + k;\n                    vpBits[index] &= ~ISBOUND;\n                    // ses solid\n                    if (vpBits[index] & INOUT) {\n                        if (!(vpBits[index] & ISDONE) ||\n                            ((vpBits[index] & ISDONE) && vpDistance[index] >= cutoffSq)) {\n                            vpBits[index] |= ISBOUND;\n                            if (setAtomID && (vpBits[index] & ISDONE)) {\n                                boundPoint.toArray(i, j, k, bp);\n                                index2 = bp[0] * pWH + bp[1] * pHeight + bp[2];\n                                vpAtomID[index] = vpAtomID[index2];\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        console.timeEnd('EDTSurface fastdistancemap');\n    }\n    function fastoneshell(inarray, boundPoint, positin, outarray) {\n        // *allocout,voxel2\n        // ***boundPoint, int*\n        // outnum, int *elimi)\n        var tx, ty, tz;\n        var dx, dy, dz;\n        var i, j, n;\n        var square;\n        var index;\n        var nbj;\n        var bp = new Uint16Array(3);\n        var positout = 0;\n        if (positin === 0) {\n            return positout;\n        }\n        var tnvix = -1;\n        var tnviy = -1;\n        var tnviz = -1;\n        var pWH = pWidth * pHeight;\n        for (i = 0, n = positin; i < n; i += 3) {\n            tx = inarray[i];\n            ty = inarray[i + 1];\n            tz = inarray[i + 2];\n            boundPoint.toArray(tx, ty, tz, bp);\n            for (j = 0; j < 6; ++j) {\n                nbj = nb[j];\n                tnvix = tx + nbj[0];\n                tnviy = ty + nbj[1];\n                tnviz = tz + nbj[2];\n                if (tnvix < pLength && tnvix > -1 &&\n                    tnviy < pWidth && tnviy > -1 &&\n                    tnviz < pHeight && tnviz > -1) {\n                    index = tnvix * pWH + pHeight * tnviy + tnviz;\n                    if ((vpBits[index] & INOUT) && !(vpBits[index] & ISDONE)) {\n                        boundPoint.fromArray(tnvix, tnviy, tnviz, bp);\n                        dx = tnvix - bp[0];\n                        dy = tnviy - bp[1];\n                        dz = tnviz - bp[2];\n                        square = dx * dx + dy * dy + dz * dz;\n                        // square = Math.sqrt( square );\n                        vpDistance[index] = square;\n                        vpBits[index] |= ISDONE;\n                        vpBits[index] |= ISBOUND;\n                        outarray[positout] = tnvix;\n                        outarray[positout + 1] = tnviy;\n                        outarray[positout + 2] = tnviz;\n                        positout += 3;\n                    }\n                    else if ((vpBits[index] & INOUT) && (vpBits[index] & ISDONE)) {\n                        dx = tnvix - bp[0];\n                        dy = tnviy - bp[1];\n                        dz = tnviz - bp[2];\n                        square = dx * dx + dy * dy + dz * dz;\n                        // square = Math.sqrt( square );\n                        if (square < vpDistance[index]) {\n                            boundPoint.fromArray(tnvix, tnviy, tnviz, bp);\n                            vpDistance[index] = square;\n                            if (!(vpBits[index] & ISBOUND)) {\n                                vpBits[index] |= ISBOUND;\n                                outarray[positout] = tnvix;\n                                outarray[positout + 1] = tnviy;\n                                outarray[positout + 2] = tnviz;\n                                positout += 3;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        for (i = 0, n = positin; i < n; i += 3) {\n            tx = inarray[i];\n            ty = inarray[i + 1];\n            tz = inarray[i + 2];\n            boundPoint.toArray(tx, ty, tz, bp);\n            for (j = 6; j < 18; j++) {\n                nbj = nb[j];\n                tnvix = tx + nbj[0];\n                tnviy = ty + nbj[1];\n                tnviz = tz + nbj[2];\n                if (tnvix < pLength && tnvix > -1 &&\n                    tnviy < pWidth && tnviy > -1 &&\n                    tnviz < pHeight && tnviz > -1) {\n                    index = tnvix * pWH + pHeight * tnviy + tnviz;\n                    if ((vpBits[index] & INOUT) && !(vpBits[index] & ISDONE)) {\n                        boundPoint.fromArray(tnvix, tnviy, tnviz, bp);\n                        dx = tnvix - bp[0];\n                        dy = tnviy - bp[1];\n                        dz = tnviz - bp[2];\n                        square = dx * dx + dy * dy + dz * dz;\n                        // square = Math.sqrt( square );\n                        vpDistance[index] = square;\n                        vpBits[index] |= ISDONE;\n                        vpBits[index] |= ISBOUND;\n                        outarray[positout] = tnvix;\n                        outarray[positout + 1] = tnviy;\n                        outarray[positout + 2] = tnviz;\n                        positout += 3;\n                    }\n                    else if ((vpBits[index] & INOUT) && (vpBits[index] & ISDONE)) {\n                        dx = tnvix - bp[0];\n                        dy = tnviy - bp[1];\n                        dz = tnviz - bp[2];\n                        square = dx * dx + dy * dy + dz * dz;\n                        // square = Math.sqrt( square );\n                        if (square < vpDistance[index]) {\n                            boundPoint.fromArray(tnvix, tnviy, tnviz, bp);\n                            vpDistance[index] = square;\n                            if (!(vpBits[index] & ISBOUND)) {\n                                vpBits[index] |= ISBOUND;\n                                outarray[positout] = tnvix;\n                                outarray[positout + 1] = tnviy;\n                                outarray[positout + 2] = tnviz;\n                                positout += 3;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        for (i = 0, n = positin; i < n; i += 3) {\n            tx = inarray[i];\n            ty = inarray[i + 1];\n            tz = inarray[i + 2];\n            boundPoint.toArray(tx, ty, tz, bp);\n            for (j = 18; j < 26; j++) {\n                nbj = nb[j];\n                tnvix = tx + nbj[0];\n                tnviy = ty + nbj[1];\n                tnviz = tz + nbj[2];\n                if (tnvix < pLength && tnvix > -1 &&\n                    tnviy < pWidth && tnviy > -1 &&\n                    tnviz < pHeight && tnviz > -1) {\n                    index = tnvix * pWH + pHeight * tnviy + tnviz;\n                    if ((vpBits[index] & INOUT) && !(vpBits[index] & ISDONE)) {\n                        boundPoint.fromArray(tnvix, tnviy, tnviz, bp);\n                        dx = tnvix - bp[0];\n                        dy = tnviy - bp[1];\n                        dz = tnviz - bp[2];\n                        square = dx * dx + dy * dy + dz * dz;\n                        // square = Math.sqrt( square );\n                        vpDistance[index] = square;\n                        vpBits[index] |= ISDONE;\n                        vpBits[index] |= ISBOUND;\n                        outarray[positout] = tnvix;\n                        outarray[positout + 1] = tnviy;\n                        outarray[positout + 2] = tnviz;\n                        positout += 3;\n                    }\n                    else if ((vpBits[index] & INOUT) && (vpBits[index] & ISDONE)) {\n                        dx = tnvix - bp[0];\n                        dy = tnviy - bp[1];\n                        dz = tnviz - bp[2];\n                        square = dx * dx + dy * dy + dz * dz;\n                        // square = Math.sqrt( square );\n                        if (square < vpDistance[index]) {\n                            boundPoint.fromArray(tnvix, tnviy, tnviz, bp);\n                            vpDistance[index] = square;\n                            if (!(vpBits[index] & ISBOUND)) {\n                                vpBits[index] |= ISBOUND;\n                                outarray[positout] = tnvix;\n                                outarray[positout + 1] = tnviy;\n                                outarray[positout + 2] = tnviz;\n                                positout += 3;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return positout;\n    }\n    function marchingcubeinit(stype) {\n        var i;\n        var n = vpBits.length;\n        if (stype === 'vws') {\n            for (i = 0; i < n; ++i) {\n                vpBits[i] &= ~ISBOUND;\n                vpBits[i] = (vpBits[i] & ISDONE) ? 1 : 0;\n            }\n        }\n        else if (stype === 'ms') { // ses without vdw => ms\n            for (i = 0; i < n; ++i) {\n                vpBits[i] &= ~ISDONE;\n                if (vpBits[i] & ISBOUND) {\n                    vpBits[i] |= ISDONE;\n                }\n                vpBits[i] &= ~ISBOUND;\n                vpBits[i] = (vpBits[i] & ISDONE) ? 1 : 0;\n            }\n        }\n        else if (stype === 'ses') {\n            for (i = 0; i < n; ++i) {\n                if ((vpBits[i] & ISBOUND) && (vpBits[i] & ISDONE)) {\n                    vpBits[i] &= ~ISBOUND;\n                }\n                else if ((vpBits[i] & ISBOUND) && !(vpBits[i] & ISDONE)) {\n                    vpBits[i] |= ISDONE;\n                }\n                vpBits[i] = (vpBits[i] & ISDONE) ? 1 : 0;\n            }\n        }\n        else if (stype === 'sas') {\n            for (i = 0; i < n; ++i) {\n                vpBits[i] &= ~ISBOUND;\n                vpBits[i] = (vpBits[i] & ISDONE) ? 1 : 0;\n            }\n        }\n    }\n}\nObject.assign(EDTSurface, { __deps: [\n        getSurfaceGrid, getRadiusDict, VolumeSurface, computeBoundingBox, makeGrid\n    ] });\nexport default EDTSurface;\n//# sourceMappingURL=edt-surface.js.map","/**\n * @file AV Surface\n * @author Fred Ludlow <fred.ludlow@gmail.com>\n * @private\n */\nimport { getSurfaceGrid } from './surface-utils';\nimport { VolumeSurface } from './volume';\nimport { uniformArray } from '../math/array-utils';\nimport { computeBoundingBox, v3multiplyScalar, v3cross, v3normalize } from '../math/vector-utils';\nimport { defaults } from '../utils';\nfunction makeAVHash(atomsX, atomsY, atomsZ, atomsR, min, max, maxDistance) {\n    maxDistance = Math.max(0.1, maxDistance); // Avoid maxDistance of zero, see #802\n    var nAtoms = atomsX.length;\n    var minX = min[0];\n    var minY = min[1];\n    var minZ = min[2];\n    var maxX = max[0];\n    var maxY = max[1];\n    var maxZ = max[2];\n    function hashFunc(w, minW) {\n        return Math.floor((w - minW) / maxDistance);\n    }\n    var iDim = hashFunc(maxX, minX) + 1;\n    var jDim = hashFunc(maxY, minY) + 1;\n    var kDim = hashFunc(maxZ, minZ) + 1;\n    var nCells = iDim * jDim * kDim;\n    var jkDim = jDim * kDim;\n    /* Get cellID for cartesian x,y,z */\n    var cellID = function (x, y, z) {\n        return (((hashFunc(x, minX) * jDim) + hashFunc(y, minY)) * kDim) + hashFunc(z, minZ);\n    };\n    /* Initial building, could probably be optimized further */\n    var preHash = []; // preHash[ cellID ] = [ atomId1, atomId2 ];\n    for (var i = 0; i < nAtoms; i++) {\n        var cid = cellID(atomsX[i], atomsY[i], atomsZ[i]);\n        if (preHash[cid] === undefined) {\n            preHash[cid] = [i];\n        }\n        else {\n            preHash[cid].push(i);\n        }\n    }\n    var cellOffsets = new Uint32Array(nCells);\n    var cellLengths = new Uint16Array(nCells);\n    var data = new Uint32Array(nAtoms);\n    var offset = 0;\n    var maxCellLength = 0;\n    for (i = 0; i < nCells; i++) {\n        var start = cellOffsets[i] = offset;\n        var subArray = preHash[i];\n        if (subArray !== undefined) {\n            for (var j = 0; j < subArray.length; j++) {\n                data[offset] = subArray[j];\n                offset++;\n            }\n        }\n        var cellLength = offset - start;\n        cellLengths[i] = cellLength;\n        if (cellLength > maxCellLength) {\n            maxCellLength = cellLength;\n        }\n    }\n    // Maximum number of neighbours we could ever produce (27 adjacent cells of equal population)\n    const neighbourListLength = (27 * maxCellLength) + 1;\n    /**\n     * Populate the supplied out array with atom indices that are within rAtom + rExtra\n     * of x,y,z\n     *\n     * -1 in out array indicates the end of the list\n     *\n     * @param  {Float} x - x coordinate\n     * @param  {Float} y - y coordinate\n     * @param  {Float} z - z coordinate\n     * @param  {Float} rExtra - additional radius\n     * @param  {Float32Array} out - pre-allocated output array\n     * @return {undefined}\n     */\n    const withinRadii = function (x, y, z, rExtra, out) {\n        var outIdx = 0;\n        var nearI = hashFunc(x, minX);\n        var nearJ = hashFunc(y, minY);\n        var nearK = hashFunc(z, minZ);\n        var loI = Math.max(0, nearI - 1);\n        var loJ = Math.max(0, nearJ - 1);\n        var loK = Math.max(0, nearK - 1);\n        var hiI = Math.min(iDim, nearI + 2);\n        var hiJ = Math.min(jDim, nearJ + 2);\n        var hiK = Math.min(kDim, nearK + 2);\n        for (var i = loI; i < hiI; ++i) {\n            var iOffset = i * jkDim;\n            for (var j = loJ; j < hiJ; ++j) {\n                var jOffset = j * kDim;\n                for (var k = loK; k < hiK; ++k) {\n                    var cid = iOffset + jOffset + k;\n                    var cellStart = cellOffsets[cid];\n                    var cellEnd = cellStart + cellLengths[cid];\n                    for (var dataIndex = cellStart; dataIndex < cellEnd; dataIndex++) {\n                        var atomIndex = data[dataIndex];\n                        var dx = atomsX[atomIndex] - x;\n                        var dy = atomsY[atomIndex] - y;\n                        var dz = atomsZ[atomIndex] - z;\n                        var rSum = atomsR[atomIndex] + rExtra;\n                        if ((dx * dx + dy * dy + dz * dz) <= (rSum * rSum)) {\n                            out[outIdx++] = data[dataIndex];\n                        }\n                    }\n                }\n            }\n        }\n        // Add terminator\n        out[outIdx] = -1;\n    };\n    return {\n        neighbourListLength: neighbourListLength,\n        withinRadii: withinRadii\n    };\n}\nfunction AVSurface(coordList, radiusList, indexList) {\n    // Field generation method adapted from AstexViewer (Mike Hartshorn)\n    // by Fred Ludlow.\n    // Other parts based heavily on NGL (Alexander Rose) EDT Surface class\n    //\n    // Should work as a drop-in alternative to EDTSurface (though some of\n    // the EDT paramters are not relevant in this method).\n    const nAtoms = radiusList.length;\n    const x = new Float32Array(nAtoms);\n    const y = new Float32Array(nAtoms);\n    const z = new Float32Array(nAtoms);\n    for (let i = 0; i < nAtoms; i++) {\n        const ci = 3 * i;\n        x[i] = coordList[ci];\n        y[i] = coordList[ci + 1];\n        z[i] = coordList[ci + 2];\n    }\n    let bbox = computeBoundingBox(coordList);\n    if (coordList.length === 0) {\n        bbox[0].set([0, 0, 0]);\n        bbox[1].set([0, 0, 0]);\n    }\n    const min = bbox[0];\n    const max = bbox[1];\n    let r, r2; // Atom positions, expanded radii (squared)\n    let maxRadius;\n    // Parameters\n    let probeRadius, scaleFactor, setAtomID, probePositions;\n    // Cache last value for obscured test\n    let lastClip = -1;\n    // Grid params\n    let dim, matrix, grid, atomIndex;\n    // grid indices -> xyz coords\n    let gridx, gridy, gridz;\n    // Lookup tables:\n    let sinTable, cosTable;\n    // Spatial Hash\n    let hash;\n    // Neighbour array to be filled by hash\n    let neighbours;\n    // Vectors for Torus Projection\n    const atob = new Float32Array([0.0, 0.0, 0.0]);\n    const mid = new Float32Array([0.0, 0.0, 0.0]);\n    const n1 = new Float32Array([0.0, 0.0, 0.0]);\n    const n2 = new Float32Array([0.0, 0.0, 0.0]);\n    let ngTorus;\n    function init(_probeRadius, _scaleFactor, _setAtomID, _probePositions) {\n        probeRadius = defaults(_probeRadius, 1.4);\n        scaleFactor = defaults(_scaleFactor, 2.0);\n        setAtomID = defaults(_setAtomID, true);\n        probePositions = defaults(_probePositions, 30);\n        r = new Float32Array(nAtoms);\n        r2 = new Float32Array(nAtoms);\n        for (let i = 0; i < r.length; ++i) {\n            var rExt = radiusList[i] + probeRadius;\n            r[i] = rExt;\n            r2[i] = rExt * rExt;\n        }\n        maxRadius = 0;\n        for (let j = 0; j < r.length; ++j) {\n            if (r[j] > maxRadius)\n                maxRadius = r[j];\n        }\n        initializeGrid();\n        initializeAngleTables();\n        initializeHash();\n        lastClip = -1;\n    }\n    function fillGridDim(a, start, step) {\n        for (let i = 0; i < a.length; i++) {\n            a[i] = start + (step * i);\n        }\n    }\n    function initializeGrid() {\n        const surfGrid = getSurfaceGrid(min, max, maxRadius, scaleFactor, 0.0);\n        scaleFactor = surfGrid.scaleFactor;\n        dim = surfGrid.dim;\n        matrix = surfGrid.matrix;\n        ngTorus = Math.max(5, 2 + Math.floor(probeRadius * scaleFactor));\n        grid = uniformArray(dim[0] * dim[1] * dim[2], -1001.0);\n        atomIndex = new Int32Array(grid.length);\n        gridx = new Float32Array(dim[0]);\n        gridy = new Float32Array(dim[1]);\n        gridz = new Float32Array(dim[2]);\n        fillGridDim(gridx, min[0], 1 / scaleFactor);\n        fillGridDim(gridy, min[1], 1 / scaleFactor);\n        fillGridDim(gridz, min[2], 1 / scaleFactor);\n    }\n    function initializeAngleTables() {\n        var theta = 0.0;\n        var step = 2 * Math.PI / probePositions;\n        cosTable = new Float32Array(probePositions);\n        sinTable = new Float32Array(probePositions);\n        for (var i = 0; i < probePositions; i++) {\n            cosTable[i] = Math.cos(theta);\n            sinTable[i] = Math.sin(theta);\n            theta += step;\n        }\n    }\n    function initializeHash() {\n        hash = makeAVHash(x, y, z, r, min, max, 2.01 * maxRadius);\n        neighbours = new Int32Array(hash.neighbourListLength);\n    }\n    function obscured(x, y, z, a, b) {\n        // Is the point at x,y,z obscured by any of the atoms\n        // specifeid by indices in neighbours. Ignore indices\n        // a and b (these are the relevant atoms in projectPoints/Torii)\n        // Cache the last clipped atom (as very often the same one in\n        // subsequent calls)\n        let ai;\n        if (lastClip !== -1) {\n            ai = lastClip;\n            if (ai !== a && ai !== b && singleAtomObscures(ai, x, y, z)) {\n                return ai;\n            }\n            else {\n                lastClip = -1;\n            }\n        }\n        var ni = 0;\n        ai = neighbours[ni];\n        while (ai >= 0) {\n            if (ai !== a && ai !== b && singleAtomObscures(ai, x, y, z)) {\n                lastClip = ai;\n                return ai;\n            }\n            ai = neighbours[++ni];\n        }\n        lastClip = -1;\n        return -1;\n    }\n    function singleAtomObscures(ai, x, y, z) {\n        var ci = 3 * ai;\n        var ra2 = r2[ai];\n        var dx = coordList[ci] - x;\n        var dy = coordList[ci + 1] - y;\n        var dz = coordList[ci + 2] - z;\n        var d2 = dx * dx + dy * dy + dz * dz;\n        return d2 < ra2;\n    }\n    function projectPoints() {\n        // For each atom:\n        //     Iterate over a subsection of the grid, for each point:\n        //         If current value < 0.0, unvisited, set positive\n        //\n        //         In any case: Project this point onto surface of the atomic sphere\n        //         If this projected point is not obscured by any other atom\n        //             Calcualte delta distance and set grid value to minimum of\n        //             itself and delta\n        // Should we alias frequently accessed closure variables??\n        // Assume JS engine capable of optimizing this\n        // anyway...\n        for (var i = 0; i < nAtoms; i++) {\n            var ax = x[i];\n            var ay = y[i];\n            var az = z[i];\n            var ar = r[i];\n            var ar2 = r2[i];\n            hash.withinRadii(ax, ay, az, ar, neighbours);\n            // Number of grid points, round this up...\n            var ng = Math.ceil(ar * scaleFactor);\n            // Center of the atom, mapped to grid points (take floor)\n            var iax = Math.floor(scaleFactor * (ax - min[0]));\n            var iay = Math.floor(scaleFactor * (ay - min[1]));\n            var iaz = Math.floor(scaleFactor * (az - min[2]));\n            // Extents of grid to consider for this atom\n            var minx = Math.max(0, iax - ng);\n            var miny = Math.max(0, iay - ng);\n            var minz = Math.max(0, iaz - ng);\n            // Add two to these points:\n            // - iax are floor'd values so this ensures coverage\n            // - these are loop limits (exclusive)\n            var maxx = Math.min(dim[0], iax + ng + 2);\n            var maxy = Math.min(dim[1], iay + ng + 2);\n            var maxz = Math.min(dim[2], iaz + ng + 2);\n            for (var ix = minx; ix < maxx; ix++) {\n                var dx = gridx[ix] - ax;\n                var xoffset = dim[1] * dim[2] * ix;\n                for (var iy = miny; iy < maxy; iy++) {\n                    var dy = gridy[iy] - ay;\n                    var dxy2 = dx * dx + dy * dy;\n                    var xyoffset = xoffset + dim[2] * iy;\n                    for (var iz = minz; iz < maxz; iz++) {\n                        var dz = gridz[iz] - az;\n                        var d2 = dxy2 + dz * dz;\n                        if (d2 < ar2) {\n                            var idx = iz + xyoffset;\n                            if (grid[idx] < 0.0) {\n                                // Unvisited, make positive\n                                grid[idx] = -grid[idx];\n                            }\n                            // Project on to the surface of the sphere\n                            // sp is the projected point ( dx, dy, dz ) * ( ra / d )\n                            var d = Math.sqrt(d2);\n                            var ap = ar / d;\n                            var spx = dx * ap;\n                            var spy = dy * ap;\n                            var spz = dz * ap;\n                            spx += ax;\n                            spy += ay;\n                            spz += az;\n                            if (obscured(spx, spy, spz, i, -1) === -1) {\n                                var dd = ar - d;\n                                if (dd < grid[idx]) {\n                                    grid[idx] = dd;\n                                    if (setAtomID)\n                                        atomIndex[idx] = i;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n    function projectTorii() {\n        for (var i = 0; i < nAtoms; i++) {\n            hash.withinRadii(x[i], y[i], z[i], r[i], neighbours);\n            var ia = 0;\n            var ni = neighbours[ia];\n            while (ni >= 0) {\n                if (i < ni) {\n                    projectTorus(i, ni);\n                }\n                ni = neighbours[++ia];\n            }\n        }\n    }\n    function projectTorus(a, b) {\n        var r1 = r[a];\n        var r2 = r[b];\n        var dx = atob[0] = x[b] - x[a];\n        var dy = atob[1] = y[b] - y[a];\n        var dz = atob[2] = z[b] - z[a];\n        var d2 = dx * dx + dy * dy + dz * dz;\n        // This check now redundant as already done in AVHash.withinRadii\n        // if( d2 > (( r1 + r2 ) * ( r1 + r2 )) ){ return; }\n        var d = Math.sqrt(d2);\n        // Find angle between a->b vector and the circle\n        // of their intersection by cosine rule\n        var cosA = (r1 * r1 + d * d - r2 * r2) / (2.0 * r1 * d);\n        // distance along a->b at intersection\n        var dmp = r1 * cosA;\n        v3normalize(atob, atob);\n        // Create normal to line\n        normalToLine(n1, atob);\n        v3normalize(n1, n1);\n        // Cross together for second normal vector\n        v3cross(n2, atob, n1);\n        v3normalize(n2, n2);\n        // r is radius of circle of intersection\n        var rInt = Math.sqrt(r1 * r1 - dmp * dmp);\n        v3multiplyScalar(n1, n1, rInt);\n        v3multiplyScalar(n2, n2, rInt);\n        v3multiplyScalar(atob, atob, dmp);\n        mid[0] = atob[0] + x[a];\n        mid[1] = atob[1] + y[a];\n        mid[2] = atob[2] + z[a];\n        lastClip = -1;\n        var ng = ngTorus;\n        for (var i = 0; i < probePositions; i++) {\n            var cost = cosTable[i];\n            var sint = sinTable[i];\n            var px = mid[0] + cost * n1[0] + sint * n2[0];\n            var py = mid[1] + cost * n1[1] + sint * n2[1];\n            var pz = mid[2] + cost * n1[2] + sint * n2[2];\n            if (obscured(px, py, pz, a, b) === -1) {\n                // As above, iterate over our grid...\n                // px, py, pz in grid coords\n                var iax = Math.floor(scaleFactor * (px - min[0]));\n                var iay = Math.floor(scaleFactor * (py - min[1]));\n                var iaz = Math.floor(scaleFactor * (pz - min[2]));\n                var minx = Math.max(0, iax - ng);\n                var miny = Math.max(0, iay - ng);\n                var minz = Math.max(0, iaz - ng);\n                var maxx = Math.min(dim[0], iax + ng + 2);\n                var maxy = Math.min(dim[1], iay + ng + 2);\n                var maxz = Math.min(dim[2], iaz + ng + 2);\n                for (var ix = minx; ix < maxx; ix++) {\n                    dx = px - gridx[ix];\n                    var xoffset = dim[1] * dim[2] * ix;\n                    for (var iy = miny; iy < maxy; iy++) {\n                        dy = py - gridy[iy];\n                        var dxy2 = dx * dx + dy * dy;\n                        var xyoffset = xoffset + dim[2] * iy;\n                        for (var iz = minz; iz < maxz; iz++) {\n                            dz = pz - gridz[iz];\n                            d2 = dxy2 + dz * dz;\n                            var idx = iz + xyoffset;\n                            var current = grid[idx];\n                            if (current > 0.0 && d2 < (current * current)) {\n                                grid[idx] = Math.sqrt(d2);\n                                if (setAtomID) {\n                                    // Is this grid point closer to a or b?\n                                    // Take dot product of atob and gridpoint->p (dx, dy, dz)\n                                    const dp = dx * atob[0] + dy * atob[1] + dz * atob[2];\n                                    atomIndex[idx] = dp < 0.0 ? b : a;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n    function normalToLine(out, p) {\n        out[0] = out[1] = out[2] = 1.0;\n        if (p[0] !== 0) {\n            out[0] = (p[1] + p[2]) / -p[0];\n        }\n        else if (p[1] !== 0) {\n            out[1] = (p[0] + p[2]) / -p[1];\n        }\n        else if (p[2] !== 0) {\n            out[2] = (p[0] + p[1]) / -p[2];\n        }\n        return out;\n    }\n    function fixNegatives() {\n        for (var i = 0; i < grid.length; i++) {\n            if (grid[i] < 0)\n                grid[i] = 0;\n        }\n    }\n    function fixAtomIDs() {\n        for (var i = 0; i < atomIndex.length; i++) {\n            atomIndex[i] = indexList[atomIndex[i]];\n        }\n    }\n    function getVolume(probeRadius, scaleFactor, setAtomID) {\n        // Basic steps are:\n        // 1) Initialize\n        // 2) Project points\n        // 3) Project torii\n        console.time('AVSurface.getVolume');\n        console.time('AVSurface.init');\n        init(probeRadius, scaleFactor, setAtomID);\n        console.timeEnd('AVSurface.init');\n        console.time('AVSurface.projectPoints');\n        projectPoints();\n        console.timeEnd('AVSurface.projectPoints');\n        console.time('AVSurface.projectTorii');\n        projectTorii();\n        console.timeEnd('AVSurface.projectTorii');\n        fixNegatives();\n        fixAtomIDs();\n        console.timeEnd('AVSurface.getVolume');\n    }\n    this.getSurface = function (type, probeRadius, scaleFactor, cutoff, setAtomID, smooth, contour) {\n        // type and cutoff left in for compatibility with EDTSurface.getSurface\n        // function signature\n        getVolume(probeRadius, scaleFactor, setAtomID);\n        var volsurf = new VolumeSurface(grid, dim[2], dim[1], dim[0], atomIndex);\n        return volsurf.getSurface(probeRadius, false, undefined, matrix, contour);\n    };\n}\nObject.assign(AVSurface, { __deps: [\n        getSurfaceGrid, VolumeSurface, uniformArray, computeBoundingBox,\n        v3multiplyScalar, v3cross, v3normalize,\n        makeAVHash,\n        defaults\n    ] });\nexport { AVSurface, makeAVHash };\n//# sourceMappingURL=av-surface.js.map","/**\n * @file Molecular Surface\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { WorkerRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport Worker from '../worker/worker';\nimport EDTSurface from './edt-surface';\nimport { AVSurface } from './av-surface';\nimport Surface from './surface';\nWorkerRegistry.add('molsurf', function func(e, callback) {\n    const a = e.data.args;\n    const p = e.data.params;\n    if (a && p) {\n        const SurfClass = (p.type === 'av') ? AVSurface : EDTSurface;\n        const surf = new SurfClass(a.coordList, a.radiusList, a.indexList);\n        const sd = surf.getSurface(p.type, p.probeRadius, p.scaleFactor, p.cutoff, true, p.smooth, p.contour);\n        const transferList = [sd.position.buffer, sd.index.buffer];\n        if (sd.normal)\n            transferList.push(sd.normal.buffer);\n        if (sd.atomindex)\n            transferList.push(sd.atomindex.buffer);\n        const data = {\n            sd: sd,\n            p: p\n        };\n        callback(data, transferList);\n    }\n}, [EDTSurface, AVSurface]);\n/**\n * Create Molecular surfaces\n */\nclass MolecularSurface {\n    constructor(structure) {\n        this.structure = structure;\n    }\n    _getAtomData(params) {\n        return this.structure.getAtomData({\n            what: { position: true, radius: true, index: true },\n            radiusParams: defaults(params.radiusParams, {\n                type: 'vdw', scale: 1.0\n            })\n        });\n    }\n    _makeSurface(sd, p) {\n        var surface = new Surface(p.name, '', sd);\n        surface.info.type = p.type;\n        surface.info.probeRadius = p.probeRadius;\n        surface.info.scaleFactor = p.scaleFactor;\n        surface.info.smooth = p.smooth;\n        surface.info.cutoff = p.cutoff;\n        return surface;\n    }\n    /**\n     * Get molecular surface\n     * @param {MolecularSurfaceParameters} params - parameters for surface creation\n     * @return {Surface} the surface\n     */\n    getSurface(params) {\n        const p = params || {};\n        const atomData = this._getAtomData(params);\n        const coordList = atomData.position;\n        const radiusList = atomData.radius;\n        const indexList = atomData.index;\n        const SurfClass = (p.type === 'av') ? AVSurface : EDTSurface;\n        const surf = new SurfClass(coordList, radiusList, indexList);\n        const sd = surf.getSurface(p.type, p.probeRadius, p.scaleFactor, p.cutoff, true, p.smooth, p.contour);\n        return this._makeSurface(sd, p);\n    }\n    /**\n     * Get molecular surface asynchronous\n     * @param {MolecularSurfaceParameters} params - parameters for surface creation\n     * @param {function(surface: Surface)} callback - function to be called after surface is created\n     * @return {undefined}\n     */\n    getSurfaceWorker(params, callback) {\n        const p = Object.assign({}, params);\n        if (window.hasOwnProperty('Worker')) {\n            if (this.worker === undefined) {\n                this.worker = new Worker('molsurf');\n            }\n            const atomData = this._getAtomData(params);\n            const coordList = atomData.position;\n            const radiusList = atomData.radius;\n            const indexList = atomData.index;\n            const msg = {\n                args: {\n                    coordList: coordList,\n                    radiusList: radiusList,\n                    indexList: indexList\n                },\n                params: p\n            };\n            const transferList = [\n                coordList.buffer, radiusList.buffer, indexList.buffer\n            ];\n            this.worker.post(msg, transferList, (e) => {\n                callback(this._makeSurface(e.data.sd, p));\n            }, (e) => {\n                console.warn('MolecularSurface.getSurfaceWorker error - trying without worker', e);\n                this.worker.terminate();\n                this.worker = undefined;\n                const surface = this.getSurface(p);\n                callback(surface);\n            });\n        }\n        else {\n            const surface = this.getSurface(p);\n            callback(surface);\n        }\n    }\n    /**\n     * Cleanup\n     * @return {undefined}\n     */\n    dispose() {\n        if (this.worker)\n            this.worker.terminate();\n    }\n}\nexport default MolecularSurface;\n//# sourceMappingURL=molecular-surface.js.map","/**\n * @file Molecular Surface Representation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { RepresentationRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport StructureRepresentation from './structure-representation';\nimport MolecularSurface from '../surface/molecular-surface';\nimport SurfaceBuffer from '../buffer/surface-buffer';\nimport ContourBuffer from '../buffer/contour-buffer';\nimport DoubleSidedBuffer from '../buffer/doublesided-buffer';\nimport Selection from '../selection/selection';\n// @ts-ignore: unused import Volume required for declaration only\nimport { Vector3 } from '../ngl';\n/**\n * Molecular Surface Representation\n */\nclass MolecularSurfaceRepresentation extends StructureRepresentation {\n    constructor(structure, viewer, params) {\n        super(structure, viewer, params);\n        this.type = 'surface';\n        this.parameters = Object.assign({\n            surfaceType: {\n                type: 'select',\n                rebuild: true,\n                options: {\n                    'vws': 'vws',\n                    'sas': 'sas',\n                    'ms': 'ms',\n                    'ses': 'ses',\n                    'av': 'av'\n                }\n            },\n            probeRadius: {\n                type: 'number',\n                precision: 1,\n                max: 20,\n                min: 0,\n                rebuild: true\n            },\n            smooth: {\n                type: 'integer',\n                precision: 1,\n                max: 10,\n                min: 0,\n                rebuild: true\n            },\n            scaleFactor: {\n                type: 'number',\n                precision: 1,\n                max: 5,\n                min: 0,\n                rebuild: true\n            },\n            cutoff: {\n                type: 'number',\n                precision: 2,\n                max: 50,\n                min: 0,\n                rebuild: true\n            },\n            contour: {\n                type: 'boolean', rebuild: true\n            },\n            background: {\n                type: 'boolean', rebuild: true // FIXME\n            },\n            opaqueBack: {\n                type: 'boolean', buffer: true\n            },\n            filterSele: {\n                type: 'text', rebuild: true\n            },\n            colorVolume: {\n                type: 'hidden'\n            },\n            useWorker: {\n                type: 'boolean', rebuild: true\n            }\n        }, this.parameters, {\n            radius: null,\n            scale: null\n        });\n        this.__infoList = [];\n        // TODO find a more direct way\n        this.structure.signals.refreshed.add(() => {\n            this.__forceNewMolsurf = true;\n        });\n        this.toBePrepared = true;\n        this.init(params);\n    }\n    init(params) {\n        const p = params || {};\n        p.colorScheme = defaults(p.colorScheme, 'uniform');\n        p.colorValue = defaults(p.colorValue, 0xDDDDDD);\n        p.disablePicking = defaults(p.disablePicking, true);\n        this.surfaceType = defaults(p.surfaceType, 'ms');\n        this.probeRadius = defaults(p.probeRadius, 1.4);\n        this.smooth = defaults(p.smooth, 2);\n        this.scaleFactor = defaults(p.scaleFactor, 2.0);\n        this.cutoff = defaults(p.cutoff, 0.0);\n        this.contour = defaults(p.contour, false);\n        this.background = defaults(p.background, false);\n        this.opaqueBack = defaults(p.opaqueBack, true);\n        this.filterSele = defaults(p.filterSele, '');\n        this.colorVolume = defaults(p.colorVolume, undefined);\n        this.useWorker = defaults(p.useWorker, true);\n        super.init(params);\n    }\n    prepareData(sview, i, callback) {\n        let info = this.__infoList[i];\n        if (!info) {\n            info = {};\n            this.__infoList[i] = info;\n        }\n        if (!info.molsurf || info.sele !== sview.selection.string) {\n            if (this.filterSele) {\n                const sviewFilter = sview.structure.getView(new Selection(this.filterSele));\n                const bbSize = sviewFilter.boundingBox.getSize(new Vector3());\n                const maxDim = Math.max(bbSize.x, bbSize.y, bbSize.z);\n                const asWithin = sview.getAtomSetWithinPoint(sviewFilter.center, (maxDim / 2) + 6.0);\n                sview = sview.getView(new Selection(sview.getAtomSetWithinSelection(asWithin, 3).toSeleString()));\n                if (sview.atomCount === 0) {\n                    callback(i);\n                    return;\n                }\n            }\n            info.sele = sview.selection.string;\n            info.molsurf = new MolecularSurface(sview);\n            const p = this.getSurfaceParams();\n            const onSurfaceFinish = (surface) => {\n                info.surface = surface;\n                callback(i);\n            };\n            if (this.useWorker) {\n                info.molsurf.getSurfaceWorker(p, onSurfaceFinish);\n            }\n            else {\n                onSurfaceFinish(info.molsurf.getSurface(p));\n            }\n        }\n        else {\n            callback(i);\n        }\n    }\n    prepare(callback) {\n        if (this.__forceNewMolsurf || this.__sele !== this.selection.string ||\n            this.__surfaceParams !== JSON.stringify(this.getSurfaceParams())) {\n            this.__infoList.forEach((info) => {\n                if (info && info.molsurf) {\n                    info.molsurf.dispose();\n                }\n            });\n            this.__infoList.length = 0;\n        }\n        if (this.structureView.atomCount === 0) {\n            callback();\n            return;\n        }\n        const after = () => {\n            this.__sele = this.selection.string;\n            this.__surfaceParams = JSON.stringify(this.getSurfaceParams());\n            this.__forceNewMolsurf = false;\n            callback();\n        };\n        const name = this.assembly === 'default' ? this.defaultAssembly : this.assembly;\n        const assembly = this.structure.biomolDict[name];\n        if (assembly) {\n            assembly.partList.forEach((part, i) => {\n                const sview = part.getView(this.structureView);\n                this.prepareData(sview, i, (_i) => {\n                    if (_i === assembly.partList.length - 1)\n                        after();\n                });\n            });\n        }\n        else {\n            this.prepareData(this.structureView, 0, after);\n        }\n    }\n    createData(sview, i) {\n        const info = this.__infoList[i];\n        const surface = info.surface;\n        if (!surface) {\n            // Surface creation bailed (no surface generated for this sview)\n            return;\n        }\n        const surfaceData = {\n            position: surface.getPosition(),\n            color: surface.getColor(this.getColorParams()),\n            index: surface.getFilteredIndex(this.filterSele, sview)\n        };\n        const bufferList = [];\n        if (surface.contour) {\n            const contourBuffer = new ContourBuffer(surfaceData, this.getBufferParams({\n                wireframe: false\n            }));\n            bufferList.push(contourBuffer);\n        }\n        else {\n            Object.assign(surfaceData, {\n                normal: surface.getNormal(),\n                picking: surface.getPicking(sview.getStructure())\n            });\n            const surfaceBuffer = new SurfaceBuffer(surfaceData, this.getBufferParams({\n                background: this.background,\n                opaqueBack: this.opaqueBack,\n                dullInterior: false\n            }));\n            if (this.getBufferParams().side == 'double') {\n                const doubleSidedBuffer = new DoubleSidedBuffer(surfaceBuffer);\n                bufferList.push(doubleSidedBuffer);\n            }\n            else {\n                bufferList.push(surfaceBuffer);\n            }\n        }\n        return { bufferList, info };\n    }\n    updateData(what, data) {\n        const surfaceData = {};\n        if (what.position || what.radius) {\n            this.__forceNewMolsurf = true;\n            this.build();\n            return;\n        }\n        if (what.color) {\n            surfaceData.color = data.info.surface.getColor(this.getColorParams());\n        }\n        if (what.index) {\n            surfaceData.index = data.info.surface.getFilteredIndex(this.filterSele, data.sview);\n        }\n        data.bufferList[0].setAttributes(surfaceData);\n    }\n    setParameters(params, what = {}, rebuild) {\n        if (params && params.filterSele) {\n            what.index = true;\n        }\n        if (params && params.colorVolume !== undefined) {\n            what.color = true;\n        }\n        // forbid setting wireframe to true when contour is true\n        if (params && params.wireframe && (params.contour || (params.contour === undefined && this.contour))) {\n            params.wireframe = false;\n        }\n        super.setParameters(params, what, rebuild);\n        return this;\n    }\n    getSurfaceParams(params = {}) {\n        const p = Object.assign({\n            type: this.surfaceType,\n            probeRadius: this.probeRadius,\n            scaleFactor: this.scaleFactor,\n            smooth: this.smooth && !this.contour,\n            cutoff: this.cutoff,\n            contour: this.contour,\n            useWorker: this.useWorker,\n            radiusParams: this.getRadiusParams()\n        }, params);\n        return p;\n    }\n    getColorParams() {\n        const p = super.getColorParams();\n        p.volume = this.colorVolume;\n        return p;\n    }\n    getAtomRadius() {\n        return 0;\n    }\n    clear() {\n        super.clear();\n    }\n    dispose() {\n        this.__infoList.forEach((info) => {\n            if (info && info.molsurf) {\n                info.molsurf.dispose();\n            }\n        });\n        this.__infoList.length = 0;\n        super.dispose();\n    }\n}\nRepresentationRegistry.add('surface', MolecularSurfaceRepresentation);\nexport default MolecularSurfaceRepresentation;\n//# sourceMappingURL=molecularsurface-representation.js.map","/**\n * @file Point Representation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { RepresentationRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport StructureRepresentation from './structure-representation';\nimport PointBuffer from '../buffer/point-buffer';\n/**\n * Point Representation\n */\nclass PointRepresentation extends StructureRepresentation {\n    constructor(structure, viewer, params) {\n        super(structure, viewer, params);\n        this.type = 'point';\n        this.parameters = Object.assign({\n            pointSize: {\n                type: 'number', precision: 1, max: 100, min: 0, buffer: true\n            },\n            sizeAttenuation: {\n                type: 'boolean', buffer: true\n            },\n            sortParticles: {\n                type: 'boolean', rebuild: true\n            },\n            useTexture: {\n                type: 'boolean', buffer: true\n            },\n            alphaTest: {\n                type: 'range', step: 0.001, max: 1, min: 0, buffer: true\n            },\n            forceTransparent: {\n                type: 'boolean', buffer: true\n            },\n            edgeBleach: {\n                type: 'range', step: 0.001, max: 1, min: 0, buffer: true\n            }\n        }, this.parameters, {\n            flatShaded: null,\n            wireframe: null,\n            linewidth: null,\n            side: null,\n            roughness: null,\n            metalness: null\n        });\n        this.init(params);\n    }\n    init(params) {\n        var p = params || {};\n        this.pointSize = defaults(p.pointSize, 1);\n        this.sizeAttenuation = defaults(p.sizeAttenuation, true);\n        this.sortParticles = defaults(p.sortParticles, false);\n        this.useTexture = defaults(p.useTexture, false);\n        this.alphaTest = defaults(p.alphaTest, 0.5);\n        this.forceTransparent = defaults(p.forceTransparent, false);\n        this.edgeBleach = defaults(p.edgeBleach, 0.0);\n        super.init(p);\n    }\n    createData(sview) {\n        var what = { position: true, color: true, picking: true };\n        var atomData = sview.getAtomData(this.getAtomParams(what));\n        var pointBuffer = new PointBuffer(atomData, this.getBufferParams({\n            pointSize: this.pointSize,\n            sizeAttenuation: this.sizeAttenuation,\n            sortParticles: this.sortParticles,\n            useTexture: this.useTexture,\n            alphaTest: this.alphaTest,\n            forceTransparent: this.forceTransparent,\n            edgeBleach: this.edgeBleach\n        }));\n        return {\n            bufferList: [pointBuffer]\n        };\n    }\n    updateData(what, data) {\n        var atomData = data.sview.getAtomData(this.getAtomParams(what));\n        var pointData = {};\n        if (!what || what.position) {\n            Object.assign(pointData, { position: atomData.position });\n        }\n        if (!what || what.color) {\n            Object.assign(pointData, { color: atomData.color });\n        }\n        data.bufferList[0].setAttributes(pointData);\n    }\n    getAtomRadius() {\n        return 0.1;\n    }\n}\nRepresentationRegistry.add('point', PointRepresentation);\nexport default PointRepresentation;\n//# sourceMappingURL=point-representation.js.map","/**\n * @file Ribbon Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport '../shader/Ribbon.vert';\nimport { getUintArray } from '../utils';\nimport { serialArray } from '../math/array-utils';\nimport MeshBuffer from './mesh-buffer';\nimport { Log } from \"../globals\";\nconst quadIndices = new Uint16Array([\n    0, 1, 2,\n    1, 3, 2\n]);\nfunction getSize(data) {\n    const n = (data.position.length / 3) - 1;\n    const n4 = n * 4;\n    const x = n4 * 3;\n    return x;\n}\n/**\n * Ribbon buffer. Draws a thin ribbon.\n */\nclass RibbonBuffer extends MeshBuffer {\n    /**\n     * @param  {Object} data - attribute object\n     * @param  {Float32Array} data.position - positions\n     * @param  {Float32Array} data.normal - normals\n     * @param  {Float32Array} data.dir - binormals\n     * @param  {Float32Array} data.color - colors\n     * @param  {Float32Array} data.size - sizes\n     * @param  {Picker} data.picking - picking ids\n     * @param  {BufferParameters} params - parameter object\n     */\n    constructor(data, params = {}) {\n        super({\n            position: new Float32Array(getSize(data)),\n            color: new Float32Array(getSize(data)),\n            index: getUintArray(getSize(data), getSize(data) / 3),\n            normal: new Float32Array(getSize(data)),\n            picking: data.picking\n        }, params);\n        this.vertexShader = 'Ribbon.vert';\n        const n = (data.position.length / 3) - 1;\n        const n4 = n * 4;\n        const x = n4 * 3;\n        this.addAttributes({\n            'dir': { type: 'v3', value: new Float32Array(x) }\n        });\n        this.addAttributes({\n            'size': { type: 'f', value: new Float32Array(n4) }\n        });\n        data.primitiveId = serialArray(n);\n        this.setAttributes(data);\n        this.makeIndex();\n    }\n    setAttributes(data = {}) {\n        const n4 = this.size;\n        const n = n4 / 4;\n        const attributes = this.geometry.attributes; // TODO\n        let position, normal, size, dir, color, primitiveId;\n        let aPosition, aNormal, aSize, aDir, aColor, aPrimitiveId;\n        if (data.position) {\n            position = data.position;\n            aPosition = attributes.position.array;\n            attributes.position.needsUpdate = true;\n        }\n        if (data.normal) {\n            normal = data.normal;\n            aNormal = attributes.normal.array;\n            attributes.normal.needsUpdate = true;\n        }\n        if (data.size) {\n            size = data.size;\n            aSize = attributes.size.array;\n            attributes.size.needsUpdate = true;\n        }\n        if (data.dir) {\n            dir = data.dir;\n            aDir = attributes.dir.array;\n            attributes.dir.needsUpdate = true;\n        }\n        if (data.color) {\n            color = data.color;\n            aColor = attributes.color.array;\n            attributes.color.needsUpdate = true;\n        }\n        if (data.primitiveId) {\n            primitiveId = data.primitiveId;\n            aPrimitiveId = attributes.primitiveId.array;\n            attributes.primitiveId.needsUpdate = true;\n        }\n        let v, i, k, p, l, v3;\n        let currSize;\n        let prevSize = size ? size[0] : null;\n        for (v = 0; v < n; ++v) {\n            v3 = v * 3;\n            k = v * 3 * 4;\n            l = v * 4;\n            if (position) {\n                aPosition[k] = aPosition[k + 3] = position[v3];\n                aPosition[k + 1] = aPosition[k + 4] = position[v3 + 1];\n                aPosition[k + 2] = aPosition[k + 5] = position[v3 + 2];\n                aPosition[k + 6] = aPosition[k + 9] = position[v3 + 3];\n                aPosition[k + 7] = aPosition[k + 10] = position[v3 + 4];\n                aPosition[k + 8] = aPosition[k + 11] = position[v3 + 5];\n            }\n            if (normal) {\n                aNormal[k] = aNormal[k + 3] = -normal[v3];\n                aNormal[k + 1] = aNormal[k + 4] = -normal[v3 + 1];\n                aNormal[k + 2] = aNormal[k + 5] = -normal[v3 + 2];\n                aNormal[k + 6] = aNormal[k + 9] = -normal[v3 + 3];\n                aNormal[k + 7] = aNormal[k + 10] = -normal[v3 + 4];\n                aNormal[k + 8] = aNormal[k + 11] = -normal[v3 + 5];\n            }\n            for (i = 0; i < 4; ++i) {\n                p = k + 3 * i;\n                if (color) {\n                    aColor[p] = color[v3];\n                    aColor[p + 1] = color[v3 + 1];\n                    aColor[p + 2] = color[v3 + 2];\n                }\n                if (primitiveId) {\n                    aPrimitiveId[l + i] = primitiveId[v];\n                }\n            }\n            if (size) {\n                currSize = size[v];\n                if (prevSize !== size[v]) {\n                    aSize[l] = prevSize;\n                    aSize[l + 1] = prevSize;\n                    aSize[l + 2] = currSize;\n                    aSize[l + 3] = currSize;\n                }\n                else {\n                    aSize[l] = currSize;\n                    aSize[l + 1] = currSize;\n                    aSize[l + 2] = currSize;\n                    aSize[l + 3] = currSize;\n                }\n                prevSize = currSize;\n            }\n            if (dir) {\n                aDir[k] = dir[v3];\n                aDir[k + 1] = dir[v3 + 1];\n                aDir[k + 2] = dir[v3 + 2];\n                aDir[k + 3] = -dir[v3];\n                aDir[k + 4] = -dir[v3 + 1];\n                aDir[k + 5] = -dir[v3 + 2];\n                aDir[k + 6] = dir[v3 + 3];\n                aDir[k + 7] = dir[v3 + 4];\n                aDir[k + 8] = dir[v3 + 5];\n                aDir[k + 9] = -dir[v3 + 3];\n                aDir[k + 10] = -dir[v3 + 4];\n                aDir[k + 11] = -dir[v3 + 5];\n            }\n        }\n    }\n    makeIndex() {\n        const index = this.geometry.getIndex();\n        if (!index) {\n            Log.error('Index is null');\n            return;\n        }\n        const meshIndex = index.array;\n        const n = meshIndex.length / 4 / 3;\n        for (let v = 0; v < n; ++v) {\n            const ix = v * 6;\n            const it = v * 4;\n            meshIndex.set(quadIndices, ix);\n            for (let s = 0; s < 6; ++s) {\n                meshIndex[ix + s] += it;\n            }\n        }\n    }\n}\nexport default RibbonBuffer;\n//# sourceMappingURL=ribbon-buffer.js.map","/**\n * @file Ribbon Representation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { RepresentationRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport Spline from '../geometry/spline';\nimport StructureRepresentation from './structure-representation';\nimport RibbonBuffer from '../buffer/ribbon-buffer';\n/**\n * Ribbon Representation\n */\nclass RibbonRepresentation extends StructureRepresentation {\n    constructor(structure, viewer, params) {\n        super(structure, viewer, params);\n        this.type = 'ribbon';\n        this.parameters = Object.assign({\n            subdiv: {\n                type: 'integer', max: 50, min: 1, rebuild: true\n            },\n            tension: {\n                type: 'number', precision: 1, max: 1.0, min: 0.1\n            },\n            smoothSheet: {\n                type: 'boolean', rebuild: true\n            }\n        }, this.parameters, {\n            side: null,\n            wireframe: null,\n            linewidth: null\n        });\n        this.init(params);\n    }\n    init(params) {\n        var p = params || {};\n        p.colorScheme = defaults(p.colorScheme, 'chainname');\n        p.colorScale = defaults(p.colorScale, 'RdYlBu');\n        p.radiusType = defaults(p.radiusType, 'sstruc');\n        p.radiusScale = defaults(p.radiusScale, 4.0);\n        if (p.quality === 'low') {\n            this.subdiv = 3;\n        }\n        else if (p.quality === 'medium') {\n            this.subdiv = 6;\n        }\n        else if (p.quality === 'high') {\n            this.subdiv = 12;\n        }\n        else {\n            this.subdiv = defaults(p.subdiv, 6);\n        }\n        this.tension = defaults(p.tension, NaN);\n        this.smoothSheet = defaults(p.smoothSheet, false);\n        super.init(p);\n    }\n    getSplineParams(params) {\n        return Object.assign({\n            subdiv: this.subdiv,\n            tension: this.tension,\n            directional: true,\n            smoothSheet: this.smoothSheet\n        }, params);\n    }\n    getAtomRadius(atom) {\n        return atom.isTrace() ? super.getAtomRadius(atom) : 0;\n    }\n    createData(sview) {\n        var bufferList = [];\n        var polymerList = [];\n        this.structure.eachPolymer(polymer => {\n            if (polymer.residueCount < 4)\n                return;\n            polymerList.push(polymer);\n            var spline = new Spline(polymer, this.getSplineParams());\n            var subPos = spline.getSubdividedPosition();\n            var subOri = spline.getSubdividedOrientation();\n            var subCol = spline.getSubdividedColor(this.getColorParams());\n            var subPick = spline.getSubdividedPicking();\n            var subSize = spline.getSubdividedSize(this.getRadiusParams());\n            bufferList.push(new RibbonBuffer(({\n                position: subPos.position,\n                normal: subOri.binormal,\n                dir: subOri.normal,\n                color: subCol.color,\n                size: subSize.size,\n                picking: subPick.picking\n            }), this.getBufferParams()));\n        }, sview.getSelection());\n        return {\n            bufferList: bufferList,\n            polymerList: polymerList\n        };\n    }\n    updateData(what, data) {\n        what = what || {};\n        var i = 0;\n        var n = data.polymerList.length;\n        for (i = 0; i < n; ++i) {\n            var bufferData = {};\n            var spline = new Spline(data.polymerList[i], this.getSplineParams());\n            if (what.position) {\n                var subPos = spline.getSubdividedPosition();\n                var subOri = spline.getSubdividedOrientation();\n                Object.assign(bufferData, {\n                    position: subPos.position,\n                    normal: subOri.binormal,\n                    dir: subOri.normal\n                });\n            }\n            if (what.radius || what.scale) {\n                var subSize = spline.getSubdividedSize(this.getRadiusParams());\n                Object.assign(bufferData, { size: subSize.size });\n            }\n            if (what.color) {\n                var subCol = spline.getSubdividedColor(this.getColorParams());\n                Object.assign(bufferData, { color: subCol.color });\n            }\n            data.bufferList[i].setAttributes(bufferData);\n        }\n    }\n    setParameters(params) {\n        var rebuild = false;\n        var what = {};\n        if (params && params.tension) {\n            Object.assign(what, { position: true });\n        }\n        super.setParameters(params, what, rebuild);\n        return this;\n    }\n}\nRepresentationRegistry.add('ribbon', RibbonRepresentation);\nexport default RibbonRepresentation;\n//# sourceMappingURL=ribbon-representation.js.map","/**\n * @file Rocket Representation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { RepresentationRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport { AtomPicker } from '../utils/picker';\nimport StructureRepresentation from './structure-representation';\nimport Helixbundle from '../geometry/helixbundle';\nimport CylinderBuffer from '../buffer/cylinder-buffer';\n/**\n * Rocket Representation\n */\nclass RocketRepresentation extends StructureRepresentation {\n    // protected helixbundleList: Helixbundle[]\n    constructor(structure, viewer, params) {\n        super(structure, viewer, params);\n        this.type = 'rocket';\n        this.parameters = Object.assign({\n            localAngle: {\n                type: 'integer', max: 180, min: 0, rebuild: true\n            },\n            centerDist: {\n                type: 'number', precision: 1, max: 10, min: 0, rebuild: true\n            },\n            ssBorder: {\n                type: 'boolean', rebuild: true\n            },\n            radialSegments: true,\n            openEnded: true,\n            disableImpostor: true\n        }, this.parameters);\n        // this.helixbundleList = []\n        this.init(params);\n    }\n    init(params) {\n        let p = params || {};\n        p.colorScheme = defaults(p.colorScheme, 'sstruc');\n        p.radiusSize = defaults(p.radiusSize, 1.5);\n        p.radiusScale = defaults(p.radiusScale, 1.0);\n        p.openEnded = defaults(p.openEnded, false);\n        p.useInteriorColor = defaults(p.useInteriorColor, true);\n        this.localAngle = defaults(p.localAngle, 30);\n        this.centerDist = defaults(p.centerDist, 2.5);\n        this.ssBorder = defaults(p.ssBorder, false);\n        super.init(p);\n    }\n    createData(sview) {\n        let length = 0;\n        const axisList = [];\n        const helixbundleList = [];\n        this.structure.eachPolymer(polymer => {\n            if (polymer.residueCount < 4 || polymer.isNucleic())\n                return;\n            const helixbundle = new Helixbundle(polymer);\n            const axis = helixbundle.getAxis(this.localAngle, this.centerDist, this.ssBorder, this.getColorParams(), this.getRadiusParams());\n            length += axis.size.length;\n            axisList.push(axis);\n            helixbundleList.push(helixbundle);\n        }, sview.getSelection());\n        const axisData = {\n            begin: new Float32Array(length * 3),\n            end: new Float32Array(length * 3),\n            size: new Float32Array(length),\n            color: new Float32Array(length * 3),\n            picking: {}\n        };\n        let picking = new Float32Array(length);\n        let offset = 0;\n        axisList.forEach(function (axis) {\n            axisData.begin.set(axis.begin, offset * 3);\n            axisData.end.set(axis.end, offset * 3);\n            axisData.size.set(axis.size, offset);\n            axisData.color.set(axis.color, offset * 3);\n            picking.set(axis.picking.array, offset);\n            offset += axis.size.length;\n        });\n        if (length) {\n            axisData.picking = new AtomPicker(picking, sview.getStructure());\n        }\n        const cylinderBuffer = new CylinderBuffer({\n            position1: axisData.begin,\n            position2: axisData.end,\n            color: axisData.color,\n            color2: axisData.color,\n            radius: axisData.size,\n            picking: axisData.picking\n        }, this.getBufferParams({\n            openEnded: this.openEnded,\n            radialSegments: this.radialSegments,\n            disableImpostor: this.disableImpostor,\n            dullInterior: true\n        }));\n        return {\n            bufferList: [cylinderBuffer],\n            axisList: axisList,\n            helixbundleList: helixbundleList,\n            axisData: axisData\n        };\n    }\n    updateData(what, data) {\n        what = what || {};\n        if (what.position) {\n            this.build();\n            return;\n        }\n        var cylinderData = {};\n        if (what.color || what.radius) {\n            var offset = 0;\n            data.helixbundleList.forEach((helixbundle) => {\n                var axis = helixbundle.getAxis(this.localAngle, this.centerDist, this.ssBorder, this.getColorParams(), this.getRadiusParams());\n                if (what.color) {\n                    data.axisData.color.set(axis.color, offset * 3);\n                }\n                if (what.radius || what.scale) {\n                    data.axisData.size.set(axis.size, offset);\n                }\n                offset += axis.size.length;\n            });\n            if (what.color) {\n                Object.assign(cylinderData, {\n                    color: data.axisData.color,\n                    color2: data.axisData.color\n                });\n            }\n            if (what.radius || what.scale) {\n                Object.assign(cylinderData, {\n                    radius: data.axisData.size\n                });\n            }\n        }\n        data.bufferList[0].setAttributes(cylinderData);\n    }\n}\nRepresentationRegistry.add('rocket', RocketRepresentation);\nexport default RocketRepresentation;\n//# sourceMappingURL=rocket-representation.js.map","/**\n * @file Rope Representation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { RepresentationRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport CartoonRepresentation from './cartoon-representation';\nimport Helixorient from '../geometry/helixorient';\nimport Spline from '../geometry/spline';\n/**\n * Rope Representation\n */\nclass RopeRepresentation extends CartoonRepresentation {\n    constructor(structure, viewer, params) {\n        super(structure, viewer, params);\n        this.type = 'rope';\n        this.parameters = Object.assign({\n            smooth: {\n                type: 'integer', max: 15, min: 0, rebuild: true\n            }\n        }, this.parameters, {\n            aspectRatio: null,\n            smoothSheet: null\n        });\n    }\n    init(params) {\n        var p = params || {};\n        p.aspectRatio = 1.0;\n        p.tension = defaults(p.tension, 0.5);\n        p.radiusScale = defaults(p.radiusScale, 5.0);\n        p.smoothSheet = false;\n        this.smooth = defaults(p.smooth, 2);\n        super.init(p);\n    }\n    getSpline(polymer) {\n        var helixorient = new Helixorient(polymer);\n        return new Spline(polymer, this.getSplineParams({\n            directional: false,\n            positionIterator: helixorient.getCenterIterator(this.smooth)\n        }));\n    }\n}\nRepresentationRegistry.add('rope', RopeRepresentation);\nexport default RopeRepresentation;\n//# sourceMappingURL=rope-representation.js.map","/**\n * @file Spacefill Representation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { defaults } from '../utils';\nimport { RepresentationRegistry } from '../globals';\nimport StructureRepresentation from './structure-representation';\nimport SphereBuffer from '../buffer/sphere-buffer';\n/**\n * Spacefill Representation\n */\nclass SpacefillRepresentation extends StructureRepresentation {\n    constructor(structure, viewer, params) {\n        super(structure, viewer, params);\n        this.type = 'spacefill';\n        this.parameters = Object.assign({\n            sphereDetail: true,\n            disableImpostor: true\n        }, this.parameters);\n        this.init(params);\n    }\n    init(params) {\n        var p = params || {};\n        p.useInteriorColor = defaults(p.useInteriorColor, true);\n        super.init(p);\n    }\n    createData(sview) {\n        var sphereBuffer = new SphereBuffer(sview.getAtomData(this.getAtomParams()), this.getBufferParams({\n            sphereDetail: this.sphereDetail,\n            dullInterior: true,\n            disableImpostor: this.disableImpostor\n        }));\n        return {\n            bufferList: [sphereBuffer]\n        };\n    }\n    updateData(what, data) {\n        var atomData = data.sview.getAtomData(this.getAtomParams(what));\n        var sphereData = {};\n        if (!what || what.position) {\n            Object.assign(sphereData, { position: atomData.position });\n        }\n        if (!what || what.color) {\n            Object.assign(sphereData, { color: atomData.color });\n        }\n        if (!what || what.radius) {\n            Object.assign(sphereData, { radius: atomData.radius });\n        }\n        data.bufferList[0].setAttributes(sphereData);\n    }\n}\nRepresentationRegistry.add('spacefill', SpacefillRepresentation);\nexport default SpacefillRepresentation;\n//# sourceMappingURL=spacefill-representation.js.map","/**\n * @file Trace Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport '../shader/Line.vert';\nimport '../shader/Line.frag';\nimport { Log } from '../globals';\nimport Buffer from './buffer';\nfunction getSize(data) {\n    const n = data.position.length / 3;\n    const n1 = n - 1;\n    return n1 * 3 * 2;\n}\n/**\n * Trace buffer. Draws a series of lines.\n */\nclass TraceBuffer extends Buffer {\n    /**\n     * @param  {Object} data - attribute object\n     * @param  {Float32Array} data.position - positions\n     * @param  {Float32Array} data.color - colors\n     * @param  {BufferParameters} params - parameter object\n     */\n    constructor(data, params = {}) {\n        super({\n            position: new Float32Array(getSize(data)),\n            color: new Float32Array(getSize(data))\n        }, params);\n        this.isLine = true;\n        this.vertexShader = 'Line.vert';\n        this.fragmentShader = 'Line.frag';\n        this.setAttributes(data);\n    }\n    setAttributes(data) {\n        let position, color;\n        let linePosition, lineColor;\n        const attributes = this.geometry.attributes; // TODO\n        if (data.position) {\n            position = data.position;\n            linePosition = attributes.position.array;\n            attributes.position.needsUpdate = true;\n        }\n        if (data.color) {\n            color = data.color;\n            lineColor = attributes.color.array;\n            attributes.color.needsUpdate = true;\n        }\n        if (!position && !color) {\n            Log.warn('TraceBuffer.prototype.setAttributes no data');\n            return;\n        }\n        let v, v2;\n        const n = this.size;\n        const n1 = n - 1;\n        for (let i = 0; i < n1; ++i) {\n            v = 3 * i;\n            v2 = 3 * i * 2;\n            if (position) {\n                linePosition[v2] = position[v];\n                linePosition[v2 + 1] = position[v + 1];\n                linePosition[v2 + 2] = position[v + 2];\n                linePosition[v2 + 3] = position[v + 3];\n                linePosition[v2 + 4] = position[v + 4];\n                linePosition[v2 + 5] = position[v + 5];\n            }\n            if (color) {\n                lineColor[v2] = color[v];\n                lineColor[v2 + 1] = color[v + 1];\n                lineColor[v2 + 2] = color[v + 2];\n                lineColor[v2 + 3] = color[v + 3];\n                lineColor[v2 + 4] = color[v + 4];\n                lineColor[v2 + 5] = color[v + 5];\n            }\n        }\n    }\n}\nexport default TraceBuffer;\n//# sourceMappingURL=trace-buffer.js.map","/**\n * @file Trace Representation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { RepresentationRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport Spline from '../geometry/spline';\nimport StructureRepresentation from './structure-representation';\nimport TraceBuffer from '../buffer/trace-buffer';\n/**\n * Trace Representation\n */\nclass TraceRepresentation extends StructureRepresentation {\n    constructor(structure, viewer, params) {\n        super(structure, viewer, params);\n        this.type = 'trace';\n        this.parameters = Object.assign({\n            subdiv: {\n                type: 'integer', max: 50, min: 1, rebuild: true\n            },\n            tension: {\n                type: 'number', precision: 1, max: 1.0, min: 0.1\n            },\n            smoothSheet: {\n                type: 'boolean', rebuild: true\n            }\n        }, this.parameters, {\n            flatShaded: null,\n            side: null,\n            wireframe: null\n        });\n        this.init(params);\n    }\n    init(params) {\n        var p = params || {};\n        p.colorScheme = defaults(p.colorScheme, 'chainname');\n        p.colorScale = defaults(p.colorScale, 'RdYlBu');\n        if (p.quality === 'low') {\n            this.subdiv = 3;\n        }\n        else if (p.quality === 'medium') {\n            this.subdiv = 6;\n        }\n        else if (p.quality === 'high') {\n            this.subdiv = 12;\n        }\n        else {\n            this.subdiv = defaults(p.subdiv, 6);\n        }\n        this.tension = defaults(p.tension, NaN);\n        this.smoothSheet = defaults(p.smoothSheet, false);\n        super.init(p);\n    }\n    getSplineParams(params) {\n        return Object.assign({\n            subdiv: this.subdiv,\n            tension: this.tension,\n            directional: false,\n            smoothSheet: this.smoothSheet\n        }, params);\n    }\n    getAtomRadius(atom) {\n        return atom.isTrace() ? 0.1 : 0;\n    }\n    createData(sview) {\n        var bufferList = [];\n        var polymerList = [];\n        this.structure.eachPolymer(polymer => {\n            if (polymer.residueCount < 4)\n                return;\n            polymerList.push(polymer);\n            var spline = new Spline(polymer, this.getSplineParams());\n            var subPos = spline.getSubdividedPosition();\n            var subCol = spline.getSubdividedColor(this.getColorParams());\n            bufferList.push(new TraceBuffer(Object.assign({}, subPos, subCol), this.getBufferParams()));\n        }, sview.getSelection());\n        return {\n            bufferList: bufferList,\n            polymerList: polymerList\n        };\n    }\n    updateData(what, data) {\n        what = what || {};\n        var i = 0;\n        var n = data.polymerList.length;\n        for (i = 0; i < n; ++i) {\n            var bufferData = {};\n            var spline = new Spline(data.polymerList[i], this.getSplineParams());\n            if (what.position) {\n                var subPos = spline.getSubdividedPosition();\n                Object.assign(bufferData, { position: subPos.position });\n            }\n            if (what.color) {\n                var subCol = spline.getSubdividedColor(this.getColorParams());\n                Object.assign(bufferData, { color: subCol.color });\n            }\n            data.bufferList[i].setAttributes(bufferData);\n        }\n    }\n    setParameters(params) {\n        var rebuild = false;\n        var what = {};\n        if (params && params.tension) {\n            Object.assign(what, { position: true });\n        }\n        super.setParameters(params, what, rebuild);\n        return this;\n    }\n}\nRepresentationRegistry.add('trace', TraceRepresentation);\nexport default TraceRepresentation;\n//# sourceMappingURL=trace-representation.js.map","/**\n * @file Tube Representation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { RepresentationRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport CartoonRepresentation from './cartoon-representation';\n/**\n * Tube Representation\n */\nclass TubeRepresentation extends CartoonRepresentation {\n    constructor(structure, viewer, params) {\n        super(structure, viewer, params);\n        this.type = 'tube';\n        this.parameters = Object.assign({}, this.parameters, { aspectRatio: null });\n    }\n    init(params) {\n        var p = params || {};\n        p.aspectRatio = 1.0;\n        p.radiusScale = defaults(p.radiusScale, 2.0);\n        if (p.quality === 'low') {\n            this.radialSegments = 5;\n        }\n        super.init(p);\n    }\n    getSplineParams( /* params */) {\n        return super.getSplineParams({\n            directional: false\n        });\n    }\n}\nRepresentationRegistry.add('tube', TubeRepresentation);\nexport default TubeRepresentation;\n//# sourceMappingURL=tube-representation.js.map","/**\n * @file Unitcell Representation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { RepresentationRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport StructureRepresentation from './structure-representation';\nimport SphereBuffer from '../buffer/sphere-buffer';\nimport CylinderBuffer from '../buffer/cylinder-buffer';\n/**\n * Unitcell Representation\n */\nclass UnitcellRepresentation extends StructureRepresentation {\n    constructor(structure, viewer, params) {\n        super(structure, viewer, params);\n        this.type = 'unitcell';\n        this.parameters = Object.assign({\n            radiusSize: {\n                type: 'number', precision: 3, max: 10.0, min: 0.001\n            },\n            sphereDetail: true,\n            radialSegments: true,\n            disableImpostor: true\n        }, this.parameters, {\n            assembly: null\n        });\n        this.init(params);\n    }\n    init(params) {\n        const p = params || {};\n        let defaultRadius = 0.5;\n        if (this.structure.unitcell) {\n            defaultRadius = Math.cbrt(this.structure.unitcell.volume) / 200;\n        }\n        p.radiusSize = defaults(p.radiusSize, defaultRadius);\n        p.colorValue = defaults(p.colorValue, 'orange');\n        p.useInteriorColor = defaults(p.useInteriorColor, true);\n        super.init(p);\n    }\n    getUnitcellData(structure) {\n        return structure.unitcell.getData(structure);\n    }\n    create() {\n        const structure = this.structureView.getStructure();\n        if (!structure.unitcell)\n            return;\n        const unitcellData = this.getUnitcellData(structure);\n        this.sphereBuffer = new SphereBuffer(unitcellData.vertex, this.getBufferParams({\n            sphereDetail: this.sphereDetail,\n            disableImpostor: this.disableImpostor,\n            dullInterior: true\n        }));\n        this.cylinderBuffer = new CylinderBuffer(unitcellData.edge, this.getBufferParams({\n            openEnded: true,\n            radialSegments: this.radialSegments,\n            disableImpostor: this.disableImpostor,\n            dullInterior: true\n        }));\n        this.dataList.push({\n            sview: this.structureView,\n            bufferList: [this.sphereBuffer, this.cylinderBuffer]\n        });\n    }\n    createData(sview) {\n        return;\n    }\n    updateData(what, data) {\n        const structure = data.sview.getStructure();\n        if (!structure.unitcell)\n            return;\n        const unitcellData = this.getUnitcellData(structure);\n        const sphereData = {};\n        const cylinderData = {};\n        if (!what || what.position) {\n            Object.assign(sphereData, { position: unitcellData.vertex.position });\n            Object.assign(cylinderData, {\n                position1: unitcellData.edge.position1,\n                position2: unitcellData.edge.position2\n            });\n        }\n        if (!what || what.color) {\n            Object.assign(sphereData, { color: unitcellData.vertex.color });\n            Object.assign(cylinderData, {\n                color: unitcellData.edge.color,\n                color2: unitcellData.edge.color2\n            });\n        }\n        if (!what || what.radius) {\n            Object.assign(sphereData, { radius: unitcellData.vertex.radius });\n            Object.assign(cylinderData, { radius: unitcellData.edge.radius });\n        }\n        this.sphereBuffer.setAttributes(sphereData);\n        this.cylinderBuffer.setAttributes(cylinderData);\n    }\n}\nRepresentationRegistry.add('unitcell', UnitcellRepresentation);\nexport default UnitcellRepresentation;\n//# sourceMappingURL=unitcell-representation.js.map","/**\n * @file Validation Representation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { RepresentationRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport StructureRepresentation from './structure-representation';\nimport CylinderBuffer from '../buffer/cylinder-buffer';\n/**\n * Validation representation\n */\nclass ValidationRepresentation extends StructureRepresentation {\n    constructor(structure, viewer, params) {\n        super(structure, viewer, params);\n        this.type = 'validation';\n        this.parameters = Object.assign({}, this.parameters, {\n            radiusType: null,\n            radiusSize: null,\n            radiusScale: null\n        });\n        this.init(params);\n    }\n    init(params) {\n        const p = params || {};\n        p.colorValue = defaults(p.colorValue, '#f0027f');\n        p.useInteriorColor = defaults(p.useInteriorColor, true);\n        super.init(p);\n    }\n    createData(sview) {\n        if (!sview.validation)\n            return;\n        const clashData = sview.validation.getClashData({\n            structure: sview,\n            color: this.colorValue\n        });\n        const cylinderBuffer = new CylinderBuffer(clashData, this.getBufferParams({ openEnded: false }));\n        return {\n            bufferList: [cylinderBuffer]\n        };\n    }\n}\nRepresentationRegistry.add('validation', ValidationRepresentation);\nexport default ValidationRepresentation;\n//# sourceMappingURL=validation-representation.js.map","/**\n * @file Cone Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Matrix4, Vector3, ConeBufferGeometry } from 'three';\nimport { BufferRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport { calculateCenterArray } from '../math/array-utils';\nimport GeometryBuffer from './geometry-buffer';\nimport { BufferDefaultParameters } from './buffer';\nconst scale = new Vector3();\nconst eye = new Vector3();\nconst target = new Vector3();\nconst up = new Vector3(0, 1, 0);\nfunction getGeo(params = {}) {\n    const geo = new ConeBufferGeometry(1, // radius\n    1, // height\n    defaults(params.radialSegments, 60), // radialSegments\n    1, // heightSegments\n    defaults(params.openEnded, false) // openEnded\n    );\n    geo.applyMatrix4(new Matrix4().makeRotationX(-Math.PI / 2));\n    return geo;\n}\nexport const ConeBufferDefaultParameters = Object.assign({\n    radialSegments: 60,\n    openEnded: false\n}, BufferDefaultParameters);\n/**\n * Cone geometry buffer.\n *\n * @example\n * var coneBuffer = new ConeBuffer({\n *   position1: new Float32Array([ 0, 0, 0 ]),\n *   position2: new Float32Array([ 1, 1, 1 ]),\n *   color: new Float32Array([ 1, 0, 0 ]),\n *   color2: new Float32Array([ 0, 1, 0 ]),\n *   radius: new Float32Array([ 1 ])\n * });\n */\nclass ConeBuffer extends GeometryBuffer {\n    /**\n     * @param {Object} data - buffer data\n     * @param {Float32Array} data.position1 - from positions\n     * @param {Float32Array} data.position2 - to positions\n     * @param {Float32Array} data.color - colors\n     * @param {Float32Array} data.radius - radii\n     * @param {Picker} [data.picking] - picking ids\n     * @param {BufferParameters} [params] - parameters object\n     */\n    constructor(data, params = {}) {\n        super({\n            position: new Float32Array(data.position1.length),\n            color: data.color,\n            picking: data.picking\n        }, params, getGeo(params));\n        this.updateNormals = true;\n        this._position = new Float32Array(data.position1.length);\n        this.setAttributes(data, true);\n    }\n    get defaultParameters() { return ConeBufferDefaultParameters; }\n    applyPositionTransform(matrix, i, i3) {\n        eye.fromArray(this._position1, i3);\n        target.fromArray(this._position2, i3);\n        matrix.lookAt(eye, target, up);\n        const r = this._radius[i];\n        scale.set(r, r, eye.distanceTo(target));\n        matrix.scale(scale);\n    }\n    setAttributes(data = {}, initNormals) {\n        if (data.position1 && data.position2) {\n            calculateCenterArray(data.position1, data.position2, this._position);\n            this._position1 = data.position1;\n            this._position2 = data.position2;\n            data.position = this._position;\n        }\n        if (data.radius)\n            this._radius = data.radius;\n        super.setAttributes(data, initNormals);\n    }\n}\nBufferRegistry.add('cone', ConeBuffer);\nexport default ConeBuffer;\n//# sourceMappingURL=cone-buffer.js.map","/**\n * @file Geometry Group\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Box3 } from 'three';\nclass GeometryGroup {\n    constructor(geometryList = []) {\n        this.geometryList = geometryList;\n    }\n    computeBoundingBox() {\n        if (!this.boundingBox) {\n            this.boundingBox = new Box3();\n        }\n        else {\n            this.boundingBox.empty();\n        }\n        this.geometryList.forEach(geo => {\n            if (!geo.boundingBox)\n                geo.computeBoundingBox();\n            this.boundingBox.union(geo.boundingBox);\n        });\n    }\n}\nexport default GeometryGroup;\n//# sourceMappingURL=geometry-group.js.map","/**\n * @file Arrow Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Matrix4, Vector3, Group } from 'three';\nimport { BufferRegistry } from '../globals';\nimport { createParams, defaults } from '../utils';\nimport Buffer from './buffer';\nimport CylinderBuffer from './cylinder-buffer';\nimport ConeBuffer from './cone-buffer';\nimport GeometryGroup from '../viewer/geometry-group';\nimport { BufferDefaultParameters } from './buffer';\nexport const ArrowBufferDefaultParameters = Object.assign({\n    aspectRatio: 1.5,\n    radialSegments: 50,\n    openEnded: false,\n    disableImpostor: false\n}, BufferDefaultParameters);\n/**\n * Arrow buffer. Draws arrows made from a cylinder and a cone.\n * @implements {Buffer}\n *\n * @example\n * var arrowBuffer = new ArrowBuffer({\n *   position1: new Float32Array([ 0, 0, 0 ]),\n *   position2: new Float32Array([ 10, 1, 1 ]),\n *   color: new Float32Array([ 1, 0, 0 ]),\n *   radius: new Float32Array([ 1 ])\n * });\n */\nclass ArrowBuffer {\n    /**\n     * @param {Object} data - buffer data\n     * @param {Float32Array} data.position1 - from positions\n     * @param {Float32Array} data.position2 - to positions\n     * @param {Float32Array} data.color - colors\n     * @param {Float32Array} data.radius - radii\n     * @param {Picker} [data.picking] - picking ids\n     * @param {BufferParameters} [params] - parameters object\n     */\n    constructor(data, params = {}) {\n        this.group = new Group();\n        this.wireframeGroup = new Group();\n        this.pickingGroup = new Group();\n        this.visible = true;\n        this.parameters = createParams(params, this.defaultParameters);\n        this.splitPosition = new Float32Array(data.position1.length);\n        this.cylinderRadius = new Float32Array(data.radius.length);\n        const attr = this.makeAttributes(data);\n        const bufferParams = {\n            radialSegments: this.parameters.radialSegments,\n            openEnded: this.parameters.openEnded,\n            disableImpostor: this.parameters.disableImpostor\n        };\n        this.cylinderBuffer = new CylinderBuffer(attr.cylinder, bufferParams);\n        this.coneBuffer = new ConeBuffer(attr.cone, bufferParams);\n        this.geometry = new GeometryGroup([\n            this.cylinderBuffer.geometry,\n            this.coneBuffer.geometry\n        ]);\n        // requires Group objects to be present\n        this.matrix = defaults(params.matrix, new Matrix4());\n        this.picking = data.picking;\n    }\n    get defaultParameters() { return ArrowBufferDefaultParameters; }\n    set matrix(m) {\n        Buffer.prototype.setMatrix.call(this, m);\n    }\n    get matrix() {\n        return this.group.matrix.clone();\n    }\n    get pickable() {\n        return !!this.picking;\n    }\n    makeAttributes(data = {}) {\n        const splitPosition = this.splitPosition;\n        const cylinderRadius = this.cylinderRadius;\n        const aspectRatio = this.parameters.aspectRatio;\n        let i, il;\n        const cylinder = {};\n        const cone = {};\n        if (data.radius) {\n            for (i = 0, il = cylinderRadius.length; i < il; ++i) {\n                cylinderRadius[i] = data.radius[i] / aspectRatio;\n            }\n            cylinder.radius = cylinderRadius;\n            cone.radius = data.radius;\n        }\n        if (data.position1 && data.position2) {\n            const vFrom = new Vector3();\n            const vTo = new Vector3();\n            const vDir = new Vector3();\n            const vSplit = new Vector3();\n            for (i = 0, il = splitPosition.length; i < il; i += 3) {\n                vFrom.fromArray(data.position1, i);\n                vTo.fromArray(data.position2, i);\n                vDir.subVectors(vFrom, vTo);\n                const fullLength = vDir.length();\n                const coneLength = cylinderRadius[i / 3] * aspectRatio * 2;\n                const length = Math.min(fullLength, coneLength);\n                vDir.setLength(length);\n                vSplit.copy(vTo).add(vDir);\n                vSplit.toArray(splitPosition, i);\n            }\n            cylinder.position1 = data.position1;\n            cylinder.position2 = splitPosition;\n            cone.position1 = splitPosition;\n            cone.position2 = data.position2;\n        }\n        if (data.color) {\n            cylinder.color = data.color;\n            cylinder.color2 = data.color;\n            cone.color = data.color;\n        }\n        return {\n            cylinder: cylinder,\n            cone: cone\n        };\n    }\n    getMesh() {\n        return new Group().add(this.cylinderBuffer.getMesh(), this.coneBuffer.getMesh());\n    }\n    getWireframeMesh() {\n        return new Group().add(this.cylinderBuffer.getWireframeMesh(), this.coneBuffer.getWireframeMesh());\n    }\n    getPickingMesh() {\n        return new Group().add(this.cylinderBuffer.getPickingMesh(), this.coneBuffer.getPickingMesh());\n    }\n    setAttributes(data = {}) {\n        const attr = this.makeAttributes(data);\n        this.cylinderBuffer.setAttributes(attr.cylinder);\n        this.coneBuffer.setAttributes(attr.cone);\n    }\n    /**\n     * Set buffer parameters\n     * @param {BufferParameters} params - buffer parameters object\n     * @return {undefined}\n     */\n    setParameters(params = {}) {\n        params = Object.assign({}, params);\n        if (params && params.matrix !== undefined) {\n            this.matrix = params.matrix;\n        }\n        delete params.matrix;\n        if (params && params.wireframe !== undefined) {\n            this.parameters.wireframe = params.wireframe;\n            this.setVisibility(this.visible);\n        }\n        this.cylinderBuffer.setParameters(params);\n        this.coneBuffer.setParameters(params);\n    }\n    setVisibility(value) {\n        Buffer.prototype.setVisibility.call(this, value);\n    }\n    dispose() {\n        this.cylinderBuffer.dispose();\n        this.coneBuffer.dispose();\n    }\n}\nBufferRegistry.add('arrow', ArrowBuffer);\nexport default ArrowBuffer;\n//# sourceMappingURL=arrow-buffer.js.map","/**\n * @file Box Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { BoxBufferGeometry, Vector3 } from 'three';\nimport { BufferRegistry } from '../globals';\nimport GeometryBuffer from './geometry-buffer';\nconst scale = new Vector3();\nconst target = new Vector3();\nconst up = new Vector3();\nconst eye = new Vector3(0, 0, 0);\n/**\n * Box buffer. Draws boxes.\n *\n * @example\n * var boxBuffer = new BoxBuffer({\n *   position: new Float32Array([ 0, 3, 0, -2, 0, 0 ]),\n *   color: new Float32Array([ 1, 0, 1, 0, 1, 0 ]),\n *   size: new Float32Array([ 2, 1.5 ]),\n *   heightAxis: new Float32Array([ 0, 1, 1, 0, 2, 0 ]),\n *   depthAxis: new Float32Array([ 1, 0, 1, 0, 0, 2 ])\n * })\n */\nclass BoxBuffer extends GeometryBuffer {\n    constructor(data, params = {}) {\n        super(data, params, new BoxBufferGeometry(1, 1, 1));\n        this.updateNormals = true;\n        this.setAttributes(data, true);\n    }\n    applyPositionTransform(matrix, i, i3) {\n        target.fromArray(this._heightAxis, i3);\n        up.fromArray(this._depthAxis, i3);\n        matrix.lookAt(eye, target, up);\n        scale.set(this._size[i], up.length(), target.length());\n        matrix.scale(scale);\n    }\n    setAttributes(data = {}, initNormals) {\n        if (data.size)\n            this._size = data.size;\n        if (data.heightAxis)\n            this._heightAxis = data.heightAxis;\n        if (data.depthAxis)\n            this._depthAxis = data.depthAxis;\n        super.setAttributes(data, initNormals);\n    }\n}\nBufferRegistry.add('box', BoxBuffer);\nexport default BoxBuffer;\n//# sourceMappingURL=box-buffer.js.map","/**\n * @file Ellipsoid Geometry Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { IcosahedronBufferGeometry, Vector3 } from 'three';\nimport { BufferRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport GeometryBuffer from './geometry-buffer';\nimport { BufferDefaultParameters } from './buffer';\nconst scale = new Vector3();\nconst target = new Vector3();\nconst up = new Vector3();\nconst eye = new Vector3(0, 0, 0);\nexport const EllipsoidBufferDefaultParameters = Object.assign({\n    sphereDetail: 2,\n}, BufferDefaultParameters);\n/**\n * Ellipsoid buffer. Draws ellipsoids.\n *\n * @example\n * var ellipsoidBuffer = new EllipsoidBuffer({\n *   position: new Float32Array([ 0, 0, 0 ]),\n *   color: new Float32Array([ 1, 0, 0 ]),\n *   radius: new Float32Array([ 1 ]),\n *   majorAxis: new Float32Array([ 1, 1, 0 ]),\n *   minorAxis: new Float32Array([ 0.5, 0, 0.5 ]),\n * });\n */\nclass EllipsoidBuffer extends GeometryBuffer {\n    constructor(data, params = {}) {\n        super(data, params, new IcosahedronBufferGeometry(1, defaults(params.sphereDetail, 2)));\n        this.updateNormals = true;\n        this.setAttributes(data, true);\n    }\n    get defaultParameters() { return EllipsoidBufferDefaultParameters; }\n    applyPositionTransform(matrix, i, i3) {\n        target.fromArray(this._majorAxis, i3);\n        up.fromArray(this._minorAxis, i3);\n        matrix.lookAt(eye, target, up);\n        scale.set(this._radius[i], up.length(), target.length());\n        matrix.scale(scale);\n    }\n    setAttributes(data = {}, initNormals) {\n        if (data.radius)\n            this._radius = data.radius;\n        if (data.majorAxis)\n            this._majorAxis = data.majorAxis;\n        if (data.minorAxis)\n            this._minorAxis = data.minorAxis;\n        super.setAttributes(data, initNormals);\n    }\n}\nBufferRegistry.add('ellipsoid', EllipsoidBuffer);\nexport default EllipsoidBuffer;\n//# sourceMappingURL=ellipsoid-buffer.js.map","/**\n * @file Octahedron Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { OctahedronBufferGeometry, Vector3 } from 'three';\nimport { BufferRegistry } from '../globals';\nimport GeometryBuffer from './geometry-buffer';\nconst scale = new Vector3();\nconst target = new Vector3();\nconst up = new Vector3();\nconst eye = new Vector3(0, 0, 0);\n/**\n * Octahedron buffer. Draws octahedrons.\n *\n * @example\n * var octahedronBuffer = new OctahedronBuffer({\n *   position: new Float32Array([ 0, 3, 0, -2, 0, 0 ]),\n *   color: new Float32Array([ 1, 0, 1, 0, 1, 0 ]),\n *   size: new Float32Array([ 2, 1.5 ]),\n *   heightAxis: new Float32Array([ 0, 1, 1, 0, 2, 0 ]),\n *   depthAxis: new Float32Array([ 1, 0, 1, 0, 0, 2 ])\n * })\n */\nclass OctahedronBuffer extends GeometryBuffer {\n    constructor(data, params = {}) {\n        super(data, params, new OctahedronBufferGeometry(1, 0));\n        this.updateNormals = true;\n        this.setAttributes(data, true);\n    }\n    applyPositionTransform(matrix, i, i3) {\n        target.fromArray(this._heightAxis, i3);\n        up.fromArray(this._depthAxis, i3);\n        matrix.lookAt(eye, target, up);\n        scale.set(this._size[i], up.length(), target.length());\n        matrix.scale(scale);\n    }\n    setAttributes(data = {}, initNormals) {\n        if (data.size)\n            this._size = data.size;\n        if (data.heightAxis)\n            this._heightAxis = data.heightAxis;\n        if (data.depthAxis)\n            this._depthAxis = data.depthAxis;\n        super.setAttributes(data, initNormals);\n    }\n}\nBufferRegistry.add('octahedron', OctahedronBuffer);\nexport default OctahedronBuffer;\n//# sourceMappingURL=octahedron-buffer.js.map","/**\n * @file Tetrahedron Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { TetrahedronBufferGeometry, Vector3 } from 'three';\nimport { BufferRegistry } from '../globals';\nimport GeometryBuffer from './geometry-buffer';\nconst scale = new Vector3();\nconst target = new Vector3();\nconst up = new Vector3();\nconst eye = new Vector3(0, 0, 0);\n/**\n * Tetrahedron buffer. Draws tetrahedrons.\n *\n * @example\n * var tetrahedronBuffer = new TetrahedronBuffer({\n *   position: new Float32Array([ 0, 3, 0, -2, 0, 0 ]),\n *   color: new Float32Array([ 1, 0, 1, 0, 1, 0 ]),\n *   size: new Float32Array([ 2, 1.5 ]),\n *   heightAxis: new Float32Array([ 0, 1, 1, 0, 2, 0 ]),\n *   depthAxis: new Float32Array([ 1, 0, 1, 0, 0, 2 ])\n * })\n */\nclass TetrahedronBuffer extends GeometryBuffer {\n    constructor(data, params = {}) {\n        super(data, params, new TetrahedronBufferGeometry(1, 0));\n        this.updateNormals = true;\n        this.setAttributes(data, true);\n    }\n    applyPositionTransform(matrix, i, i3) {\n        target.fromArray(this._heightAxis, i3);\n        up.fromArray(this._depthAxis, i3);\n        matrix.lookAt(eye, target, up);\n        scale.set(this._size[i], up.length(), target.length());\n        matrix.scale(scale);\n    }\n    setAttributes(data = {}, initNormals) {\n        if (data.size)\n            this._size = data.size;\n        if (data.heightAxis)\n            this._heightAxis = data.heightAxis;\n        if (data.depthAxis)\n            this._depthAxis = data.depthAxis;\n        super.setAttributes(data, initNormals);\n    }\n}\nBufferRegistry.add('tetrahedron', TetrahedronBuffer);\nexport default TetrahedronBuffer;\n//# sourceMappingURL=tetrahedron-buffer.js.map","/**\n * @file Tetrahedron Geometry Buffer\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { TorusBufferGeometry, Vector3 } from 'three';\nimport { BufferRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport GeometryBuffer from './geometry-buffer';\nimport { BufferDefaultParameters } from './buffer';\nconst scale = new Vector3();\nconst target = new Vector3();\nconst up = new Vector3();\nconst eye = new Vector3(0, 0, 0);\nexport const TorusBufferDefaultParameters = Object.assign({\n    radiusRatio: 0.2,\n    radialSegments: 16,\n    tubularSegments: 32\n}, BufferDefaultParameters);\n/**\n * Torus geometry buffer. Draws torii.\n *\n * @example\n * var torusBuffer = new TorusBuffer({\n *   position: new Float32Array([ 0, 0, 0 ]),\n *   color: new Float32Array([ 1, 0, 0 ]),\n *   radius: new Float32Array([ 1 ]),\n *   majorAxis: new Float32Array([ 1, 1, 0 ]),\n *   minorAxis: new Float32Array([ 0.5, 0, 0.5 ]),\n * });\n */\nclass TorusBuffer extends GeometryBuffer {\n    constructor(data, params = {}) {\n        super(data, params, new TorusBufferGeometry(1, defaults(params.radiusRatio, 0.2), defaults(params.radialSegments, 16), defaults(params.tubularSegments, 32)));\n        this.updateNormals = true;\n        this.setAttributes(data, true);\n    }\n    get defaultParameters() { return TorusBufferDefaultParameters; }\n    applyPositionTransform(matrix, i, i3) {\n        target.fromArray(this._majorAxis, i3);\n        up.fromArray(this._minorAxis, i3);\n        matrix.lookAt(eye, target, up);\n        const r = this._radius[i];\n        scale.set(r, r, r);\n        matrix.scale(scale);\n    }\n    setAttributes(data = {}, initNormals) {\n        if (data.radius)\n            this._radius = data.radius;\n        if (data.majorAxis)\n            this._majorAxis = data.majorAxis;\n        if (data.minorAxis)\n            this._minorAxis = data.minorAxis;\n        super.setAttributes(data, initNormals);\n    }\n}\nBufferRegistry.add('torus', TorusBuffer);\nexport default TorusBuffer;\n//# sourceMappingURL=torus-buffer.js.map","/**\n * @file Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Debug, Log } from '../globals';\nimport { defaults } from '../utils';\nclass Parser {\n    constructor(streamer, params) {\n        var p = params || {};\n        this.streamer = streamer;\n        this.name = defaults(p.name, '');\n        this.path = defaults(p.path, '');\n    }\n    get type() { return ''; }\n    get __objName() { return ''; }\n    get isBinary() { return false; }\n    get isJson() { return false; }\n    get isXml() { return false; }\n    parse() {\n        return this.streamer.read().then(() => {\n            this._beforeParse();\n            this._parse();\n            this._afterParse();\n            return this[this.__objName];\n        });\n    }\n    _parse() { }\n    _beforeParse() { }\n    _afterParse() {\n        if (Debug)\n            Log.log(this[this.__objName]);\n    }\n}\nexport default Parser;\n//# sourceMappingURL=parser.js.map","/**\n * @file Structure Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { defaults } from '../utils';\nimport Parser from './parser';\nimport Structure from '../structure/structure';\nimport StructureBuilder from '../structure/structure-builder';\nclass StructureParser extends Parser {\n    constructor(streamer, params) {\n        var p = params || {};\n        super(streamer, p);\n        this.firstModelOnly = defaults(p.firstModelOnly, false);\n        this.asTrajectory = defaults(p.asTrajectory, false);\n        this.cAlphaOnly = defaults(p.cAlphaOnly, false);\n        this.structure = new Structure(this.name, this.path);\n        this.structureBuilder = new StructureBuilder(this.structure);\n    }\n    get type() { return 'structure'; }\n    get __objName() { return 'structure'; }\n}\nexport default StructureParser;\n//# sourceMappingURL=structure-parser.js.map","/**\n * @file Entity\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { UnknownEntity, PolymerEntity, NonPolymerEntity, MacrolideEntity, WaterEntity } from './structure-constants';\nfunction entityTypeFromString(string) {\n    string = string.toLowerCase();\n    switch (string) {\n        case 'polymer':\n            return PolymerEntity;\n        case 'non-polymer':\n            return NonPolymerEntity;\n        case 'macrolide':\n            return MacrolideEntity;\n        case 'water':\n            return WaterEntity;\n        default:\n            return UnknownEntity;\n    }\n}\nfunction entityFromType(type) {\n    switch (type) {\n        case PolymerEntity:\n            return 'polymer';\n        case NonPolymerEntity:\n            return 'non-polymer';\n        case MacrolideEntity:\n            return 'macrolide';\n        case WaterEntity:\n            return 'water';\n        default:\n            return undefined;\n    }\n}\nexport const EntityTypeString = {\n    'polymer': PolymerEntity,\n    'non-polymer': NonPolymerEntity,\n    'macrolide': MacrolideEntity,\n    'water': WaterEntity,\n};\n/**\n * Entity of a {@link Structure}\n */\nexport default class Entity {\n    /**\n     * @param {Structure} structure - structure the entity belongs to\n     * @param {Integer} index - index within structure.entityList\n     * @param {String} description - entity description\n     * @param {String} type - entity type\n     * @param {Array} chainIndexList - entity chainIndexList\n     */\n    constructor(structure, index, description = '', type, chainIndexList = []) {\n        this.structure = structure;\n        this.index = index;\n        this.description = description;\n        this.entityType = entityTypeFromString(type || '');\n        this.chainIndexList = chainIndexList;\n        chainIndexList.forEach(function (ci) {\n            structure.chainStore.entityIndex[ci] = index;\n        });\n    }\n    get type() { return entityFromType(this.entityType); }\n    getEntityType() {\n        return this.entityType;\n    }\n    isPolymer() {\n        return this.entityType === PolymerEntity;\n    }\n    isNonPolymer() {\n        return this.entityType === NonPolymerEntity;\n    }\n    isMacrolide() {\n        return this.entityType === MacrolideEntity;\n    }\n    isWater() {\n        return this.entityType === WaterEntity;\n    }\n    eachChain(callback) {\n        const cp = this.structure.getChainProxy();\n        this.chainIndexList.forEach(function (index) {\n            cp.index = index;\n            callback(cp);\n        });\n    }\n}\n//# sourceMappingURL=entity.js.map","/**\n * @file Unitcell\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Color, Vector3, Matrix4 } from 'three';\nimport { defaults } from '../utils';\nimport { degToRad } from '../math/math-utils';\nimport { uniformArray, uniformArray3, centerArray3 } from '../math/array-utils';\nimport { UnitcellPicker } from '../utils/picker';\nconst DefaultBoxParams = {\n    a: 1,\n    b: 1,\n    c: 1,\n    alpha: 90,\n    beta: 90,\n    gamma: 90,\n    spacegroup: 'P 1'\n};\n/**\n * Unitcell class\n */\nclass Unitcell {\n    /**\n     * @param  {Object} params - unitcell parameters\n     * @param  {Number} params.a - length a\n     * @param  {Number} params.b - length b\n     * @param  {Number} params.c - length c\n     * @param  {Number} params.alpha - angle alpha\n     * @param  {Number} params.beta - angle beta\n     * @param  {Number} params.gamma - angle gamma\n     * @param  {String} params.spacegroup - spacegroup\n     * @param  {Matrix4} [params.cartToFrac] - transformation matrix from\n     *                                         cartesian to fractional coordinates\n     * @param  {Matrix4} [params.scale] - alias for `params.cartToFrac`\n     */\n    constructor(params = DefaultBoxParams) {\n        this.cartToFrac = new Matrix4();\n        this.fracToCart = new Matrix4();\n        this.a = params.a;\n        this.b = params.b;\n        this.c = params.c;\n        this.alpha = params.alpha;\n        this.beta = params.beta;\n        this.gamma = params.gamma;\n        this.spacegroup = params.spacegroup;\n        const alphaRad = degToRad(this.alpha);\n        const betaRad = degToRad(this.beta);\n        const gammaRad = degToRad(this.gamma);\n        const cosAlpha = Math.cos(alphaRad);\n        const cosBeta = Math.cos(betaRad);\n        const cosGamma = Math.cos(gammaRad);\n        const sinBeta = Math.sin(betaRad);\n        const sinGamma = Math.sin(gammaRad);\n        this.volume = (this.a * this.b * this.c *\n            Math.sqrt(1 - cosAlpha * cosAlpha - cosBeta * cosBeta - cosGamma * cosGamma +\n                2.0 * cosAlpha * cosBeta * cosGamma));\n        if (params.cartToFrac === undefined) {\n            // https://github.com/biojava/biojava/blob/master/biojava-structure/src/main/java/org/biojava/nbio/structure/xtal/CrystalCell.java\n            const cStar = (this.a * this.b * sinGamma) / this.volume;\n            const cosAlphaStar = ((cosBeta * cosGamma - cosAlpha) / (sinBeta * sinGamma));\n            this.fracToCart.set(this.a, 0, 0, 0, this.b * cosGamma, this.b * sinGamma, 0, 0, this.c * cosBeta, -this.c * sinBeta * cosAlphaStar, 1.0 / cStar, 0, 0, 0, 0, 1).transpose();\n            this.cartToFrac.getInverse(this.fracToCart);\n        }\n        else {\n            this.cartToFrac.copy(params.cartToFrac);\n            this.fracToCart.getInverse(this.cartToFrac);\n        }\n    }\n    getPosition(structure) {\n        const vertexPosition = new Float32Array(3 * 8);\n        if (structure.unitcell) {\n            const uc = structure.unitcell;\n            const centerFrac = structure.center.clone().applyMatrix4(uc.cartToFrac).floor();\n            const v = new Vector3();\n            let cornerOffset = 0;\n            const addCorner = function (x, y, z) {\n                v.set(x, y, z)\n                    .add(centerFrac)\n                    .applyMatrix4(uc.fracToCart)\n                    .toArray(vertexPosition, cornerOffset);\n                cornerOffset += 3;\n            };\n            addCorner(0, 0, 0);\n            addCorner(1, 0, 0);\n            addCorner(0, 1, 0);\n            addCorner(0, 0, 1);\n            addCorner(1, 1, 0);\n            addCorner(1, 0, 1);\n            addCorner(0, 1, 1);\n            addCorner(1, 1, 1);\n        }\n        return vertexPosition;\n    }\n    getCenter(structure) {\n        return centerArray3(this.getPosition(structure));\n    }\n    getData(structure, params = {}) {\n        const colorValue = defaults(params.colorValue, 'orange');\n        const radius = defaults(params.radius, Math.cbrt(this.volume) / 200);\n        const c = new Color(colorValue);\n        const v = new Vector3();\n        const vertexPosition = this.getPosition(structure);\n        const vertexColor = uniformArray3(8, c.r, c.g, c.b);\n        const vertexRadius = uniformArray(8, radius);\n        const edgePosition1 = new Float32Array(3 * 12);\n        const edgePosition2 = new Float32Array(3 * 12);\n        const edgeColor = uniformArray3(12, c.r, c.g, c.b);\n        const edgeRadius = uniformArray(12, radius);\n        let edgeOffset = 0;\n        function addEdge(a, b) {\n            v.fromArray(vertexPosition, a * 3)\n                .toArray(edgePosition1, edgeOffset);\n            v.fromArray(vertexPosition, b * 3)\n                .toArray(edgePosition2, edgeOffset);\n            edgeOffset += 3;\n        }\n        addEdge(0, 1);\n        addEdge(0, 2);\n        addEdge(0, 3);\n        addEdge(1, 4);\n        addEdge(1, 5);\n        addEdge(2, 6);\n        addEdge(3, 5);\n        addEdge(4, 7);\n        addEdge(5, 7);\n        addEdge(2, 4);\n        addEdge(7, 6);\n        addEdge(3, 6);\n        const picker = new UnitcellPicker(this, structure);\n        return {\n            vertex: {\n                position: vertexPosition,\n                color: vertexColor,\n                radius: vertexRadius,\n                picking: picker\n            },\n            edge: {\n                position1: edgePosition1,\n                position2: edgePosition2,\n                color: edgeColor,\n                color2: edgeColor,\n                radius: edgeRadius,\n                picking: picker\n            }\n        };\n    }\n}\nexport default Unitcell;\n//# sourceMappingURL=unitcell.js.map","/**\n * @file Pdb Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Matrix4 } from 'three';\nimport { Debug, Log, ParserRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport StructureParser from './structure-parser';\nimport Entity from '../structure/entity';\nimport Unitcell from '../symmetry/unitcell';\nimport Assembly from '../symmetry/assembly';\nimport { WaterNames } from '../structure/structure-constants';\nimport { assignSecondaryStructure, buildUnitcellAssembly, calculateBonds, calculateChainnames, calculateSecondaryStructure } from '../structure/structure-utils';\n// PDB helix record encoding\nconst HelixTypes = {\n    1: 'h',\n    2: 'h',\n    3: 'i',\n    4: 'h',\n    5: 'g',\n    6: 'h',\n    7: 'h',\n    8: 'h',\n    9: 'h',\n    10: 'h',\n    0: 'h' //Used to be ''\n};\nconst dAminoAcids = [\n    'DAL',\n    'DAR',\n    'DSG',\n    'DAS',\n    'DCY',\n    'DGL',\n    'DGN',\n    'DHI',\n    'DIL',\n    'DLE',\n    'DLY',\n    'MED',\n    'DPN',\n    'DPR',\n    'DSN',\n    'DTH',\n    'DTR',\n    'DTY',\n    'DVA',\n    'DNE' // D-NORLEUCINE\n    // ???  // D-SELENOCYSTEINE\n];\nconst entityKeyList = [\n    'MOL_ID', 'MOLECULE', 'CHAIN', 'FRAGMENT', 'SYNONYM',\n    'EC', 'ENGINEERED', 'MUTATION', 'OTHER_DETAILS'\n];\nconst reWhitespace = /\\s+/;\nfunction getModresId(resno, chainname, inscode) {\n    let id = `${resno}`;\n    if (chainname)\n        id += `:${chainname}`;\n    if (inscode)\n        id += `^${inscode}`;\n    return id;\n}\nclass PdbParser extends StructureParser {\n    /**\n     * Create a pdb parser\n     * @param  {Streamer} streamer - streamer object\n     * @param  {Object} params - params object\n     * @param  {Boolean} params.hex - hexadecimal parsing of\n     *                                atom numbers >99.999 and\n     *                                residue numbers >9.999\n     * @return {undefined}\n     */\n    constructor(streamer, params) {\n        const p = params || {};\n        super(streamer, p);\n        this.hex = defaults(p.hex, false);\n    }\n    get type() { return 'pdb'; }\n    _parse() {\n        // http://www.wwpdb.org/documentation/file-format.php\n        if (Debug)\n            Log.time('PdbParser._parse ' + this.name);\n        let isLegacy = false;\n        const headerLine = this.streamer.peekLines(1)[0];\n        const headerId = headerLine.substr(62, 4);\n        const legacyId = headerLine.substr(72, 4);\n        if (headerId === legacyId && legacyId.trim()) {\n            isLegacy = true;\n        }\n        const isPqr = this.type === 'pqr';\n        const isPdbqt = this.type === 'pdbqt';\n        const s = this.structure;\n        const sb = this.structureBuilder;\n        const hex = this.hex;\n        let serialRadix = 10;\n        let resnoRadix = 10;\n        const firstModelOnly = this.firstModelOnly;\n        const asTrajectory = this.asTrajectory;\n        const cAlphaOnly = this.cAlphaOnly;\n        const frames = s.frames;\n        const boxes = s.boxes;\n        let doFrames = false;\n        let currentFrame, currentCoord;\n        const biomolDict = s.biomolDict;\n        let currentBiomol;\n        let currentPart;\n        let currentMatrix;\n        let line, recordName;\n        let serial, chainname, resno, resname, occupancy;\n        let inscode, atomname, hetero, bfactor, altloc;\n        let startChain, startResi, startIcode;\n        let endChain, endResi, endIcode;\n        let serialDict = {};\n        const unitcellDict = {};\n        const bondDict = {};\n        const entityDataList = [];\n        let currentEntityData;\n        let currentEntityKey;\n        // MOL_ID                 Numbers each component; also used in  SOURCE to associate\n        //                        the information.\n        // MOLECULE               Name of the macromolecule.\n        // CHAIN                  Comma-separated list of chain  identifier(s).\n        // FRAGMENT               Specifies a domain or region of the  molecule.\n        // SYNONYM                Comma-separated list of synonyms for  the MOLECULE.\n        // EC                     The Enzyme Commission number associated  with the molecule.\n        //                        If there is more than one EC number,  they are presented\n        //                        as a comma-separated list.\n        // ENGINEERED             Indicates that the molecule was  produced using\n        //                        recombinant technology or by purely  chemical synthesis.\n        // MUTATION               Indicates if there is a mutation.\n        // OTHER_DETAILS          Additional comments.\n        const hetnameDict = {};\n        const modresDict = {};\n        const chainDict = {};\n        let chainIdx, chainid, newChain;\n        let currentChainname, currentResno, currentResname, currentInscode;\n        const seqresDict = {};\n        let currentSeqresChainname;\n        const secStruct = {\n            helices: [],\n            sheets: []\n        };\n        const helices = secStruct.helices;\n        const sheets = secStruct.sheets;\n        const atomMap = s.atomMap;\n        const atomStore = s.atomStore;\n        atomStore.resize(Math.round(this.streamer.data.length / 80));\n        if (isPqr || isPdbqt)\n            atomStore.addField('partialCharge', 1, 'float32');\n        if (isPqr)\n            atomStore.addField('radius', 1, 'float32');\n        const ap1 = s.getAtomProxy();\n        const ap2 = s.getAtomProxy();\n        let idx = 0;\n        let modelIdx = 0;\n        let pendingStart = true;\n        function _parseChunkOfLines(_i, _n, lines) {\n            for (let i = _i; i < _n; ++i) {\n                line = lines[i];\n                recordName = line.substr(0, 6);\n                if (recordName === 'ATOM  ' || recordName === 'HETATM') {\n                    // http://www.wwpdb.org/documentation/file-format-content/format33/sect9.html#ATOM\n                    // PQR: Field_name Atom_number Atom_name Residue_name Chain_ID Residue_number X Y Z Charge Radius\n                    if (pendingStart) {\n                        if (asTrajectory) {\n                            if (doFrames) {\n                                currentFrame = new Float32Array(atomStore.count * 3);\n                                frames.push(currentFrame);\n                            }\n                            else {\n                                currentFrame = [];\n                            }\n                            currentCoord = 0;\n                        }\n                        else {\n                            if (!firstModelOnly)\n                                serialDict = {};\n                        }\n                        chainIdx = 1;\n                        chainid = chainIdx.toString();\n                        newChain = true;\n                        pendingStart = false;\n                    }\n                    if (firstModelOnly && modelIdx > 0)\n                        continue;\n                    let x, y, z, ls, dd = 0;\n                    if (isPqr) {\n                        ls = line.split(reWhitespace);\n                        dd = ls.length === 10 ? 1 : 0;\n                        atomname = ls[2];\n                        if (cAlphaOnly && atomname !== 'CA')\n                            continue;\n                        x = parseFloat(ls[6 - dd]);\n                        y = parseFloat(ls[7 - dd]);\n                        z = parseFloat(ls[8 - dd]);\n                    }\n                    else {\n                        atomname = line.substr(12, 4).trim();\n                        if (cAlphaOnly && atomname !== 'CA')\n                            continue;\n                        x = parseFloat(line.substr(30, 8));\n                        y = parseFloat(line.substr(38, 8));\n                        z = parseFloat(line.substr(46, 8));\n                    }\n                    if (asTrajectory) {\n                        const j = currentCoord * 3;\n                        currentFrame[j + 0] = x;\n                        currentFrame[j + 1] = y;\n                        currentFrame[j + 2] = z;\n                        currentCoord += 1;\n                        if (doFrames)\n                            continue;\n                    }\n                    let element;\n                    if (isPqr) {\n                        serial = parseInt(ls[1]);\n                        element = '';\n                        hetero = (line[0] === 'H') ? 1 : 0;\n                        chainname = dd ? '' : ls[4];\n                        resno = parseInt(ls[5 - dd]);\n                        inscode = '';\n                        resname = ls[3];\n                        altloc = '';\n                        occupancy = 1.0;\n                    }\n                    else {\n                        serial = parseInt(line.substr(6, 5), serialRadix);\n                        if (hex && serial === 99999) {\n                            serialRadix = 16;\n                        }\n                        hetero = (line[0] === 'H') ? 1 : 0;\n                        chainname = line[21].trim();\n                        resno = parseInt(line.substr(22, 4), resnoRadix);\n                        if (hex && resno === 9999) {\n                            resnoRadix = 16;\n                        }\n                        inscode = line[26].trim();\n                        resname = line.substr(17, 4).trim() || 'MOL';\n                        bfactor = parseFloat(line.substr(60, 6));\n                        altloc = line[16].trim();\n                        occupancy = parseFloat(line.substr(54, 6));\n                        if (!isLegacy) {\n                            if (isPdbqt) {\n                                element = line.substr(12, 2).trim();\n                            }\n                            else {\n                                element = line.substr(76, 2).trim();\n                                if (!chainname) {\n                                    chainname = line.substr(72, 4).trim(); // segid\n                                }\n                            }\n                        }\n                    }\n                    atomStore.growIfFull();\n                    atomStore.atomTypeId[idx] = atomMap.add(atomname, element);\n                    atomStore.x[idx] = x;\n                    atomStore.y[idx] = y;\n                    atomStore.z[idx] = z;\n                    atomStore.serial[idx] = serial;\n                    atomStore.altloc[idx] = altloc.charCodeAt(0);\n                    atomStore.occupancy[idx] = isNaN(occupancy) ? 0 : occupancy;\n                    if (isPqr) {\n                        atomStore.partialCharge[idx] = parseFloat(ls[9 - dd]);\n                        atomStore.radius[idx] = parseFloat(ls[10 - dd]);\n                    }\n                    else {\n                        atomStore.bfactor[idx] = isNaN(bfactor) ? 0 : bfactor;\n                        if (isPdbqt) {\n                            atomStore.partialCharge[idx] = parseFloat(line.substr(70, 6));\n                        }\n                    }\n                    const modresId = getModresId(resno, chainname, inscode);\n                    // TODO instead of looking at MODRES look at SEQRES and\n                    //      missing residues in REMARK 465\n                    if (hetero && !modresDict[modresId] && !dAminoAcids.includes(resname)) {\n                        if (currentChainname !== chainname || currentResname !== resname ||\n                            (!WaterNames.includes(resname) &&\n                                (currentResno !== resno || currentInscode !== inscode))) {\n                            chainIdx += 1;\n                            chainid = chainIdx.toString();\n                            currentResno = resno;\n                            currentResname = resname;\n                            currentInscode = inscode;\n                        }\n                    }\n                    else if (!newChain && currentChainname !== chainname) {\n                        chainIdx += 1;\n                        chainid = chainIdx.toString();\n                    }\n                    sb.addAtom(modelIdx, chainname, chainid, resname, resno, hetero, undefined, inscode);\n                    serialDict[serial] = idx;\n                    idx += 1;\n                    newChain = false;\n                    currentChainname = chainname;\n                }\n                else if (recordName === 'CONECT') {\n                    const fromIdx = serialDict[parseInt(line.substr(6, 5))];\n                    const pos = [11, 16, 21, 26];\n                    const bondIndex = {};\n                    if (fromIdx === undefined) {\n                        // Log.log( \"missing CONNECT serial\" );\n                        continue;\n                    }\n                    for (let j = 0; j < 4; ++j) {\n                        let toIdx = parseInt(line.substr(pos[j], 5));\n                        if (Number.isNaN(toIdx))\n                            continue;\n                        toIdx = serialDict[toIdx];\n                        if (toIdx === undefined) {\n                            // Log.log( \"missing CONNECT serial\" );\n                            continue;\n                        } /* else if( toIdx < fromIdx ){\n                            // likely a duplicate in standard PDB format\n                            // but not necessarily, so better remove duplicates\n                            // in a pass after parsing (and auto bonding)\n                            continue;\n                        } */\n                        if (fromIdx < toIdx) {\n                            ap1.index = fromIdx;\n                            ap2.index = toIdx;\n                        }\n                        else {\n                            ap1.index = toIdx;\n                            ap2.index = fromIdx;\n                        }\n                        // interpret records where a 'toIdx' atom is given multiple times\n                        // as double/triple bonds, e.g. CONECT 1529 1528 1528 is a double bond\n                        if (bondIndex[toIdx] !== undefined) {\n                            s.bondStore.bondOrder[bondIndex[toIdx]] += 1;\n                        }\n                        else {\n                            const hash = ap1.index + '|' + ap2.index;\n                            if (bondDict[hash] === undefined) {\n                                bondDict[hash] = true;\n                                bondIndex[toIdx] = s.bondStore.count;\n                                s.bondStore.addBond(ap1, ap2, 1); // start/assume with single bond\n                            }\n                        }\n                    }\n                }\n                else if (recordName === 'HELIX ') {\n                    startChain = line[19].trim();\n                    startResi = parseInt(line.substr(21, 4));\n                    startIcode = line[25].trim();\n                    endChain = line[31].trim();\n                    endResi = parseInt(line.substr(33, 4));\n                    endIcode = line[37].trim();\n                    let helixType = parseInt(line.substr(39, 1));\n                    helixType = (HelixTypes[helixType] || HelixTypes[0]).charCodeAt(0);\n                    helices.push([\n                        startChain, startResi, startIcode,\n                        endChain, endResi, endIcode,\n                        helixType\n                    ]);\n                }\n                else if (recordName === 'SHEET ') {\n                    startChain = line[21].trim();\n                    startResi = parseInt(line.substr(22, 4));\n                    startIcode = line[26].trim();\n                    endChain = line[32].trim();\n                    endResi = parseInt(line.substr(33, 4));\n                    endIcode = line[37].trim();\n                    sheets.push([\n                        startChain, startResi, startIcode,\n                        endChain, endResi, endIcode\n                    ]);\n                }\n                else if (recordName === 'HETNAM') {\n                    hetnameDict[line.substr(11, 3)] = line.substr(15).trim();\n                }\n                else if (recordName === 'SEQRES') {\n                    const seqresChainname = line[11].trim();\n                    if (seqresChainname !== currentSeqresChainname) {\n                        seqresDict[seqresChainname] = [];\n                        currentSeqresChainname = seqresChainname;\n                    }\n                    seqresDict[seqresChainname].push(...line.substr(19).trim().split(reWhitespace));\n                }\n                else if (recordName === 'MODRES') {\n                    // MODRES 2SRC PTR A  527  TYR  O-PHOSPHOTYROSINE\n                    const resname = line.substr(12, 3).trim();\n                    const chainname = line[16].trim();\n                    const inscode = line[22].trim();\n                    const resno = parseInt(line.substr(18, 4).trim());\n                    const id = getModresId(resno, chainname, inscode);\n                    modresDict[id] = { resname, chainname, inscode, resno };\n                }\n                else if (recordName === 'COMPND') {\n                    const comp = line.substr(10, 70).trim();\n                    const keyEnd = comp.indexOf(':');\n                    const key = comp.substring(0, keyEnd);\n                    let value;\n                    if (entityKeyList.includes(key)) {\n                        currentEntityKey = key;\n                        value = comp.substring(keyEnd + 2);\n                    }\n                    else {\n                        value = comp;\n                    }\n                    value = value.replace(/;$/, '');\n                    if (currentEntityKey === 'MOL_ID') {\n                        currentEntityData = {\n                            chainList: [],\n                            name: ''\n                        };\n                        entityDataList.push(currentEntityData);\n                    }\n                    else if (currentEntityKey === 'MOLECULE') {\n                        if (currentEntityData.name)\n                            currentEntityData.name += ' ';\n                        currentEntityData.name += value;\n                    }\n                    else if (currentEntityKey === 'CHAIN') {\n                        Array.prototype.push.apply(currentEntityData.chainList, value.split(/\\s*,\\s*/));\n                    }\n                }\n                else if (line.startsWith('TER')) {\n                    const cp = s.getChainProxy(s.chainStore.count - 1);\n                    chainDict[cp.chainname] = cp.index;\n                    chainIdx += 1;\n                    chainid = chainIdx.toString();\n                    newChain = true;\n                }\n                else if (recordName === 'REMARK' && line.substr(7, 3) === '350') {\n                    if (line.substr(11, 12) === 'BIOMOLECULE:') {\n                        let name = line.substr(23).trim();\n                        if (/^(0|[1-9][0-9]*)$/.test(name))\n                            name = 'BU' + name;\n                        currentBiomol = new Assembly(name);\n                        biomolDict[name] = currentBiomol;\n                    }\n                    else if (line.substr(13, 5) === 'BIOMT') {\n                        const biomt = line.split(/\\s+/);\n                        const row = parseInt(line[18]) - 1;\n                        if (row === 0) {\n                            currentMatrix = new Matrix4();\n                            currentPart.matrixList.push(currentMatrix);\n                        }\n                        const biomtElms = currentMatrix.elements;\n                        biomtElms[4 * 0 + row] = parseFloat(biomt[4]);\n                        biomtElms[4 * 1 + row] = parseFloat(biomt[5]);\n                        biomtElms[4 * 2 + row] = parseFloat(biomt[6]);\n                        biomtElms[4 * 3 + row] = parseFloat(biomt[7]);\n                    }\n                    else if (line.substr(11, 30) === 'APPLY THE FOLLOWING TO CHAINS:' ||\n                        line.substr(11, 30) === '                   AND CHAINS:') {\n                        if (line.substr(11, 5) === 'APPLY') {\n                            currentPart = currentBiomol.addPart();\n                        }\n                        const chainList = line.substr(41, 30).split(',');\n                        for (let j = 0, jl = chainList.length; j < jl; ++j) {\n                            const c = chainList[j].trim();\n                            if (c)\n                                currentPart.chainList.push(c);\n                        }\n                    }\n                }\n                else if (recordName === 'HEADER') {\n                    s.id = line.substr(62, 4);\n                }\n                else if (recordName === 'TITLE ') {\n                    s.title += (s.title ? ' ' : '') + line.substr(10, 70).trim();\n                }\n                else if (recordName === 'MODEL ') {\n                    pendingStart = true;\n                }\n                else if (recordName === 'ENDMDL' || line.trim() === 'END') {\n                    if (pendingStart)\n                        continue;\n                    if (asTrajectory && !doFrames) {\n                        frames.push(new Float32Array(currentFrame));\n                        doFrames = true;\n                    }\n                    modelIdx += 1;\n                    pendingStart = true;\n                }\n                else if (line.substr(0, 5) === 'MTRIX') {\n                    // ignore 'given' operators\n                    if (line[59] === '1')\n                        continue;\n                    if (!currentBiomol || currentBiomol.name !== 'NCS') {\n                        const ncsName = 'NCS';\n                        currentBiomol = new Assembly(ncsName);\n                        biomolDict[ncsName] = currentBiomol;\n                        currentPart = currentBiomol.addPart();\n                    }\n                    const ncs = line.split(/\\s+/);\n                    const ncsRow = parseInt(line[5]) - 1;\n                    if (ncsRow === 0) {\n                        currentMatrix = new Matrix4();\n                        currentPart.matrixList.push(currentMatrix);\n                    }\n                    const ncsElms = currentMatrix.elements;\n                    ncsElms[4 * 0 + ncsRow] = parseFloat(ncs[2]);\n                    ncsElms[4 * 1 + ncsRow] = parseFloat(ncs[3]);\n                    ncsElms[4 * 2 + ncsRow] = parseFloat(ncs[4]);\n                    ncsElms[4 * 3 + ncsRow] = parseFloat(ncs[5]);\n                }\n                else if (line.substr(0, 5) === 'ORIGX') {\n                    if (!unitcellDict.origx) {\n                        unitcellDict.origx = new Matrix4();\n                    }\n                    const orgix = line.split(/\\s+/);\n                    const origxRow = parseInt(line[5]) - 1;\n                    const origxElms = unitcellDict.origx.elements;\n                    origxElms[4 * 0 + origxRow] = parseFloat(orgix[1]);\n                    origxElms[4 * 1 + origxRow] = parseFloat(orgix[2]);\n                    origxElms[4 * 2 + origxRow] = parseFloat(orgix[3]);\n                    origxElms[4 * 3 + origxRow] = parseFloat(orgix[4]);\n                }\n                else if (line.substr(0, 5) === 'SCALE') {\n                    if (!unitcellDict.scale) {\n                        unitcellDict.scale = new Matrix4();\n                    }\n                    const scale = line.split(/\\s+/);\n                    const scaleRow = parseInt(line[5]) - 1;\n                    const scaleElms = unitcellDict.scale.elements;\n                    scaleElms[4 * 0 + scaleRow] = parseFloat(scale[1]);\n                    scaleElms[4 * 1 + scaleRow] = parseFloat(scale[2]);\n                    scaleElms[4 * 2 + scaleRow] = parseFloat(scale[3]);\n                    scaleElms[4 * 3 + scaleRow] = parseFloat(scale[4]);\n                }\n                else if (recordName === 'CRYST1') {\n                    // CRYST1   55.989   55.989   55.989  90.00  90.00  90.00 P 1           1\n                    //  7 - 15       Real(9.3)      a (Angstroms)\n                    // 16 - 24       Real(9.3)      b (Angstroms)\n                    // 25 - 33       Real(9.3)      c (Angstroms)\n                    // 34 - 40       Real(7.2)      alpha         alpha (degrees).\n                    // 41 - 47       Real(7.2)      beta          beta (degrees).\n                    // 48 - 54       Real(7.2)      gamma         gamma (degrees).\n                    // 56 - 66       LString        sGroup        Space group.\n                    // 67 - 70       Integer        z             Z value.\n                    const aLength = parseFloat(line.substr(6, 9));\n                    const bLength = parseFloat(line.substr(15, 9));\n                    const cLength = parseFloat(line.substr(24, 9));\n                    const alpha = parseFloat(line.substr(33, 7));\n                    const beta = parseFloat(line.substr(40, 7));\n                    const gamma = parseFloat(line.substr(47, 7));\n                    const sGroup = line.substr(55, 11).trim();\n                    // const zValue = parseInt( line.substr( 66, 4 ) );\n                    const box = new Float32Array(9);\n                    box[0] = aLength;\n                    box[4] = bLength;\n                    box[8] = cLength;\n                    boxes.push(box);\n                    if (modelIdx === 0) {\n                        unitcellDict.a = aLength;\n                        unitcellDict.b = bLength;\n                        unitcellDict.c = cLength;\n                        unitcellDict.alpha = alpha;\n                        unitcellDict.beta = beta;\n                        unitcellDict.gamma = gamma;\n                        unitcellDict.spacegroup = sGroup;\n                    }\n                }\n            }\n        }\n        this.streamer.eachChunkOfLines(function (lines /*, chunkNo, chunkCount */) {\n            _parseChunkOfLines(0, lines.length, lines);\n        });\n        // finalize ensures resname will be defined for all rp.resname\n        // (required in entity handling below)\n        sb.finalize();\n        //\n        const en = entityDataList.length;\n        if (en) {\n            s.eachChain(function (cp) {\n                cp.entityIndex = en;\n            });\n            entityDataList.forEach(function (e, i) {\n                const chainIndexList = e.chainList.map(function (chainname) {\n                    return chainDict[chainname];\n                });\n                s.entityList.push(new Entity(s, i, e.name, 'polymer', chainIndexList));\n            });\n            let ei = entityDataList.length;\n            const rp = s.getResidueProxy();\n            const residueDict = {};\n            s.eachChain(function (cp) {\n                if (cp.entityIndex === en) {\n                    rp.index = cp.residueOffset;\n                    if (!residueDict[rp.resname]) {\n                        residueDict[rp.resname] = [];\n                    }\n                    residueDict[rp.resname].push(cp.index);\n                }\n            });\n            Object.keys(residueDict).forEach(function (resname) {\n                const chainList = residueDict[resname];\n                let type = 'non-polymer';\n                let name = hetnameDict[resname] || resname;\n                if (WaterNames.includes(resname)) {\n                    name = 'water';\n                    type = 'water';\n                }\n                s.entityList.push(new Entity(s, ei, name, type, chainList));\n                ei += 1;\n            });\n        }\n        //\n        if (unitcellDict.a !== undefined) {\n            s.unitcell = new Unitcell(unitcellDict);\n        }\n        else {\n            s.unitcell = undefined;\n        }\n        if (helices.length || sheets.length) {\n            assignSecondaryStructure(s, secStruct);\n        }\n        s.finalizeAtoms();\n        if (!isLegacy)\n            calculateChainnames(s);\n        calculateBonds(s);\n        s.finalizeBonds();\n        if (!helices.length && !sheets.length) {\n            calculateSecondaryStructure(s);\n        }\n        buildUnitcellAssembly(s);\n        if (Debug)\n            Log.timeEnd('PdbParser._parse ' + this.name);\n    }\n}\nParserRegistry.add('pdb', PdbParser);\nParserRegistry.add('pdb1', PdbParser);\nParserRegistry.add('ent', PdbParser);\nexport default PdbParser;\nexport { HelixTypes };\n//# sourceMappingURL=pdb-parser.js.map","/**\n * @file Cif Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3, Matrix4 } from 'three';\nimport { Debug, Log, ParserRegistry } from '../globals';\nimport StructureParser from './structure-parser';\nimport { HelixTypes } from './pdb-parser';\nimport Entity from '../structure/entity';\nimport Unitcell from '../symmetry/unitcell';\nimport Assembly from '../symmetry/assembly';\nimport Selection from '../selection/selection';\nimport { assignResidueTypeBonds, assignSecondaryStructure, buildUnitcellAssembly, calculateBonds, calculateSecondaryStructure } from '../structure/structure-utils';\nconst reWhitespace = /\\s+/;\nconst reQuotedWhitespace = /'((?:(?!'\\s).)*)'|\"((?:(?!\"\\s).)*)\"|(\\S+)/g;\nconst reDoubleQuote = /\"/g;\nconst reTrimQuotes = /^['\"]+|['\"]+$/g;\nfunction trimQuotes(str) {\n    if (str && str[0] === str[str.length - 1] && (str[0] === \"'\" || str[0] === '\"')) {\n        return str.substring(1, str.length - 1);\n    }\n    else {\n        return str;\n    }\n}\nfunction ensureArray(dict, field) {\n    if (!Array.isArray(dict[field])) {\n        Object.keys(dict).forEach(function (key) {\n            dict[key] = [dict[key]];\n        });\n    }\n}\nfunction hasValue(d) {\n    return d !== '?';\n}\nfunction cifDefaults(value, defaultValue) {\n    return hasValue(value) ? value : defaultValue;\n}\nfunction getBondOrder(valueOrder) {\n    switch (valueOrder.toLowerCase()) {\n        case '?': // assume single bond\n        case 'sing':\n            return 1;\n        case 'doub':\n            return 2;\n        case 'trip':\n            return 3;\n        case 'quad':\n            return 4;\n    }\n    return 0;\n}\nfunction parseChemComp(cif, structure, structureBuilder) {\n    const atomStore = structure.atomStore;\n    const atomMap = structure.atomMap;\n    let i, n;\n    const cc = cif.chem_comp;\n    const cca = cif.chem_comp_atom;\n    const ccb = cif.chem_comp_bond;\n    if (cc) {\n        if (cc.name) {\n            structure.title = cc.name.trim().replace(reTrimQuotes, '');\n        }\n        if (cc.id) {\n            structure.id = cc.id.trim().replace(reTrimQuotes, '');\n        }\n    }\n    var atomnameDict = {};\n    if (cca) {\n        ensureArray(cca, 'comp_id');\n        var atomname, element, resname, resno;\n        n = cca.comp_id.length;\n        for (i = 0; i < n; ++i) {\n            atomStore.growIfFull();\n            atomname = cca.atom_id[i].replace(reDoubleQuote, '');\n            element = cca.type_symbol[i];\n            atomnameDict[atomname] = i;\n            atomStore.atomTypeId[i] = atomMap.add(atomname, element);\n            atomStore.x[i] = cca.model_Cartn_x[i];\n            atomStore.y[i] = cca.model_Cartn_y[i];\n            atomStore.z[i] = cca.model_Cartn_z[i];\n            atomStore.serial[i] = i;\n            resname = cca.pdbx_component_comp_id[i];\n            resno = cca.pdbx_residue_numbering ? cca.pdbx_residue_numbering[i] : 1;\n            structureBuilder.addAtom(0, '', '', resname, resno, true);\n        }\n        for (i = 0; i < n; ++i) {\n            var j = i + n;\n            atomStore.growIfFull();\n            atomname = cca.atom_id[i].replace(reDoubleQuote, '');\n            element = cca.type_symbol[i];\n            atomStore.atomTypeId[j] = atomMap.add(atomname, element);\n            atomStore.x[j] = cca.pdbx_model_Cartn_x_ideal[i];\n            atomStore.y[j] = cca.pdbx_model_Cartn_y_ideal[i];\n            atomStore.z[j] = cca.pdbx_model_Cartn_z_ideal[i];\n            atomStore.serial[j] = j;\n            resname = cca.pdbx_component_comp_id[i];\n            resno = cca.pdbx_residue_numbering ? cca.pdbx_residue_numbering[i] : 1;\n            structureBuilder.addAtom(1, '', '', resname, resno, true);\n        }\n    }\n    if (cca && ccb) {\n        ensureArray(ccb, 'comp_id');\n        var atomname1, atomname2, bondOrder;\n        n = ccb.comp_id.length;\n        var na = cca.comp_id.length;\n        var ap1 = structure.getAtomProxy();\n        var ap2 = structure.getAtomProxy();\n        for (i = 0; i < n; ++i) {\n            atomname1 = ccb.atom_id_1[i].replace(reDoubleQuote, '');\n            atomname2 = ccb.atom_id_2[i].replace(reDoubleQuote, '');\n            bondOrder = getBondOrder(ccb.value_order[i]);\n            ap1.index = atomnameDict[atomname1];\n            ap2.index = atomnameDict[atomname2];\n            structure.bondStore.growIfFull();\n            structure.bondStore.addBond(ap1, ap2, bondOrder);\n            ap1.index += na;\n            ap2.index += na;\n            structure.bondStore.growIfFull();\n            structure.bondStore.addBond(ap1, ap2, bondOrder);\n        }\n    }\n}\nfunction parseCore(cif, structure, structureBuilder) {\n    var atomStore = structure.atomStore;\n    var atomMap = structure.atomMap;\n    if (cif.data) {\n        structure.id = cif.data;\n        structure.name = cif.data;\n    }\n    structure.unitcell = new Unitcell({\n        a: parseFloat(cif.cell_length_a),\n        b: parseFloat(cif.cell_length_b),\n        c: parseFloat(cif.cell_length_c),\n        alpha: parseFloat(cif.cell_angle_alpha),\n        beta: parseFloat(cif.cell_angle_beta),\n        gamma: parseFloat(cif.cell_angle_gamma),\n        spacegroup: trimQuotes(cif['symmetry_space_group_name_H-M'])\n    });\n    const v = new Vector3();\n    const c = new Vector3();\n    const n = cif.atom_site_type_symbol.length;\n    for (let i = 0; i < n; ++i) {\n        atomStore.growIfFull();\n        const atomname = cif.atom_site_label[i];\n        const element = cif.atom_site_type_symbol[i];\n        atomStore.atomTypeId[i] = atomMap.add(atomname, element);\n        v.set(cif.atom_site_fract_x[i], cif.atom_site_fract_y[i], cif.atom_site_fract_z[i]);\n        v.applyMatrix4(structure.unitcell.fracToCart);\n        c.add(v);\n        atomStore.x[i] = v.x;\n        atomStore.y[i] = v.y;\n        atomStore.z[i] = v.z;\n        if (cif.atom_site_occupancy) {\n            atomStore.occupancy[i] = parseFloat(cif.atom_site_occupancy[i]);\n        }\n        atomStore.serial[i] = i;\n        structureBuilder.addAtom(0, '', '', 'HET', 1, true);\n    }\n    c.divideScalar(n);\n    structure.center = c;\n    buildUnitcellAssembly(structure);\n    const v2 = new Vector3();\n    const v3 = new Vector3();\n    const ml = structure.biomolDict.SUPERCELL.partList[0].matrixList;\n    let k = n;\n    function covalent(idx) {\n        return atomMap.get(atomStore.atomTypeId[idx]).covalent;\n    }\n    const identityMatrix = new Matrix4();\n    for (let i = 0; i < n; ++i) {\n        const covalentI = covalent(i);\n        v.set(atomStore.x[i], atomStore.y[i], atomStore.z[i]);\n        ml.forEach(function (m) {\n            if (identityMatrix.equals(m))\n                return;\n            v2.copy(v);\n            v2.applyMatrix4(m);\n            for (let j = 0; j < n; ++j) {\n                v3.set(atomStore.x[j], atomStore.y[j], atomStore.z[j]);\n                const distSquared = v2.distanceToSquared(v3);\n                const d = covalent(j) + covalentI;\n                const d1 = d + 0.3;\n                const d2 = d - 0.5;\n                if (distSquared < (d1 * d1) && distSquared > (d2 * d2)) {\n                    atomStore.growIfFull();\n                    atomStore.atomTypeId[k] = atomStore.atomTypeId[i];\n                    atomStore.x[k] = v2.x;\n                    atomStore.y[k] = v2.y;\n                    atomStore.z[k] = v2.z;\n                    atomStore.occupancy[k] = atomStore.occupancy[i];\n                    atomStore.serial[k] = k;\n                    atomStore.altloc[k] = 'A'.charCodeAt(0);\n                    structureBuilder.addAtom(0, '', '', 'HET', 1, true);\n                    k += 1;\n                    return;\n                }\n            }\n        });\n    }\n}\nfunction processSecondaryStructure(cif, structure, asymIdDict) {\n    var helices = [];\n    var sheets = [];\n    var i, il, begIcode, endIcode;\n    // get helices\n    var sc = cif.struct_conf;\n    if (sc) {\n        ensureArray(sc, 'id');\n        for (i = 0, il = sc.beg_auth_seq_id.length; i < il; ++i) {\n            var helixType = parseInt(sc.pdbx_PDB_helix_class[i]);\n            if (!Number.isNaN(helixType)) {\n                begIcode = sc.pdbx_beg_PDB_ins_code[i];\n                endIcode = sc.pdbx_end_PDB_ins_code[i];\n                helices.push([\n                    asymIdDict[sc.beg_label_asym_id[i]],\n                    parseInt(sc.beg_auth_seq_id[i]),\n                    cifDefaults(begIcode, ''),\n                    asymIdDict[sc.end_label_asym_id[i]],\n                    parseInt(sc.end_auth_seq_id[i]),\n                    cifDefaults(endIcode, ''),\n                    (HelixTypes[helixType] || HelixTypes[0]).charCodeAt(0)\n                ]);\n            }\n        }\n    }\n    // get sheets\n    var ssr = cif.struct_sheet_range;\n    if (ssr) {\n        ensureArray(ssr, 'id');\n        for (i = 0, il = ssr.beg_auth_seq_id.length; i < il; ++i) {\n            begIcode = ssr.pdbx_beg_PDB_ins_code[i];\n            endIcode = ssr.pdbx_end_PDB_ins_code[i];\n            sheets.push([\n                asymIdDict[ssr.beg_label_asym_id[i]],\n                parseInt(ssr.beg_auth_seq_id[i]),\n                cifDefaults(begIcode, ''),\n                asymIdDict[ssr.end_label_asym_id[i]],\n                parseInt(ssr.end_auth_seq_id[i]),\n                cifDefaults(endIcode, '')\n            ]);\n        }\n    }\n    if (sc || ssr) {\n        return {\n            helices: helices,\n            sheets: sheets\n        };\n    }\n    else {\n        return false;\n    }\n}\nfunction processSymmetry(cif, structure, asymIdDict) {\n    // biomol & ncs processing\n    var operDict = {};\n    var biomolDict = structure.biomolDict;\n    if (cif.pdbx_struct_oper_list) {\n        var biomolOp = cif.pdbx_struct_oper_list;\n        ensureArray(biomolOp, 'id');\n        biomolOp.id.forEach(function (id, i) {\n            var m = new Matrix4();\n            var elms = m.elements;\n            elms[0] = parseFloat(biomolOp['matrix[1][1]'][i]);\n            elms[1] = parseFloat(biomolOp['matrix[1][2]'][i]);\n            elms[2] = parseFloat(biomolOp['matrix[1][3]'][i]);\n            elms[4] = parseFloat(biomolOp['matrix[2][1]'][i]);\n            elms[5] = parseFloat(biomolOp['matrix[2][2]'][i]);\n            elms[6] = parseFloat(biomolOp['matrix[2][3]'][i]);\n            elms[8] = parseFloat(biomolOp['matrix[3][1]'][i]);\n            elms[9] = parseFloat(biomolOp['matrix[3][2]'][i]);\n            elms[10] = parseFloat(biomolOp['matrix[3][3]'][i]);\n            elms[3] = parseFloat(biomolOp['vector[1]'][i]);\n            elms[7] = parseFloat(biomolOp['vector[2]'][i]);\n            elms[11] = parseFloat(biomolOp['vector[3]'][i]);\n            m.transpose();\n            operDict[id] = m;\n        });\n    }\n    if (cif.pdbx_struct_assembly_gen) {\n        var gen = cif.pdbx_struct_assembly_gen;\n        ensureArray(gen, 'assembly_id');\n        var getMatrixDict = function (expr) {\n            var matDict = {};\n            var l = expr.replace(/[()']/g, '').split(',');\n            l.forEach(function (e) {\n                if (e.includes('-')) {\n                    var es = e.split('-');\n                    var j = parseInt(es[0]);\n                    var m = parseInt(es[1]);\n                    for (; j <= m; ++j) {\n                        matDict[j] = operDict[j];\n                    }\n                }\n                else {\n                    matDict[e] = operDict[e];\n                }\n            });\n            return matDict;\n        };\n        gen.assembly_id.forEach(function (id, i) {\n            var md = {};\n            var oe = gen.oper_expression[i].replace(/['\"]\\(|['\"]/g, '');\n            if (oe.includes(')(') || oe.indexOf('(') > 0) {\n                oe = oe.split('(');\n                var md1 = getMatrixDict(oe[0]);\n                var md2 = getMatrixDict(oe[1]);\n                Object.keys(md1).forEach(function (k1) {\n                    Object.keys(md2).forEach(function (k2) {\n                        var mat = new Matrix4();\n                        mat.multiplyMatrices(md1[k1], md2[k2]);\n                        md[k1 + 'x' + k2] = mat;\n                    });\n                });\n            }\n            else {\n                md = getMatrixDict(oe);\n            }\n            var matrixList = [];\n            for (var k in md) {\n                matrixList.push(md[k]);\n            }\n            var name = id;\n            if (/^(0|[1-9][0-9]*)$/.test(name))\n                name = 'BU' + name;\n            var chainList = gen.asym_id_list[i].split(',');\n            for (var j = 0, jl = chainList.length; j < jl; ++j) {\n                chainList[j] = asymIdDict[chainList[j]];\n            }\n            if (biomolDict[name] === undefined) {\n                biomolDict[name] = new Assembly(name);\n            }\n            biomolDict[name].addPart(matrixList, chainList);\n        });\n    }\n    // non-crystallographic symmetry operations\n    if (cif.struct_ncs_oper) {\n        var ncsOp = cif.struct_ncs_oper;\n        ensureArray(ncsOp, 'id');\n        var ncsName = 'NCS';\n        biomolDict[ncsName] = new Assembly(ncsName);\n        var ncsPart = biomolDict[ncsName].addPart();\n        ncsOp.id.forEach(function (id, i) {\n            // ignore 'given' operators\n            if (ncsOp.code[i] === 'given')\n                return;\n            var m = new Matrix4();\n            var elms = m.elements;\n            elms[0] = parseFloat(ncsOp['matrix[1][1]'][i]);\n            elms[1] = parseFloat(ncsOp['matrix[1][2]'][i]);\n            elms[2] = parseFloat(ncsOp['matrix[1][3]'][i]);\n            elms[4] = parseFloat(ncsOp['matrix[2][1]'][i]);\n            elms[5] = parseFloat(ncsOp['matrix[2][2]'][i]);\n            elms[6] = parseFloat(ncsOp['matrix[2][3]'][i]);\n            elms[8] = parseFloat(ncsOp['matrix[3][1]'][i]);\n            elms[9] = parseFloat(ncsOp['matrix[3][2]'][i]);\n            elms[10] = parseFloat(ncsOp['matrix[3][3]'][i]);\n            elms[3] = parseFloat(ncsOp['vector[1]'][i]);\n            elms[7] = parseFloat(ncsOp['vector[2]'][i]);\n            elms[11] = parseFloat(ncsOp['vector[3]'][i]);\n            m.transpose();\n            ncsPart.matrixList.push(m);\n        });\n        if (ncsPart.matrixList.length === 0) {\n            delete biomolDict[ncsName];\n        }\n    }\n    // cell & symmetry\n    const unitcellDict = {};\n    if (cif.cell) {\n        const cell = cif.cell;\n        const a = parseFloat(cell.length_a);\n        const b = parseFloat(cell.length_b);\n        const c = parseFloat(cell.length_c);\n        const box = new Float32Array(9);\n        box[0] = a;\n        box[4] = b;\n        box[8] = c;\n        structure.boxes.push(box);\n        unitcellDict.a = a;\n        unitcellDict.b = b;\n        unitcellDict.c = c;\n        unitcellDict.alpha = parseFloat(cell.angle_alpha);\n        unitcellDict.beta = parseFloat(cell.angle_beta);\n        unitcellDict.gamma = parseFloat(cell.angle_gamma);\n    }\n    if (cif.symmetry) {\n        unitcellDict.spacegroup = trimQuotes(cif.symmetry['space_group_name_H-M']);\n    }\n    // origx\n    var origx = new Matrix4();\n    if (cif.database_PDB_matrix) {\n        var origxMat = cif.database_PDB_matrix;\n        var origxElms = origx.elements;\n        origxElms[0] = parseFloat(origxMat['origx[1][1]']);\n        origxElms[1] = parseFloat(origxMat['origx[1][2]']);\n        origxElms[2] = parseFloat(origxMat['origx[1][3]']);\n        origxElms[4] = parseFloat(origxMat['origx[2][1]']);\n        origxElms[5] = parseFloat(origxMat['origx[2][2]']);\n        origxElms[6] = parseFloat(origxMat['origx[2][3]']);\n        origxElms[8] = parseFloat(origxMat['origx[3][1]']);\n        origxElms[9] = parseFloat(origxMat['origx[3][2]']);\n        origxElms[10] = parseFloat(origxMat['origx[3][3]']);\n        origxElms[3] = parseFloat(origxMat['origx_vector[1]']);\n        origxElms[7] = parseFloat(origxMat['origx_vector[2]']);\n        origxElms[11] = parseFloat(origxMat['origx_vector[3]']);\n        origx.transpose();\n        unitcellDict.origx = origx;\n    }\n    // scale\n    var scale = new Matrix4();\n    if (cif.atom_sites) {\n        var scaleMat = cif.atom_sites;\n        var scaleElms = scale.elements;\n        scaleElms[0] = parseFloat(scaleMat['fract_transf_matrix[1][1]']);\n        scaleElms[1] = parseFloat(scaleMat['fract_transf_matrix[1][2]']);\n        scaleElms[2] = parseFloat(scaleMat['fract_transf_matrix[1][3]']);\n        scaleElms[4] = parseFloat(scaleMat['fract_transf_matrix[2][1]']);\n        scaleElms[5] = parseFloat(scaleMat['fract_transf_matrix[2][2]']);\n        scaleElms[6] = parseFloat(scaleMat['fract_transf_matrix[2][3]']);\n        scaleElms[8] = parseFloat(scaleMat['fract_transf_matrix[3][1]']);\n        scaleElms[9] = parseFloat(scaleMat['fract_transf_matrix[3][2]']);\n        scaleElms[10] = parseFloat(scaleMat['fract_transf_matrix[3][3]']);\n        scaleElms[3] = parseFloat(scaleMat['fract_transf_vector[1]']);\n        scaleElms[7] = parseFloat(scaleMat['fract_transf_vector[2]']);\n        scaleElms[11] = parseFloat(scaleMat['fract_transf_vector[3]']);\n        scale.transpose();\n        unitcellDict.scale = scale;\n    }\n    if (unitcellDict.a !== undefined) {\n        structure.unitcell = new Unitcell(unitcellDict);\n    }\n    else {\n        structure.unitcell = undefined;\n    }\n}\nfunction processConnections(cif, structure, asymIdDict) {\n    // add connections\n    var sc = cif.struct_conn;\n    if (sc) {\n        ensureArray(sc, 'id');\n        var reDoubleQuote = /\"/g;\n        var ap1 = structure.getAtomProxy();\n        var ap2 = structure.getAtomProxy();\n        var atomIndicesCache = {};\n        for (var i = 0, il = sc.id.length; i < il; ++i) {\n            // ignore:\n            // hydrog - hydrogen bond\n            // mismat - mismatched base pairs\n            // saltbr - ionic interaction\n            var connTypeId = sc.conn_type_id[i];\n            if (connTypeId === 'hydrog' ||\n                connTypeId === 'mismat' ||\n                connTypeId === 'saltbr')\n                continue;\n            // ignore bonds between symmetry mates\n            if (sc.ptnr1_symmetry[i] !== '1_555' ||\n                sc.ptnr2_symmetry[i] !== '1_555')\n                continue;\n            // process:\n            // covale - covalent bond\n            // covale_base -\n            //      covalent modification of a nucleotide base\n            // covale_phosphate -\n            //      covalent modification of a nucleotide phosphate\n            // covale_sugar -\n            //      covalent modification of a nucleotide sugar\n            // disulf - disulfide bridge\n            // metalc - metal coordination\n            // modres - covalent residue modification\n            var inscode1 = sc.pdbx_ptnr1_PDB_ins_code[i];\n            var altloc1 = sc.pdbx_ptnr1_label_alt_id[i];\n            var sele1 = (sc.ptnr1_auth_seq_id[i] +\n                (hasValue(inscode1) ? ('^' + inscode1) : '') +\n                ':' + asymIdDict[sc.ptnr1_label_asym_id[i]] +\n                '.' + sc.ptnr1_label_atom_id[i].replace(reDoubleQuote, '') +\n                (hasValue(altloc1) ? ('%' + altloc1) : ''));\n            var atomIndices1 = atomIndicesCache[sele1];\n            if (!atomIndices1) {\n                var selection1 = new Selection(sele1);\n                if (selection1.selection.error) {\n                    if (Debug)\n                        Log.warn('invalid selection for connection', sele1);\n                    continue;\n                }\n                atomIndices1 = structure.getAtomIndices(selection1);\n                atomIndicesCache[sele1] = atomIndices1;\n            }\n            var inscode2 = sc.pdbx_ptnr2_PDB_ins_code[i];\n            var altloc2 = sc.pdbx_ptnr2_label_alt_id[i];\n            var sele2 = (sc.ptnr2_auth_seq_id[i] +\n                (hasValue(inscode2) ? ('^' + inscode2) : '') +\n                ':' + asymIdDict[sc.ptnr2_label_asym_id[i]] +\n                '.' + sc.ptnr2_label_atom_id[i].replace(reDoubleQuote, '') +\n                (hasValue(altloc2) ? ('%' + altloc2) : ''));\n            var atomIndices2 = atomIndicesCache[sele2];\n            if (!atomIndices2) {\n                var selection2 = new Selection(sele2);\n                if (selection2.selection.error) {\n                    if (Debug)\n                        Log.warn('invalid selection for connection', sele2);\n                    continue;\n                }\n                atomIndices2 = structure.getAtomIndices(selection2);\n                atomIndicesCache[sele2] = atomIndices2;\n            }\n            // cases with more than one atom per selection\n            // - #altloc1 to #altloc2\n            // - #model to #model\n            // - #altloc1 * #model to #altloc2 * #model\n            var k = atomIndices1.length;\n            var l = atomIndices2.length;\n            if (k > l) {\n                var tmpA = k;\n                k = l;\n                l = tmpA;\n                var tmpB = atomIndices1;\n                atomIndices1 = atomIndices2;\n                atomIndices2 = tmpB;\n            }\n            // console.log( k, l );\n            if (k === 0 || l === 0) {\n                if (Debug)\n                    Log.warn('no atoms found for', sele1, sele2);\n                continue;\n            }\n            for (var j = 0; j < l; ++j) {\n                ap1.index = atomIndices1[j % k];\n                ap2.index = atomIndices2[j];\n                if (ap1 && ap2) {\n                    structure.bondStore.addBond(ap1, ap2, getBondOrder(sc.pdbx_value_order[i]));\n                }\n                else {\n                    Log.log('atoms for connection not found');\n                }\n            }\n        }\n    }\n}\nfunction processEntities(cif, structure, chainIndexDict) {\n    if (cif.entity) {\n        ensureArray(cif.entity, 'id');\n        var e = cif.entity;\n        var n = e.id.length;\n        for (var i = 0; i < n; ++i) {\n            var description = e.pdbx_description[i];\n            var type = e.type[i];\n            var chainIndexList = Array.from(chainIndexDict[e.id[i]]);\n            structure.entityList[i] = new Entity(structure, i, description, type, chainIndexList);\n        }\n    }\n}\n//\nclass CifParser extends StructureParser {\n    get type() { return 'cif'; }\n    _parse() {\n        // http://mmcif.wwpdb.org/\n        Log.time('CifParser._parse ' + this.name);\n        var s = this.structure;\n        var sb = this.structureBuilder;\n        var firstModelOnly = this.firstModelOnly;\n        var asTrajectory = this.asTrajectory;\n        var cAlphaOnly = this.cAlphaOnly;\n        var frames = s.frames;\n        var currentFrame, currentCoord;\n        var rawline, line;\n        //\n        var cif = {};\n        var asymIdDict = {};\n        var chainIndexDict = {};\n        var pendingString = false;\n        var currentString = null;\n        var pendingValue = false;\n        var pendingLoop = false;\n        var pendingName = false;\n        var loopPointers = [];\n        var currentLoopIndex = null;\n        var currentCategory = null;\n        var currentName = null;\n        var first = null;\n        var pointerNames = [];\n        var authAsymId, authSeqId, labelAtomId, labelCompId, labelAsymId, labelEntityId, labelAltId, groupPDB, id, typeSymbol, pdbxPDBmodelNum, pdbxPDBinsCode, CartnX, CartnY, CartnZ, bIsoOrEquiv, occupancy;\n        //\n        var atomMap = s.atomMap;\n        var atomStore = s.atomStore;\n        atomStore.resize(this.streamer.data.length / 100);\n        var idx = 0;\n        var modelIdx = 0;\n        var modelNum;\n        function _parseChunkOfLines(_i, _n, lines) {\n            for (var i = _i; i < _n; ++i) {\n                rawline = lines[i];\n                line = rawline.trim();\n                if ((!line && !pendingString && !pendingLoop) || line[0] === '#') {\n                    // Log.log( \"NEW BLOCK\" );\n                    pendingString = false;\n                    pendingLoop = false;\n                    pendingValue = false;\n                    loopPointers.length = 0;\n                    currentLoopIndex = null;\n                    currentCategory = null;\n                    currentName = null;\n                    first = null;\n                    pointerNames.length = 0;\n                }\n                else if (line.substring(0, 5) === 'data_') {\n                    cif.data = line.substring(5).trim();\n                    // Log.log( \"DATA\", data );\n                }\n                else if (line[0] === ';') {\n                    if (pendingString) {\n                        // Log.log( \"STRING END\", currentString );\n                        if (pendingLoop) {\n                            if (currentLoopIndex === loopPointers.length) {\n                                currentLoopIndex = 0;\n                            }\n                            loopPointers[currentLoopIndex].push(currentString);\n                            currentLoopIndex += 1;\n                        }\n                        else {\n                            if (currentName === false) {\n                                cif[currentCategory] = currentString;\n                            }\n                            else {\n                                cif[currentCategory][currentName] = currentString; //TODO currentname can equals null\n                            }\n                        }\n                        pendingString = false;\n                        currentString = null;\n                    }\n                    else {\n                        // Log.log( \"STRING START\" );\n                        pendingString = true;\n                        currentString = line.substring(1);\n                    }\n                }\n                else if (line === 'loop_') {\n                    // Log.log( \"LOOP START\" );\n                    pendingLoop = true;\n                    pendingName = true;\n                    loopPointers.length = 0;\n                    pointerNames.length = 0;\n                    currentLoopIndex = 0;\n                }\n                else if (line[0] === '_') {\n                    var keyParts, category, name;\n                    if (pendingLoop && !pendingName) {\n                        pendingLoop = false;\n                    }\n                    if (pendingLoop) {\n                        // Log.log( \"LOOP KEY\", line );\n                        keyParts = line.split('.');\n                        category = keyParts[0].substring(1);\n                        name = keyParts[1];\n                        if (keyParts.length === 1) {\n                            name = false;\n                            if (!cif[category])\n                                cif[category] = [];\n                            loopPointers.push(cif[category]);\n                        }\n                        else {\n                            if (!cif[category])\n                                cif[category] = {};\n                            if (cif[category][name]) {\n                                if (Debug)\n                                    Log.warn(category, name, 'already exists');\n                            }\n                            else {\n                                cif[category][name] = [];\n                                loopPointers.push(cif[category][name]);\n                                pointerNames.push(name);\n                            }\n                        }\n                        currentCategory = category;\n                        currentName = name;\n                        first = true;\n                    }\n                    else {\n                        var keyValuePair = line.match(reQuotedWhitespace);\n                        var key = keyValuePair[0];\n                        var value = keyValuePair[1];\n                        keyParts = key.split('.');\n                        category = keyParts[0].substring(1);\n                        name = keyParts[1];\n                        if (keyParts.length === 1) {\n                            name = false;\n                            cif[category] = value;\n                        }\n                        else {\n                            if (!cif[category])\n                                cif[category] = {};\n                            if (cif[category][name]) {\n                                if (Debug)\n                                    Log.warn(category, name, 'already exists');\n                            }\n                            else {\n                                cif[category][name] = value;\n                            }\n                        }\n                        if (!value)\n                            pendingValue = true;\n                        currentCategory = category;\n                        currentName = name;\n                    }\n                }\n                else {\n                    if (pendingString) {\n                        // Log.log( \"STRING VALUE\", line );\n                        currentString += rawline;\n                    }\n                    else if (pendingLoop) {\n                        // Log.log( \"LOOP VALUE\", line );\n                        if (!line) {\n                            continue;\n                        }\n                        else if (currentCategory === 'atom_site') {\n                            const ls = line.split(reWhitespace);\n                            if (first) {\n                                authAsymId = pointerNames.indexOf('auth_asym_id');\n                                authSeqId = pointerNames.indexOf('auth_seq_id');\n                                labelAtomId = pointerNames.indexOf('label_atom_id');\n                                labelCompId = pointerNames.indexOf('label_comp_id');\n                                labelAsymId = pointerNames.indexOf('label_asym_id');\n                                labelEntityId = pointerNames.indexOf('label_entity_id');\n                                labelAltId = pointerNames.indexOf('label_alt_id');\n                                CartnX = pointerNames.indexOf('Cartn_x');\n                                CartnY = pointerNames.indexOf('Cartn_y');\n                                CartnZ = pointerNames.indexOf('Cartn_z');\n                                id = pointerNames.indexOf('id');\n                                typeSymbol = pointerNames.indexOf('type_symbol');\n                                groupPDB = pointerNames.indexOf('group_PDB');\n                                bIsoOrEquiv = pointerNames.indexOf('B_iso_or_equiv');\n                                pdbxPDBmodelNum = pointerNames.indexOf('pdbx_PDB_model_num');\n                                pdbxPDBinsCode = pointerNames.indexOf('pdbx_PDB_ins_code');\n                                occupancy = pointerNames.indexOf('occupancy');\n                                first = false;\n                                modelNum = parseInt(ls[pdbxPDBmodelNum]);\n                                if (asTrajectory) {\n                                    currentFrame = [];\n                                    currentCoord = 0;\n                                }\n                            }\n                            //\n                            const _modelNum = parseInt(ls[pdbxPDBmodelNum]);\n                            if (modelNum !== _modelNum) {\n                                if (asTrajectory) {\n                                    if (modelIdx === 0) {\n                                        frames.push(new Float32Array(currentFrame));\n                                    }\n                                    currentFrame = new Float32Array(atomStore.count * 3);\n                                    frames.push(currentFrame);\n                                    currentCoord = 0;\n                                }\n                                modelIdx += 1;\n                            }\n                            modelNum = _modelNum;\n                            if (firstModelOnly && modelIdx > 0)\n                                continue;\n                            //\n                            const atomname = ls[labelAtomId].replace(reDoubleQuote, '');\n                            if (cAlphaOnly && atomname !== 'CA')\n                                continue;\n                            const x = parseFloat(ls[CartnX]);\n                            const y = parseFloat(ls[CartnY]);\n                            const z = parseFloat(ls[CartnZ]);\n                            if (asTrajectory) {\n                                const frameOffset = currentCoord * 3;\n                                currentFrame[frameOffset + 0] = x;\n                                currentFrame[frameOffset + 1] = y;\n                                currentFrame[frameOffset + 2] = z;\n                                currentCoord += 1;\n                                if (modelIdx > 0)\n                                    continue;\n                            }\n                            //\n                            const resname = ls[labelCompId];\n                            const resno = parseInt(ls[authSeqId]);\n                            let inscode = ls[pdbxPDBinsCode];\n                            inscode = (inscode === '?') ? '' : inscode;\n                            const chainname = ls[authAsymId];\n                            const chainid = ls[labelAsymId];\n                            const hetero = (ls[groupPDB][0] === 'H') ? 1 : 0;\n                            //\n                            const element = ls[typeSymbol];\n                            const bfactor = parseFloat(ls[bIsoOrEquiv]);\n                            const occ = parseFloat(ls[occupancy]);\n                            let altloc = ls[labelAltId];\n                            altloc = (altloc === '.') ? '' : altloc;\n                            atomStore.growIfFull();\n                            atomStore.atomTypeId[idx] = atomMap.add(atomname, element);\n                            atomStore.x[idx] = x;\n                            atomStore.y[idx] = y;\n                            atomStore.z[idx] = z;\n                            atomStore.serial[idx] = parseInt(ls[id]);\n                            atomStore.bfactor[idx] = isNaN(bfactor) ? 0 : bfactor;\n                            atomStore.occupancy[idx] = isNaN(occ) ? 0 : occ;\n                            atomStore.altloc[idx] = altloc.charCodeAt(0);\n                            sb.addAtom(modelIdx, chainname, chainid, resname, resno, hetero, undefined, inscode);\n                            if (Debug) {\n                                // check if one-to-many (chainname-asymId) relationship is\n                                // actually a many-to-many mapping\n                                const assignedChainname = asymIdDict[chainid];\n                                if (assignedChainname !== undefined && assignedChainname !== chainname) {\n                                    if (Debug)\n                                        Log.warn(assignedChainname, chainname);\n                                }\n                            }\n                            // chainname mapping: label_asym_id -> auth_asym_id\n                            asymIdDict[chainid] = chainname;\n                            // entity mapping: chainIndex -> label_entity_id\n                            const entityId = ls[labelEntityId];\n                            if (!chainIndexDict[entityId]) {\n                                chainIndexDict[entityId] = new Set();\n                            }\n                            chainIndexDict[entityId].add(s.chainStore.count - 1);\n                            idx += 1;\n                        }\n                        else {\n                            const ls = line.match(reQuotedWhitespace);\n                            const nn = ls.length;\n                            if (currentLoopIndex === loopPointers.length) {\n                                currentLoopIndex = 0;\n                            } /* else if( currentLoopIndex + nn > loopPointers.length ){\n                              Log.warn( \"cif parsing error, wrong number of loop data entries\", nn, loopPointers.length );\n                            } */\n                            for (let j = 0; j < nn; ++j) {\n                                loopPointers[currentLoopIndex + j].push(ls[j]);\n                            }\n                            currentLoopIndex += nn;\n                        }\n                        pendingName = false;\n                    }\n                    else if (line[0] === \"'\" && line[line.length - 1] === \"'\") {\n                        // Log.log( \"NEWLINE STRING\", line );\n                        const str = line.substring(1, line.length - 1);\n                        if (currentName === false) {\n                            cif[currentCategory] = str;\n                        }\n                        else {\n                            cif[currentCategory][currentName] = str;\n                        }\n                    }\n                    else if (pendingValue) {\n                        // Log.log( \"NEWLINE VALUE\", line );\n                        if (currentName === false) {\n                            cif[currentCategory] = line;\n                        }\n                        else {\n                            cif[currentCategory][currentName] = line;\n                        }\n                    }\n                    else {\n                        if (Debug)\n                            Log.log('CifParser._parse: unknown state', line);\n                    }\n                }\n            }\n        }\n        this.streamer.eachChunkOfLines(function (lines /*, chunkNo, chunkCount */) {\n            _parseChunkOfLines(0, lines.length, lines);\n        });\n        if (cif.chem_comp && cif.chem_comp_atom) {\n            parseChemComp(cif, s, sb);\n            sb.finalize();\n            s.finalizeAtoms();\n            s.finalizeBonds();\n            assignResidueTypeBonds(s);\n        }\n        else if (cif.atom_site_type_symbol && cif.atom_site_label && cif.atom_site_fract_x) {\n            parseCore(cif, s, sb);\n            sb.finalize();\n            s.finalizeAtoms();\n            calculateBonds(s);\n            s.finalizeBonds();\n            // assignResidueTypeBonds( s );\n        }\n        else {\n            var secStruct = processSecondaryStructure(cif, s, asymIdDict);\n            processSymmetry(cif, s, asymIdDict);\n            processConnections(cif, s, asymIdDict);\n            processEntities(cif, s, chainIndexDict);\n            if (cif.struct && cif.struct.title) {\n                s.title = cif.struct.title.trim().replace(reTrimQuotes, '');\n            }\n            if (cif.entry && cif.entry.id) {\n                s.id = cif.entry.id.trim().replace(reTrimQuotes, '');\n            }\n            // structure header (mimicking biojava)\n            if (cif.pdbx_audit_revision_history) {\n                if (cif.pdbx_audit_revision_history.revision_date) {\n                    ensureArray(cif.pdbx_audit_revision_history, 'revision_date');\n                    const dates = cif.pdbx_audit_revision_history.revision_date.filter(hasValue);\n                    if (dates.length) {\n                        s.header.releaseDate = dates[0];\n                    }\n                }\n                if (cif.pdbx_database_status.recvd_initial_deposition_date) {\n                    ensureArray(cif.pdbx_database_status, 'recvd_initial_deposition_date');\n                    const depDates = cif.pdbx_database_status.recvd_initial_deposition_date.filter(hasValue);\n                    if (depDates.length) {\n                        s.header.depositionDate = depDates[0];\n                    }\n                }\n            }\n            else if (cif.database_PDB_rev) {\n                if (cif.database_PDB_rev.date) {\n                    ensureArray(cif.database_PDB_rev, 'date');\n                    const dates = cif.database_PDB_rev.date.filter(hasValue);\n                    if (dates.length) {\n                        s.header.releaseDate = dates[0];\n                    }\n                }\n                if (cif.database_PDB_rev.date_original) {\n                    ensureArray(cif.database_PDB_rev, 'date_original');\n                    const depDates = cif.database_PDB_rev.date_original.filter(hasValue);\n                    if (depDates.length) {\n                        s.header.depositionDate = depDates[0];\n                    }\n                }\n            }\n            if (cif.reflns && cif.reflns.d_resolution_high) {\n                if (hasValue(cif.reflns.d_resolution_high)) {\n                    s.header.resolution = parseFloat(cif.reflns.d_resolution_high);\n                }\n            }\n            else if (cif.refine && cif.refine.ls_d_res_high) {\n                if (hasValue(cif.refine.ls_d_res_high)) {\n                    s.header.resolution = parseFloat(cif.refine.ls_d_res_high);\n                }\n            }\n            if (cif.refine && cif.refine.ls_R_factor_R_free) {\n                if (hasValue(cif.refine.ls_R_factor_R_free)) {\n                    s.header.rFree = parseFloat(cif.refine.ls_R_factor_R_free);\n                }\n            }\n            if (cif.refine && cif.refine.ls_R_factor_R_work) {\n                if (hasValue(cif.refine.ls_R_factor_R_work)) {\n                    s.header.rWork = parseFloat(cif.refine.ls_R_factor_R_work);\n                }\n            }\n            if (cif.exptl && cif.exptl.method) {\n                ensureArray(cif.exptl, 'method');\n                s.header.experimentalMethods = cif.exptl.method.map(function (m) {\n                    return m.replace(reTrimQuotes, '');\n                });\n            }\n            sb.finalize();\n            s.finalizeAtoms();\n            calculateBonds(s);\n            s.finalizeBonds();\n            if (!secStruct) {\n                calculateSecondaryStructure(s);\n            }\n            else {\n                assignSecondaryStructure(s, secStruct);\n            }\n            buildUnitcellAssembly(s);\n            s.extraData.cif = cif;\n        }\n        if (Debug)\n            Log.timeEnd('CifParser._parse ' + this.name);\n    }\n}\nParserRegistry.add('cif', CifParser);\nParserRegistry.add('mcif', CifParser);\nParserRegistry.add('mmcif', CifParser);\nexport default CifParser;\n//# sourceMappingURL=cif-parser.js.map","/**\n * @file Gro Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Debug, Log, ParserRegistry } from '../globals';\nimport StructureParser from './structure-parser';\nimport { calculateBonds, calculateChainnames, calculateSecondaryStructure } from '../structure/structure-utils';\nclass GroParser extends StructureParser {\n    get type() { return 'gro'; }\n    _parse() {\n        // http://manual.gromacs.org/current/online/gro.html\n        if (Debug)\n            Log.time('GroParser._parse ' + this.name);\n        var s = this.structure;\n        var sb = this.structureBuilder;\n        var firstModelOnly = this.firstModelOnly;\n        var asTrajectory = this.asTrajectory;\n        var cAlphaOnly = this.cAlphaOnly;\n        var frames = s.frames;\n        var boxes = s.boxes;\n        var currentFrame, currentCoord;\n        var firstLines = this.streamer.peekLines(3);\n        s.title = firstLines[0].trim();\n        // determine number of decimal places\n        var ndec = firstLines[2].length - firstLines[2].lastIndexOf('.') - 1;\n        var lpos = 5 + ndec;\n        var xpos = 20;\n        var ypos = 20 + lpos;\n        var zpos = 20 + 2 * lpos;\n        //\n        var atomname, resname, resno, serial;\n        var atomCount = parseInt(firstLines[1]);\n        var modelLineCount = atomCount + 3;\n        var atomMap = s.atomMap;\n        var atomStore = s.atomStore;\n        atomStore.resize(atomCount);\n        var idx = 0;\n        var modelIdx = 0;\n        var lineNo = 0;\n        function _parseChunkOfLines(_i, _n, lines) {\n            for (var i = _i; i < _n; ++i) {\n                ++lineNo;\n                var l = lineNo - 1;\n                var line = lines[i];\n                if (!line)\n                    continue;\n                if (l % modelLineCount === 0) {\n                    // Log.log( \"title\", line )\n                    if (asTrajectory) {\n                        currentFrame = new Float32Array(atomCount * 3);\n                        frames.push(currentFrame);\n                        currentCoord = 0;\n                    }\n                }\n                else if (l % modelLineCount === 1) {\n                    // Log.log( \"atomCount\", line )\n                }\n                else if (l % modelLineCount === modelLineCount - 1) {\n                    var str = line.trim().split(/\\s+/);\n                    var box = new Float32Array(9);\n                    box[0] = parseFloat(str[0]) * 10;\n                    box[4] = parseFloat(str[1]) * 10;\n                    box[8] = parseFloat(str[2]) * 10;\n                    boxes.push(box);\n                    if (firstModelOnly) {\n                        return true;\n                    }\n                    modelIdx += 1;\n                }\n                else {\n                    atomname = line.substr(10, 5).trim();\n                    if (cAlphaOnly && atomname !== 'CA')\n                        continue;\n                    var x = parseFloat(line.substr(xpos, lpos)) * 10;\n                    var y = parseFloat(line.substr(ypos, lpos)) * 10;\n                    var z = parseFloat(line.substr(zpos, lpos)) * 10;\n                    if (asTrajectory) {\n                        var j = currentCoord * 3;\n                        currentFrame[j + 0] = x;\n                        currentFrame[j + 1] = y;\n                        currentFrame[j + 2] = z;\n                        currentCoord += 1;\n                        if (l > modelLineCount)\n                            continue;\n                    }\n                    resname = line.substr(5, 5).trim();\n                    resno = parseInt(line.substr(0, 5));\n                    serial = parseInt(line.substr(15, 5));\n                    atomStore.growIfFull();\n                    atomStore.atomTypeId[idx] = atomMap.add(atomname);\n                    atomStore.x[idx] = x;\n                    atomStore.y[idx] = y;\n                    atomStore.z[idx] = z;\n                    atomStore.serial[idx] = serial;\n                    sb.addAtom(modelIdx, '', '', resname, resno, 0, 'l');\n                    idx += 1;\n                }\n            }\n        }\n        this.streamer.eachChunkOfLines(function (lines /*, chunkNo, chunkCount */) {\n            _parseChunkOfLines(0, lines.length, lines);\n        });\n        sb.finalize();\n        s.finalizeAtoms();\n        calculateChainnames(s);\n        calculateBonds(s);\n        s.finalizeBonds();\n        calculateSecondaryStructure(s);\n        if (Debug)\n            Log.timeEnd('GroParser._parse ' + this.name);\n    }\n}\nParserRegistry.add('gro', GroParser);\nexport default GroParser;\n//# sourceMappingURL=gro-parser.js.map","/**\n * @file utf8-utils\n * @private\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * mostly copied from https://github.com/creationix/msgpack-js-browser\n * by Tim Caswell <tim@creationix.com>, MIT License, Copyright (c) 2013\n */\n\n\n// Encode string as utf8 into dataview at offset\nfunction utf8Write(view, offset, string) {\n  var byteLength = view.byteLength;\n  for(var i = 0, l = string.length; i < l; i++) {\n    var codePoint = string.charCodeAt(i);\n\n    // One byte of UTF-8\n    if (codePoint < 0x80) {\n      view.setUint8(offset++, codePoint >>> 0 & 0x7f | 0x00);\n      continue;\n    }\n\n    // Two bytes of UTF-8\n    if (codePoint < 0x800) {\n      view.setUint8(offset++, codePoint >>> 6 & 0x1f | 0xc0);\n      view.setUint8(offset++, codePoint >>> 0 & 0x3f | 0x80);\n      continue;\n    }\n\n    // Three bytes of UTF-8.\n    if (codePoint < 0x10000) {\n      view.setUint8(offset++, codePoint >>> 12 & 0x0f | 0xe0);\n      view.setUint8(offset++, codePoint >>> 6  & 0x3f | 0x80);\n      view.setUint8(offset++, codePoint >>> 0  & 0x3f | 0x80);\n      continue;\n    }\n\n    // Four bytes of UTF-8\n    if (codePoint < 0x110000) {\n      view.setUint8(offset++, codePoint >>> 18 & 0x07 | 0xf0);\n      view.setUint8(offset++, codePoint >>> 12 & 0x3f | 0x80);\n      view.setUint8(offset++, codePoint >>> 6  & 0x3f | 0x80);\n      view.setUint8(offset++, codePoint >>> 0  & 0x3f | 0x80);\n      continue;\n    }\n    throw new Error(\"bad codepoint \" + codePoint);\n  }\n}\n\nfunction utf8ByteCount(string) {\n  var count = 0;\n  for(var i = 0, l = string.length; i < l; i++) {\n    var codePoint = string.charCodeAt(i);\n    if (codePoint < 0x80) {\n      count += 1;\n      continue;\n    }\n    if (codePoint < 0x800) {\n      count += 2;\n      continue;\n    }\n    if (codePoint < 0x10000) {\n      count += 3;\n      continue;\n    }\n    if (codePoint < 0x110000) {\n      count += 4;\n      continue;\n    }\n    throw new Error(\"bad codepoint \" + codePoint);\n  }\n  return count;\n}\n\n/**\n * encode data value (recursively) into binary encoded MessagePack v5 (http://msgpack.org/)\n * @param  {Object|Array|String|Number|Boolean|null} value  [description]\n * @param  {DataView} view   [description]\n * @param  {Integer} offset [description]\n * @return {Integer} number of bytes written into view\n */\nfunction encode$1(value, view, offset) {\n  var type = typeof value;\n\n  // Strings Bytes\n  if (type === \"string\") {\n    var length = utf8ByteCount(value);\n    // fix str\n    if (length < 0x20) {\n      view.setUint8(offset, length | 0xa0);\n      utf8Write(view, offset + 1, value);\n      return 1 + length;\n    }\n    // str 8\n    if (length < 0x100) {\n      view.setUint8(offset, 0xd9);\n      view.setUint8(offset + 1, length);\n      utf8Write(view, offset + 2, value);\n      return 2 + length;\n    }\n    // str 16\n    if (length < 0x10000) {\n      view.setUint8(offset, 0xda);\n      view.setUint16(offset + 1, length);\n      utf8Write(view, offset + 3, value);\n      return 3 + length;\n    }\n    // str 32\n    if (length < 0x100000000) {\n      view.setUint8(offset, 0xdb);\n      view.setUint32(offset + 1, length);\n      utf8Write(view, offset + 5, value);\n      return 5 + length;\n    }\n  }\n\n  if (value instanceof Uint8Array) {\n    var length = value.byteLength;\n    var bytes = new Uint8Array(view.buffer);\n    // bin 8\n    if (length < 0x100) {\n      view.setUint8(offset, 0xc4);\n      view.setUint8(offset + 1, length);\n      bytes.set(value, offset + 2);\n      return 2 + length;\n    }\n    // bin 16\n    if (length < 0x10000) {\n      view.setUint8(offset, 0xc5);\n      view.setUint16(offset + 1, length);\n      bytes.set(value, offset + 3);\n      return 3 + length;\n    }\n    // bin 32\n    if (length < 0x100000000) {\n      view.setUint8(offset, 0xc6);\n      view.setUint32(offset + 1, length);\n      bytes.set(value, offset + 5);\n      return 5 + length;\n    }\n  }\n\n  if (type === \"number\") {\n    if (!isFinite(value)) {\n        throw new Error(\"Number not finite: \" + value);\n    }\n\n    // Floating point\n    if (Math.floor(value) !== value) {\n      view.setUint8(offset, 0xcb);\n      view.setFloat64(offset + 1, value);\n      return 9;\n    }\n\n    // Integers\n    if (value >=0) {\n      // positive fixnum\n      if (value < 0x80) {\n        view.setUint8(offset, value);\n        return 1;\n      }\n      // uint 8\n      if (value < 0x100) {\n        view.setUint8(offset, 0xcc);\n        view.setUint8(offset + 1, value);\n        return 2;\n      }\n      // uint 16\n      if (value < 0x10000) {\n        view.setUint8(offset, 0xcd);\n        view.setUint16(offset + 1, value);\n        return 3;\n      }\n      // uint 32\n      if (value < 0x100000000) {\n        view.setUint8(offset, 0xce);\n        view.setUint32(offset + 1, value);\n        return 5;\n      }\n      throw new Error(\"Number too big 0x\" + value.toString(16));\n    }\n    // negative fixnum\n    if (value >= -0x20) {\n      view.setInt8(offset, value);\n      return 1;\n    }\n    // int 8\n    if (value >= -0x80) {\n      view.setUint8(offset, 0xd0);\n      view.setInt8(offset + 1, value);\n      return 2;\n    }\n    // int 16\n    if (value >= -0x8000) {\n      view.setUint8(offset, 0xd1);\n      view.setInt16(offset + 1, value);\n      return 3;\n    }\n    // int 32\n    if (value >= -0x80000000) {\n      view.setUint8(offset, 0xd2);\n      view.setInt32(offset + 1, value);\n      return 5;\n    }\n    throw new Error(\"Number too small -0x\" + (-value).toString(16).substr(1));\n  }\n\n  // null\n  if (value === null) {\n    view.setUint8(offset, 0xc0);\n    return 1;\n  }\n\n  // Boolean\n  if (type === \"boolean\") {\n    view.setUint8(offset, value ? 0xc3 : 0xc2);\n    return 1;\n  }\n\n  // Container Types\n  if (type === \"object\") {\n    var length, size = 0;\n    var isArray = Array.isArray(value);\n\n    if (isArray) {\n      length = value.length;\n    }\n    else {\n      var keys = Object.keys(value);\n      length = keys.length;\n    }\n\n    var size;\n    if (length < 0x10) {\n      view.setUint8(offset, length | (isArray ? 0x90 : 0x80));\n      size = 1;\n    }\n    else if (length < 0x10000) {\n      view.setUint8(offset, isArray ? 0xdc : 0xde);\n      view.setUint16(offset + 1, length);\n      size = 3;\n    }\n    else if (length < 0x100000000) {\n      view.setUint8(offset, isArray ? 0xdd : 0xdf);\n      view.setUint32(offset + 1, length);\n      size = 5;\n    }\n\n    if (isArray) {\n      for (var i = 0; i < length; i++) {\n        size += encode$1(value[i], view, offset + size);\n      }\n    }\n    else {\n      for (var i = 0; i < length; i++) {\n        var key = keys[i];\n        size += encode$1(key, view, offset + size);\n        size += encode$1(value[key], view, offset + size);\n      }\n    }\n\n    return size;\n  }\n  throw new Error(\"Unknown type \" + type);\n}\n\nfunction encodedSize(value) {\n  var type = typeof value;\n\n  // Raw Bytes\n  if (type === \"string\") {\n    var length = utf8ByteCount(value);\n    if (length < 0x20) {\n      return 1 + length;\n    }\n    if (length < 0x100) {\n      return 2 + length;\n    }\n    if (length < 0x10000) {\n      return 3 + length;\n    }\n    if (length < 0x100000000) {\n      return 5 + length;\n    }\n  }\n\n  if (value instanceof Uint8Array) {\n    var length = value.byteLength;\n    if (length < 0x100) {\n      return 2 + length;\n    }\n    if (length < 0x10000) {\n      return 3 + length;\n    }\n    if (length < 0x100000000) {\n      return 5 + length;\n    }\n  }\n\n  if (type === \"number\") {\n    // Floating Point\n    // double\n    if (Math.floor(value) !== value) return 9;\n\n    // Integers\n    if (value >=0) {\n      // positive fixnum\n      if (value < 0x80) return 1;\n      // uint 8\n      if (value < 0x100) return 2;\n      // uint 16\n      if (value < 0x10000) return 3;\n      // uint 32\n      if (value < 0x100000000) return 5;\n      throw new Error(\"Number too big 0x\" + value.toString(16));\n    }\n    // negative fixnum\n    if (value >= -0x20) return 1;\n    // int 8\n    if (value >= -0x80) return 2;\n    // int 16\n    if (value >= -0x8000) return 3;\n    // int 32\n    if (value >= -0x80000000) return 5;\n    throw new Error(\"Number too small -0x\" + value.toString(16).substr(1));\n  }\n\n  // Boolean, null\n  if (type === \"boolean\" || value === null) return 1;\n\n  // Container Types\n  if (type === \"object\") {\n    var length, size = 0;\n    if (Array.isArray(value)) {\n      length = value.length;\n      for (var i = 0; i < length; i++) {\n        size += encodedSize(value[i]);\n      }\n    }\n    else {\n      var keys = Object.keys(value);\n      length = keys.length;\n      for (var i = 0; i < length; i++) {\n        var key = keys[i];\n        size += encodedSize(key) + encodedSize(value[key]);\n      }\n    }\n    if (length < 0x10) {\n      return 1 + size;\n    }\n    if (length < 0x10000) {\n      return 3 + size;\n    }\n    if (length < 0x100000000) {\n      return 5 + size;\n    }\n    throw new Error(\"Array or object too long 0x\" + length.toString(16));\n  }\n  throw new Error(\"Unknown type \" + type);\n}\n\nfunction encodeMsgpack(value) {\n  var buffer = new ArrayBuffer(encodedSize(value));\n  var view = new DataView(buffer);\n  encode$1(value, view, 0);\n  return new Uint8Array(buffer);\n}\n\n/**\n * @file mmtf-constants\n * @private\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\n\n\nvar PassThroughFields = [\n    \"mmtfVersion\", \"mmtfProducer\",\n    \"unitCell\", \"spaceGroup\", \"structureId\", \"title\",\n    \"depositionDate\", \"releaseDate\",\n    \"experimentalMethods\", \"resolution\", \"rFree\", \"rWork\",\n    \"bioAssemblyList\", \"ncsOperatorList\", \"entityList\", \"groupList\",\n    \"numBonds\", \"numAtoms\", \"numGroups\", \"numChains\", \"numModels\",\n    \"groupsPerChain\", \"chainsPerModel\",\n];\n\nvar EncodedFields = [\n\t// required\n    \"xCoordList\", \"yCoordList\", \"zCoordList\",\n    \"groupIdList\", \"groupTypeList\",\n    \"chainIdList\",\n    // optional\n    \"bFactorList\", \"atomIdList\", \"altLocList\", \"occupancyList\",\n    \"secStructList\", \"insCodeList\", \"sequenceIndexList\",\n    \"chainNameList\",\n    \"bondAtomList\", \"bondOrderList\"\n];\n\nvar AllFields = PassThroughFields.concat( EncodedFields );\n\n/**\n * @file mmtf-utils\n * @private\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\n\n/**\n * mmtf utils module.\n * @module MmtfUtils\n */\n\n\nfunction getView( ctor, typedArray, elemSize ){\n    return typedArray ? new ctor(\n        typedArray.buffer,\n        typedArray.byteOffset,\n        typedArray.byteLength / ( elemSize || 1 )\n    ) : undefined;\n}\n\nfunction getDataView( typedArray ){\n    return getView( DataView, typedArray );\n}\n\n/**\n * get an Uint8Array view on the input array memory\n * @static\n * @param  {TypedArray} dataArray - input array\n * @return {Uint8Array} new view on the input array memory\n */\nfunction getUint8View( typedArray ){\n    return getView( Uint8Array, typedArray );\n}\n\n/**\n * get an Int8Array view on the input array memory\n * @static\n * @param  {TypedArray} dataArray - input array\n * @return {Int8Array} new view on the input array memory\n */\nfunction getInt8View( typedArray ){\n    return getView( Int8Array, typedArray );\n}\n\n/**\n * get an Int32Array view on the input array memory\n * @static\n * @param  {TypedArray} dataArray - input array\n * @return {Int32Array} new view on the input array memory\n */\nfunction getInt32View( typedArray ){\n    return getView( Int32Array, typedArray, 4 );\n}\n\nfunction getFloat32View( typedArray ){\n    return getView( Float32Array, typedArray, 4 );\n}\n\n\n/**\n * get an Int16Array copy of the the input array data\n * @static\n * @param  {TypedArray} view - input data in big endian format\n * @param  {Int16Array} [dataArray] - pre-allocated output array\n * @return {Int16Array} copy of the input array data\n */\nfunction decodeInt16( bytes, output ){\n    var n = bytes.length / 2;\n    if( !output ) output = new Int16Array( n );\n    for( var i = 0, i2 = 0; i < n; ++i, i2 += 2 ){\n        output[ i ] = bytes[ i2 ] << 8 ^ bytes[ i2 + 1 ] << 0;\n    }\n    return output;\n}\n\n/**\n * make big endian buffer of an int16 array\n * @static\n * @param  {Array|TypedArray} array - array of int16 values\n * @return {ArrayBuffer} big endian buffer\n */\nfunction encodeInt16( array, output ){\n    var n = array.length;\n    if( !output ) output = new Uint8Array( 2 * n );\n    var dv = getDataView( output );\n    for( var i = 0; i < n; ++i ){\n        dv.setInt16( 2 * i, array[ i ] );\n    }\n    return getUint8View( output );\n}\n\n/**\n * get an Int32Array copy of the the input array data\n * @static\n * @param  {TypedArray} view - input data in big endian format\n * @param  {Int32Array} [dataArray] - pre-allocated output array\n * @return {Int32Array} copy of the input array data\n */\nfunction decodeInt32( bytes, output ){\n    var n = bytes.length / 4;\n    if( !output ) output = new Int32Array( n );\n    for( var i = 0, i4 = 0; i < n; ++i, i4 += 4 ){\n        output[ i ] = (\n            bytes[ i4     ] << 24 ^ bytes[ i4 + 1 ] << 16 ^\n            bytes[ i4 + 2 ] <<  8 ^ bytes[ i4 + 3 ] <<  0\n        );\n    }\n    return output;\n}\n\n/**\n * make big endian buffer of an int32 array\n * @static\n * @param  {Array|TypedArray} array - array of int32 values\n * @return {ArrayBuffer} big endian buffer\n */\nfunction encodeInt32( array, output ){\n    var n = array.length;\n    if( !output ) output = new Uint8Array( 4 * n );\n    var dv = getDataView( output );\n    for( var i = 0; i < n; ++i ){\n        dv.setInt32( 4 * i, array[ i ] );\n    }\n    return getUint8View( output );\n}\n\nfunction decodeFloat32( bytes, output ){\n    var n = bytes.length;\n    if( !output ) output = new Float32Array( n / 4 );\n    var dvOut = getDataView( output );\n    var dvIn = getDataView( bytes );\n    for( var i = 0, i4 = 0, il = n / 4; i < il; ++i, i4 += 4 ){\n        dvOut.setFloat32( i4, dvIn.getFloat32( i4 ), true );\n    }\n    return output;\n}\n\n/**\n * decode integers into floats using given divisor\n * example:\n *     intArray: [ 12, 34, 543, 687, 2, 0, 4689 ]\n *     divisor: 100\n *     return: [ 0.12, 0.34, 5.43, 6.87, 0.02, 0.00, 46.89 ]\n * @static\n * @param  {TypedArray|Array} intArray - input array containing integers\n * @param  {Number} divisor - number to devide the integers to obtain floats\n * @param  {Float32Array} [dataArray] - pre-allocated output array\n * @return {Float32Array} decoded array\n */\nfunction decodeInteger( intArray, divisor, output ){\n    var n = intArray.length;\n    var invDiv = 1/divisor;\n    if( !output ) output = new Float32Array( n );\n    for( var i = 0; i < n; ++i ){\n        // multiply by inverse of the divisor which is faster then division\n        output[ i ] = intArray[ i ] * invDiv;\n    }\n    return output;\n}\n\nfunction encodeInteger( floatArray, factor, output ){\n    var n = floatArray.length;\n    if( !output ) output = new Int32Array( n );\n    for( var i = 0; i < n; ++i ){\n        output[ i ] = Math.round( floatArray[ i ] * factor );\n    }\n    return output;\n}\n\n\n\n/**\n * perform run-length decoding of input array\n * example:\n *     array: [ 0, 2, 3, 5 ]  // pairs of values and length of a run\n *     return: [ 0, 0, 3, 3, 3, 3, 3 ]\n * @static\n * @param  {TypedArray|Array} array - run-length encoded input array\n * @param  {TypedArray|Array} [dataArray] - pre-allocated output array\n * @return {TypedArray|Array} decoded array\n */\nfunction decodeRun( array, output ){\n    var i, il;\n    if( !output ){\n        // calculate the length the decoded array will have\n        var fullLength = 0;\n        for( i = 0, il = array.length; i < il; i+=2 ){\n            fullLength += array[ i + 1 ];\n        }\n        // create a new array of the same type of the input array\n        output = new array.constructor( fullLength );\n    }\n    var dataOffset = 0;\n    for( i = 0, il = array.length; i < il; i+=2 ){\n        var value = array[ i ];  // value to be repeated\n        var length = array[ i + 1 ];  // number of repeats\n        for( var j = 0; j < length; ++j ){\n            output[ dataOffset ] = value;\n            ++dataOffset;\n        }\n    }\n    return output;\n}\n\nfunction encodeRun( array ){\n    if( array.length === 0 ) return new Int32Array();\n    var i, il;\n    // calculate output size\n    var fullLength = 2;\n    for( i = 1, il = array.length; i < il; ++i ){\n        if( array[ i - 1 ] !== array[ i ] ){\n            fullLength += 2;\n        }\n    }\n    var output = new Int32Array( fullLength );\n    var offset = 0;\n    var runLength = 1;\n    for( i = 1, il = array.length; i < il; ++i ){\n        if( array[ i - 1 ] !== array[ i ] ){\n            output[ offset ] = array[ i - 1 ];\n            output[ offset + 1 ] = runLength;\n            runLength = 1;\n            offset += 2;\n        }else{\n            ++runLength;\n        }\n    }\n    output[ offset ] = array[ array.length - 1 ];\n    output[ offset + 1 ] = runLength;\n    return output;\n}\n\n\n\n/**\n * perform delta decoding of the input array\n * by iterativly adding the ith element's value to the i+1th\n * example:\n *     dataArray: [ 0, 2, 1, 2, 1, 1, -4, -2, 9 ]\n *     return: [ 0, 2, 3, 5, 6, 7, 3, 1, 10 ]\n * @static\n * @param  {TypedArray|Array} dataArray - delta encoded input array\n * @return {TypedArray|Array} decoded array\n */\nfunction decodeDelta( array, output ){\n    var n = array.length;\n    if( !output ) output = new array.constructor( n );\n    if( n ) output[ 0 ] = array[ 0 ];\n    for( var i = 1; i < n; ++i ){\n        output[ i ] = array[ i ] + output[ i - 1 ];\n    }\n    return output;\n}\n\nfunction encodeDelta( array, output ){\n    var n = array.length;\n    if( !output ) output = new array.constructor( n );\n    output[ 0 ] = array[ 0 ];\n    for( var i = 1; i < n; ++i ){\n        output[ i ] = array[ i ] - array[ i - 1 ];\n    }\n    return output;\n}\n\n\n\n/**\n * [decodePacking description]\n * @param  {Int16Array|Int8Array} int16or8 [description]\n * @param  {Int32Array} output   [description]\n * @return {Int32Array}          [description]\n */\nfunction decodePacking( int16or8, output ){\n    var upperLimit = int16or8 instanceof Int8Array ? 0x7F : 0x7FFF;\n    var lowerLimit = -upperLimit - 1;\n    var n = int16or8.length;\n    var i, j;\n    if( !output ){\n        var fullLength = 0;\n        for( i = 0; i < n; ++i ){\n            if( int16or8[ i ] < upperLimit && int16or8[ i ] > lowerLimit ){\n                ++fullLength;\n            }\n        }\n        output = new Int32Array( fullLength );\n    }\n    i = 0;\n    j = 0;\n    while( i < n ){\n        var value = 0;\n        while( int16or8[ i ] === upperLimit || int16or8[ i ] === lowerLimit ){\n            value += int16or8[ i ];\n            ++i;\n        }\n        value += int16or8[ i ];\n        ++i;\n        output[ j ] = value;\n        ++j;\n    }\n    return output;\n}\n\n/**\n * integer packing using recursive indexing\n * @param  {Array|TyepedArray} intArray [description]\n * @param  {Boolean} useInt8  [description]\n * @return {Int16Array|Int8Array}          [description]\n */\nfunction encodePacking( intArray, useInt8 ){\n    var upperLimit = useInt8 ? 0x7F : 0x7FFF;\n    var lowerLimit = -upperLimit - 1;\n    var i;\n    var n = intArray.length;\n    var size = 0;\n    for( i = 0; i < n; ++i ){\n        var value = intArray[ i ];\n        if( value === 0 ){\n            ++size;\n        }else if( value === upperLimit || value === lowerLimit ){\n            size += 2;\n        }else if( value > 0) {\n            size += Math.ceil( value / upperLimit );\n        }else {\n            size += Math.ceil( value / lowerLimit );\n        }\n    }\n    var output = useInt8 ? new Int8Array( size ) : new Int16Array( size );\n    var j = 0;\n    for( i = 0; i < n; ++i ){\n        var value = intArray[ i ];\n        if( value >= 0) {\n            while( value >= upperLimit ){\n                output[ j ] = upperLimit;\n                ++j;\n                value -= upperLimit;\n            }\n        }else{\n            while( value <= lowerLimit ){\n                output[ j ] = lowerLimit;\n                ++j;\n                value -= lowerLimit;\n            }\n        }\n        output[ j ] = value;\n        ++j;\n    }\n    return output;\n}\n\n\n\nfunction decodeDeltaRun( array, output ){\n    return decodeDelta( decodeRun( array ), output );\n}\n\nfunction encodeDeltaRun( array ){\n    return encodeRun( encodeDelta( array ) );\n}\n\n\n\n/**\n * perform run-length decoding followed (@see decodeRunLength)\n * by decoding integers into floats using given divisor (@see decodeIntegerToFloat)\n * example:\n *     array: [ 320, 3, 100, 2 ]\n *     divisor: 100\n *     return: [ 3.20, 3.20, 3.20, 1.00, 1.00 ]\n * @static\n * @param  {Uint8Array} array - run-length encoded int32 array as bytes in big endian format\n * @param  {Integer} divisor - number to devide the integers to obtain floats\n * @param  {Float32Array} dataArray - pre-allocated output array\n * @return {Float32Array} decoded array\n */\nfunction decodeIntegerRun( intArray, divisor, output ){\n    return decodeInteger(\n        decodeRun( intArray, getInt32View( output ) ), divisor, output\n    );\n}\n\nfunction encodeIntegerRun( floatArray, factor ){\n    return encodeRun( encodeInteger( floatArray, factor ) );\n}\n\n\n\nfunction decodeIntegerDelta( intArray, divisor, output ){\n    return decodeInteger(\n        decodeDelta( intArray, getInt32View( output ) ), divisor, output\n    );\n}\n\nfunction encodeIntegerDelta( floatArray, factor, output ){\n    return encodeDelta( encodeInteger( floatArray, factor ), output );\n}\n\n\n\nfunction decodeIntegerPacking( int16or8, divisor, output ){\n    return decodeInteger(\n        decodePacking( int16or8, getInt32View( output ) ), divisor, output\n    );\n}\n\nfunction decodeIntegerDeltaPacking( int16or8, divisor, output ){\n    var unpacked = decodePacking( int16or8, getInt32View( output ) );\n    return decodeIntegerDelta( unpacked, divisor, getFloat32View( unpacked ) );\n}\n\nfunction encodeIntegerDeltaPacking( floatArray, factor, useInt8 ){\n    return encodePacking( encodeIntegerDelta( floatArray, factor ), useInt8 );\n}\n\n\n\nfunction decodeBytes( bytes ){\n    var dv = getDataView( bytes );\n    var type = dv.getInt32( 0 );\n    var size = dv.getInt32( 4 );\n    var param = bytes.subarray( 8, 12 );\n    var bytes = bytes.subarray( 12 );\n    return [ type, bytes, size, param ];\n}\n\nfunction encodeBytes( type, size, param, bytes ){\n    var buffer = new ArrayBuffer( 12 + bytes.byteLength );\n    var out = new Uint8Array( buffer );\n    var dv = new DataView( buffer );\n    dv.setInt32( 0, type );\n    dv.setInt32( 4, size );\n    if( param ) out.set( param, 8 );\n    out.set( bytes, 12 );\n    return out;\n}\n\nfunction passInt8( int8 ){\n    var size = int8.length;\n    var bytes = getUint8View( int8 );\n    return encodeBytes( 2, size, undefined, bytes );\n}\n\nfunction passInt32( int32 ){\n    var size = int32.length;\n    var bytes = encodeInt32( int32 );\n    return encodeBytes( 4, size, undefined, bytes );\n}\n\nfunction passString( stringBytes, length ){\n    var size = stringBytes.length / length;\n    var param = encodeInt32([ length ]);\n    var bytes = getUint8View( stringBytes );\n    return encodeBytes( 5, size, param, bytes );\n}\n\nfunction runChar( charBytes ){\n    var size = charBytes.length;\n    var bytes = encodeInt32( encodeRun( charBytes ) );\n    return encodeBytes( 6, size, undefined, bytes );\n}\n\nfunction deltaRun( int32 ){\n    var size = int32.length;\n    var bytes = encodeInt32( encodeDeltaRun( int32 ) );\n    return encodeBytes( 8, size, undefined, bytes );\n}\n\nfunction integerRun( float32, factor ){\n    var size = float32.length;\n    var param = encodeInt32([ factor ]);\n    var bytes = encodeInt32( encodeIntegerRun( float32, factor ) );\n    return encodeBytes( 9, size, param, bytes );\n}\n\nfunction integerDeltaPacking16( float32, factor ){\n    var size = float32.length;\n    var param = encodeInt32([ factor ]);\n    var bytes = encodeInt16( encodeIntegerDeltaPacking( float32, factor ) );\n    return encodeBytes( 10, size, param, bytes );\n}\n\nfunction encodeMmtf( inputDict ){\n\n    var outputDict = {};\n\n    // copy some fields over from the input dict\n    PassThroughFields.forEach( function( name ){\n        if( inputDict[ name ] !== undefined ){\n            outputDict[ name ] = inputDict[ name ];\n        }\n    } );\n\n    //////////////\n    // bond data\n\n    // encode inter group bond atom indices, i.e. get bytes in big endian order\n    if( inputDict.bondAtomList ){\n        outputDict.bondAtomList = passInt32( inputDict.bondAtomList );\n    }\n\n    // encode inter group bond orders, i.e. get bytes\n    if( inputDict.bondOrderList ){\n        outputDict.bondOrderList = passInt8( inputDict.bondOrderList );\n    }\n\n    //////////////\n    // atom data\n\n    // split-list delta & integer encode x, y, z atom coords\n    outputDict.xCoordList = integerDeltaPacking16( inputDict.xCoordList, 1000 );\n    outputDict.yCoordList = integerDeltaPacking16( inputDict.yCoordList, 1000 );\n    outputDict.zCoordList = integerDeltaPacking16( inputDict.zCoordList, 1000 );\n\n    // split-list delta & integer encode b-factors\n    if( inputDict.bFactorList ){\n        outputDict.bFactorList = integerDeltaPacking16( inputDict.bFactorList, 100 );\n    }\n\n    // delta & run-length encode atom ids\n    if( inputDict.atomIdList ){\n        outputDict.atomIdList = deltaRun( inputDict.atomIdList );\n    }\n\n    // run-length encode alternate labels\n    if( inputDict.altLocList ){\n        outputDict.altLocList = runChar( inputDict.altLocList );\n    }\n\n    // run-length & integer encode occupancies\n    if( inputDict.occupancyList ){\n        outputDict.occupancyList = integerRun( inputDict.occupancyList, 100 );\n    }\n\n    ///////////////\n    // group data\n\n    // run-length & delta encode group numbers\n    outputDict.groupIdList = deltaRun( inputDict.groupIdList );\n\n    // encode group types, i.e. get int32 array\n    outputDict.groupTypeList = passInt32( inputDict.groupTypeList );\n\n    // encode secondary structure, i.e. get bytes\n    if( inputDict.secStructList ){\n        outputDict.secStructList = passInt8( inputDict.secStructList, 1 );\n    }\n\n    // run-length encode insertion codes\n    if( inputDict.insCodeList ){\n        outputDict.insCodeList = runChar( inputDict.insCodeList );\n    }\n\n    // run-length & delta encode sequence indices\n    if( inputDict.sequenceIndexList ){\n        outputDict.sequenceIndexList = deltaRun( inputDict.sequenceIndexList );\n    }\n\n    ///////////////\n    // chain data\n\n    // encode chain ids, i.e. get bytes\n    outputDict.chainIdList = passString( inputDict.chainIdList, 4 );\n\n    // encode chain names, i.e. get bytes\n    if( inputDict.chainNameList ){\n        outputDict.chainNameList = passString( inputDict.chainNameList, 4 );\n    }\n\n    return outputDict;\n\n}\n\n/**\n * @file msgpack-decode\n * @private\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\n\n/**\n * msgpack decode module.\n * @module MsgpackDecode\n */\n\n/**\n * decode binary encoded MessagePack v5 (http://msgpack.org/) data\n * @static\n * @param  {Uint8Array} buffer - binary encoded MessagePack data\n * @return {Object|Array|String|Number|Boolean|null} decoded Messagepack data\n */\nfunction decodeMsgpack(buffer) {\n  // Loosely based on\n  // The MIT License (MIT)\n  // Copyright (c) 2013 Tim Caswell <tim@creationix.com>\n  // https://github.com/creationix/msgpack-js\n  var offset = 0;\n  var dataView = new DataView(buffer.buffer);\n\n  /**\n   * decode all key-value pairs of a map into an object\n   * @param  {Integer} length - number of key-value pairs\n   * @return {Object} decoded map\n   */\n  function map(length) {\n    var value = {};\n    for (var i = 0; i < length; i++) {\n      var key = parse();\n      value[key] = parse();\n    }\n    return value;\n  }\n\n  /**\n   * decode binary array\n   * @param  {Integer} length - number of elements in the array\n   * @return {Uint8Array} decoded array\n   */\n  function bin(length) {\n    var value = buffer.subarray(offset, offset + length);\n    offset += length;\n    return value;\n  }\n\n  /**\n   * decode string\n   * @param  {Integer} length - number string characters\n   * @return {String} decoded string\n   */\n  function str(length) {\n    var array = buffer.subarray(offset, offset + length);\n    offset += length;\n    // limit number of arguments to String.fromCharCode to something\n    // browsers can handle, see http://stackoverflow.com/a/22747272\n    var chunkSize = 0xffff;\n    if(length > chunkSize){\n      var c = [];\n      for(var i = 0; i < array.length; i += chunkSize) {\n        c.push(String.fromCharCode.apply(\n          null, array.subarray(i, i + chunkSize)\n        ));\n      }\n      return c.join(\"\");\n    }else{\n      return String.fromCharCode.apply(null, array);\n    }\n  }\n\n  /**\n   * decode array\n   * @param  {Integer} length - number of array elements\n   * @return {Array} decoded array\n   */\n  function array(length) {\n    var value = new Array(length);\n    for (var i = 0; i < length; i++) {\n      value[i] = parse();\n    }\n    return value;\n  }\n\n  /**\n   * recursively parse the MessagePack data\n   * @return {Object|Array|String|Number|Boolean|null} decoded MessagePack data\n   */\n  function parse() {\n    var type = buffer[offset];\n    var value, length, extType;\n    // Positive FixInt\n    if ((type & 0x80) === 0x00) {\n      offset++;\n      return type;\n    }\n    // FixMap\n    if ((type & 0xf0) === 0x80) {\n      length = type & 0x0f;\n      offset++;\n      return map(length);\n    }\n    // FixArray\n    if ((type & 0xf0) === 0x90) {\n      length = type & 0x0f;\n      offset++;\n      return array(length);\n    }\n    // FixStr\n    if ((type & 0xe0) === 0xa0) {\n      length = type & 0x1f;\n      offset++;\n      return str(length);\n    }\n    // Negative FixInt\n    if ((type & 0xe0) === 0xe0) {\n      value = dataView.getInt8(offset);\n      offset++;\n      return value;\n    }\n    switch (type) {\n    // nil\n    case 0xc0:\n      offset++;\n      return null;\n    // 0xc1: (never used, could be employed for padding)\n    // false\n    case 0xc2:\n      offset++;\n      return false;\n    // true\n    case 0xc3:\n      offset++;\n      return true;\n    // bin 8\n    case 0xc4:\n      length = dataView.getUint8(offset + 1);\n      offset += 2;\n      return bin(length);\n    // bin 16\n    case 0xc5:\n      length = dataView.getUint16(offset + 1);\n      offset += 3;\n      return bin(length);\n    // bin 32\n    case 0xc6:\n      length = dataView.getUint32(offset + 1);\n      offset += 5;\n      return bin(length);\n    // // ext 8\n    // case 0xc7:\n    //   length = dataView.getUint8(offset + 1);\n    //   extType = dataView.getUint8(offset + 2);\n    //   offset += 3;\n    //   return [extType, bin(length)];\n    // // ext 16\n    // case 0xc8:\n    //   length = dataView.getUint16(offset + 1);\n    //   extType = dataView.getUint8(offset + 3);\n    //   offset += 4;\n    //   return [extType, bin(length)];\n    // // ext 32\n    // case 0xc9:\n    //   length = dataView.getUint32(offset + 1);\n    //   extType = dataView.getUint8(offset + 5);\n    //   offset += 6;\n    //   return [extType, bin(length)];\n    // float 32\n    case 0xca:\n      value = dataView.getFloat32(offset + 1);\n      offset += 5;\n      return value;\n    // float 64\n    case 0xcb:\n      value = dataView.getFloat64(offset + 1);\n      offset += 9;\n      return value;\n    // uint8\n    case 0xcc:\n      value = buffer[offset + 1];\n      offset += 2;\n      return value;\n    // uint 16\n    case 0xcd:\n      value = dataView.getUint16(offset + 1);\n      offset += 3;\n      return value;\n    // uint 32\n    case 0xce:\n      value = dataView.getUint32(offset + 1);\n      offset += 5;\n      return value;\n    // // uint64\n    // case 0xcf:\n    //   // FIXME not available/representable in JS\n    //   // largest possible int in JS is 2^53\n    //   // value = dataView.getUint64(offset + 1);\n    //   offset += 9;\n    //   return 0;\n    // int 8\n    case 0xd0:\n      value = dataView.getInt8(offset + 1);\n      offset += 2;\n      return value;\n    // int 16\n    case 0xd1:\n      value = dataView.getInt16(offset + 1);\n      offset += 3;\n      return value;\n    // int 32\n    case 0xd2:\n      value = dataView.getInt32(offset + 1);\n      offset += 5;\n      return value;\n    // // int 64\n    // case 0xd3:\n    //   // FIXME not available/representable in JS\n    //   // largest possible int in JS is 2^53\n    //   // value = dataView.getInt64(offset + 1);\n    //   offset += 9;\n    //   return 0;\n\n    // // fixext 1\n    // case 0xd4:\n    //   extType = dataView.getUint8(offset + 1);\n    //   offset += 2;\n    //   return [extType, bin(1)];\n    // // fixext 2\n    // case 0xd5:\n    //   extType = dataView.getUint8(offset + 1);\n    //   offset += 2;\n    //   return [extType, bin(2)];\n    // // fixext 4\n    // case 0xd6:\n    //   extType = dataView.getUint8(offset + 1);\n    //   offset += 2;\n    //   return [extType, bin(4)];\n    // // fixext 8\n    // case 0xd7:\n    //   extType = dataView.getUint8(offset + 1);\n    //   offset += 2;\n    //   return [extType, bin(8)];\n    // // fixext 16\n    // case 0xd8:\n    //   extType = dataView.getUint8(offset + 1);\n    //   offset += 2;\n    //   return [extType, bin(16)];\n    // str 8\n    case 0xd9:\n      length = dataView.getUint8(offset + 1);\n      offset += 2;\n      return str(length);\n    // str 16\n    case 0xda:\n      length = dataView.getUint16(offset + 1);\n      offset += 3;\n      return str(length);\n    // str 32\n    case 0xdb:\n      length = dataView.getUint32(offset + 1);\n      offset += 5;\n      return str(length);\n    // array 16\n    case 0xdc:\n      length = dataView.getUint16(offset + 1);\n      offset += 3;\n      return array(length);\n    // array 32\n    case 0xdd:\n      length = dataView.getUint32(offset + 1);\n      offset += 5;\n      return array(length);\n    // map 16:\n    case 0xde:\n      length = dataView.getUint16(offset + 1);\n      offset += 3;\n      return map(length);\n    // map 32\n    case 0xdf:\n      length = dataView.getUint32(offset + 1);\n      offset += 5;\n      return map(length);\n    }\n\n    throw new Error(\"Unknown type 0x\" + type.toString(16));\n  }\n\n  // start the recursive parsing\n  return parse();\n}\n\n/**\n * Fields shared in encoded and decoded mmtf data objects.\n * @typedef {Object} module:MmtfDecode.SharedMmtfData\n * @property {String} mmtfVersion - MMTF specification version\n * @property {String} mmtfProducer - Program that created the file\n * @property {Float[]} [unitCell] - Crystallographic unit cell\n * @property {Float} unitCell.0 - x length\n * @property {Float} unitCell.1 - y length\n * @property {Float} unitCell.2 - z length\n * @property {Float} unitCell.3 - alpha angle\n * @property {Float} unitCell.4 - beta angle\n * @property {Float} unitCell.5 - gamma angle\n * @property {String} [spaceGroup] - Hermann-Mauguin symbol\n * @property {String} [structureId] - Some reference, e.g. a PDB ID\n * @property {String} [title] - Short description\n * @property {String} [depositionDate] - Deposition date in YYYY-MM-DD format\n * @property {String} [releaseDate] - Release date in YYYY-MM-DD format\n * @property {String[]} [experimentalMethods] - Structure determination methods\n * @property {Float} [resolution] - Resolution in Å\n * @property {Float} [rFree] - R-free value\n * @property {Float} [rWork] - R-work value\n * @property {Integer} numBonds - Number of bonds\n * @property {Integer} numAtoms - Number of atoms\n * @property {Integer} numGroups - Number of groups (residues)\n * @property {Integer} numChains - Number of chains\n * @property {Integer} numModels - Number of models\n * @property {Integer[]} chainsPerModel - List of number of chains in each model\n * @property {Integer[]} groupsPerChain - List of number of groups in each chain\n * @property {Entity[]} [entityList] - List of entity objects\n * @property {Integer[]} entityList.chainIndexList - Pointers into chain data fields\n * @property {String} entityList.description - Description of the entity\n * @property {String} entityList.type - Name of the entity type\n * @property {String} entityList.sequence - One letter code sequence\n * @property {Assembly[]} [bioAssemblyList] - List of assembly objects\n * @property {Transform[]} bioAssemblyList.transformList - List of transform objects\n * @property {Integer[]} bioAssemblyList.transformList.chainIndexList - Pointers into chain data fields\n * @property {Float[]} bioAssemblyList.transformList.matrix - 4x4 transformation matrix\n * @property {Array[]} [ncsOperatorList] - List of ncs operator matrices\n * @property {Float[]} ncsOperatorList. - 4x4 transformation matrix\n * @property {GroupType[]} groupList - List of groupType objects\n * @property {Integer[]} groupList.formalChargeList - List of atom formal charges\n * @property {String[]} groupList.elementList - List of elements\n * @property {String[]} groupList.atomNameList - List of atom names\n * @property {Integer[]} groupList.bondAtomList - List of bonded atom indices\n * @property {Integer[]} groupList.bondOrderList - List of bond orders\n * @property {String} groupList.groupName - The name of the group\n * @property {String} groupList.singleLetterCode - The single letter code\n * @property {String} groupList.chemCompType -  The chemical component type\n */\n\n/**\n * Encoded mmtf data object. Also includes the fields from {@link module:MmtfDecode.SharedMmtfData}. See MMTF specification on how they are encoded.\n * @typedef {Object} module:MmtfDecode.EncodedMmtfData\n * @mixes module:MmtfDecode.SharedMmtfData\n * @property {Uint8Array} [bondAtomList] - Encoded bonded atom indices\n * @property {Uint8Array} [bondOrderList] - Encoded bond orders\n * @property {Uint8Array} xCoordBig - Encoded x coordinates in Å, part 1\n * @property {Uint8Array} xCoordSmall - Encoded x coordinates in Å, part 2\n * @property {Uint8Array} yCoordBig - Encoded y coordinates in Å, part 1\n * @property {Uint8Array} yCoordSmall - Encoded y coordinates in Å, part 2\n * @property {Uint8Array} yCoordBig - Encoded y coordinates in Å, part 1\n * @property {Uint8Array} yCoordSmall - Encoded y coordinates in Å, part 2\n * @property {Uint8Array} [bFactorBig] - Encoded B-factors in Å^2, part 1\n * @property {Uint8Array} [bFactorSmall] - Encoded B-factors in Å^2, part 2\n * @property {Uint8Array} [atomIdList] - Encoded  atom ids\n * @property {Uint8Array} [altLocList] - Encoded alternate location labels\n * @property {Uint8Array} [occupancyList] - Encoded occupancies\n * @property {Uint8Array} groupIdList - Encoded group ids\n * @property {Uint8Array} groupTypeList - Encoded group types\n * @property {Uint8Array} [secStructList] - Encoded secondary structure codes\n * @property {Uint8Array} [insCodeList] - Encoded insertion codes\n * @property {Uint8Array} [seuenceIdList] - Encoded sequence ids\n * @property {Uint8Array} chainIdList - Encoded chain ids\n * @property {Uint8Array} [chainNameList] - Encoded chain names\n */\n\n/**\n * Decoded mmtf data object. Also includes fields the from {@link module:MmtfDecode.SharedMmtfData}.\n * @typedef {Object} module:MmtfDecode.MmtfData\n * @mixes module:MmtfDecode.SharedMmtfData\n * @property {Int32Array} [bondAtomList] - List of bonded atom indices\n * @property {Uint8Array} [bondOrderList] - List of bond orders\n * @property {Float32Array} xCoordList - List of x coordinates in Å\n * @property {Float32Array} yCoordList - List of y coordinates in Å\n * @property {Float32Array} zCoordList - List of z coordinates in Å\n * @property {Float32Array} [bFactorList] - List of B-factors in Å^2\n * @property {Int32Array} [atomIdList] - List of atom ids\n * @property {Uint8Array} [altLocList] - List of alternate location labels\n * @property {Float32Array} [occupancyList] - List of occupancies\n * @property {Int32Array} groupIdList - List of group ids\n * @property {Int32Array} groupTypeList - List of group types\n * @property {Int8Array} [secStructList] - List of secondary structure codes, encoding\n *    0: pi helix, 1: bend, 2: alpha helix, 3: extended,\n *    4: 3-10 helix, 5: bridge, 6: turn, 7: coil, -1: undefined\n * @property {Uint8Array} [insCodeList] - List of insertion codes\n * @property {Int32Array} [seuenceIdList] - List of sequence ids\n * @property {Uint8Array} chainIdList - List of chain ids\n * @property {Uint8Array} [chainNameList] - List of chain names\n */\n\n\n/**\n * [performDecoding description]\n * @param  {Integer} bytes [description]\n * @param  {Integer} size  [description]\n * @param  {Uint8Array} param [description]\n * @return {TypedArray}       [description]\n */\nfunction performDecoding( type, bytes, size, param ){\n\n    switch( type ){\n        case 1:\n            return decodeFloat32( bytes );\n        case 2:\n            return getInt8View( bytes );\n        case 3:\n            return decodeInt16( bytes );\n        case 4:\n            return decodeInt32( bytes );\n        case 5:\n            // var length = decodeInt32( param )[ 0 ];\n            return getUint8View( bytes );  // interpret as string array\n        case 6:\n            // interpret as char array\n            return decodeRun( decodeInt32( bytes ), new Uint8Array( size ) );\n        case 7:\n            return decodeRun( decodeInt32( bytes ) )\n        case 8:\n            return decodeDeltaRun( decodeInt32( bytes ) );\n        case 9:\n            return decodeIntegerRun( decodeInt32( bytes ), decodeInt32( param )[ 0 ] );\n        case 10:\n            return decodeIntegerDeltaPacking( decodeInt16( bytes ), decodeInt32( param )[ 0 ] );\n        case 11:\n            return decodeInteger( decodeInt16( bytes ), decodeInt32( param )[ 0 ] );\n        case 12:\n            return decodeIntegerPacking( decodeInt16( bytes ), decodeInt32( param )[ 0 ] );\n        case 13:\n            return decodeIntegerPacking( getInt8View( bytes ), decodeInt32( param )[ 0 ] );\n        case 14:\n            return decodePacking( decodeInt16( bytes ) );\n        case 15:\n            return decodePacking( getInt8View( bytes ) );\n    }\n\n};\n\n\n/**\n * Decode MMTF fields\n * @static\n * @param  {Object} inputDict - encoded MMTF data\n * @param  {Object} [params] - decoding parameters\n * @param  {String[]} params.ignoreFields - names of optional fields not to decode\n * @return {module:MmtfDecode.MmtfData} mmtfData\n */\nfunction decodeMmtf( inputDict, params ){\n\n    params = params || {};\n    var ignoreFields = params.ignoreFields;\n    var outputDict = {};\n\n    AllFields.forEach( function( name ){\n        var ignore = ignoreFields ? ignoreFields.indexOf( name ) !== -1 : false;\n        var data = inputDict[ name ];\n        if( !ignore && data !== undefined ){\n            if( data instanceof Uint8Array ){\n                outputDict[ name ] = performDecoding.apply( null, decodeBytes( data ) );\n            }else{\n                outputDict[ name ] = data;\n            }\n        }\n    } );\n\n    return outputDict;\n\n}\n\n/**\n * @file mmtf-traverse\n * @private\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\n\n/**\n * mmtf traverse module.\n * @module MmtfTraverse\n */\n\n/**\n * Converts an array of ASCII codes trimming '\\0' bytes\n * @private\n * @param  {Array} charCodeArray - array of ASCII char codes\n * @return {String} '\\0' trimmed string\n */\nfunction fromCharCode( charCodeArray ){\n    return String.fromCharCode.apply( null, charCodeArray ).replace(/\\0/g, '');\n}\n\n\n/**\n * @callback module:MmtfTraverse.onModel\n * @param {Object} modelData\n * @param {Integer} modelData.chainCount - number of chains in the model\n * @param {Integer} modelData.modelIndex - index of the model\n */\n\n/**\n * @callback module:MmtfTraverse.onChain\n * @param {Object} chainData\n * @param {Integer} chainData.groupCount - number of groups in the chain\n * @param {Integer} chainData.chainIndex - index of the chain\n * @param {Integer} chainData.modelIndex - index of the parent model\n * @param {String} chainData.chainId - chain id\n * @param {?String} chainData.chainName - additional chain name\n */\n\n/**\n * @callback module:MmtfTraverse.onGroup\n * @param {Object} groupData\n * @param {Integer} groupData.atomCount - number of atoms in the group\n * @param {Integer} groupData.groupIndex - index of the group\n * @param {Integer} groupData.chainIndex - index of the parent chain\n * @param {Integer} groupData.modelIndex - index of the parent model\n * @param {Integer} groupData.groupId - group id (residue number)\n * @param {Integer} groupData.groupType - index to an entry in {@link module:MmtfDecode.MmtfData}#groupList\n * @param {String} groupData.groupName - name of the group, 0 to 5 characters\n * @param {Char} groupData.singleLetterCode - IUPAC single letter code, otherwise 'X', 1 character\n * @param {String} groupData.chemCompType - chemical component type from the mmCIF dictionary\n * @param {?Integer} groupData.secStruct - sencoded secondary structure |\n *    0: pi helix, 1: bend, 2: alpha helix, 3: extended,\n *    4: 3-10 helix, 5: bridge, 6: turn, 7: coil, -1: undefined\n * @param {?Char} groupData.insCode - insertion code\n * @param {?Integer} groupData.sequenceIndex - index to the `sequence` property of\n *    the corresponding entity, -1 when the entity has no sequence\n */\n\n/**\n * @callback module:MmtfTraverse.onAtom\n * @param {Object} atomData\n * @param {Integer} atomData.atomIndex - index of the atom\n * @param {Integer} atomData.groupIndex - index of the parent group\n * @param {Integer} atomData.chainIndex - index of the parent chain\n * @param {Integer} atomData.modelIndex - index of the parent model\n * @param {?Integer} atomData.atomId - atom id\n * @param {String} atomData.element - IUPAC element name, 0 to 3 characters\n * @param {String} atomData.atomName - name of the atom, 0 to 5 characters\n * @param {Integer} atomData.formalCharge - formal charge of the atom\n * @param {Float} atomData.xCoord - x coordinate in Å\n * @param {Float} atomData.yCoord - y coordinate in Å\n * @param {Float} atomData.zCoord - z coordinate in Å\n * @param {?Float} atomData.bFactor - B-factor in in Å^2\n * @param {?Char} atomData.altLoc - alternate location identifier\n * @param {?Float} atomData.occupancy - occupancy of the atom\n */\n\n/**\n * @callback module:MmtfTraverse.onBond\n * @param {Object} bondData\n * @param {Integer} bondData.atomIndex1 - index of the first atom\n * @param {Integer} bondData.atomIndex2 - index of the secound atom\n * @param {Integer} bondData.bondOrder - bond order, allowed values are 1 to 3\n */\n\n\n/**\n * Traverse the MMTF structure data.\n * @static\n * @param {module:MmtfDecode.MmtfData} mmtfData - decoded mmtf data\n * @param {Object} eventCallbacks\n * @param {module:MmtfTraverse.onModel} [eventCallbacks.onModel] - called for each model\n * @param {module:MmtfTraverse.onChain} [eventCallbacks.onChain] - called for each chain\n * @param {module:MmtfTraverse.onGroup} [eventCallbacks.onGroup] - called for each group\n * @param {module:MmtfTraverse.onAtom} [eventCallbacks.onAtom] - called for each atom\n * @param {module:MmtfTraverse.onBond} [eventCallbacks.onBond] - called for each bond\n * @param {Object} [params] - traversal parameters\n * @param {Boolean} [params.firstModelOnly] - traverse only the first model\n */\nfunction traverseMmtf( mmtfData, eventCallbacks, params ){\n\n    params = params || {};\n\n    var firstModelOnly = params.firstModelOnly;\n\n    // setup callbacks\n    var onModel = eventCallbacks.onModel;\n    var onChain = eventCallbacks.onChain;\n    var onGroup = eventCallbacks.onGroup;\n    var onAtom = eventCallbacks.onAtom;\n    var onBond = eventCallbacks.onBond;\n\n    // setup index counters\n    var modelIndex = 0;\n    var chainIndex = 0;\n    var groupIndex = 0;\n    var atomIndex = 0;\n\n    var modelFirstAtomIndex = 0;\n    var modelLastAtomIndex = -1;\n\n    // setup optional fields\n    var chainNameList = mmtfData.chainNameList;\n    var secStructList = mmtfData.secStructList;\n    var insCodeList = mmtfData.insCodeList;\n    var sequenceIndexList = mmtfData.sequenceIndexList;\n    var atomIdList = mmtfData.atomIdList;\n    var bFactorList = mmtfData.bFactorList;\n    var altLocList = mmtfData.altLocList;\n    var occupancyList = mmtfData.occupancyList;\n    var bondAtomList = mmtfData.bondAtomList;\n    var bondOrderList = mmtfData.bondOrderList;\n\n    // hoisted loop variables\n    var o, ol, i, j, k, kl;\n\n    // loop over all models\n    for( o = 0, ol = mmtfData.chainsPerModel.length; o < ol; ++o ){\n\n        if( firstModelOnly && modelIndex > 0 ) break;\n\n        var modelChainCount = mmtfData.chainsPerModel[ modelIndex ];\n\n        if( onModel ){\n            onModel({\n                chainCount: modelChainCount,\n                modelIndex: modelIndex\n            });\n        }\n\n        for( i = 0; i < modelChainCount; ++i ){\n\n            var chainGroupCount = mmtfData.groupsPerChain[ chainIndex ];\n            if( onChain ){\n                var chainId = fromCharCode(\n                    mmtfData.chainIdList.subarray( chainIndex * 4, chainIndex * 4 + 4 )\n                );\n                var chainName = null;\n                if( chainNameList ){\n                    chainName = fromCharCode(\n                        chainNameList.subarray( chainIndex * 4, chainIndex * 4 + 4 )\n                    );\n                }\n                onChain({\n                    groupCount: chainGroupCount,\n                    chainIndex: chainIndex,\n                    modelIndex: modelIndex,\n                    chainId: chainId,\n                    chainName: chainName\n                });\n            }\n\n            for( j = 0; j < chainGroupCount; ++j ){\n\n                var groupData = mmtfData.groupList[ mmtfData.groupTypeList[ groupIndex ] ];\n                var groupAtomCount = groupData.atomNameList.length;\n                if( onGroup ){\n                    var secStruct = null;\n                    if( secStructList ){\n                        secStruct = secStructList[ groupIndex ];\n                    }\n                    var insCode = null;\n                    if( mmtfData.insCodeList ){\n                        insCode = String.fromCharCode( insCodeList[ groupIndex ] );\n                    }\n                    var sequenceIndex = null;\n                    if( sequenceIndexList ){\n                        sequenceIndex = sequenceIndexList[ groupIndex ];\n                    }\n                    onGroup({\n                        atomCount: groupAtomCount,\n                        groupIndex: groupIndex,\n                        chainIndex: chainIndex,\n                        modelIndex: modelIndex,\n                        groupId: mmtfData.groupIdList[ groupIndex ],\n                        groupType: mmtfData.groupTypeList[ groupIndex ],\n                        groupName: groupData.groupName,\n                        singleLetterCode: groupData.singleLetterCode,\n                        chemCompType: groupData.chemCompType,\n                        secStruct: secStruct,\n                        insCode: insCode,\n                        sequenceIndex: sequenceIndex\n                    });\n                }\n\n                for( k = 0; k < groupAtomCount; ++k ){\n\n                    if( onAtom ){\n                        var atomId = null;\n                        if( atomIdList ){\n                            atomId = atomIdList[ atomIndex ];\n                        }\n                        var bFactor = null;\n                        if( bFactorList ){\n                            bFactor = bFactorList[ atomIndex ];\n                        }\n                        var altLoc = null;\n                        if( altLocList ){\n                            altLoc = String.fromCharCode( altLocList[ atomIndex ] );\n                        }\n                        var occupancy = null;\n                        if( occupancyList ){\n                            occupancy = occupancyList[ atomIndex ];\n                        }\n                        onAtom({\n                            atomIndex: atomIndex,\n                            groupIndex: groupIndex,\n                            chainIndex: chainIndex,\n                            modelIndex: modelIndex,\n                            atomId: atomId,\n                            element: groupData.elementList[ k ],\n                            atomName: groupData.atomNameList[ k ],\n                            formalCharge: groupData.formalChargeList[ k ],\n                            xCoord: mmtfData.xCoordList[ atomIndex ],\n                            yCoord: mmtfData.yCoordList[ atomIndex ],\n                            zCoord: mmtfData.zCoordList[ atomIndex ],\n                            bFactor: bFactor,\n                            altLoc: altLoc,\n                            occupancy: occupancy\n                        });\n                    }\n\n                    atomIndex += 1;\n                }\n\n                if( onBond ){\n                    // intra group bonds\n                    var groupBondAtomList = groupData.bondAtomList;\n                    for( k = 0, kl = groupData.bondOrderList.length; k < kl; ++k ){\n                        onBond({\n                            atomIndex1: atomIndex - groupAtomCount + groupBondAtomList[ k * 2 ],\n                            atomIndex2: atomIndex - groupAtomCount + groupBondAtomList[ k * 2 + 1 ],\n                            bondOrder: groupData.bondOrderList[ k ]\n                        });\n                    }\n                }\n\n                groupIndex += 1;\n            }\n\n            chainIndex += 1;\n        }\n\n        modelFirstAtomIndex = modelLastAtomIndex + 1;\n        modelLastAtomIndex = atomIndex - 1;  // subtract one as it already has been incremented\n\n        if( onBond ){\n            // inter group bonds\n            if( bondAtomList ){\n                for( k = 0, kl = bondAtomList.length; k < kl; k += 2 ){\n                    var atomIndex1 = bondAtomList[ k ];\n                    var atomIndex2 = bondAtomList[ k + 1 ];\n                    if( ( atomIndex1 >= modelFirstAtomIndex && atomIndex1 <= modelLastAtomIndex ) ||\n                        ( atomIndex2 >= modelFirstAtomIndex && atomIndex2 <= modelLastAtomIndex )\n                    ){\n                        onBond({\n                            atomIndex1: atomIndex1,\n                            atomIndex2: atomIndex2,\n                            bondOrder: bondOrderList ? bondOrderList[ k / 2 ] : null\n                        });\n                    }\n                }\n            }\n        }\n\n        modelIndex += 1;\n    }\n\n}\n\n/**\n * Version name\n * @static\n * @type {String}\n */\nvar version = \"v1.1.0dev\";\n\n/**\n * Version name\n * @private\n * @type {String}\n */\nvar baseUrl = \"//mmtf.rcsb.org/v1.0/\";\n\n/**\n * URL of the RCSB webservice to obtain MMTF files\n * @static\n * @type {String}\n */\nvar fetchUrl = baseUrl + \"full/\";\n\n/**\n * URL of the RCSB webservice to obtain reduced MMTF files\n * @static\n * @type {String}\n */\nvar fetchReducedUrl = baseUrl + \"reduced/\";\n\n/**\n * Encode MMTF fields\n * @static\n * @param  {module:MmtfDecode.MmtfData} mmtfData - mmtf data\n * @return {Uint8Array} encoded MMTF fields\n */\nfunction encode( mmtfData ){\n    return encodeMsgpack( encodeMmtf( mmtfData ) );\n}\n\n/**\n * Decode MMTF fields\n * @static\n * @example\n * // bin is Uint8Array containing the mmtf msgpack\n * var mmtfData = MMTF.decode( bin );\n * console.log( mmtfData.numAtoms );\n *\n * @param  {Uint8Array|ArrayBuffer|module:MmtfDecode.EncodedMmtfData} binOrDict - binary MessagePack or encoded MMTF data\n * @param  {Object} [params] - decoding parameters\n * @param {String[]} params.ignoreFields - names of optional fields not to decode\n * @return {module:MmtfDecode.MmtfData} mmtfData\n */\nfunction decode( binOrDict, params ){\n\t// make sure binOrDict is not a plain Arraybuffer\n    if( binOrDict instanceof ArrayBuffer ){\n        binOrDict = new Uint8Array( binOrDict );\n    }\n\n    var inputDict;\n    if( binOrDict instanceof Uint8Array ){\n        // get dict from msgpack\n        inputDict = decodeMsgpack( binOrDict );\n    }else{\n        // already a dict\n        inputDict = binOrDict;\n    }\n\n    return decodeMmtf( inputDict, params );\n}\n\n/**\n * @callback module:MMTF.onLoad\n * @param {module:MmtfDecode.MmtfData} mmtfData - decoded mmtf data object\n */\n\n/**\n * helper method to fetch binary files from an URL\n * @private\n * @param  {String} pdbid - PDB ID to fetch\n * @param  {String} baseUrl - URL to fetch from\n * @param  {module:MMTF.onLoad} onLoad - callback( mmtfData )\n * @param  {Function} onError - callback( error )\n * @return {undefined}\n */\nfunction _fetch( pdbid, baseUrl, onLoad, onError ){\n    var xhr = new XMLHttpRequest();\n    function _onLoad(){\n        try{\n            var mmtfData = decode( xhr.response );\n            onLoad( mmtfData );\n        }catch( error ){\n            onError( error );\n        }\n    }\n    xhr.addEventListener( \"load\", _onLoad, true );\n    xhr.addEventListener( \"error\", onError, true );\n    xhr.responseType = \"arraybuffer\";\n    xhr.open( \"GET\", baseUrl + pdbid.toUpperCase() );\n    xhr.send();\n}\n\n/**\n * Fetch MMTF file from RCSB webservice which contains\n * @static\n * @example\n * MMTF.fetch(\n *     \"3PQR\",\n *     // onLoad callback\n *     function( mmtfData ){ console.log( mmtfData ) },\n *     // onError callback\n *     function( error ){ console.error( error ) }\n * );\n *\n * @param  {String} pdbid - PDB ID to fetch\n * @param  {module:MMTF.onLoad} onLoad - callback( mmtfData )\n * @param  {Function} onError - callback( error )\n * @return {undefined}\n */\nfunction fetch( pdbid, onLoad, onError ){\n    _fetch( pdbid, fetchUrl, onLoad, onError );\n}\n\n/**\n * Fetch reduced MMTF file from RCSB webservice which contains\n * protein C-alpha, nucleotide phosphate and ligand atoms\n * @static\n * @example\n * MMTF.fetchReduced(\n *     \"3PQR\",\n *     // onLoad callback\n *     function( mmtfData ){ console.log( mmtfData ) },\n *     // onError callback\n *     function( error ){ console.error( error ) }\n * );\n *\n * @param  {String} pdbid - PDB ID to fetch\n * @param  {module:MMTF.onLoad} onLoad - callback( mmtfData )\n * @param  {Function} onError - callback( error )\n * @return {undefined}\n */\nfunction fetchReduced( pdbid, onLoad, onError ){\n    _fetch( pdbid, fetchReducedUrl, onLoad, onError );\n}\n\nexport { encode, decode, traverseMmtf as traverse, fetch, fetchReduced, version, fetchUrl, fetchReducedUrl, encodeMsgpack, encodeMmtf, decodeMsgpack, decodeMmtf };","/**\n * @file Mmtf Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Matrix4 } from 'three';\nimport { Debug, Log, ParserRegistry } from '../globals';\nimport StructureParser from './structure-parser';\nimport { buildUnitcellAssembly, calculateBondsBetween, calculateBondsWithin } from '../structure/structure-utils';\nimport { ChemCompHetero } from '../structure/structure-constants';\nimport Entity from '../structure/entity';\nimport Unitcell from '../symmetry/unitcell';\nimport Assembly from '../symmetry/assembly';\nimport { decodeMsgpack, decodeMmtf } from '../../lib/mmtf.es6';\nconst SstrucMap = {\n    '0': 'i'.charCodeAt(0),\n    '1': 's'.charCodeAt(0),\n    '2': 'h'.charCodeAt(0),\n    '3': 'e'.charCodeAt(0),\n    '4': 'g'.charCodeAt(0),\n    '5': 'b'.charCodeAt(0),\n    '6': 't'.charCodeAt(0),\n    '7': 'l'.charCodeAt(0),\n    '-1': ''.charCodeAt(0) // NA\n};\nclass MmtfParser extends StructureParser {\n    get type() { return 'mmtf'; }\n    get isBinary() { return true; }\n    _parse() {\n        // https://github.com/rcsb/mmtf\n        if (Debug)\n            Log.time('MmtfParser._parse ' + this.name);\n        let i, il, j, jl, groupData;\n        const s = this.structure;\n        const sd = decodeMmtf(decodeMsgpack(this.streamer.data));\n        // structure header\n        const headerFields = [\n            'depositionDate', 'releaseDate', 'resolution',\n            'rFree', 'rWork', 'experimentalMethods'\n        ];\n        headerFields.forEach(function (name) {\n            if (sd[name] !== undefined) {\n                s.header[name] = sd[name];\n            }\n        });\n        let numBonds, numAtoms, numGroups, numChains, numModels;\n        let chainsPerModel;\n        s.id = sd.structureId;\n        s.title = sd.title;\n        s.atomStore.addField('formalCharge', 1, 'int8');\n        if (this.firstModelOnly || this.asTrajectory) {\n            numModels = 1;\n            numChains = sd.chainsPerModel[0];\n            numGroups = 0;\n            for (i = 0, il = numChains; i < il; ++i) {\n                numGroups += sd.groupsPerChain[i];\n            }\n            numAtoms = 0;\n            for (i = 0, il = numGroups; i < il; ++i) {\n                groupData = sd.groupList[sd.groupTypeList[i]];\n                numAtoms += groupData.atomNameList.length;\n            }\n            numBonds = sd.numBonds;\n            chainsPerModel = [numChains];\n        }\n        else {\n            numBonds = sd.numBonds;\n            numAtoms = sd.numAtoms;\n            numGroups = sd.numGroups;\n            numChains = sd.numChains;\n            numModels = sd.numModels;\n            chainsPerModel = sd.chainsPerModel;\n        }\n        numBonds += numGroups; // add numGroups to have space for polymer bonds\n        //\n        if (this.asTrajectory) {\n            for (i = 0, il = sd.numModels; i < il; ++i) {\n                const frame = new Float32Array(numAtoms * 3);\n                const frameAtomOffset = numAtoms * i;\n                for (j = 0; j < numAtoms; ++j) {\n                    const j3 = j * 3;\n                    const offset = j + frameAtomOffset;\n                    frame[j3] = sd.xCoordList[offset];\n                    frame[j3 + 1] = sd.yCoordList[offset];\n                    frame[j3 + 2] = sd.zCoordList[offset];\n                }\n                s.frames.push(frame);\n            }\n        }\n        // bondStore\n        const bAtomIndex1 = new Uint32Array(numBonds);\n        const bAtomIndex2 = new Uint32Array(numBonds);\n        const bBondOrder = new Uint8Array(numBonds);\n        const aGroupIndex = new Uint32Array(numAtoms);\n        const aFormalCharge = new Int8Array(numAtoms);\n        const gChainIndex = new Uint32Array(numGroups);\n        const gAtomOffset = new Uint32Array(numGroups);\n        const gAtomCount = new Uint16Array(numGroups);\n        const cModelIndex = new Uint16Array(numChains);\n        const cGroupOffset = new Uint32Array(numChains);\n        const cGroupCount = new Uint32Array(numChains);\n        const mChainOffset = new Uint32Array(numModels);\n        const mChainCount = new Uint32Array(numModels);\n        // set-up model-chain relations\n        let chainOffset = 0;\n        for (i = 0, il = numModels; i < il; ++i) {\n            const modelChainCount = chainsPerModel[i];\n            mChainOffset[i] = chainOffset;\n            mChainCount[i] = modelChainCount;\n            for (j = 0; j < modelChainCount; ++j) {\n                cModelIndex[j + chainOffset] = i;\n            }\n            chainOffset += modelChainCount;\n        }\n        // set-up chain-residue relations\n        const groupsPerChain = sd.groupsPerChain;\n        let groupOffset = 0;\n        for (i = 0, il = numChains; i < il; ++i) {\n            const chainGroupCount = groupsPerChain[i];\n            cGroupOffset[i] = groupOffset;\n            cGroupCount[i] = chainGroupCount;\n            for (j = 0; j < chainGroupCount; ++j) {\n                gChainIndex[j + groupOffset] = i;\n            }\n            groupOffset += chainGroupCount;\n        }\n        /// ///\n        // get data from group map\n        let atomOffset = 0;\n        let bondOffset = 0;\n        for (i = 0, il = numGroups; i < il; ++i) {\n            groupData = sd.groupList[sd.groupTypeList[i]];\n            const groupAtomCount = groupData.atomNameList.length;\n            const groupFormalChargeList = groupData.formalChargeList;\n            const groupBondAtomList = groupData.bondAtomList;\n            const groupBondOrderList = groupData.bondOrderList;\n            for (j = 0, jl = groupBondOrderList.length; j < jl; ++j) {\n                bAtomIndex1[bondOffset] = atomOffset + groupBondAtomList[j * 2];\n                bAtomIndex2[bondOffset] = atomOffset + groupBondAtomList[j * 2 + 1];\n                bBondOrder[bondOffset] = groupBondOrderList[j];\n                bondOffset += 1;\n            }\n            //\n            gAtomOffset[i] = atomOffset;\n            gAtomCount[i] = groupAtomCount;\n            for (j = 0; j < groupAtomCount; ++j) {\n                aGroupIndex[atomOffset] = i;\n                aFormalCharge[atomOffset] = groupFormalChargeList[j];\n                atomOffset += 1;\n            }\n        }\n        // extra bonds\n        const bondAtomList = sd.bondAtomList;\n        if (bondAtomList) {\n            if (sd.bondOrderList) {\n                bBondOrder.set(sd.bondOrderList, bondOffset);\n            }\n            for (i = 0, il = bondAtomList.length; i < il; i += 2) {\n                const atomIndex1 = bondAtomList[i];\n                const atomIndex2 = bondAtomList[i + 1];\n                if (atomIndex1 < numAtoms && atomIndex2 < numAtoms) {\n                    bAtomIndex1[bondOffset] = atomIndex1;\n                    bAtomIndex2[bondOffset] = atomIndex2;\n                    bondOffset += 1;\n                }\n            }\n        }\n        //\n        s.bondStore.length = bBondOrder.length;\n        s.bondStore.count = bondOffset;\n        s.bondStore.atomIndex1 = bAtomIndex1;\n        s.bondStore.atomIndex2 = bAtomIndex2;\n        s.bondStore.bondOrder = bBondOrder;\n        s.atomStore.length = numAtoms;\n        s.atomStore.count = numAtoms;\n        s.atomStore.residueIndex = aGroupIndex;\n        s.atomStore.atomTypeId = new Uint16Array(numAtoms);\n        s.atomStore.x = sd.xCoordList.subarray(0, numAtoms);\n        s.atomStore.y = sd.yCoordList.subarray(0, numAtoms);\n        s.atomStore.z = sd.zCoordList.subarray(0, numAtoms);\n        s.atomStore.serial = sd.atomIdList.subarray(0, numAtoms);\n        s.atomStore.bfactor = sd.bFactorList.subarray(0, numAtoms);\n        s.atomStore.altloc = sd.altLocList.subarray(0, numAtoms);\n        s.atomStore.occupancy = sd.occupancyList.subarray(0, numAtoms);\n        s.atomStore.formalCharge = aFormalCharge;\n        s.residueStore.length = numGroups;\n        s.residueStore.count = numGroups;\n        s.residueStore.chainIndex = gChainIndex;\n        s.residueStore.residueTypeId = sd.groupTypeList;\n        s.residueStore.atomOffset = gAtomOffset;\n        s.residueStore.atomCount = gAtomCount;\n        s.residueStore.resno = sd.groupIdList.subarray(0, numGroups);\n        s.residueStore.sstruc = sd.secStructList.subarray(0, numGroups);\n        s.residueStore.inscode = sd.insCodeList.subarray(0, numGroups);\n        s.chainStore.length = numChains;\n        s.chainStore.count = numChains;\n        s.chainStore.entityIndex = new Uint16Array(numChains);\n        s.chainStore.modelIndex = cModelIndex;\n        s.chainStore.residueOffset = cGroupOffset;\n        s.chainStore.residueCount = cGroupCount;\n        s.chainStore.chainname = sd.chainNameList.subarray(0, numChains * 4);\n        s.chainStore.chainid = sd.chainIdList.subarray(0, numChains * 4);\n        s.modelStore.length = numModels;\n        s.modelStore.count = numModels;\n        s.modelStore.chainOffset = mChainOffset;\n        s.modelStore.chainCount = mChainCount;\n        //\n        let groupTypeDict = {};\n        for (i = 0, il = sd.groupList.length; i < il; ++i) {\n            const groupType = sd.groupList[i];\n            const atomTypeIdList = [];\n            for (j = 0, jl = groupType.atomNameList.length; j < jl; ++j) {\n                const element = groupType.elementList[j].toUpperCase();\n                const atomname = groupType.atomNameList[j];\n                atomTypeIdList.push(s.atomMap.add(atomname, element));\n            }\n            const chemCompType = groupType.chemCompType.toUpperCase();\n            const hetFlag = ChemCompHetero.includes(chemCompType);\n            const numGroupBonds = groupType.bondOrderList.length;\n            const atomIndices1 = new Array(numGroupBonds);\n            const atomIndices2 = new Array(numGroupBonds);\n            for (j = 0; j < numGroupBonds; ++j) {\n                atomIndices1[j] = groupType.bondAtomList[j * 2];\n                atomIndices2[j] = groupType.bondAtomList[j * 2 + 1];\n            }\n            const bonds = {\n                atomIndices1: atomIndices1,\n                atomIndices2: atomIndices2,\n                bondOrders: groupType.bondOrderList\n            };\n            groupTypeDict[i] = s.residueMap.add(groupType.groupName, atomTypeIdList, hetFlag, chemCompType, bonds);\n        }\n        for (i = 0, il = numGroups; i < il; ++i) {\n            s.residueStore.residueTypeId[i] = groupTypeDict[s.residueStore.residueTypeId[i]];\n        }\n        for (i = 0, il = s.atomStore.count; i < il; ++i) {\n            const residueIndex = s.atomStore.residueIndex[i];\n            const residueType = s.residueMap.list[s.residueStore.residueTypeId[residueIndex]];\n            const resAtomOffset = s.residueStore.atomOffset[residueIndex];\n            s.atomStore.atomTypeId[i] = residueType.atomTypeIdList[i - resAtomOffset];\n        }\n        if (sd.secStructList) {\n            const secStructLength = sd.secStructList.length;\n            for (i = 0, il = s.residueStore.count; i < il; ++i) {\n                // with ( i % secStructLength ) secStruct entries are reused\n                const sstruc = SstrucMap[s.residueStore.sstruc[i % secStructLength]];\n                if (sstruc !== undefined)\n                    s.residueStore.sstruc[i] = sstruc;\n            }\n        }\n        //\n        if (sd.entityList) {\n            sd.entityList.forEach(function (e, i) {\n                s.entityList[i] = new Entity(s, i, e.description, e.type, e.chainIndexList);\n            });\n        }\n        if (sd.bioAssemblyList) {\n            sd.bioAssemblyList.forEach(function (_assembly, k) {\n                const id = k + 1;\n                const assembly = new Assembly('' + id);\n                s.biomolDict['BU' + id] = assembly;\n                let chainToPart = {};\n                _assembly.transformList.forEach(function (_transform) {\n                    const matrix = new Matrix4().fromArray(_transform.matrix).transpose();\n                    const chainList = _transform.chainIndexList.map(function (chainIndex) {\n                        let chainname = '';\n                        for (let k = 0; k < 4; ++k) {\n                            const code = sd.chainNameList[chainIndex * 4 + k];\n                            if (code) {\n                                chainname += String.fromCharCode(code);\n                            }\n                            else {\n                                break;\n                            }\n                        }\n                        return chainname;\n                    });\n                    const part = chainToPart[chainList.toString()];\n                    if (part) {\n                        part.matrixList.push(matrix);\n                    }\n                    else {\n                        chainToPart[chainList.toString()] = assembly.addPart([matrix], chainList);\n                    }\n                });\n            });\n        }\n        if (sd.ncsOperatorList) {\n            const ncsName = 'NCS';\n            const ncsAssembly = new Assembly(ncsName);\n            const ncsPart = ncsAssembly.addPart();\n            sd.ncsOperatorList.forEach(function (_operator) {\n                const matrix = new Matrix4().fromArray(_operator).transpose();\n                ncsPart.matrixList.push(matrix);\n            });\n            if (ncsPart.matrixList.length > 0) {\n                s.biomolDict[ncsName] = ncsAssembly;\n            }\n        }\n        const uc = sd.unitCell;\n        if (uc && Array.isArray(uc) && uc[0]) {\n            s.unitcell = new Unitcell({\n                a: uc[0],\n                b: uc[1],\n                c: uc[2],\n                alpha: uc[3],\n                beta: uc[4],\n                gamma: uc[5],\n                spacegroup: sd.spaceGroup\n            });\n        }\n        else {\n            s.unitcell = undefined;\n        }\n        // calculate backbone bonds\n        calculateBondsBetween(s, true);\n        // calculate rung bonds\n        calculateBondsWithin(s, true);\n        s.finalizeAtoms();\n        s.finalizeBonds();\n        buildUnitcellAssembly(s);\n        if (Debug)\n            Log.timeEnd('MmtfParser._parse ' + this.name);\n    }\n}\nParserRegistry.add('mmtf', MmtfParser);\nexport default MmtfParser;\n//# sourceMappingURL=mmtf-parser.js.map","/**\n * @file Mol2 Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Debug, Log, ParserRegistry } from '../globals';\nimport { assignResidueTypeBonds, calculateChainnames, calculateSecondaryStructure, calculateBondsBetween, calculateBondsWithin } from '../structure/structure-utils';\nimport StructureParser from './structure-parser';\nconst reWhitespace = /\\s+/;\nconst bondTypes = {\n    '1': 1,\n    '2': 2,\n    '3': 3,\n    'am': 1,\n    'ar': 1,\n    'du': 1,\n    'un': 1,\n    'nc': 0 // not connected\n};\nclass Mol2Parser extends StructureParser {\n    get type() { return 'mol2'; }\n    _parse() {\n        // http://paulbourke.net/dataformats/mol2/\n        if (Debug)\n            Log.time('Mol2Parser._parse ' + this.name);\n        const s = this.structure;\n        const sb = this.structureBuilder;\n        const firstModelOnly = this.firstModelOnly;\n        const asTrajectory = this.asTrajectory;\n        const frames = s.frames;\n        let doFrames = false;\n        let currentFrame, currentCoord;\n        const atomMap = s.atomMap;\n        const atomStore = s.atomStore;\n        atomStore.resize(Math.round(this.streamer.data.length / 60));\n        atomStore.addField('partialCharge', 1, 'float32');\n        let idx = 0;\n        let moleculeLineNo = 0;\n        let modelAtomIdxStart = 0;\n        let modelIdx = -1;\n        let numAtoms = 0;\n        let currentRecordType = 0;\n        let moleculeRecordType = 1;\n        let atomRecordType = 2;\n        let bondRecordType = 3;\n        const ap1 = s.getAtomProxy();\n        const ap2 = s.getAtomProxy();\n        function _parseChunkOfLines(_i, _n, lines) {\n            for (let i = _i; i < _n; ++i) {\n                const line = lines[i].trim();\n                if (line === '' || line[0] === '#')\n                    continue;\n                if (line[0] === '@') {\n                    if (line === '@<TRIPOS>MOLECULE') {\n                        currentRecordType = moleculeRecordType;\n                        moleculeLineNo = 0;\n                        ++modelIdx;\n                    }\n                    else if (line === '@<TRIPOS>ATOM') {\n                        currentRecordType = atomRecordType;\n                        modelAtomIdxStart = atomStore.count;\n                        if (asTrajectory) {\n                            currentCoord = 0;\n                            currentFrame = new Float32Array(numAtoms * 3);\n                            frames.push(currentFrame);\n                            if (modelIdx > 0)\n                                doFrames = true;\n                        }\n                    }\n                    else if (line === '@<TRIPOS>BOND') {\n                        currentRecordType = bondRecordType;\n                    }\n                    else {\n                        currentRecordType = 0;\n                    }\n                }\n                else if (currentRecordType === moleculeRecordType) {\n                    if (moleculeLineNo === 0) {\n                        s.title = line;\n                        s.id = line;\n                    }\n                    else if (moleculeLineNo === 1) {\n                        const ls = line.split(reWhitespace);\n                        numAtoms = parseInt(ls[0]);\n                        // num_atoms [num_bonds [num_subst [num_feat [num_sets]]]]\n                    }\n                    else if (moleculeLineNo === 2) {\n                        // const molType = line;\n                        // SMALL, BIOPOLYMER, PROTEIN, NUCLEIC_ACID, SACCHARIDE\n                    }\n                    else if (moleculeLineNo === 3) {\n                        // const chargeType = line;\n                        // NO_CHARGES, DEL_RE, GASTEIGER, GAST_HUCK, HUCKEL,\n                        // PULLMAN, GAUSS80_CHARGES, AMPAC_CHARGES,\n                        // MULLIKEN_CHARGES, DICT_ CHARGES, MMFF94_CHARGES,\n                        // USER_CHARGES\n                    }\n                    else if (moleculeLineNo === 4) {\n                        // const statusBits = line;\n                    }\n                    else if (moleculeLineNo === 5) {\n                        // const molComment = line;\n                    }\n                    ++moleculeLineNo;\n                }\n                else if (currentRecordType === atomRecordType) {\n                    const ls = line.split(reWhitespace);\n                    if (firstModelOnly && modelIdx > 0)\n                        continue;\n                    const x = parseFloat(ls[2]);\n                    const y = parseFloat(ls[3]);\n                    const z = parseFloat(ls[4]);\n                    if (asTrajectory) {\n                        const j = currentCoord * 3;\n                        currentFrame[j + 0] = x;\n                        currentFrame[j + 1] = y;\n                        currentFrame[j + 2] = z;\n                        currentCoord += 1;\n                        if (doFrames)\n                            continue;\n                    }\n                    const serial = ls[0];\n                    const atomname = ls[1];\n                    const element = ls[5].split('.')[0];\n                    const resno = ls[6] ? parseInt(ls[6]) : 1;\n                    const resname = ls[7] ? ls[7] : '';\n                    const partialCharge = ls[8] ? parseFloat(ls[8]) : 0.0;\n                    atomStore.growIfFull();\n                    atomStore.atomTypeId[idx] = atomMap.add(atomname, element);\n                    atomStore.x[idx] = x;\n                    atomStore.y[idx] = y;\n                    atomStore.z[idx] = z;\n                    atomStore.serial[idx] = serial;\n                    atomStore.partialCharge[idx] = partialCharge;\n                    sb.addAtom(modelIdx, '', '', resname, resno, 1);\n                    idx += 1;\n                }\n                else if (currentRecordType === bondRecordType) {\n                    if (firstModelOnly && modelIdx > 0)\n                        continue;\n                    if (asTrajectory && modelIdx > 0)\n                        continue;\n                    const ls = line.split(reWhitespace);\n                    // ls[ 0 ] is bond id\n                    ap1.index = parseInt(ls[1]) - 1 + modelAtomIdxStart;\n                    ap2.index = parseInt(ls[2]) - 1 + modelAtomIdxStart;\n                    const order = bondTypes[ls[3]];\n                    s.bondStore.addBond(ap1, ap2, order);\n                }\n            }\n        }\n        this.streamer.eachChunkOfLines(function (lines /*, chunkNo, chunkCount */) {\n            _parseChunkOfLines(0, lines.length, lines);\n        });\n        sb.finalize();\n        s.finalizeAtoms();\n        calculateChainnames(s);\n        calculateBondsWithin(s, true);\n        calculateBondsBetween(s, true);\n        s.finalizeBonds();\n        assignResidueTypeBonds(s);\n        calculateSecondaryStructure(s);\n        if (Debug)\n            Log.timeEnd('Mol2Parser._parse ' + this.name);\n    }\n}\nParserRegistry.add('mol2', Mol2Parser);\nexport default Mol2Parser;\n//# sourceMappingURL=mol2-parser.js.map","/**\n * @file Pdbqt Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ParserRegistry } from '../globals';\nimport PdbParser from './pdb-parser';\n// autodock variant of PDB format with\n// - atom partial charges (empty column in pdb format)\n// - atom types (bfactor column in pdb format)\n// http://autodock.scripps.edu/faqs-help/faq/what-is-the-format-of-a-pdbqt-file\nclass PdbqtParser extends PdbParser {\n    get type() { return 'pdbqt'; }\n}\nParserRegistry.add('pdbqt', PdbqtParser);\nexport default PdbqtParser;\n//# sourceMappingURL=pdbqt-parser.js.map","/**\n * @file Pqr Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ParserRegistry } from '../globals';\nimport PdbParser from './pdb-parser';\n// http://www.poissonboltzmann.org/docs/file-format-info/\nclass PqrParser extends PdbParser {\n    get type() { return 'pqr'; }\n}\nParserRegistry.add('pqr', PqrParser);\nexport default PqrParser;\n//# sourceMappingURL=pqr-parser.js.map","/**\n * @file Sdf Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Debug, Log, ParserRegistry } from '../globals';\nimport { assignResidueTypeBonds } from '../structure/structure-utils';\nimport StructureParser from './structure-parser';\nconst reItem = /> +<(.+)>/;\nclass SdfParser extends StructureParser {\n    get type() { return 'sdf'; }\n    _parse() {\n        // https://en.wikipedia.org/wiki/Chemical_table_file#SDF\n        // http://download.accelrys.com/freeware/ctfile-formats/ctfile-formats.zip\n        if (Debug)\n            Log.time('SdfParser._parse ' + this.name);\n        const s = this.structure;\n        const sb = this.structureBuilder;\n        const firstModelOnly = this.firstModelOnly;\n        const asTrajectory = this.asTrajectory;\n        const headerLines = this.streamer.peekLines(2);\n        s.id = headerLines[0].trim();\n        s.title = headerLines[1].trim();\n        const frames = s.frames;\n        let doFrames = false;\n        let currentFrame, currentCoord;\n        const atomMap = s.atomMap;\n        const atomStore = s.atomStore;\n        atomStore.resize(Math.round(this.streamer.data.length / 50));\n        atomStore.addField('formalCharge', 1, 'int8');\n        const ap1 = s.getAtomProxy();\n        const ap2 = s.getAtomProxy();\n        let idx = 0;\n        let lineNo = 0;\n        let modelIdx = 0;\n        let modelAtomIdxStart = 0;\n        const sdfData = [];\n        let currentItem = false;\n        let currentData = {};\n        let mItem;\n        s.extraData.sdf = sdfData;\n        let atomCount, bondCount, atomStart, atomEnd, bondStart, bondEnd;\n        function _parseChunkOfLines(_i, _n, lines) {\n            for (let i = _i; i < _n; ++i) {\n                const line = lines[i];\n                if (line.substr(0, 4) === '$$$$') {\n                    lineNo = -1;\n                    ++modelIdx;\n                    modelAtomIdxStart = atomStore.count;\n                    sdfData.push(currentData);\n                    currentData = {};\n                    currentItem = false;\n                }\n                else if (lineNo === 3) {\n                    atomCount = parseInt(line.substr(0, 3));\n                    bondCount = parseInt(line.substr(3, 3));\n                    atomStart = 4;\n                    atomEnd = atomStart + atomCount;\n                    bondStart = atomEnd;\n                    bondEnd = bondStart + bondCount;\n                    if (asTrajectory) {\n                        currentCoord = 0;\n                        currentFrame = new Float32Array(atomCount * 3);\n                        frames.push(currentFrame);\n                        if (modelIdx > 0)\n                            doFrames = true;\n                    }\n                }\n                else if (lineNo >= atomStart && lineNo < atomEnd) {\n                    if (firstModelOnly && modelIdx > 0)\n                        continue;\n                    const x = parseFloat(line.substr(0, 10));\n                    const y = parseFloat(line.substr(10, 10));\n                    const z = parseFloat(line.substr(20, 10));\n                    if (asTrajectory) {\n                        const j = currentCoord * 3;\n                        currentFrame[j + 0] = x;\n                        currentFrame[j + 1] = y;\n                        currentFrame[j + 2] = z;\n                        currentCoord += 1;\n                        if (doFrames)\n                            continue;\n                    }\n                    const element = line.substr(31, 3).trim();\n                    const atomname = element + (idx + 1);\n                    atomStore.growIfFull();\n                    atomStore.atomTypeId[idx] = atomMap.add(atomname, element);\n                    atomStore.x[idx] = x;\n                    atomStore.y[idx] = y;\n                    atomStore.z[idx] = z;\n                    atomStore.serial[idx] = idx;\n                    atomStore.formalCharge[idx] = 0;\n                    sb.addAtom(modelIdx, '', '', 'HET', 1, 1);\n                    idx += 1;\n                }\n                else if (lineNo >= bondStart && lineNo < bondEnd) {\n                    if (firstModelOnly && modelIdx > 0)\n                        continue;\n                    if (asTrajectory && modelIdx > 0)\n                        continue;\n                    ap1.index = parseInt(line.substr(0, 3)) - 1 + modelAtomIdxStart;\n                    ap2.index = parseInt(line.substr(3, 3)) - 1 + modelAtomIdxStart;\n                    const order = parseInt(line.substr(6, 3));\n                    s.bondStore.addBond(ap1, ap2, order);\n                }\n                else if (line.match(/M {2}CHG/)) {\n                    const chargeCount = parseInt(line.substr(6, 3));\n                    for (let ci = 0, coffset = 10; ci < chargeCount; ++ci, coffset += 8) {\n                        const aToken = parseInt(line.substr(coffset, 3));\n                        const atomIdx = aToken - 1 + modelAtomIdxStart;\n                        const cToken = parseInt(line.substr(coffset + 4, 3));\n                        atomStore.formalCharge[atomIdx] = cToken;\n                    }\n                    // eslint-disable-next-line no-cond-assign\n                }\n                else if (mItem = line.match(reItem)) {\n                    currentItem = mItem[1];\n                    currentData[currentItem] = [];\n                }\n                else if (currentItem !== false && line) {\n                    currentData[currentItem].push(line);\n                }\n                ++lineNo;\n            }\n        }\n        this.streamer.eachChunkOfLines(function (lines /*, chunkNo, chunkCount */) {\n            _parseChunkOfLines(0, lines.length, lines);\n        });\n        sb.finalize();\n        s.finalizeAtoms();\n        s.finalizeBonds();\n        assignResidueTypeBonds(s);\n        if (Debug)\n            Log.timeEnd('SdfParser._parse ' + this.name);\n    }\n    _postProcess() {\n        assignResidueTypeBonds(this.structure);\n    }\n}\nParserRegistry.add('sdf', SdfParser);\nParserRegistry.add('sd', SdfParser);\nParserRegistry.add('mol', SdfParser);\nexport default SdfParser;\n//# sourceMappingURL=sdf-parser.js.map","/**\n * @file Prmtop Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Debug, Log, ParserRegistry } from '../globals';\nimport StructureParser from './structure-parser';\nimport { assignResidueTypeBonds, calculateBondsBetween, calculateBondsWithin, calculateChainnames } from '../structure/structure-utils';\nconst amberChargeUnitFactor = 18.2223;\nfunction parseIntSubstr(line, start, length) {\n    return parseInt(line.substr(start, length).trim());\n}\nclass PrmtopParser extends StructureParser {\n    get type() { return 'prmtop'; }\n    _parse() {\n        // http://ambermd.org/prmtop.pdf\n        // http://ambermd.org/formats.html#topology\n        if (Debug)\n            Log.time('PrmtopParser._parse ' + this.name);\n        const s = this.structure;\n        const sb = this.structureBuilder;\n        //\n        const atomMap = s.atomMap;\n        const atomStore = s.atomStore;\n        atomStore.addField('partialCharge', 1, 'float32');\n        atomStore.addField('radius', 1, 'float32');\n        const title = [];\n        const pointersDict = {};\n        const pointers = [\n            'NATOM', 'NTYPES', 'NBONH', 'MBONA', 'NTHETH', 'MTHETA',\n            'NPHIH', 'MPHIA', 'NHPARM', 'NPARM', 'NNB', 'NRES',\n            'NBONA', 'NTHETA', 'NPHIA', 'NUMBND', 'NUMANG', 'NPTRA',\n            'NATYP', 'NPHB', 'IFPERT', 'NBPER', 'NGPER', 'NDPER',\n            'MBPER', 'MGPER', 'MDPER', 'IFBOX', 'NMXRS', 'IFCAP',\n            'NUMEXTRA', 'NCOPY'\n        ];\n        pointers.forEach(name => { pointersDict[name] = 0; });\n        let atomNames;\n        let charges;\n        let radii;\n        let bAtomIndex1;\n        let bAtomIndex2;\n        let bBondOrder = new Uint8Array(0);\n        let residueLabels;\n        let residuePointers;\n        let mode;\n        // let currentFormat\n        let curIdx;\n        let bondIdx;\n        function _parseChunkOfLines(_i, _n, lines) {\n            for (let i = _i; i < _n; ++i) {\n                const line = lines[i];\n                const lt = line.trim();\n                if (!lt) {\n                    continue;\n                }\n                else if (line.startsWith('%FORMAT')) {\n                    // currentFormat = lt.substring(8, lt.length - 1)\n                }\n                else if (line.startsWith('%FLAG')) {\n                    const flag = line.substr(5).trim();\n                    curIdx = 0;\n                    if (flag === 'TITLE') {\n                        mode = 0 /* Title */;\n                    }\n                    else if (flag === 'POINTERS') {\n                        mode = 1 /* Pointers */;\n                    }\n                    else if (flag === 'ATOM_NAME') {\n                        mode = 2 /* AtomName */;\n                    }\n                    else if (flag === 'CHARGE') {\n                        mode = 3 /* Charge */;\n                    }\n                    else if (flag === 'MASS') {\n                        mode = 4 /* Mass */;\n                    }\n                    else if (flag === 'RESIDUE_LABEL') {\n                        mode = 5 /* ResidueLabel */;\n                    }\n                    else if (flag === 'RESIDUE_POINTER') {\n                        mode = 6 /* ResiduePointer */;\n                    }\n                    else if (flag === 'BONDS_INC_HYDROGEN') {\n                        bondIdx = 0;\n                        mode = 7 /* BondsIncHydrogen */;\n                    }\n                    else if (flag === 'BONDS_WITHOUT_HYDROGEN') {\n                        bondIdx = pointersDict['NBONH'];\n                        mode = 8 /* BondsWithoutHydrogen */;\n                    }\n                    else if (flag === 'RADII') {\n                        mode = 9 /* Radii */;\n                    }\n                    else {\n                        mode = undefined;\n                    }\n                }\n                else if (mode === 0 /* Title */) {\n                    title.push(lt);\n                }\n                else if (mode === 1 /* Pointers */) {\n                    const n = Math.min(curIdx + 10, 32);\n                    for (let i = 0; curIdx < n; ++i, ++curIdx) {\n                        pointersDict[pointers[curIdx]] = parseInt(line.substr(i * 8, 8).trim());\n                    }\n                    atomNames = new Array(pointersDict.NATOM);\n                    charges = new Float32Array(pointersDict.NATOM);\n                    radii = new Float32Array(pointersDict.NATOM);\n                    atomStore.resize(pointersDict.NATOM);\n                    const bondCount = pointersDict.NBONH + pointersDict.MBONA;\n                    bAtomIndex1 = new Uint32Array(bondCount);\n                    bAtomIndex2 = new Uint32Array(bondCount);\n                    bBondOrder = new Uint8Array(bondCount);\n                    residueLabels = new Array(pointersDict.NRES);\n                    residuePointers = new Uint32Array(pointersDict.NRES);\n                }\n                else if (mode === 2 /* AtomName */) {\n                    const n = Math.min(curIdx + 20, pointersDict.NATOM);\n                    for (let i = 0; curIdx < n; ++i, ++curIdx) {\n                        atomNames[curIdx] = line.substr(i * 4, 4).trim();\n                    }\n                }\n                else if (mode === 3 /* Charge */) {\n                    const n = Math.min(curIdx + 5, pointersDict.NATOM);\n                    for (let i = 0; curIdx < n; ++i, ++curIdx) {\n                        charges[curIdx] = parseFloat(line.substr(i * 16, 16)) / amberChargeUnitFactor;\n                    }\n                }\n                else if (mode === 4 /* Mass */) {\n                    // not currently used\n                }\n                else if (mode === 5 /* ResidueLabel */) {\n                    const n = Math.min(curIdx + 20, pointersDict.NRES);\n                    for (let i = 0; curIdx < n; ++i, ++curIdx) {\n                        residueLabels[curIdx] = line.substr(i * 4, 4).trim();\n                    }\n                }\n                else if (mode === 6 /* ResiduePointer */) {\n                    const n = Math.min(curIdx + 10, pointersDict.NRES);\n                    for (let i = 0; curIdx < n; ++i, ++curIdx) {\n                        residuePointers[curIdx] = parseIntSubstr(line, i * 8, 8);\n                    }\n                }\n                else if (mode === 7 /* BondsIncHydrogen */) {\n                    const n = Math.min(curIdx + 10, pointersDict.NBONH * 3);\n                    for (let i = 0; curIdx < n; ++i, ++curIdx) {\n                        const r = curIdx % 3;\n                        if (r === 0) {\n                            bAtomIndex1[bondIdx] = parseIntSubstr(line, i * 8, 8) / 3;\n                        }\n                        if (r === 1) {\n                            bAtomIndex2[bondIdx] = parseIntSubstr(line, i * 8, 8) / 3;\n                            bBondOrder[bondIdx] = 1;\n                            ++bondIdx;\n                        }\n                    }\n                }\n                else if (mode === 8 /* BondsWithoutHydrogen */) {\n                    const n = Math.min(curIdx + 10, pointersDict.MBONA * 3);\n                    for (let i = 0; curIdx < n; ++i, ++curIdx) {\n                        const r = curIdx % 3;\n                        if (r === 0) {\n                            bAtomIndex1[bondIdx] = parseIntSubstr(line, i * 8, 8) / 3;\n                        }\n                        if (r === 1) {\n                            bAtomIndex2[bondIdx] = parseIntSubstr(line, i * 8, 8) / 3;\n                            bBondOrder[bondIdx] = 1;\n                            ++bondIdx;\n                        }\n                    }\n                }\n                else if (mode === 9 /* Radii */) {\n                    const n = Math.min(curIdx + 5, pointersDict.NATOM);\n                    for (let i = 0; curIdx < n; ++i, ++curIdx) {\n                        radii[curIdx] = parseFloat(line.substr(i * 16, 16));\n                    }\n                }\n            }\n        }\n        this.streamer.eachChunkOfLines(function (lines /*, chunkNo, chunkCount */) {\n            _parseChunkOfLines(0, lines.length, lines);\n        });\n        s.title = title.join(' ');\n        const atomCount = pointersDict.NATOM;\n        let curResIdx = 0;\n        let curResname = residueLabels[0];\n        let curResno = 1;\n        for (let i = 0; i < atomCount; ++i) {\n            if (i + 1 === residuePointers[curResIdx + 1]) {\n                ++curResIdx;\n                curResname = residueLabels[curResIdx];\n                curResno = curResIdx + 1;\n            }\n            atomStore.atomTypeId[i] = atomMap.add(atomNames[i]);\n            atomStore.serial[i] = i + 1;\n            sb.addAtom(0, '', '', curResname, curResno);\n        }\n        atomStore.partialCharge.set(charges);\n        atomStore.radius.set(radii);\n        s.bondStore.length = bBondOrder.length;\n        s.bondStore.count = bBondOrder.length;\n        s.bondStore.atomIndex1 = bAtomIndex1;\n        s.bondStore.atomIndex2 = bAtomIndex2;\n        s.bondStore.bondOrder = bBondOrder;\n        sb.finalize();\n        s.finalizeAtoms();\n        s.finalizeBonds();\n        calculateBondsWithin(s, true);\n        calculateBondsBetween(s, true, true);\n        calculateChainnames(s, true);\n        assignResidueTypeBonds(s);\n        if (Debug)\n            Log.timeEnd('PrmtopParser._parse ' + this.name);\n    }\n}\nParserRegistry.add('prmtop', PrmtopParser);\nParserRegistry.add('parm7', PrmtopParser);\nexport default PrmtopParser;\n//# sourceMappingURL=prmtop-parser.js.map","/**\n * @file Psf Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Debug, Log, ParserRegistry } from '../globals';\nimport StructureParser from './structure-parser';\nimport { assignResidueTypeBonds, calculateBondsBetween, calculateBondsWithin, getChainname } from '../structure/structure-utils';\nconst TitleMode = 1;\nconst AtomMode = 2;\nconst BondMode = 3;\nconst AngleMode = 4;\nconst DihedralMode = 5;\nconst ImproperMode = 6;\nconst reWhitespace = /\\s+/;\nconst reTitle = /(^\\*|REMARK)*/;\nclass PsfParser extends StructureParser {\n    get type() { return 'psf'; }\n    _parse() {\n        // http://www.ks.uiuc.edu/Training/Tutorials/namd/namd-tutorial-unix-html/node23.html\n        if (Debug)\n            Log.time('PsfParser._parse ' + this.name);\n        const s = this.structure;\n        const sb = this.structureBuilder;\n        //\n        const atomMap = s.atomMap;\n        const atomStore = s.atomStore;\n        atomStore.addField('partialCharge', 1, 'float32');\n        const title = [];\n        let mode;\n        let chainid;\n        let lastSegid;\n        let idx = 0;\n        let chainIdx = 0;\n        let bondIdx = 0;\n        let bAtomIndex1, bAtomIndex2, bBondOrder;\n        function _parseChunkOfLines(_i, _n, lines) {\n            for (let i = _i; i < _n; ++i) {\n                const line = lines[i].trim();\n                if (!line) {\n                    mode = undefined;\n                    continue;\n                }\n                if (mode === AtomMode) {\n                    const ls = line.split(reWhitespace);\n                    const serial = parseInt(ls[0]);\n                    const segid = ls[1];\n                    const resno = parseInt(ls[2]);\n                    const resname = ls[3];\n                    const atomname = ls[4];\n                    const charge = parseFloat(ls[6]);\n                    if (segid !== lastSegid) {\n                        chainid = getChainname(chainIdx);\n                        ++chainIdx;\n                    }\n                    atomStore.growIfFull();\n                    atomStore.atomTypeId[idx] = atomMap.add(atomname);\n                    atomStore.serial[idx] = serial;\n                    atomStore.partialCharge[idx] = charge;\n                    sb.addAtom(0, chainid, chainid, resname, resno);\n                    idx += 1;\n                    lastSegid = segid;\n                }\n                else if (mode === BondMode) {\n                    const ls = line.split(reWhitespace);\n                    for (let j = 0, m = ls.length; j < m; j += 2) {\n                        bAtomIndex1[bondIdx] = parseInt(ls[j]) - 1;\n                        bAtomIndex2[bondIdx] = parseInt(ls[j + 1]) - 1;\n                        bBondOrder[bondIdx] = 1;\n                        bondIdx += 1;\n                    }\n                }\n                else if (mode === TitleMode) {\n                    title.push(line.replace(reTitle, '').trim());\n                }\n                else if (mode === AngleMode) {\n                    // currently not used\n                }\n                else if (mode === DihedralMode) {\n                    // currently not used\n                }\n                else if (mode === ImproperMode) {\n                    // currently not used\n                }\n                else if (line.includes('!NATOM')) {\n                    mode = AtomMode;\n                    const numAtoms = parseInt(line.split(reWhitespace)[0]);\n                    atomStore.resize(numAtoms);\n                }\n                else if (line.includes('!NBOND')) {\n                    mode = BondMode;\n                    const numBonds = parseInt(line.split(reWhitespace)[0]);\n                    bAtomIndex1 = new Uint32Array(numBonds);\n                    bAtomIndex2 = new Uint32Array(numBonds);\n                    bBondOrder = new Uint8Array(numBonds);\n                }\n                else if (line.includes('!NTITLE')) {\n                    mode = TitleMode;\n                }\n                else if (line.includes('!NTHETA')) {\n                    mode = AngleMode;\n                }\n                else if (line.includes('!NPHI')) {\n                    mode = DihedralMode;\n                }\n                else if (line.includes('!NIMPHI')) {\n                    mode = ImproperMode;\n                }\n            }\n        }\n        this.streamer.eachChunkOfLines(function (lines /*, chunkNo, chunkCount */) {\n            _parseChunkOfLines(0, lines.length, lines);\n        });\n        s.title = title.join(' ');\n        s.bondStore.length = bBondOrder.length;\n        s.bondStore.count = bondIdx;\n        s.bondStore.atomIndex1 = bAtomIndex1;\n        s.bondStore.atomIndex2 = bAtomIndex2;\n        s.bondStore.bondOrder = bBondOrder;\n        sb.finalize();\n        s.finalizeAtoms();\n        s.finalizeBonds();\n        calculateBondsWithin(s, true);\n        calculateBondsBetween(s, true, true);\n        assignResidueTypeBonds(s);\n        if (Debug)\n            Log.timeEnd('PsfParser._parse ' + this.name);\n    }\n}\nParserRegistry.add('psf', PsfParser);\nexport default PsfParser;\n//# sourceMappingURL=psf-parser.js.map","/**\n * @file Top Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Debug, Log, ParserRegistry } from '../globals';\nimport StructureParser from './structure-parser';\nimport { WaterNames } from '../structure/structure-constants';\nimport { assignResidueTypeBonds, calculateBondsBetween, calculateBondsWithin, getChainname } from '../structure/structure-utils';\nconst reField = /\\[ (.+) \\]/;\nconst reWhitespace = /\\s+/;\nclass TopParser extends StructureParser {\n    get type() { return 'top'; }\n    _parse() {\n        // http://manual.gromacs.org/online/top.html\n        if (Debug)\n            Log.time('TopParser._parse ' + this.name);\n        const s = this.structure;\n        const sb = this.structureBuilder;\n        //\n        const atomMap = s.atomMap;\n        const bondStore = s.bondStore;\n        const atomStore = s.atomStore;\n        atomStore.addField('partialCharge', 1, 'float32');\n        const molecules = [];\n        const moleculetypeDict = {};\n        let currentMoleculetype;\n        let mode;\n        function _parseChunkOfLines(_i, _n, lines) {\n            for (let i = _i; i < _n; ++i) {\n                const line = lines[i];\n                let lt = line.trim();\n                if (!lt || lt[0] === '*' || lt[0] === ';') {\n                    continue;\n                }\n                if (lt.startsWith('#include')) {\n                    throw new Error('TopParser: #include statements not allowed');\n                }\n                const fieldMatch = line.match(reField);\n                if (fieldMatch !== null) {\n                    const name = fieldMatch[1];\n                    if (name === 'moleculetype') {\n                        mode = 2 /* Moleculetype */;\n                        currentMoleculetype = {\n                            atoms: [],\n                            bonds: []\n                        };\n                    }\n                    else if (name === 'atoms') {\n                        mode = 3 /* Atoms */;\n                    }\n                    else if (name === 'bonds') {\n                        mode = 4 /* Bonds */;\n                    }\n                    else if (name === 'system') {\n                        mode = 0 /* System */;\n                    }\n                    else if (name === 'molecules') {\n                        mode = 1 /* Molecules */;\n                    }\n                    else {\n                        mode = undefined;\n                    }\n                    continue;\n                }\n                const cIdx = lt.indexOf(';');\n                if (cIdx !== -1) {\n                    lt = lt.substring(0, cIdx).trim();\n                }\n                if (mode === 2 /* Moleculetype */) {\n                    const molName = lt.split(reWhitespace)[0];\n                    moleculetypeDict[molName] = currentMoleculetype;\n                }\n                else if (mode === 3 /* Atoms */) {\n                    const ls = lt.split(reWhitespace);\n                    currentMoleculetype.atoms.push([\n                        parseInt(ls[2]),\n                        ls[3],\n                        ls[4],\n                        parseFloat(ls[6]) // charge\n                    ]);\n                }\n                else if (mode === 4 /* Bonds */) {\n                    const ls = lt.split(reWhitespace);\n                    currentMoleculetype.bonds.push([\n                        parseInt(ls[0]),\n                        parseInt(ls[1]) // aj\n                    ]);\n                }\n                else if (mode === 0 /* System */) {\n                    s.title = lt;\n                }\n                else if (mode === 1 /* Molecules */) {\n                    const ls = lt.split(reWhitespace);\n                    molecules.push([\n                        ls[0],\n                        parseInt(ls[1]) // count\n                    ]);\n                }\n            }\n        }\n        this.streamer.eachChunkOfLines(function (lines /*, chunkNo, chunkCount */) {\n            _parseChunkOfLines(0, lines.length, lines);\n        });\n        let atomCount = 0;\n        let bondCount = 0;\n        molecules.forEach(function (val) {\n            const [name, molCount] = val;\n            const molType = moleculetypeDict[name];\n            atomCount += molCount * molType.atoms.length;\n            bondCount += molCount * molType.bonds.length;\n        });\n        atomStore.resize(atomCount);\n        bondStore.resize(bondCount);\n        let atomIdx = 0;\n        let resIdx = 0;\n        let chainidIdx = 0;\n        let chainnameIdx = 0;\n        let bondIdx = 0;\n        let atomOffset = 0;\n        let lastResno;\n        molecules.forEach(function (val) {\n            const [name, molCount] = val;\n            const molType = moleculetypeDict[name];\n            const chainname = getChainname(chainnameIdx);\n            for (let i = 0; i < molCount; ++i) {\n                lastResno = -1;\n                const chainid = WaterNames.includes(name) ? chainname : getChainname(chainidIdx);\n                molType.atoms.forEach(function (atomData) {\n                    const [resno, resname, atomname, charge] = atomData;\n                    if (resno !== lastResno) {\n                        ++resIdx;\n                    }\n                    atomStore.atomTypeId[atomIdx] = atomMap.add(atomname);\n                    atomStore.serial[atomIdx] = atomIdx + 1;\n                    atomStore.partialCharge[atomIdx] = charge;\n                    sb.addAtom(0, chainname, chainid, resname, resIdx + 1);\n                    ++atomIdx;\n                    lastResno = resno;\n                });\n                molType.bonds.forEach(function (bondData) {\n                    bondStore.atomIndex1[bondIdx] = atomOffset + bondData[0] - 1;\n                    bondStore.atomIndex2[bondIdx] = atomOffset + bondData[1] - 1;\n                    ++bondIdx;\n                });\n                ++chainidIdx;\n                atomOffset += molType.atoms.length;\n            }\n            ++chainnameIdx;\n        });\n        bondStore.count = bondCount;\n        sb.finalize();\n        s.finalizeAtoms();\n        s.finalizeBonds();\n        calculateBondsWithin(s, true);\n        calculateBondsBetween(s, true, true);\n        assignResidueTypeBonds(s);\n        if (Debug)\n            Log.timeEnd('TopParser._parse ' + this.name);\n    }\n}\nParserRegistry.add('top', TopParser);\nexport default TopParser;\n//# sourceMappingURL=top-parser.js.map","/**\n * @file Trajectory Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport Parser from './parser';\nimport Frames from '../trajectory/frames';\nclass TrajectoryParser extends Parser {\n    constructor(streamer, params) {\n        super(streamer, params);\n        this.frames = new Frames(this.name, this.path);\n    }\n    get type() { return 'trajectory'; }\n    get __objName() { return 'frames'; }\n}\nexport default TrajectoryParser;\n//# sourceMappingURL=trajectory-parser.js.map","/**\n * @file Dcd Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Debug, Log, ParserRegistry } from '../globals';\nimport { uint8ToString, ensureBuffer } from '../utils';\nimport TrajectoryParser from './trajectory-parser';\nconst charmmTimeUnitFactor = 20.45482949774598;\nclass DcdParser extends TrajectoryParser {\n    get type() { return 'dcd'; }\n    get isBinary() { return true; }\n    _parse() {\n        // http://www.ks.uiuc.edu/Research/vmd/plugins/molfile/dcdplugin.html\n        // The DCD format is structured as follows\n        //   (FORTRAN UNFORMATTED, with Fortran data type descriptions):\n        // HDR     NSET    ISTRT   NSAVC   5-ZEROS NATOM-NFREAT    DELTA   9-ZEROS\n        // `CORD'  #files  step 1  step    zeroes  (zero)          timestep  (zeroes)\n        //                         interval\n        // C*4     INT     INT     INT     5INT    INT             DOUBLE  9INT\n        // ==========================================================================\n        // NTITLE          TITLE\n        // INT (=2)        C*MAXTITL\n        //                 (=32)\n        // ==========================================================================\n        // NATOM\n        // #atoms\n        // INT\n        // ==========================================================================\n        // X(I), I=1,NATOM         (DOUBLE)\n        // Y(I), I=1,NATOM\n        // Z(I), I=1,NATOM\n        // ==========================================================================\n        if (Debug)\n            Log.time('DcdParser._parse ' + this.name);\n        const bin = ensureBuffer(this.streamer.data);\n        const dv = new DataView(bin);\n        const f = this.frames;\n        const coordinates = f.coordinates;\n        const boxes = f.boxes;\n        const header = {};\n        let nextPos = 0;\n        // header block\n        const intView = new Int32Array(bin, 0, 23);\n        const ef = intView[0] !== dv.getInt32(0); // endianess flag\n        // swap byte order when big endian (84 indicates little endian)\n        if (intView[0] !== 84) {\n            const n = bin.byteLength;\n            for (let i = 0; i < n; i += 4) {\n                dv.setFloat32(i, dv.getFloat32(i), true);\n            }\n        }\n        if (intView[0] !== 84) {\n            Log.error('dcd bad format, header block start');\n        }\n        // format indicator, should read 'CORD'\n        const formatString = String.fromCharCode(dv.getUint8(4), dv.getUint8(5), dv.getUint8(6), dv.getUint8(7));\n        if (formatString !== 'CORD') {\n            Log.error('dcd bad format, format string');\n        }\n        let isCharmm = false;\n        let extraBlock = false;\n        let fourDims = false;\n        // version field in charmm, unused in X-PLOR\n        if (intView[22] !== 0) {\n            isCharmm = true;\n            if (intView[12] !== 0)\n                extraBlock = true;\n            if (intView[13] === 1)\n                fourDims = true;\n        }\n        header.NSET = intView[2];\n        header.ISTART = intView[3];\n        header.NSAVC = intView[4];\n        header.NAMNF = intView[10];\n        if (isCharmm) {\n            header.DELTA = dv.getFloat32(44, ef);\n        }\n        else {\n            header.DELTA = dv.getFloat64(44, ef);\n        }\n        if (intView[22] !== 84) {\n            Log.error('dcd bad format, header block end');\n        }\n        nextPos = nextPos + 21 * 4 + 8;\n        // title block\n        const titleLength = dv.getInt32(nextPos, ef);\n        const titlePos = nextPos + 1;\n        if ((titleLength - 4) % 80 !== 0) {\n            Log.error('dcd bad format, title block start');\n        }\n        header.TITLE = uint8ToString(new Uint8Array(bin, titlePos, titleLength));\n        if (dv.getInt32(titlePos + titleLength + 4 - 1, ef) !== titleLength) {\n            Log.error('dcd bad format, title block end');\n        }\n        nextPos = nextPos + titleLength + 8;\n        // natom block\n        if (dv.getInt32(nextPos, ef) !== 4) {\n            Log.error('dcd bad format, natom block start');\n        }\n        header.NATOM = dv.getInt32(nextPos + 4, ef);\n        if (dv.getInt32(nextPos + 8, ef) !== 4) {\n            Log.error('dcd bad format, natom block end');\n        }\n        nextPos = nextPos + 4 + 8;\n        // fixed atoms block\n        if (header.NAMNF > 0) {\n            // TODO read coordinates and indices of fixed atoms\n            Log.error('dcd format with fixed atoms unsupported, aborting');\n            return;\n        }\n        // frames\n        const natom = header.NATOM;\n        const natom4 = natom * 4;\n        for (let i = 0, n = header.NSET; i < n; ++i) {\n            if (extraBlock) {\n                nextPos += 4; // block start\n                // unitcell: A, alpha, B, beta, gamma, C (doubles)\n                const box = new Float32Array(9);\n                box[0] = dv.getFloat64(nextPos, ef);\n                box[4] = dv.getFloat64(nextPos + 2 * 8, ef);\n                box[8] = dv.getFloat64(nextPos + 5 * 8, ef);\n                boxes.push(box);\n                nextPos += 48;\n                nextPos += 4; // block end\n            }\n            // xyz coordinates\n            const coord = new Float32Array(natom * 3);\n            for (let j = 0; j < 3; ++j) {\n                if (dv.getInt32(nextPos, ef) !== natom4) {\n                    Log.error('dcd bad format, coord block start', i, j);\n                }\n                nextPos += 4; // block start\n                const c = new Float32Array(bin, nextPos, natom);\n                for (let k = 0; k < natom; ++k) {\n                    coord[3 * k + j] = c[k];\n                }\n                nextPos += natom4;\n                if (dv.getInt32(nextPos, ef) !== natom4) {\n                    Log.error('dcd bad format, coord block end', i, j);\n                }\n                nextPos += 4; // block end\n            }\n            coordinates.push(coord);\n            if (fourDims) {\n                const bytes = dv.getInt32(nextPos, ef);\n                nextPos += 4 + bytes + 4; // block start + skip + block end\n            }\n        }\n        if (header.DELTA) {\n            f.deltaTime = header.DELTA * charmmTimeUnitFactor;\n        }\n        if (header.ISTART >= 1) {\n            f.timeOffset = (header.ISTART - 1) * f.deltaTime;\n        }\n        // console.log(header)\n        // console.log(header.TITLE)\n        // console.log('isCharmm', isCharmm, 'extraBlock', extraBlock, 'fourDims, fourDims)\n        if (Debug)\n            Log.timeEnd('DcdParser._parse ' + this.name);\n    }\n}\nParserRegistry.add('dcd', DcdParser);\nexport default DcdParser;\n//# sourceMappingURL=dcd-parser.js.map","/**\n * @file Netcdf Reader\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n *\n * Adapted from https://github.com/cheminfo-js/netcdfjs\n * MIT License, Copyright (c) 2016 cheminfo\n */\nimport IOBuffer from './io-buffer';\n/**\n * Throws a non-valid NetCDF exception if the statement it's true\n * @ignore\n * @param {boolean} statement - Throws if true\n * @param {string} reason - Reason to throw\n */\nfunction notNetcdf(statement, reason) {\n    if (statement) {\n        throw new TypeError('Not a valid NetCDF v3.x file: ' + reason);\n    }\n}\n/**\n * Moves 1, 2, or 3 bytes to next 4-byte boundary\n * @ignore\n * @param {IOBuffer} buffer - Buffer for the file data\n */\nfunction padding(buffer) {\n    if ((buffer.offset % 4) !== 0) {\n        buffer.skip(4 - (buffer.offset % 4));\n    }\n}\n/**\n * Reads the name\n * @ignore\n * @param {IOBuffer} buffer - Buffer for the file data\n * @return {string} - Name\n */\nfunction readName(buffer) {\n    // Read name\n    const nameLength = buffer.readUint32();\n    const name = buffer.readChars(nameLength);\n    // validate name\n    // TODO\n    // Apply padding\n    padding(buffer);\n    return name;\n}\nconst types = {\n    BYTE: 1,\n    CHAR: 2,\n    SHORT: 3,\n    INT: 4,\n    FLOAT: 5,\n    DOUBLE: 6\n};\n/**\n * Parse a number into their respective type\n * @ignore\n * @param {number} type - integer that represents the type\n * @return {string} - parsed value of the type\n */\nfunction num2str(type) {\n    switch (Number(type)) {\n        case types.BYTE:\n            return 'byte';\n        case types.CHAR:\n            return 'char';\n        case types.SHORT:\n            return 'short';\n        case types.INT:\n            return 'int';\n        case types.FLOAT:\n            return 'float';\n        case types.DOUBLE:\n            return 'double';\n        default:\n            return 'undefined';\n    }\n}\n/**\n * Parse a number type identifier to his size in bytes\n * @ignore\n * @param {number} type - integer that represents the type\n * @return {number} -size of the type\n */\nfunction num2bytes(type) {\n    switch (Number(type)) {\n        case types.BYTE:\n            return 1;\n        case types.CHAR:\n            return 1;\n        case types.SHORT:\n            return 2;\n        case types.INT:\n            return 4;\n        case types.FLOAT:\n            return 4;\n        case types.DOUBLE:\n            return 8;\n        default:\n            return -1;\n    }\n}\n/**\n * Reverse search of num2str\n * @ignore\n * @param {string} type - string that represents the type\n * @return {number} - parsed value of the type\n */\nfunction str2num(type) {\n    switch (String(type)) {\n        case 'byte':\n            return types.BYTE;\n        case 'char':\n            return types.CHAR;\n        case 'short':\n            return types.SHORT;\n        case 'int':\n            return types.INT;\n        case 'float':\n            return types.FLOAT;\n        case 'double':\n            return types.DOUBLE;\n        default:\n            return -1;\n    }\n}\n/**\n * Auxiliary function to read numeric data\n * @ignore\n * @param {number} size - Size of the element to read\n * @param {function} bufferReader - Function to read next value\n * @return {Array<number>|number}\n */\nfunction readNumber(size, bufferReader) {\n    if (size !== 1) {\n        const numbers = new Array(size);\n        for (let i = 0; i < size; i++) {\n            numbers[i] = bufferReader();\n        }\n        return numbers;\n    }\n    else {\n        return bufferReader();\n    }\n}\n/**\n * Given a type and a size reads the next element\n * @ignore\n * @param {IOBuffer} buffer - Buffer for the file data\n * @param {number} type - Type of the data to read\n * @param {number} size - Size of the element to read\n * @return {string|Array<number>|number}\n */\nfunction readType(buffer, type, size) {\n    switch (type) {\n        case types.BYTE:\n            return buffer.readBytes(size);\n        case types.CHAR:\n            return trimNull(buffer.readChars(size));\n        case types.SHORT:\n            return readNumber(size, buffer.readInt16.bind(buffer));\n        case types.INT:\n            return readNumber(size, buffer.readInt32.bind(buffer));\n        case types.FLOAT:\n            return readNumber(size, buffer.readFloat32.bind(buffer));\n        case types.DOUBLE:\n            return readNumber(size, buffer.readFloat64.bind(buffer));\n        default:\n            notNetcdf(true, 'non valid type ' + type);\n            return undefined;\n    }\n}\n/**\n * Removes null terminate value\n * @ignore\n * @param {string} value - String to trim\n * @return {string} - Trimmed string\n */\nfunction trimNull(value) {\n    if (value.charCodeAt(value.length - 1) === 0) {\n        return value.substring(0, value.length - 1);\n    }\n    return value;\n}\n// const STREAMING = 4294967295;\n/**\n * Read data for the given non-record variable\n * @ignore\n * @param {IOBuffer} buffer - Buffer for the file data\n * @param {object} variable - Variable metadata\n * @return {Array} - Data of the element\n */\nfunction nonRecord(buffer, variable) {\n    // variable type\n    const type = str2num(variable.type);\n    // size of the data\n    const size = variable.size / num2bytes(type);\n    // iterates over the data\n    const data = new Array(size);\n    for (let i = 0; i < size; i++) {\n        data[i] = readType(buffer, type, 1);\n    }\n    return data;\n}\n/**\n * Read data for the given record variable\n * @ignore\n * @param {IOBuffer} buffer - Buffer for the file data\n * @param {object} variable - Variable metadata\n * @param {object} recordDimension - Record dimension metadata\n * @return {Array} - Data of the element\n */\nfunction record(buffer, variable, recordDimension) {\n    // variable type\n    const type = str2num(variable.type);\n    const width = variable.size ? variable.size / num2bytes(type) : 1;\n    // size of the data\n    // TODO streaming data\n    const size = recordDimension.length;\n    // iterates over the data\n    const data = new Array(size);\n    const step = recordDimension.recordStep;\n    for (let i = 0; i < size; i++) {\n        const currentOffset = buffer.offset;\n        data[i] = readType(buffer, type, width);\n        buffer.seek(currentOffset + step);\n    }\n    return data;\n}\n// Grammar constants\nconst ZERO = 0;\nconst NC_DIMENSION = 10;\nconst NC_VARIABLE = 11;\nconst NC_ATTRIBUTE = 12;\n/**\n * Read the header of the file\n * @ignore\n * @param {IOBuffer} buffer - Buffer for the file data\n * @param {number} version - Version of the file\n * @return {object} - Object with the fields:\n *  * `recordDimension`: Number with the length of record dimension\n *  * `dimensions`: List of dimensions\n *  * `globalAttributes`: List of global attributes\n *  * `variables`: List of variables\n */\nfunction header(buffer, version) {\n    // Length of record dimension\n    // sum of the varSize's of all the record variables.\n    const header = { recordDimension: { length: buffer.readUint32() } };\n    // Version\n    header.version = version;\n    // List of dimensions\n    const dimList = dimensionsList(buffer);\n    header.recordDimension.id = dimList.recordId;\n    header.recordDimension.name = dimList.recordName;\n    header.dimensions = dimList.dimensions;\n    // List of global attributes\n    header.globalAttributes = attributesList(buffer);\n    // List of variables\n    const variables = variablesList(buffer, dimList.recordId, version);\n    header.variables = variables.variables;\n    header.recordDimension.recordStep = variables.recordStep;\n    return header;\n}\n/**\n * List of dimensions\n * @ignore\n * @param {IOBuffer} buffer - Buffer for the file data\n * @return {object} - List of dimensions and record dimension with:\n *  * `name`: String with the name of the dimension\n *  * `size`: Number with the size of the dimension\n */\nfunction dimensionsList(buffer) {\n    let dimensions, recordId, recordName;\n    const dimList = buffer.readUint32();\n    if (dimList === ZERO) {\n        notNetcdf((buffer.readUint32() !== ZERO), 'wrong empty tag for list of dimensions');\n        return [];\n    }\n    else {\n        notNetcdf((dimList !== NC_DIMENSION), 'wrong tag for list of dimensions');\n        // Length of dimensions\n        const dimensionSize = buffer.readUint32();\n        dimensions = new Array(dimensionSize);\n        for (let dim = 0; dim < dimensionSize; dim++) {\n            // Read name\n            const name = readName(buffer);\n            // Read dimension size\n            const size = buffer.readUint32();\n            if (size === 0) {\n                recordId = dim;\n                recordName = name;\n            }\n            dimensions[dim] = {\n                name: name,\n                size: size\n            };\n        }\n        return {\n            dimensions: dimensions,\n            recordId: recordId,\n            recordName: recordName\n        };\n    }\n}\n/**\n * List of attributes\n * @ignore\n * @param {IOBuffer} buffer - Buffer for the file data\n * @return {Array<object>} - List of attributes with:\n *  * `name`: String with the name of the attribute\n *  * `type`: String with the type of the attribute\n *  * `value`: A number or string with the value of the attribute\n */\nfunction attributesList(buffer) {\n    let attributes;\n    const gAttList = buffer.readUint32();\n    if (gAttList === ZERO) {\n        notNetcdf((buffer.readUint32() !== ZERO), 'wrong empty tag for list of attributes');\n        return [];\n    }\n    else {\n        notNetcdf((gAttList !== NC_ATTRIBUTE), 'wrong tag for list of attributes');\n        // Length of attributes\n        const attributeSize = buffer.readUint32();\n        attributes = new Array(attributeSize);\n        for (let gAtt = 0; gAtt < attributeSize; gAtt++) {\n            // Read name\n            const name = readName(buffer);\n            // Read type\n            const type = buffer.readUint32();\n            notNetcdf(((type < 1) || (type > 6)), 'non valid type ' + type);\n            // Read attribute\n            const size = buffer.readUint32();\n            const value = readType(buffer, type, size);\n            // Apply padding\n            padding(buffer);\n            attributes[gAtt] = {\n                name: name,\n                type: num2str(type),\n                value: value\n            };\n        }\n    }\n    return attributes;\n}\n/**\n * List of variables\n * @ignore\n * @param {IOBuffer} buffer - Buffer for the file data\n * @param {number} recordId - Id if the record dimension\n * @param {number} version - Version of the file\n * @return {object} - Number of recordStep and list of variables with:\n *  * `name`: String with the name of the variable\n *  * `dimensions`: Array with the dimension IDs of the variable\n *  * `attributes`: Array with the attributes of the variable\n *  * `type`: String with the type of the variable\n *  * `size`: Number with the size of the variable\n *  * `offset`: Number with the offset where of the variable begins\n *  * `record`: True if is a record variable, false otherwise\n */\nfunction variablesList(buffer, recordId, version) {\n    const varList = buffer.readUint32();\n    let recordStep = 0;\n    let variables;\n    if (varList === ZERO) {\n        notNetcdf((buffer.readUint32() !== ZERO), 'wrong empty tag for list of variables');\n        return [];\n    }\n    else {\n        notNetcdf((varList !== NC_VARIABLE), 'wrong tag for list of variables');\n        // Length of variables\n        const variableSize = buffer.readUint32();\n        variables = new Array(variableSize);\n        for (let v = 0; v < variableSize; v++) {\n            // Read name\n            const name = readName(buffer);\n            // Read dimensionality of the variable\n            const dimensionality = buffer.readUint32();\n            // Index into the list of dimensions\n            const dimensionsIds = new Array(dimensionality);\n            for (let dim = 0; dim < dimensionality; dim++) {\n                dimensionsIds[dim] = buffer.readUint32();\n            }\n            // Read variables size\n            const attributes = attributesList(buffer);\n            // Read type\n            const type = buffer.readUint32();\n            notNetcdf(((type < 1) && (type > 6)), 'non valid type ' + type);\n            // Read variable size\n            // The 32-bit varSize field is not large enough to contain the\n            // size of variables that require more than 2^32 - 4 bytes,\n            // so 2^32 - 1 is used in the varSize field for such variables.\n            const varSize = buffer.readUint32();\n            // Read offset\n            let offset = buffer.readUint32();\n            if (version === 2) {\n                notNetcdf((offset > 0), 'offsets larger than 4GB not supported');\n                offset = buffer.readUint32();\n            }\n            // Count amount of record variables\n            if (dimensionsIds[0] === recordId) {\n                recordStep += varSize;\n            }\n            variables[v] = {\n                name: name,\n                dimensions: dimensionsIds,\n                attributes: attributes,\n                type: num2str(type),\n                size: varSize,\n                offset: offset,\n                record: (dimensionsIds[0] === recordId)\n            };\n        }\n    }\n    return {\n        variables: variables,\n        recordStep: recordStep\n    };\n}\n/**\n * Reads a NetCDF v3.x file\n * https://www.unidata.ucar.edu/software/netcdf/docs/file_format_specifications.html\n */\nclass NetcdfReader {\n    /**\n     * @param {ArrayBuffer} data - ArrayBuffer or any Typed Array with the data\n     */\n    constructor(data) {\n        const buffer = new IOBuffer(data);\n        buffer.setBigEndian();\n        // Validate that it's a NetCDF file\n        notNetcdf((buffer.readChars(3) !== 'CDF'), 'should start with CDF');\n        // Check the NetCDF format\n        const version = buffer.readByte();\n        notNetcdf((version > 2), 'unknown version');\n        // Read the header\n        this.header = header(buffer, version);\n        this.buffer = buffer;\n    }\n    /**\n     * @return {string} - Version for the NetCDF format\n     */\n    get version() {\n        if (this.header.version === 1) {\n            return 'classic format';\n        }\n        else {\n            return '64-bit offset format';\n        }\n    }\n    /**\n     * @return {object} - Metadata for the record dimension\n     *  * `length`: Number of elements in the record dimension\n     *  * `id`: Id number in the list of dimensions for the record dimension\n     *  * `name`: String with the name of the record dimension\n     *  * `recordStep`: Number with the record variables step size\n     */\n    get recordDimension() {\n        return this.header.recordDimension;\n    }\n    /**\n     * @return {Array<object>} - List of dimensions with:\n     *  * `name`: String with the name of the dimension\n     *  * `size`: Number with the size of the dimension\n     */\n    get dimensions() {\n        return this.header.dimensions;\n    }\n    /**\n     * @return {Array<object>} - List of global attributes with:\n     *  * `name`: String with the name of the attribute\n     *  * `type`: String with the type of the attribute\n     *  * `value`: A number or string with the value of the attribute\n     */\n    get globalAttributes() {\n        return this.header.globalAttributes;\n    }\n    /**\n     * @return {Array<object>} - List of variables with:\n     *  * `name`: String with the name of the variable\n     *  * `dimensions`: Array with the dimension IDs of the variable\n     *  * `attributes`: Array with the attributes of the variable\n     *  * `type`: String with the type of the variable\n     *  * `size`: Number with the size of the variable\n     *  * `offset`: Number with the offset where of the variable begins\n     *  * `record`: True if is a record variable, false otherwise\n     */\n    get variables() {\n        return this.header.variables;\n    }\n    /**\n     * Checks if a variable is available\n     * @param {string|object} variableName - Name of the variable to check\n     * @return {Boolean} - Variable existence\n     */\n    hasDataVariable(variableName) {\n        return this.header.variables.findIndex(function (val) {\n            return val.name === variableName;\n        }) !== -1;\n    }\n    /**\n     * Retrieves the data for a given variable\n     * @param {string|object} variableName - Name of the variable to search or variable object\n     * @return {Array} - List with the variable values\n     */\n    getDataVariable(variableName) {\n        let variable;\n        if (typeof variableName === 'string') {\n            // search the variable\n            variable = this.header.variables.find(function (val) {\n                return val.name === variableName;\n            });\n        }\n        else {\n            variable = variableName;\n        }\n        // throws if variable not found\n        notNetcdf((variable === undefined), 'variable not found');\n        // go to the offset position\n        this.buffer.seek(variable.offset);\n        if (variable.record) {\n            // record variable case\n            return record(this.buffer, variable, this.header.recordDimension);\n        }\n        else {\n            // non-record variable case\n            return nonRecord(this.buffer, variable);\n        }\n    }\n}\nexport default NetcdfReader;\n//# sourceMappingURL=netcdf-reader.js.map","/**\n * @file Nctraj Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Debug, Log, ParserRegistry } from '../globals';\nimport TrajectoryParser from './trajectory-parser';\nimport NetcdfReader from '../utils/netcdf-reader';\nclass NctrajParser extends TrajectoryParser {\n    get type() { return 'nctraj'; }\n    get isBinary() { return true; }\n    _parse() {\n        // http://ambermd.org/netcdf/nctraj.xhtml\n        if (Debug)\n            Log.time('NctrajParser._parse ' + this.name);\n        const netcdfReader = new NetcdfReader(this.streamer.data);\n        const f = this.frames;\n        const coordinates = f.coordinates;\n        const boxes = f.boxes;\n        const times = f.times;\n        netcdfReader.getDataVariable('coordinates').forEach(function (c) {\n            coordinates.push(new Float32Array(c));\n        });\n        if (netcdfReader.hasDataVariable('cell_lengths')) {\n            netcdfReader.getDataVariable('cell_lengths').forEach(function (b) {\n                boxes.push(new Float32Array(b));\n            });\n        }\n        if (netcdfReader.hasDataVariable('time')) {\n            netcdfReader.getDataVariable('time').forEach(function (t) {\n                times.push(t);\n            });\n        }\n        if (times.length >= 1) {\n            f.timeOffset = times[0];\n        }\n        if (times.length >= 2) {\n            f.deltaTime = times[1] - times[0];\n        }\n        if (Debug)\n            Log.timeEnd('NctrajParser._parse ' + this.name);\n    }\n}\nParserRegistry.add('nctraj', NctrajParser);\nParserRegistry.add('ncdf', NctrajParser);\nParserRegistry.add('nc', NctrajParser);\nexport default NctrajParser;\n//# sourceMappingURL=nctraj-parser.js.map","/**\n * @file Trr Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Debug, Log, ParserRegistry } from '../globals';\nimport { ensureBuffer } from '../utils';\nimport TrajectoryParser from './trajectory-parser';\nclass TrrParser extends TrajectoryParser {\n    get type() { return 'trr'; }\n    get isBinary() { return true; }\n    _parse() {\n        // https://github.com/gromacs/gromacs/blob/master/src/gromacs/fileio/trrio.cpp\n        if (Debug)\n            Log.time('TrrParser._parse ' + this.name);\n        const bin = ensureBuffer(this.streamer.data);\n        const dv = new DataView(bin);\n        const f = this.frames;\n        const coordinates = f.coordinates;\n        const boxes = f.boxes;\n        const times = f.times;\n        let offset = 0;\n        while (true) {\n            // const magicnum = dv.getInt32(offset)\n            // const i1 = dv.getFloat32(offset + 4)\n            offset += 8;\n            const versionSize = dv.getInt32(offset);\n            offset += 4;\n            offset += versionSize;\n            // const irSize = dv.getInt32(offset)\n            // const eSize = dv.getInt32(offset + 4)\n            const boxSize = dv.getInt32(offset + 8);\n            const virSize = dv.getInt32(offset + 12);\n            const presSize = dv.getInt32(offset + 16);\n            // const topSize = dv.getInt32(offset + 20)\n            // const symSize = dv.getInt32(offset + 24)\n            const coordSize = dv.getInt32(offset + 28);\n            const velocitySize = dv.getInt32(offset + 32);\n            const forceSize = dv.getInt32(offset + 36);\n            const natoms = dv.getInt32(offset + 40);\n            // const step = dv.getInt32(offset + 44)\n            // const nre = dv.getInt32(offset + 48)\n            offset += 52;\n            const floatSize = boxSize / 9;\n            const natoms3 = natoms * 3;\n            // let lambda\n            if (floatSize === 8) {\n                times.push(dv.getFloat64(offset));\n                // lambda = dv.getFloat64(offset + 8)\n            }\n            else {\n                times.push(dv.getFloat32(offset));\n                // lambda = dv.getFloat32(offset + 4)\n            }\n            offset += 2 * floatSize;\n            if (boxSize) {\n                const box = new Float32Array(9);\n                if (floatSize === 8) {\n                    for (let i = 0; i < 9; ++i) {\n                        box[i] = dv.getFloat64(offset) * 10;\n                        offset += 8;\n                    }\n                }\n                else {\n                    for (let i = 0; i < 9; ++i) {\n                        box[i] = dv.getFloat32(offset) * 10;\n                        offset += 4;\n                    }\n                }\n                boxes.push(box);\n            }\n            // ignore, unused\n            offset += virSize;\n            // ignore, unused\n            offset += presSize;\n            if (coordSize) {\n                let frameCoords;\n                if (floatSize === 8) {\n                    frameCoords = new Float32Array(natoms3);\n                    for (let i = 0; i < natoms3; ++i) {\n                        frameCoords[i] = dv.getFloat64(offset) * 10;\n                        offset += 8;\n                    }\n                }\n                else {\n                    const tmp = new Uint32Array(bin, offset, natoms3);\n                    for (let i = 0; i < natoms3; ++i) {\n                        const value = tmp[i];\n                        tmp[i] = (((value & 0xFF) << 24) | ((value & 0xFF00) << 8) |\n                            ((value >> 8) & 0xFF00) | ((value >> 24) & 0xFF));\n                    }\n                    frameCoords = new Float32Array(bin, offset, natoms3);\n                    for (let i = 0; i < natoms3; ++i) {\n                        frameCoords[i] *= 10;\n                        offset += 4;\n                    }\n                }\n                coordinates.push(frameCoords);\n            }\n            // ignore, unused\n            offset += velocitySize;\n            // ignore, unused\n            offset += forceSize;\n            if (offset >= bin.byteLength)\n                break;\n        }\n        if (times.length >= 1) {\n            f.timeOffset = times[0];\n        }\n        if (times.length >= 2) {\n            f.deltaTime = times[1] - times[0];\n        }\n        if (Debug)\n            Log.timeEnd('TrrParser._parse ' + this.name);\n    }\n}\nParserRegistry.add('trr', TrrParser);\nexport default TrrParser;\n//# sourceMappingURL=trr-parser.js.map","/**\n * @file Xtc Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Debug, Log, ParserRegistry } from '../globals';\nimport { ensureBuffer } from '../utils';\nimport TrajectoryParser from './trajectory-parser';\nconst MagicInts = new Uint32Array([\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 10, 12, 16, 20, 25, 32, 40, 50, 64,\n    80, 101, 128, 161, 203, 256, 322, 406, 512, 645, 812, 1024, 1290,\n    1625, 2048, 2580, 3250, 4096, 5060, 6501, 8192, 10321, 13003,\n    16384, 20642, 26007, 32768, 41285, 52015, 65536, 82570, 104031,\n    131072, 165140, 208063, 262144, 330280, 416127, 524287, 660561,\n    832255, 1048576, 1321122, 1664510, 2097152, 2642245, 3329021,\n    4194304, 5284491, 6658042, 8388607, 10568983, 13316085, 16777216\n]);\nconst FirstIdx = 9;\n// const LastIdx = MagicInts.length\nfunction sizeOfInt(size) {\n    let num = 1;\n    let numOfBits = 0;\n    while (size >= num && numOfBits < 32) {\n        numOfBits++;\n        num <<= 1;\n    }\n    return numOfBits;\n}\nconst _tmpBytes = new Uint8Array(32);\nfunction sizeOfInts(numOfInts, sizes) {\n    let numOfBytes = 1;\n    let numOfBits = 0;\n    _tmpBytes[0] = 1;\n    for (let i = 0; i < numOfInts; i++) {\n        let bytecnt;\n        let tmp = 0;\n        for (bytecnt = 0; bytecnt < numOfBytes; bytecnt++) {\n            tmp += _tmpBytes[bytecnt] * sizes[i];\n            _tmpBytes[bytecnt] = tmp & 0xff;\n            tmp >>= 8;\n        }\n        while (tmp !== 0) {\n            _tmpBytes[bytecnt++] = tmp & 0xff;\n            tmp >>= 8;\n        }\n        numOfBytes = bytecnt;\n    }\n    let num = 1;\n    numOfBytes--;\n    while (_tmpBytes[numOfBytes] >= num) {\n        numOfBits++;\n        num *= 2;\n    }\n    return numOfBits + numOfBytes * 8;\n}\nfunction decodeBits(buf, cbuf, numOfBits, buf2) {\n    const mask = (1 << numOfBits) - 1;\n    let lastBB0 = buf2[1];\n    let lastBB1 = buf2[2];\n    let cnt = buf[0];\n    let num = 0;\n    while (numOfBits >= 8) {\n        lastBB1 = (lastBB1 << 8) | cbuf[cnt++];\n        num |= (lastBB1 >> lastBB0) << (numOfBits - 8);\n        numOfBits -= 8;\n    }\n    if (numOfBits > 0) {\n        if (lastBB0 < numOfBits) {\n            lastBB0 += 8;\n            lastBB1 = (lastBB1 << 8) | cbuf[cnt++];\n        }\n        lastBB0 -= numOfBits;\n        num |= (lastBB1 >> lastBB0) & ((1 << numOfBits) - 1);\n    }\n    num &= mask;\n    buf[0] = cnt;\n    buf[1] = lastBB0;\n    buf[2] = lastBB1;\n    return num;\n}\nconst _tmpIntBytes = new Int32Array(32);\nfunction decodeInts(buf, cbuf, numOfInts, numOfBits, sizes, nums, buf2) {\n    let numOfBytes = 0;\n    _tmpIntBytes[1] = 0;\n    _tmpIntBytes[2] = 0;\n    _tmpIntBytes[3] = 0;\n    while (numOfBits > 8) {\n        // this is inversed??? why??? because of the endiannness???\n        _tmpIntBytes[numOfBytes++] = decodeBits(buf, cbuf, 8, buf2);\n        numOfBits -= 8;\n    }\n    if (numOfBits > 0) {\n        _tmpIntBytes[numOfBytes++] = decodeBits(buf, cbuf, numOfBits, buf2);\n    }\n    for (let i = numOfInts - 1; i > 0; i--) {\n        let num = 0;\n        for (let j = numOfBytes - 1; j >= 0; j--) {\n            num = (num << 8) | _tmpIntBytes[j];\n            const p = (num / sizes[i]) | 0;\n            _tmpIntBytes[j] = p;\n            num = num - p * sizes[i];\n        }\n        nums[i] = num;\n    }\n    nums[0] = (_tmpIntBytes[0] |\n        (_tmpIntBytes[1] << 8) |\n        (_tmpIntBytes[2] << 16) |\n        (_tmpIntBytes[3] << 24));\n}\nclass XtcParser extends TrajectoryParser {\n    get type() { return 'xtc'; }\n    get isBinary() { return true; }\n    _parse() {\n        // https://github.com/gromacs/gromacs/blob/master/src/gromacs/fileio/xtcio.cpp\n        // https://github.com/gromacs/gromacs/blob/master/src/gromacs/fileio/libxdrf.cpp\n        if (Debug)\n            Log.time('XtcParser._parse ' + this.name);\n        const bin = ensureBuffer(this.streamer.data);\n        const dv = new DataView(bin);\n        const f = this.frames;\n        const coordinates = f.coordinates;\n        const boxes = f.boxes;\n        const times = f.times;\n        const minMaxInt = new Int32Array(6);\n        const sizeint = new Int32Array(3);\n        const bitsizeint = new Int32Array(3);\n        const sizesmall = new Uint32Array(3);\n        const thiscoord = new Float32Array(3);\n        const prevcoord = new Float32Array(3);\n        let offset = 0;\n        const buf = new Int32Array(3);\n        const buf2 = new Uint32Array(buf.buffer);\n        while (true) {\n            let frameCoords;\n            // const magicnum = dv.getInt32(offset)\n            const natoms = dv.getInt32(offset + 4);\n            // const step = dv.getInt32(offset + 8)\n            offset += 12;\n            const natoms3 = natoms * 3;\n            times.push(dv.getFloat32(offset));\n            offset += 4;\n            const box = new Float32Array(9);\n            for (let i = 0; i < 9; ++i) {\n                box[i] = dv.getFloat32(offset) * 10;\n                offset += 4;\n            }\n            boxes.push(box);\n            if (natoms <= 9) { // no compression\n                frameCoords = new Float32Array(natoms);\n                for (let i = 0; i < natoms; ++i) {\n                    frameCoords[i] = dv.getFloat32(offset);\n                    offset += 4;\n                }\n            }\n            else {\n                buf[0] = buf[1] = buf[2] = 0.0;\n                sizeint[0] = sizeint[1] = sizeint[2] = 0;\n                sizesmall[0] = sizesmall[1] = sizesmall[2] = 0;\n                bitsizeint[0] = bitsizeint[1] = bitsizeint[2] = 0;\n                thiscoord[0] = thiscoord[1] = thiscoord[2] = 0;\n                prevcoord[0] = prevcoord[1] = prevcoord[2] = 0;\n                frameCoords = new Float32Array(natoms3);\n                let lfp = 0;\n                const lsize = dv.getInt32(offset);\n                offset += 4;\n                const precision = dv.getFloat32(offset);\n                offset += 4;\n                minMaxInt[0] = dv.getInt32(offset);\n                minMaxInt[1] = dv.getInt32(offset + 4);\n                minMaxInt[2] = dv.getInt32(offset + 8);\n                minMaxInt[3] = dv.getInt32(offset + 12);\n                minMaxInt[4] = dv.getInt32(offset + 16);\n                minMaxInt[5] = dv.getInt32(offset + 20);\n                sizeint[0] = minMaxInt[3] - minMaxInt[0] + 1;\n                sizeint[1] = minMaxInt[4] - minMaxInt[1] + 1;\n                sizeint[2] = minMaxInt[5] - minMaxInt[2] + 1;\n                offset += 24;\n                let bitsize;\n                if ((sizeint[0] | sizeint[1] | sizeint[2]) > 0xffffff) {\n                    bitsizeint[0] = sizeOfInt(sizeint[0]);\n                    bitsizeint[1] = sizeOfInt(sizeint[1]);\n                    bitsizeint[2] = sizeOfInt(sizeint[2]);\n                    bitsize = 0; // flag the use of large sizes\n                }\n                else {\n                    bitsize = sizeOfInts(3, sizeint);\n                }\n                let smallidx = dv.getInt32(offset);\n                offset += 4;\n                // if (smallidx == 0) {alert(\"Undocumented error 1\"); return;}\n                // let tmpIdx = smallidx + 8\n                // const maxidx = (LastIdx < tmpIdx) ? LastIdx : tmpIdx\n                // const minidx = maxidx - 8  // often this equal smallidx\n                let tmpIdx = smallidx - 1;\n                tmpIdx = (FirstIdx > tmpIdx) ? FirstIdx : tmpIdx;\n                let smaller = (MagicInts[tmpIdx] / 2) | 0;\n                let smallnum = (MagicInts[smallidx] / 2) | 0;\n                sizesmall[0] = sizesmall[1] = sizesmall[2] = MagicInts[smallidx];\n                // larger = MagicInts[maxidx]\n                let adz = Math.ceil(dv.getInt32(offset) / 4) * 4;\n                offset += 4;\n                // if (tmpIdx == 0) {alert(\"Undocumented error 2\"); return;}\n                // buf = new Int32Array(bin, offset);\n                // buf8 = new Uint8Array(bin, offset);\n                // tmpIdx += 3; rndup = tmpIdx%4;\n                // for (i=tmpIdx+rndup-1; i>=tmpIdx; i--) buf8[i] = 0;\n                // now unpack buf2...\n                const invPrecision = 1.0 / precision;\n                let run = 0;\n                let i = 0;\n                const buf8 = new Uint8Array(bin, offset); // 229...\n                thiscoord[0] = thiscoord[1] = thiscoord[2] = 0;\n                while (i < lsize) {\n                    if (bitsize === 0) {\n                        thiscoord[0] = decodeBits(buf, buf8, bitsizeint[0], buf2);\n                        thiscoord[1] = decodeBits(buf, buf8, bitsizeint[1], buf2);\n                        thiscoord[2] = decodeBits(buf, buf8, bitsizeint[2], buf2);\n                    }\n                    else {\n                        decodeInts(buf, buf8, 3, bitsize, sizeint, thiscoord, buf2);\n                    }\n                    i++;\n                    thiscoord[0] += minMaxInt[0];\n                    thiscoord[1] += minMaxInt[1];\n                    thiscoord[2] += minMaxInt[2];\n                    prevcoord[0] = thiscoord[0];\n                    prevcoord[1] = thiscoord[1];\n                    prevcoord[2] = thiscoord[2];\n                    const flag = decodeBits(buf, buf8, 1, buf2);\n                    let isSmaller = 0;\n                    if (flag === 1) {\n                        run = decodeBits(buf, buf8, 5, buf2);\n                        isSmaller = run % 3;\n                        run -= isSmaller;\n                        isSmaller--;\n                    }\n                    // if ((lfp-ptrstart)+run > size3){\n                    //   fprintf(stderr, \"(xdrfile error) Buffer overrun during decompression.\\n\");\n                    //   return 0;\n                    // }\n                    if (run > 0) {\n                        thiscoord[0] = thiscoord[1] = thiscoord[2] = 0;\n                        for (let k = 0; k < run; k += 3) {\n                            decodeInts(buf, buf8, 3, smallidx, sizesmall, thiscoord, buf2);\n                            i++;\n                            thiscoord[0] += prevcoord[0] - smallnum;\n                            thiscoord[1] += prevcoord[1] - smallnum;\n                            thiscoord[2] += prevcoord[2] - smallnum;\n                            if (k === 0) {\n                                // interchange first with second atom for\n                                // better compression of water molecules\n                                let tmpSwap = thiscoord[0];\n                                thiscoord[0] = prevcoord[0];\n                                prevcoord[0] = tmpSwap;\n                                tmpSwap = thiscoord[1];\n                                thiscoord[1] = prevcoord[1];\n                                prevcoord[1] = tmpSwap;\n                                tmpSwap = thiscoord[2];\n                                thiscoord[2] = prevcoord[2];\n                                prevcoord[2] = tmpSwap;\n                                frameCoords[lfp++] = prevcoord[0] * invPrecision;\n                                frameCoords[lfp++] = prevcoord[1] * invPrecision;\n                                frameCoords[lfp++] = prevcoord[2] * invPrecision;\n                            }\n                            else {\n                                prevcoord[0] = thiscoord[0];\n                                prevcoord[1] = thiscoord[1];\n                                prevcoord[2] = thiscoord[2];\n                            }\n                            frameCoords[lfp++] = thiscoord[0] * invPrecision;\n                            frameCoords[lfp++] = thiscoord[1] * invPrecision;\n                            frameCoords[lfp++] = thiscoord[2] * invPrecision;\n                        }\n                    }\n                    else {\n                        frameCoords[lfp++] = thiscoord[0] * invPrecision;\n                        frameCoords[lfp++] = thiscoord[1] * invPrecision;\n                        frameCoords[lfp++] = thiscoord[2] * invPrecision;\n                    }\n                    smallidx += isSmaller;\n                    if (isSmaller < 0) {\n                        smallnum = smaller;\n                        if (smallidx > FirstIdx) {\n                            smaller = (MagicInts[smallidx - 1] / 2) | 0;\n                        }\n                        else {\n                            smaller = 0;\n                        }\n                    }\n                    else if (isSmaller > 0) {\n                        smaller = smallnum;\n                        smallnum = (MagicInts[smallidx] / 2) | 0;\n                    }\n                    sizesmall[0] = sizesmall[1] = sizesmall[2] = MagicInts[smallidx];\n                    if (sizesmall[0] === 0 || sizesmall[1] === 0 || sizesmall[2] === 0) {\n                        console.error('(xdrfile error) Undefined error.');\n                        return;\n                    }\n                }\n                offset += adz;\n            }\n            for (let c = 0; c < natoms3; c++) {\n                frameCoords[c] *= 10;\n            }\n            coordinates.push(frameCoords);\n            if (offset >= bin.byteLength)\n                break;\n        }\n        if (times.length >= 1) {\n            f.timeOffset = times[0];\n        }\n        if (times.length >= 2) {\n            f.deltaTime = times[1] - times[0];\n        }\n        if (Debug)\n            Log.timeEnd('XtcParser._parse ' + this.name);\n    }\n}\nParserRegistry.add('xtc', XtcParser);\nexport default XtcParser;\n//# sourceMappingURL=xtc-parser.js.map","/**\n * @file Volume Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Matrix4 } from 'three';\nimport { defaults } from '../utils';\nimport Parser from './parser';\nimport Volume from '../surface/volume';\nclass VolumeParser extends Parser {\n    constructor(streamer, params) {\n        const p = params || {};\n        super(streamer, p);\n        this.volume = new Volume(this.name, this.path);\n        this.voxelSize = defaults(p.voxelSize, 1);\n    }\n    get type() { return 'volume'; }\n    get __objName() { return 'volume'; }\n    _afterParse() {\n        this.volume.setMatrix(this.getMatrix());\n        super._afterParse();\n    }\n    getMatrix() {\n        return new Matrix4();\n    }\n}\nexport default VolumeParser;\n//# sourceMappingURL=volume-parser.js.map","/**\n * @file Cube Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Matrix4, Vector3 } from 'three';\nimport { Debug, Log, ParserRegistry } from '../globals';\nimport VolumeParser from './volume-parser';\n// @author Johanna Tiemann <johanna.tiemann@googlemail.com>\n// @author Alexander Rose <alexander.rose@weirdbyte.de>\nconst reWhitespace = /\\s+/;\nconst reScientificNotation = /-?\\d+(?:\\.\\d*)?(?:[eE][+-]?\\d+)?/g;\nconst bohrToAngstromFactor = 0.529177210859;\nclass CubeParser extends VolumeParser {\n    get type() { return 'cube'; }\n    _parse() {\n        // http://paulbourke.net/dataformats/cube/\n        if (Debug)\n            Log.time('CubeParser._parse ' + this.name);\n        const v = this.volume;\n        const headerLines = this.streamer.peekLines(6);\n        const header = {};\n        const scaleFactor = bohrToAngstromFactor * this.voxelSize;\n        function h(k, l) {\n            var field = headerLines[k].trim().split(reWhitespace)[l];\n            return parseFloat(field);\n        }\n        header.atomCount = Math.abs(h(2, 0)); // Number of atoms\n        header.originX = h(2, 1) * bohrToAngstromFactor; // Position of origin of volumetric data\n        header.originY = h(2, 2) * bohrToAngstromFactor;\n        header.originZ = h(2, 3) * bohrToAngstromFactor;\n        header.NVX = h(3, 0); // Number of voxels\n        header.NVY = h(4, 0);\n        header.NVZ = h(5, 0);\n        header.basisX = new Vector3(h(3, 1), h(3, 2), h(3, 3))\n            .multiplyScalar(scaleFactor);\n        header.basisY = new Vector3(h(4, 1), h(4, 2), h(4, 3))\n            .multiplyScalar(scaleFactor);\n        header.basisZ = new Vector3(h(5, 1), h(5, 2), h(5, 3))\n            .multiplyScalar(scaleFactor);\n        const data = new Float32Array(header.NVX * header.NVY * header.NVZ);\n        let count = 0;\n        let lineNo = 0;\n        const oribitalFlag = h(2, 0) > 0 ? 0 : 1;\n        function _parseChunkOfLines(_i, _n, lines) {\n            for (let i = _i; i < _n; ++i) {\n                const line = lines[i].trim();\n                if (line !== '' && lineNo >= header.atomCount + 6 + oribitalFlag) {\n                    const m = line.match(reScientificNotation);\n                    for (let j = 0, lj = m.length; j < lj; ++j) {\n                        data[count] = parseFloat(m[j]);\n                        ++count;\n                    }\n                }\n                ++lineNo;\n            }\n        }\n        this.streamer.eachChunkOfLines(function (lines /*, chunkNo, chunkCount */) {\n            _parseChunkOfLines(0, lines.length, lines);\n        });\n        v.header = header;\n        v.setData(data, header.NVZ, header.NVY, header.NVX);\n        if (Debug)\n            Log.timeEnd('CubeParser._parse ' + this.name);\n    }\n    getMatrix() {\n        const h = this.volume.header;\n        const matrix = new Matrix4();\n        matrix.multiply(new Matrix4().makeTranslation(h.originX, h.originY, h.originZ));\n        matrix.multiply(new Matrix4().makeBasis(h.basisZ, h.basisY, h.basisX));\n        return matrix;\n    }\n}\nParserRegistry.add('cub', CubeParser);\nParserRegistry.add('cube', CubeParser);\nexport default CubeParser;\n//# sourceMappingURL=cube-parser.js.map","/**\n * @file Dsn6 Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Matrix4 } from 'three';\nimport { Debug, Log, ParserRegistry } from '../globals';\nimport { ensureBuffer } from '../utils';\nimport { degToRad } from '../math/math-utils';\nimport VolumeParser from './volume-parser';\nclass Dsn6Parser extends VolumeParser {\n    get type() { return 'dsn6'; }\n    get isBinary() { return true; }\n    _parse() {\n        // DSN6 http://www.uoxray.uoregon.edu/tnt/manual/node104.html\n        // BRIX http://svn.cgl.ucsf.edu/svn/chimera/trunk/libs/VolumeData/dsn6/brix-1.html\n        if (Debug)\n            Log.time('Dsn6Parser._parse ' + this.name);\n        const v = this.volume;\n        const header = {};\n        let divisor, summand;\n        const bin = ensureBuffer(this.streamer.data);\n        const intView = new Int16Array(bin);\n        const byteView = new Uint8Array(bin);\n        const brixStr = String.fromCharCode.apply(null, byteView.subarray(0, 512));\n        if (brixStr.startsWith(':-)')) {\n            header.xStart = parseInt(brixStr.substr(10, 5)); // NXSTART\n            header.yStart = parseInt(brixStr.substr(15, 5));\n            header.zStart = parseInt(brixStr.substr(20, 5));\n            header.xExtent = parseInt(brixStr.substr(32, 5)); // NX\n            header.yExtent = parseInt(brixStr.substr(38, 5));\n            header.zExtent = parseInt(brixStr.substr(42, 5));\n            header.xRate = parseInt(brixStr.substr(52, 5)); // MX\n            header.yRate = parseInt(brixStr.substr(58, 5));\n            header.zRate = parseInt(brixStr.substr(62, 5));\n            header.xlen = parseFloat(brixStr.substr(73, 10)) * this.voxelSize;\n            header.ylen = parseFloat(brixStr.substr(83, 10)) * this.voxelSize;\n            header.zlen = parseFloat(brixStr.substr(93, 10)) * this.voxelSize;\n            header.alpha = parseFloat(brixStr.substr(103, 10));\n            header.beta = parseFloat(brixStr.substr(113, 10));\n            header.gamma = parseFloat(brixStr.substr(123, 10));\n            divisor = parseFloat(brixStr.substr(138, 12)) / 100;\n            summand = parseInt(brixStr.substr(155, 8));\n            header.sigma = parseFloat(brixStr.substr(170, 12)) * 100;\n        }\n        else {\n            // swap byte order when big endian\n            if (intView[18] !== 100) {\n                for (let i = 0, n = intView.length; i < n; ++i) {\n                    const val = intView[i];\n                    intView[i] = ((val & 0xff) << 8) | ((val >> 8) & 0xff);\n                }\n            }\n            header.xStart = intView[0]; // NXSTART\n            header.yStart = intView[1];\n            header.zStart = intView[2];\n            header.xExtent = intView[3]; // NX\n            header.yExtent = intView[4];\n            header.zExtent = intView[5];\n            header.xRate = intView[6]; // MX\n            header.yRate = intView[7];\n            header.zRate = intView[8];\n            const factor = 1 / intView[17];\n            const scalingFactor = factor * this.voxelSize;\n            header.xlen = intView[9] * scalingFactor;\n            header.ylen = intView[10] * scalingFactor;\n            header.zlen = intView[11] * scalingFactor;\n            header.alpha = intView[12] * factor;\n            header.beta = intView[13] * factor;\n            header.gamma = intView[14] * factor;\n            divisor = intView[15] / 100;\n            summand = intView[16];\n            header.gamma = intView[14] * factor;\n        }\n        v.header = header;\n        if (Debug)\n            Log.log(header, divisor, summand);\n        const data = new Float32Array(header.xExtent * header.yExtent * header.zExtent);\n        let offset = 512;\n        const xBlocks = Math.ceil(header.xExtent / 8);\n        const yBlocks = Math.ceil(header.yExtent / 8);\n        const zBlocks = Math.ceil(header.zExtent / 8);\n        // loop over blocks\n        for (var zz = 0; zz < zBlocks; ++zz) {\n            for (var yy = 0; yy < yBlocks; ++yy) {\n                for (var xx = 0; xx < xBlocks; ++xx) {\n                    // loop inside block\n                    for (var k = 0; k < 8; ++k) {\n                        var z = 8 * zz + k;\n                        for (var j = 0; j < 8; ++j) {\n                            var y = 8 * yy + j;\n                            for (var i = 0; i < 8; ++i) {\n                                var x = 8 * xx + i;\n                                // check if remaining slice-part contains data\n                                if (x < header.xExtent && y < header.yExtent && z < header.zExtent) {\n                                    var idx = ((((x * header.yExtent) + y) * header.zExtent) + z);\n                                    data[idx] = (byteView[offset] - summand) / divisor;\n                                    ++offset;\n                                }\n                                else {\n                                    offset += 8 - i;\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        v.setData(data, header.zExtent, header.yExtent, header.xExtent);\n        if (header.sigma) {\n            v.setStats(undefined, undefined, undefined, header.sigma);\n        }\n        if (Debug)\n            Log.timeEnd('Dsn6Parser._parse ' + this.name);\n    }\n    getMatrix() {\n        const h = this.volume.header;\n        const basisX = [\n            h.xlen,\n            0,\n            0\n        ];\n        const basisY = [\n            h.ylen * Math.cos(Math.PI / 180.0 * h.gamma),\n            h.ylen * Math.sin(Math.PI / 180.0 * h.gamma),\n            0\n        ];\n        const basisZ = [\n            h.zlen * Math.cos(Math.PI / 180.0 * h.beta),\n            h.zlen * (Math.cos(Math.PI / 180.0 * h.alpha) -\n                Math.cos(Math.PI / 180.0 * h.gamma) *\n                    Math.cos(Math.PI / 180.0 * h.beta)) / Math.sin(Math.PI / 180.0 * h.gamma),\n            0\n        ];\n        basisZ[2] = Math.sqrt(h.zlen * h.zlen * Math.sin(Math.PI / 180.0 * h.beta) *\n            Math.sin(Math.PI / 180.0 * h.beta) - basisZ[1] * basisZ[1]);\n        const basis = [[], basisX, basisY, basisZ];\n        const nxyz = [0, h.xRate, h.yRate, h.zRate];\n        const mapcrs = [0, 1, 2, 3];\n        const matrix = new Matrix4();\n        matrix.set(basis[mapcrs[1]][0] / nxyz[mapcrs[1]], basis[mapcrs[2]][0] / nxyz[mapcrs[2]], basis[mapcrs[3]][0] / nxyz[mapcrs[3]], 0, basis[mapcrs[1]][1] / nxyz[mapcrs[1]], basis[mapcrs[2]][1] / nxyz[mapcrs[2]], basis[mapcrs[3]][1] / nxyz[mapcrs[3]], 0, basis[mapcrs[1]][2] / nxyz[mapcrs[1]], basis[mapcrs[2]][2] / nxyz[mapcrs[2]], basis[mapcrs[3]][2] / nxyz[mapcrs[3]], 0, 0, 0, 0, 1);\n        matrix.multiply(new Matrix4().makeRotationY(degToRad(90)));\n        matrix.multiply(new Matrix4().makeTranslation(-h.zStart, h.yStart, h.xStart));\n        matrix.multiply(new Matrix4().makeScale(-1, 1, 1));\n        return matrix;\n    }\n}\nParserRegistry.add('dsn6', Dsn6Parser);\nParserRegistry.add('brix', Dsn6Parser);\nexport default Dsn6Parser;\n//# sourceMappingURL=dsn6-parser.js.map","/**\n * @file Dx Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Matrix4 } from 'three';\nimport { Debug, Log, ParserRegistry } from '../globals';\nimport { degToRad } from '../math/math-utils';\nimport VolumeParser from './volume-parser';\nconst reWhitespace = /\\s+/;\nclass DxParser extends VolumeParser {\n    get type() { return 'dx'; }\n    _parse() {\n        // http://apbs-pdb2pqr.readthedocs.io/en/latest/formats/opendx.html\n        if (Debug)\n            Log.time('DxParser._parse ' + this.name);\n        const v = this.volume;\n        const headerLines = this.streamer.peekLines(30);\n        const headerInfo = this.parseHeaderLines(headerLines);\n        const header = this.volume.header;\n        const dataLineStart = headerInfo.dataLineStart;\n        const size = header.nx * header.ny * header.nz;\n        const data = new Float32Array(size);\n        let count = 0;\n        let lineNo = 0;\n        function _parseChunkOfLines(_i, _n, lines) {\n            for (let i = _i; i < _n; ++i) {\n                if (count < size && lineNo > dataLineStart) {\n                    const line = lines[i].trim();\n                    if (line !== '') {\n                        const ls = line.split(reWhitespace);\n                        for (let j = 0, lj = ls.length; j < lj; ++j) {\n                            data[count] = parseFloat(ls[j]);\n                            ++count;\n                        }\n                    }\n                }\n                ++lineNo;\n            }\n        }\n        this.streamer.eachChunkOfLines(function (lines /*, chunkNo, chunkCount */) {\n            _parseChunkOfLines(0, lines.length, lines);\n        });\n        v.setData(data, header.nz, header.ny, header.nx);\n        if (Debug)\n            Log.timeEnd('DxParser._parse ' + this.name);\n    }\n    parseHeaderLines(headerLines) {\n        const header = {};\n        const n = headerLines.length;\n        let dataLineStart = 0;\n        let headerByteCount = 0;\n        let deltaLineCount = 0;\n        for (let i = 0; i < n; ++i) {\n            let ls;\n            const line = headerLines[i];\n            if (line.startsWith('object 1')) {\n                ls = line.split(reWhitespace);\n                header.nx = parseInt(ls[5]);\n                header.ny = parseInt(ls[6]);\n                header.nz = parseInt(ls[7]);\n            }\n            else if (line.startsWith('origin')) {\n                ls = line.split(reWhitespace);\n                header.xmin = parseFloat(ls[1]);\n                header.ymin = parseFloat(ls[2]);\n                header.zmin = parseFloat(ls[3]);\n            }\n            else if (line.startsWith('delta')) {\n                ls = line.split(reWhitespace);\n                if (deltaLineCount === 0) {\n                    header.hx = parseFloat(ls[1]) * this.voxelSize;\n                }\n                else if (deltaLineCount === 1) {\n                    header.hy = parseFloat(ls[2]) * this.voxelSize;\n                }\n                else if (deltaLineCount === 2) {\n                    header.hz = parseFloat(ls[3]) * this.voxelSize;\n                }\n                deltaLineCount += 1;\n            }\n            else if (line.startsWith('object 3')) {\n                dataLineStart = i;\n                headerByteCount += line.length + 1;\n                break;\n            }\n            headerByteCount += line.length + 1;\n        }\n        this.volume.header = header;\n        return {\n            dataLineStart: dataLineStart,\n            headerByteCount: headerByteCount\n        };\n    }\n    getMatrix() {\n        const h = this.volume.header;\n        const matrix = new Matrix4();\n        matrix.multiply(new Matrix4().makeRotationY(degToRad(90)));\n        matrix.multiply(new Matrix4().makeTranslation(-h.zmin, h.ymin, h.xmin));\n        matrix.multiply(new Matrix4().makeScale(-h.hz, h.hy, h.hx));\n        return matrix;\n    }\n}\nParserRegistry.add('dx', DxParser);\nexport default DxParser;\n//# sourceMappingURL=dx-parser.js.map","/**\n * @file Dxbin Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Debug, Log, ParserRegistry } from '../globals';\nimport { uint8ToLines, ensureBuffer } from '../utils';\nimport DxParser from './dx-parser';\nclass DxbinParser extends DxParser {\n    get type() { return 'dxbin'; }\n    get isBinary() { return true; }\n    _parse() {\n        // https://github.com/Electrostatics/apbs-pdb2pqr/issues/216\n        if (Debug)\n            Log.time('DxbinParser._parse ' + this.name);\n        const bin = ensureBuffer(this.streamer.data);\n        const headerLines = uint8ToLines(new Uint8Array(bin, 0, 1000));\n        const headerInfo = this.parseHeaderLines(headerLines);\n        const header = this.volume.header;\n        const headerByteCount = headerInfo.headerByteCount;\n        const size = header.nx * header.ny * header.nz;\n        const dv = new DataView(bin);\n        const data = new Float32Array(size);\n        for (let i = 0; i < size; ++i) {\n            data[i] = dv.getFloat64(i * 8 + headerByteCount, true);\n        }\n        this.volume.setData(data, header.nz, header.ny, header.nx);\n        if (Debug)\n            Log.timeEnd('DxbinParser._parse ' + this.name);\n    }\n}\nParserRegistry.add('dxbin', DxbinParser);\nexport default DxbinParser;\n//# sourceMappingURL=dxbin-parser.js.map","/**\n * @file Mrc Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3, Matrix4 } from 'three';\nimport { Debug, Log, ParserRegistry } from '../globals';\nimport { ensureBuffer } from '../utils';\nimport VolumeParser from './volume-parser';\nclass MrcParser extends VolumeParser {\n    get type() { return 'mrc'; }\n    get isBinary() { return true; }\n    _parse() {\n        // MRC\n        // http://ami.scripps.edu/software/mrctools/mrc_specification.php\n        // http://www2.mrc-lmb.cam.ac.uk/research/locally-developed-software/image-processing-software/#image\n        // http://bio3d.colorado.edu/imod/doc/mrc_format.txt\n        // CCP4 (MAP)\n        // http://www.ccp4.ac.uk/html/maplib.html\n        // MRC format does not use the skew transformation header records (words 25-37)\n        // CCP4 format does not use the ORIGIN header records (words 50-52)\n        if (Debug)\n            Log.time('MrcParser._parse ' + this.name);\n        const v = this.volume;\n        const header = {};\n        const bin = ensureBuffer(this.streamer.data);\n        const intView = new Int32Array(bin, 0, 56);\n        const floatView = new Float32Array(bin, 0, 56);\n        const dv = new DataView(bin);\n        // 53  MAP         Character string 'MAP ' to identify file type\n        header.MAP = String.fromCharCode(dv.getUint8(52 * 4), dv.getUint8(52 * 4 + 1), dv.getUint8(52 * 4 + 2), dv.getUint8(52 * 4 + 3));\n        // 54  MACHST      Machine stamp indicating machine type which wrote file\n        //                 17 and 17 for big-endian or 68 and 65 for little-endian\n        header.MACHST = [dv.getUint8(53 * 4), dv.getUint8(53 * 4 + 1)];\n        // swap byte order when big endian\n        if (header.MACHST[0] === 17 && header.MACHST[1] === 17) {\n            const n = bin.byteLength;\n            for (let i = 0; i < n; i += 4) {\n                dv.setFloat32(i, dv.getFloat32(i), true);\n            }\n        }\n        header.NX = intView[0]; // NC - columns (fastest changing)\n        header.NY = intView[1]; // NR - rows\n        header.NZ = intView[2]; // NS - sections (slowest changing)\n        // mode\n        //  0 image : signed 8-bit bytes range -128 to 127\n        //  1 image : 16-bit halfwords\n        //  2 image : 32-bit reals\n        //  3 transform : complex 16-bit integers\n        //  4 transform : complex 32-bit reals\n        //  6 image : unsigned 16-bit range 0 to 65535\n        // 16 image: unsigned char * 3 (for rgb data, non-standard)\n        //\n        // Note: Mode 2 is the normal mode used in the CCP4 programs.\n        //       Other modes than 2 and 0 may NOT WORK\n        header.MODE = intView[3];\n        // start\n        header.NXSTART = intView[4]; // NCSTART - first column\n        header.NYSTART = intView[5]; // NRSTART - first row\n        header.NZSTART = intView[6]; // NSSTART - first section\n        // intervals\n        header.MX = intView[7]; // intervals along x\n        header.MY = intView[8]; // intervals along y\n        header.MZ = intView[9]; // intervals along z\n        // cell length (Angstroms in CCP4)\n        header.xlen = floatView[10] * this.voxelSize;\n        header.ylen = floatView[11] * this.voxelSize;\n        header.zlen = floatView[12] * this.voxelSize;\n        // cell angle (Degrees)\n        header.alpha = floatView[13];\n        header.beta = floatView[14];\n        header.gamma = floatView[15];\n        // axis correspondence (1,2,3 for X,Y,Z)\n        header.MAPC = intView[16]; // column\n        header.MAPR = intView[17]; // row\n        header.MAPS = intView[18]; // section\n        // density statistics\n        header.DMIN = floatView[19];\n        header.DMAX = floatView[20];\n        header.DMEAN = floatView[21];\n        // space group number 0 or 1 (default=0)\n        header.ISPG = intView[22];\n        // number of bytes used for symmetry data (0 or 80)\n        header.NSYMBT = intView[23];\n        // Flag for skew transformation, =0 none, =1 if foll\n        header.LSKFLG = intView[24];\n        // 26-34  SKWMAT  Skew matrix S (in order S11, S12, S13, S21 etc) if\n        //                LSKFLG .ne. 0.\n        // 35-37  SKWTRN  Skew translation t if LSKFLG != 0.\n        //                Skew transformation is from standard orthogonal\n        //                coordinate frame (as used for atoms) to orthogonal\n        //                map frame, as Xo(map) = S * (Xo(atoms) - t)\n        // 38      future use       (some of these are used by the MSUBSX routines\n        //  .          \"              in MAPBRICK, MAPCONT and FRODO)\n        //  .          \"   (all set to zero by default)\n        //  .          \"\n        // 52          \"\n        // 50-52 origin in X,Y,Z used for transforms\n        header.originX = floatView[49];\n        header.originY = floatView[50];\n        header.originZ = floatView[51];\n        // 53  MAP         Character string 'MAP ' to identify file type\n        // => see top of this parser\n        // 54  MACHST      Machine stamp indicating machine type which wrote file\n        // => see top of this parser\n        // Rms deviation of map from mean density\n        header.ARMS = floatView[54];\n        // 56      NLABL           Number of labels being used\n        // 57-256  LABEL(20,10)    10  80 character text labels (ie. A4 format)\n        v.header = header;\n        // Log.log( header );\n        let data;\n        if (header.MODE === 2) {\n            data = new Float32Array(bin, 256 * 4 + header.NSYMBT, header.NX * header.NY * header.NZ);\n        }\n        else if (header.MODE === 0) {\n            data = new Float32Array(new Int8Array(bin, 256 * 4 + header.NSYMBT, header.NX * header.NY * header.NZ));\n            // based on uglymol (https://github.com/uglymol/uglymol) by Marcin Wojdyr (wojdyr)\n            // if the file was converted by mapmode2to0 - scale the data\n            if (intView[39] === -128 && intView[40] === 127) {\n                // scaling f(x)=b1*x+b0 such that f(-128)=min and f(127)=max\n                const b1 = (header.DMAX - header.DMIN) / 255.0;\n                const b0 = 0.5 * (header.DMIN + header.DMAX + b1);\n                for (let j = 0, jl = data.length; j < jl; ++j) {\n                    data[j] = b1 * data[j] + b0;\n                }\n            }\n        }\n        else {\n            Log.error('MrcParser unknown mode', header.MODE);\n        }\n        v.setData(data, header.NX, header.NY, header.NZ);\n        if (header.ARMS !== 0) {\n            v.setStats(header.DMIN, header.DMAX, header.DMEAN, header.ARMS);\n        }\n        if (Debug)\n            Log.timeEnd('MrcParser._parse ' + this.name);\n    }\n    getMatrix() {\n        const h = this.volume.header;\n        const basisX = [\n            h.xlen,\n            0,\n            0\n        ];\n        const basisY = [\n            h.ylen * Math.cos(Math.PI / 180.0 * h.gamma),\n            h.ylen * Math.sin(Math.PI / 180.0 * h.gamma),\n            0\n        ];\n        const basisZ = [\n            h.zlen * Math.cos(Math.PI / 180.0 * h.beta),\n            h.zlen * (Math.cos(Math.PI / 180.0 * h.alpha) -\n                Math.cos(Math.PI / 180.0 * h.gamma) *\n                    Math.cos(Math.PI / 180.0 * h.beta)) / Math.sin(Math.PI / 180.0 * h.gamma),\n            0\n        ];\n        basisZ[2] = Math.sqrt(h.zlen * h.zlen * Math.sin(Math.PI / 180.0 * h.beta) *\n            Math.sin(Math.PI / 180.0 * h.beta) - basisZ[1] * basisZ[1]);\n        const basis = [[], basisX, basisY, basisZ];\n        const nxyz = [0, h.MX, h.MY, h.MZ];\n        const mapcrs = [0, h.MAPC, h.MAPR, h.MAPS];\n        const matrix = new Matrix4();\n        matrix.set(basis[mapcrs[1]][0] / nxyz[mapcrs[1]], basis[mapcrs[2]][0] / nxyz[mapcrs[2]], basis[mapcrs[3]][0] / nxyz[mapcrs[3]], 0, basis[mapcrs[1]][1] / nxyz[mapcrs[1]], basis[mapcrs[2]][1] / nxyz[mapcrs[2]], basis[mapcrs[3]][1] / nxyz[mapcrs[3]], 0, basis[mapcrs[1]][2] / nxyz[mapcrs[1]], basis[mapcrs[2]][2] / nxyz[mapcrs[2]], basis[mapcrs[3]][2] / nxyz[mapcrs[3]], 0, 0, 0, 0, 1);\n        matrix.setPosition(new Vector3(h.originX, h.originY, h.originZ));\n        matrix.multiply(new Matrix4().makeTranslation(h.NXSTART, h.NYSTART, h.NZSTART));\n        return matrix;\n    }\n}\nParserRegistry.add('mrc', MrcParser);\nParserRegistry.add('ccp4', MrcParser);\nParserRegistry.add('map', MrcParser);\nexport default MrcParser;\n//# sourceMappingURL=mrc-parser.js.map","/**\n * @file Xplor Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Matrix4 } from 'three';\nimport { Debug, Log, ParserRegistry } from '../globals';\nimport VolumeParser from './volume-parser';\nconst reWhitespace = /\\s+/;\nfunction parseNumberLine(line) {\n    return line.trim().split(reWhitespace).map(parseFloat);\n}\nclass XplorParser extends VolumeParser {\n    get type() { return 'xplor'; }\n    _parse() {\n        // http://hincklab.uthscsa.edu/html/soft_packs/msi_docs/insight980/xplor/formats.html\n        // http://www.mrc-lmb.cam.ac.uk/public/xtal/doc/cns/cns_1.3/tutorial/formats/maps/text.html\n        if (Debug)\n            Log.time('XplorParser._parse ' + this.name);\n        const v = this.volume;\n        const headerLines = this.streamer.peekLines(8);\n        const header = {};\n        let infoStart;\n        if (headerLines[2].startsWith('REMARKS')) {\n            infoStart = parseInt(headerLines[1].substring(0, 8)) + 2;\n        }\n        else {\n            infoStart = 5;\n        }\n        const dataStart = infoStart + 3;\n        const gridInfo = parseNumberLine(headerLines[infoStart]);\n        header.NA = gridInfo[0];\n        header.AMIN = gridInfo[1];\n        header.AMAX = gridInfo[2];\n        header.NB = gridInfo[3];\n        header.BMIN = gridInfo[4];\n        header.BMAX = gridInfo[5];\n        header.NC = gridInfo[6];\n        header.CMIN = gridInfo[7];\n        header.CMAX = gridInfo[8];\n        const cellInfo = parseNumberLine(headerLines[infoStart + 1]);\n        header.a = cellInfo[0] * this.voxelSize;\n        header.b = cellInfo[1] * this.voxelSize;\n        header.c = cellInfo[2] * this.voxelSize;\n        header.alpha = cellInfo[3];\n        header.beta = cellInfo[4];\n        header.gamma = cellInfo[5];\n        const na = header.AMAX - header.AMIN + 1;\n        const nb = header.BMAX - header.BMIN + 1;\n        const nc = header.CMAX - header.CMIN + 1;\n        const n = na * nb * nc;\n        const data = new Float32Array(n);\n        const lineSection = Math.ceil(1 + (na * nb) / 6);\n        let count = 0;\n        let lineNo = 0;\n        function _parseChunkOfLines(_i, _n, lines) {\n            for (let i = _i; i < _n; ++i) {\n                const line = lines[i];\n                if (lineNo >= dataStart && (lineNo - dataStart) % lineSection !== 0 && count < n) {\n                    for (let j = 0, lj = 6; j < lj; ++j) {\n                        const value = parseFloat(line.substr(12 * j, 12));\n                        if (isNaN(value)) {\n                            break;\n                        } // Last line of map section\n                        data[count++] = value;\n                    }\n                }\n                else if (count === n) {\n                    const lt = line.trim();\n                    if (lt && lt !== '-9999') {\n                        const ls = parseNumberLine(line);\n                        header.RAVE = ls[0];\n                        header.RSIGMA = ls[1];\n                    }\n                }\n                ++lineNo;\n            }\n        }\n        this.streamer.eachChunkOfLines(function (lines /*, chunkNo, chunkCount */) {\n            _parseChunkOfLines(0, lines.length, lines);\n        });\n        v.header = header;\n        v.setData(data, na, nb, nc);\n        if (header.RAVE !== 0 && header.RSIGMA !== 1) {\n            v.setStats(undefined, undefined, header.RAVE, header.RSIGMA);\n        }\n        if (Debug)\n            Log.timeEnd('XplorParser._parse ' + this.name);\n    }\n    getMatrix() {\n        const h = this.volume.header;\n        const basisX = [\n            h.a,\n            0,\n            0\n        ];\n        const basisY = [\n            h.b * Math.cos(Math.PI / 180.0 * h.gamma),\n            h.b * Math.sin(Math.PI / 180.0 * h.gamma),\n            0\n        ];\n        const basisZ = [\n            h.c * Math.cos(Math.PI / 180.0 * h.beta),\n            h.c * (Math.cos(Math.PI / 180.0 * h.alpha) -\n                Math.cos(Math.PI / 180.0 * h.gamma) *\n                    Math.cos(Math.PI / 180.0 * h.beta)) / Math.sin(Math.PI / 180.0 * h.gamma),\n            0\n        ];\n        basisZ[2] = Math.sqrt(h.c * h.c * Math.sin(Math.PI / 180.0 * h.beta) *\n            Math.sin(Math.PI / 180.0 * h.beta) - basisZ[1] * basisZ[1]);\n        const basis = [[], basisX, basisY, basisZ];\n        const nxyz = [0, h.NA, h.NB, h.NC];\n        const mapcrs = [0, 1, 2, 3];\n        const matrix = new Matrix4();\n        matrix.set(basis[mapcrs[1]][0] / nxyz[mapcrs[1]], basis[mapcrs[2]][0] / nxyz[mapcrs[2]], basis[mapcrs[3]][0] / nxyz[mapcrs[3]], 0, basis[mapcrs[1]][1] / nxyz[mapcrs[1]], basis[mapcrs[2]][1] / nxyz[mapcrs[2]], basis[mapcrs[3]][1] / nxyz[mapcrs[3]], 0, basis[mapcrs[1]][2] / nxyz[mapcrs[1]], basis[mapcrs[2]][2] / nxyz[mapcrs[2]], basis[mapcrs[3]][2] / nxyz[mapcrs[3]], 0, 0, 0, 0, 1);\n        matrix.multiply(new Matrix4().makeTranslation(h.AMIN, h.BMIN, h.CMIN));\n        return matrix;\n    }\n}\nParserRegistry.add('xplor', XplorParser);\nParserRegistry.add('cns', XplorParser);\nexport default XplorParser;\n//# sourceMappingURL=xplor-parser.js.map","/**\n * @file Kin Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Debug, Log, ParserRegistry } from '../globals';\nimport { Vector3 } from 'three';\nimport Parser from './parser';\nfunction hsvToRgb(h, s, v) {\n    h /= 360;\n    s /= 100;\n    v /= 100;\n    let r, g, b;\n    const i = Math.floor(h * 6);\n    const f = h * 6 - i;\n    const p = v * (1 - s);\n    const q = v * (1 - f * s);\n    const t = v * (1 - (1 - f) * s);\n    switch (i % 6) {\n        case 0:\n            r = v;\n            g = t;\n            b = p;\n            break;\n        case 1:\n            r = q;\n            g = v;\n            b = p;\n            break;\n        case 2:\n            r = p;\n            g = v;\n            b = t;\n            break;\n        case 3:\n            r = p;\n            g = q;\n            b = v;\n            break;\n        case 4:\n            r = t;\n            g = p;\n            b = v;\n            break;\n        case 5:\n            r = v;\n            g = p;\n            b = q;\n            break;\n    }\n    return [r, g, b];\n}\nconst ColorDict = {\n    red: hsvToRgb(0, 100, 100),\n    orange: hsvToRgb(20, 100, 100),\n    gold: hsvToRgb(40, 100, 100),\n    yellow: hsvToRgb(60, 100, 100),\n    lime: hsvToRgb(80, 100, 100),\n    green: hsvToRgb(120, 80, 100),\n    sea: hsvToRgb(150, 100, 100),\n    cyan: hsvToRgb(180, 100, 85),\n    sky: hsvToRgb(210, 75, 95),\n    blue: hsvToRgb(240, 70, 100),\n    purple: hsvToRgb(275, 75, 100),\n    magenta: hsvToRgb(300, 95, 100),\n    hotpink: hsvToRgb(335, 100, 100),\n    pink: hsvToRgb(350, 55, 100),\n    peach: hsvToRgb(25, 75, 100),\n    lilac: hsvToRgb(275, 55, 100),\n    pinktint: hsvToRgb(340, 30, 100),\n    peachtint: hsvToRgb(25, 50, 100),\n    yellowtint: hsvToRgb(60, 50, 100),\n    greentint: hsvToRgb(135, 40, 100),\n    bluetint: hsvToRgb(220, 40, 100),\n    lilactint: hsvToRgb(275, 35, 100),\n    white: hsvToRgb(0, 0, 100),\n    gray: hsvToRgb(0, 0, 50),\n    brown: hsvToRgb(20, 45, 75),\n    deadwhite: [1, 1, 1],\n    deadblack: [0, 0, 0],\n    invisible: [0, 0, 0]\n};\nconst reWhitespaceComma = /[\\s,]+/;\nconst reCurlyWhitespace = /[^{}\\s]*{[^{}]+}|[^{}\\s]+/g;\nconst reTrimCurly = /^{+|}+$/g;\nconst reTrimQuotes = /^['\"]+|['\"]+$/g;\nconst reCollapseEqual = /\\s*=\\s*/g;\nfunction parseListDef(line) {\n    let name;\n    let defaultColor;\n    let master = [];\n    let width;\n    line = line.replace(reCollapseEqual, '=');\n    const lm = line.match(reCurlyWhitespace);\n    for (let j = 1; j < lm.length; ++j) {\n        const e = lm[j];\n        if (e[0] === '{') {\n            name = e.substring(1, e.length - 1);\n        }\n        else {\n            const es = e.split('=');\n            if (es.length === 2) {\n                if (es[0] === 'color') {\n                    defaultColor = ColorDict[es[1]];\n                }\n                else if (es[0] === 'width') {\n                    width = parseInt(es[1]);\n                }\n                else if (es[0] === 'master') {\n                    master.push(es[1].replace(reTrimCurly, ''));\n                }\n            }\n        }\n    }\n    return {\n        listName: name,\n        listColor: defaultColor,\n        listMasters: master,\n        listWidth: width\n    };\n}\nfunction parseListElm(line) {\n    line = line.trim();\n    const idx1 = line.indexOf('{');\n    const idx2 = line.indexOf('}');\n    const ls = line.substr(idx2 + 1).split(reWhitespaceComma);\n    const label = line.substr(idx1 + 1, idx2 - 1);\n    const position = [\n        parseFloat(ls[ls.length - 3]),\n        parseFloat(ls[ls.length - 2]),\n        parseFloat(ls[ls.length - 1])\n    ];\n    let color, width, radius;\n    let lineBreak = false;\n    let triangleBreak = false;\n    for (let lsindex = 4; lsindex <= ls.length; lsindex++) {\n        const literal = ls[ls.length - lsindex];\n        if (literal in ColorDict) {\n            color = ColorDict[ls[ls.length - lsindex]];\n        }\n        if (literal.startsWith('width')) {\n            width = parseInt(literal.substring(5));\n        }\n        if (literal.startsWith('r=')) {\n            radius = parseFloat(literal.split('=')[1]);\n        }\n        if (literal.startsWith('P')) {\n            lineBreak = true;\n        }\n        if (literal.startsWith('X')) {\n            triangleBreak = true;\n        }\n    }\n    // const color = line[ idx2 + 1 ] === ' ' ? undefined : ColorDict[ ls[ 0 ] ]\n    return {\n        label: label,\n        position: position,\n        color: color,\n        radius: radius,\n        width: width,\n        isLineBreak: lineBreak,\n        isTriangleBreak: triangleBreak\n    };\n}\nfunction parseStr(line) {\n    const start = line.indexOf('{');\n    const end = line.indexOf('}');\n    return line.substring(start !== -1 ? start + 1 : 0, end !== -1 ? end : undefined).trim();\n}\nfunction parseFlag(line) {\n    const end = line.indexOf('}');\n    return end === -1 ? undefined : line.substr(end + 1).trim();\n}\nfunction parseGroup(line) {\n    let name = '';\n    let master = [];\n    let flags = {};\n    line = line.replace(reCollapseEqual, '=');\n    const lm = line.match(reCurlyWhitespace);\n    for (let j = 1; j < lm.length; ++j) {\n        const e = lm[j];\n        if (e[0] === '{') {\n            name = e.substring(1, e.length - 1);\n        }\n        else {\n            const es = e.split('=');\n            if (es.length === 2) {\n                if (es[0] === 'master') {\n                    master.push(es[1].replace(reTrimCurly, ''));\n                }\n                else {\n                    flags[es[0]] = es[1].replace(reTrimCurly, '');\n                }\n            }\n            else {\n                flags[es[0]] = true;\n            }\n        }\n    }\n    return { groupName: name,\n        groupFlags: flags,\n        groupMasters: master\n    };\n}\nfunction convertKinTriangleArrays(ribbonObject) {\n    // have to convert ribbons/triangle lists from stripdrawmode to normal drawmode\n    // index                    [ 0 1 2 3 4 5 6 7 8 91011 ]\n    // label [ 0 1 2 3 4 5 ] to [ 0 1 2 1 2 3 2 3 4 3 4 5 ]\n    // convertedindex                                      [ 0 1 2 3 4 5 6 7 8 91011121314151617181920212223242526 ]\n    // index          [ 0 1 2 3 4 5 6 7 8 91011121314 ]    [ 0 1 2 3 4 5 6 7 8 3 4 5 6 7 8 91011 6 7 8 91011121314 ]\n    // position/color [ 0 0 0 1 1 1 2 2 2 3 3 3 4 4 4 ] to [ 0 0 0 1 1 1 2 2 2 1 1 1 2 2 2 3 3 3 2 2 2 3 3 3 4 4 4 ]\n    let { labelArray, positionArray, colorArray, breakArray } = ribbonObject;\n    let convertedLabels = [];\n    for (let i = 0; i < (labelArray.length - 2) * 3; ++i) {\n        convertedLabels[i] = labelArray[i - Math.floor(i / 3) * 2];\n    }\n    let convertedBreaks = [];\n    for (let i = 0; i < (breakArray.length - 2) * 3; ++i) {\n        convertedBreaks[i] = breakArray[i - Math.floor(i / 3) * 2];\n    }\n    let convertedPositions = [];\n    for (let i = 0; i < (positionArray.length / 3 - 2) * 9; ++i) {\n        convertedPositions[i] = positionArray[i - Math.floor(i / 9) * 6];\n    }\n    let convertedColors = [];\n    for (let i = 0; i < (colorArray.length / 3 - 2) * 9; ++i) {\n        convertedColors[i] = colorArray[i - Math.floor(i / 9) * 6];\n    }\n    let vector3Positions = [];\n    for (let i = 0; i < (convertedPositions.length) / 3; ++i) {\n        vector3Positions.push(new Vector3(convertedPositions[i * 3], convertedPositions[i * 3] + 1, convertedPositions[i * 3] + 2));\n    }\n    //let normals = []\n    //for (let i = 0; i < vector3Positions.length - 1; ++i) {\n    //  let normalVec3 = vector3Positions[i].cross(vector3Positions[i + 1])\n    //  normals.push(normalVec3.x)\n    //  normals.push(normalVec3.y)\n    //  normals.push(normalVec3.z)\n    //}\n    return {\n        name: ribbonObject.name,\n        masterArray: ribbonObject.masterArray,\n        labelArray: convertedLabels,\n        positionArray: convertedPositions,\n        breakArray: convertedBreaks,\n        colorArray: convertedColors\n    };\n}\nfunction removePointBreaksTriangleArrays(convertedRibbonObject) {\n    // after converting ribbon/triangle arrys to drawmode, removed point break triangles\n    // label [ 0 1 2 3 4 5 ] to [ 0 1 2 1 2 3 2 3 4 3 4 5 ]\n    // position/color [ 0 0 0 1 1 1 2 2 2 3 3 3 4 4 4 ] to [ 0 0 0 1 1 1 2 2 2 1 1 1 2 2 2 3 3 3 2 2 2 3 3 3 4 4 4 ]\n    let { labelArray, positionArray, colorArray, breakArray } = convertedRibbonObject;\n    let editedLabels = [];\n    let editedPositions = [];\n    let editedColors = [];\n    let editedBreaks = [];\n    for (let i = 0; i < breakArray.length / 3; i++) {\n        let breakPointer = i * 3;\n        let positionPointer = i * 9;\n        if (!breakArray[breakPointer + 1] && !breakArray[breakPointer + 2]) {\n            editedLabels.push(labelArray[breakPointer]);\n            editedLabels.push(labelArray[breakPointer + 1]);\n            editedLabels.push(labelArray[breakPointer + 2]);\n            editedBreaks.push(breakArray[breakPointer]);\n            editedBreaks.push(breakArray[breakPointer + 1]);\n            editedBreaks.push(breakArray[breakPointer + 2]);\n            editedPositions.push(positionArray[positionPointer]);\n            editedPositions.push(positionArray[positionPointer + 1]);\n            editedPositions.push(positionArray[positionPointer + 2]);\n            editedPositions.push(positionArray[positionPointer + 3]);\n            editedPositions.push(positionArray[positionPointer + 4]);\n            editedPositions.push(positionArray[positionPointer + 5]);\n            editedPositions.push(positionArray[positionPointer + 6]);\n            editedPositions.push(positionArray[positionPointer + 7]);\n            editedPositions.push(positionArray[positionPointer + 8]);\n            editedColors.push(colorArray[positionPointer]);\n            editedColors.push(colorArray[positionPointer + 1]);\n            editedColors.push(colorArray[positionPointer + 2]);\n            editedColors.push(colorArray[positionPointer + 3]);\n            editedColors.push(colorArray[positionPointer + 4]);\n            editedColors.push(colorArray[positionPointer + 5]);\n            editedColors.push(colorArray[positionPointer + 6]);\n            editedColors.push(colorArray[positionPointer + 7]);\n            editedColors.push(colorArray[positionPointer + 8]);\n        }\n        else {\n            //console.log('X triangle break found')\n            //console.log('skipping: '+positionArray[positionPointer]+','+positionArray[positionPointer+1]+','+positionArray[positionPointer+2]+','\n            //                        +positionArray[positionPointer+3]+','+positionArray[positionPointer+4]+','+positionArray[positionPointer+5]+','\n            //                        +positionArray[positionPointer+6]+','+positionArray[positionPointer+7]+','+positionArray[positionPointer+8])\n        }\n    }\n    return {\n        name: convertedRibbonObject.name,\n        masterArray: convertedRibbonObject.masterArray,\n        labelArray: editedLabels,\n        positionArray: editedPositions,\n        breakArray: editedBreaks,\n        colorArray: editedColors\n    };\n}\nclass KinParser extends Parser {\n    get type() { return 'kin'; }\n    get __objName() { return 'kinemage'; }\n    _parse() {\n        // http://kinemage.biochem.duke.edu/software/king.php\n        if (Debug)\n            Log.time(`KinParser._parse ${this.name}`);\n        const kinemage = {\n            kinemage: undefined,\n            onewidth: undefined,\n            '1viewid': undefined,\n            pdbfile: undefined,\n            texts: [],\n            text: '',\n            captions: [],\n            caption: '',\n            groupDict: {},\n            subgroupDict: {},\n            masterDict: {},\n            pointmasterDict: {},\n            dotLists: [],\n            vectorLists: [],\n            ballLists: [],\n            ribbonLists: []\n        };\n        this.kinemage = kinemage;\n        let currentGroupMasters;\n        let currentSubgroupMasters;\n        let isDotList = false;\n        let prevDotLabel = '';\n        let dotDefaultColor;\n        let dotLabel, dotPosition, dotColor;\n        let isVectorList = false;\n        let prevVecLabel = '';\n        let prevVecPosition = null;\n        let prevVecColor = null;\n        let vecDefaultColor, vecDefaultWidth;\n        let vecLabel1, vecLabel2, vecPosition1, vecPosition2, vecColor1, vecColor2;\n        let isBallList = false;\n        let prevBallLabel = '';\n        let ballRadius, ballDefaultColor;\n        let ballLabel, ballPosition, ballColor;\n        let isRibbonList = false;\n        let prevRibbonPointLabel = '';\n        let ribbonListDefaultColor;\n        let ribbonPointLabelArray, ribbonPointPositionArray, ribbonPointBreakArray, ribbonPointColorArray;\n        let isText = false;\n        let isCaption = false;\n        // @vectorlist {mc} color= white  master= {mainchain}\n        // { n   thr A   1  B13.79 1crnFH} P 17.047, 14.099, 3.625 { n   thr A   1  B13.79 1crnFH} L 17.047, 14.099, 3.625\n        // @dotlist {x} color=white master={vdw contact} master={dots}\n        // { CB  THR   1  A}sky  'P' 18.915,14.199,5.024\n        function _parseChunkOfLines(_i, _n, lines) {\n            for (let i = _i; i < _n; ++i) {\n                const line = lines[i];\n                if (line[0] === '@') {\n                    isDotList = false;\n                    isVectorList = false;\n                    isBallList = false;\n                    isRibbonList = false;\n                    isText = false;\n                    isCaption = false;\n                }\n                if (!line) {\n                    isDotList = false;\n                    isVectorList = false;\n                    isBallList = false;\n                    isRibbonList = false;\n                }\n                else if (line.startsWith('@dotlist')) {\n                    // @dotlist {x} color=white master={vdw contact} master={dots}\n                    let { listColor, listName, listMasters } = parseListDef(line);\n                    isDotList = true;\n                    prevDotLabel = '';\n                    dotLabel = [];\n                    dotPosition = [];\n                    dotColor = [];\n                    dotDefaultColor = listColor;\n                    if (currentGroupMasters) {\n                        listMasters = listMasters.concat(currentGroupMasters);\n                    }\n                    if (currentSubgroupMasters) {\n                        listMasters = listMasters.concat(currentSubgroupMasters);\n                    }\n                    kinemage.dotLists.push({\n                        name: listName,\n                        masterArray: listMasters,\n                        labelArray: dotLabel,\n                        positionArray: dotPosition,\n                        colorArray: dotColor\n                    });\n                }\n                else if (line.startsWith('@vectorlist')) {\n                    // @vectorlist {x} color=white master={small overlap} master={dots}\n                    let { listMasters, listName, listWidth, listColor } = parseListDef(line);\n                    if (listMasters) {\n                        listMasters.forEach(function (name) {\n                            if (!kinemage.masterDict[name]) {\n                                kinemage.masterDict[name] = {\n                                    indent: false,\n                                    visible: false\n                                };\n                            }\n                        });\n                    }\n                    isVectorList = true;\n                    prevVecLabel = '';\n                    prevVecPosition = null;\n                    prevVecColor = null;\n                    vecLabel1 = [];\n                    vecLabel2 = [];\n                    vecPosition1 = [];\n                    vecPosition2 = [];\n                    vecColor1 = [];\n                    vecColor2 = [];\n                    vecDefaultColor = listColor;\n                    vecDefaultWidth = [];\n                    if (listWidth) {\n                        vecDefaultWidth.push(listWidth);\n                    }\n                    if (currentGroupMasters) {\n                        listMasters = listMasters.concat(currentGroupMasters);\n                    }\n                    if (currentSubgroupMasters) {\n                        listMasters = listMasters.concat(currentSubgroupMasters);\n                    }\n                    kinemage.vectorLists.push({\n                        name: listName,\n                        masterArray: listMasters,\n                        label1Array: vecLabel1,\n                        label2Array: vecLabel2,\n                        position1Array: vecPosition1,\n                        position2Array: vecPosition2,\n                        color1Array: vecColor1,\n                        color2Array: vecColor2,\n                        width: vecDefaultWidth\n                    });\n                }\n                else if (line.startsWith('@balllist')) {\n                    let { listName, listColor, listMasters } = parseListDef(line);\n                    if (listMasters) {\n                        listMasters.forEach(function (name) {\n                            if (!kinemage.masterDict[name]) {\n                                kinemage.masterDict[name] = {\n                                    indent: false,\n                                    visible: false\n                                };\n                            }\n                        });\n                    }\n                    isBallList = true;\n                    prevBallLabel = '';\n                    ballLabel = [];\n                    ballRadius = [];\n                    ballPosition = [];\n                    ballColor = [];\n                    ballDefaultColor = listColor;\n                    if (currentGroupMasters) {\n                        listMasters = listMasters.concat(currentGroupMasters);\n                    }\n                    if (currentSubgroupMasters) {\n                        listMasters = listMasters.concat(currentSubgroupMasters);\n                    }\n                    kinemage.ballLists.push({\n                        name: listName,\n                        masterArray: listMasters,\n                        labelArray: ballLabel,\n                        radiusArray: ballRadius,\n                        positionArray: ballPosition,\n                        colorArray: ballColor\n                    });\n                }\n                else if (line.startsWith('@ribbonlist') || line.startsWith('@trianglelist')) {\n                    let { listMasters, listName, listColor } = parseListDef(line);\n                    if (listMasters) {\n                        listMasters.forEach(function (name) {\n                            if (!kinemage.masterDict[name]) {\n                                kinemage.masterDict[name] = {\n                                    indent: false,\n                                    visible: false\n                                };\n                            }\n                        });\n                    }\n                    isRibbonList = true;\n                    prevRibbonPointLabel = '';\n                    ribbonPointLabelArray = [];\n                    ribbonPointPositionArray = [];\n                    ribbonPointBreakArray = [];\n                    ribbonPointColorArray = [];\n                    ribbonListDefaultColor = listColor;\n                    if (currentGroupMasters) {\n                        listMasters = listMasters.concat(currentGroupMasters);\n                    }\n                    if (currentSubgroupMasters) {\n                        listMasters = listMasters.concat(currentSubgroupMasters);\n                    }\n                    kinemage.ribbonLists.push({\n                        name: listName,\n                        masterArray: listMasters,\n                        labelArray: ribbonPointLabelArray,\n                        positionArray: ribbonPointPositionArray,\n                        breakArray: ribbonPointBreakArray,\n                        colorArray: ribbonPointColorArray\n                    });\n                }\n                else if (line.startsWith('@text')) {\n                    isText = true;\n                    kinemage.texts.push(line.substr(5));\n                }\n                else if (line.startsWith('@caption')) {\n                    isCaption = true;\n                    kinemage.captions.push(line.substr(8));\n                }\n                else if (isDotList) {\n                    // { CB  THR   1  A}sky  'P' 18.915,14.199,5.024\n                    let { label, color, position } = parseListElm(line);\n                    if (label === '\"') {\n                        label = prevDotLabel;\n                    }\n                    else {\n                        prevDotLabel = label;\n                    }\n                    if (color === undefined) {\n                        color = dotDefaultColor;\n                    }\n                    dotLabel.push(label);\n                    dotPosition.push(...position);\n                    dotColor.push(...color);\n                }\n                else if (isVectorList) {\n                    // { n   thr A   1  B13.79 1crnFH} P 17.047, 14.099, 3.625 { n   thr A   1  B13.79 1crnFH} L 17.047, 14.099, 3.625\n                    let doubleLine = line.replace(/(?!^){/g, '\\n{');\n                    let splitLine = doubleLine.split(/\\n/);\n                    for (var i2 = 0; i2 < splitLine.length; i2++) {\n                        let singlePointLine = splitLine[i2];\n                        let { label, color, width, position, isLineBreak } = parseListElm(singlePointLine);\n                        if (label === '\"') {\n                            label = prevVecLabel;\n                        }\n                        else {\n                            prevVecLabel = label;\n                        }\n                        if (color === undefined) {\n                            color = vecDefaultColor;\n                        }\n                        if (!isLineBreak) {\n                            if (prevVecPosition !== null) {\n                                if (width) {\n                                    vecDefaultWidth.push(width);\n                                }\n                                vecLabel1.push(prevVecLabel);\n                                vecPosition1.push(...prevVecPosition);\n                                vecColor1.push(...prevVecColor);\n                                vecLabel2.push(label);\n                                vecPosition2.push(...position);\n                                vecColor2.push(...color);\n                            }\n                        }\n                        prevVecLabel = label;\n                        prevVecPosition = position;\n                        prevVecColor = color;\n                    }\n                }\n                else if (isBallList) {\n                    // {cb arg A   1   1.431 -106.80} r=1.431  39.085, 8.083, 22.182\n                    let { label, radius, color, position } = parseListElm(line);\n                    if (label === '\"') {\n                        label = prevBallLabel;\n                    }\n                    else {\n                        prevBallLabel = label;\n                    }\n                    if (radius === undefined) {\n                        radius = 1; // temporary default radius\n                    }\n                    if (color === undefined) {\n                        color = ballDefaultColor;\n                    }\n                    ballLabel.push(label);\n                    ballRadius.push(radius);\n                    ballPosition.push(...position);\n                    ballColor.push(...color);\n                }\n                else if (isRibbonList) {\n                    let { label, color, position, isTriangleBreak } = parseListElm(line);\n                    if (label === '\"') {\n                        label = prevRibbonPointLabel;\n                    }\n                    else {\n                        prevRibbonPointLabel = label;\n                    }\n                    if (color === undefined) {\n                        color = ribbonListDefaultColor;\n                    }\n                    ribbonPointLabelArray.push(label);\n                    ribbonPointPositionArray.push(...position);\n                    ribbonPointBreakArray.push(isTriangleBreak);\n                    ribbonPointColorArray.push(...color);\n                }\n                else if (isText) {\n                    kinemage.texts.push(line);\n                }\n                else if (isCaption) {\n                    kinemage.captions.push(line);\n                }\n                else if (line.startsWith('@kinemage')) {\n                    kinemage.kinemage = parseInt(line.substr(9).trim());\n                }\n                else if (line.startsWith('@onewidth')) {\n                    kinemage.onewidth = true;\n                }\n                else if (line.startsWith('@1viewid')) {\n                    kinemage['1viewid'] = parseStr(line);\n                }\n                else if (line.startsWith('@pdbfile')) {\n                    kinemage.pdbfile = parseStr(line);\n                }\n                else if (line.startsWith('@group')) {\n                    let { groupName, groupFlags, groupMasters } = parseGroup(line);\n                    if (!kinemage.groupDict[groupName]) {\n                        kinemage.groupDict[groupName] = {\n                            dominant: false,\n                            animate: false\n                        };\n                        currentGroupMasters = groupMasters;\n                    }\n                    if (currentGroupMasters) {\n                        currentGroupMasters.forEach(function (master) {\n                            if (!kinemage.masterDict[master]) {\n                                kinemage.masterDict[master] = {\n                                    indent: false,\n                                    visible: false\n                                };\n                            }\n                        });\n                    }\n                    for (let key in groupFlags) {\n                        kinemage.groupDict[groupName][key] = groupFlags[key];\n                    }\n                }\n                else if (line.startsWith('@subgroup')) {\n                    const { groupName, groupFlags, groupMasters } = parseGroup(line);\n                    if (!kinemage.subgroupDict[groupName]) {\n                        kinemage.subgroupDict[groupName] = {\n                            dominant: false,\n                            animate: false\n                        };\n                        currentSubgroupMasters = groupMasters;\n                    }\n                    if (currentSubgroupMasters) {\n                        currentSubgroupMasters.forEach(function (master) {\n                            if (!kinemage.masterDict[master]) {\n                                kinemage.masterDict[master] = {\n                                    indent: false,\n                                    visible: false\n                                };\n                            }\n                        });\n                    }\n                    for (let key in groupFlags) {\n                        kinemage.subgroupDict[groupName][key] = groupFlags[key];\n                    }\n                }\n                else if (line.startsWith('@master')) {\n                    const name = parseStr(line);\n                    const flag = parseFlag(line);\n                    if (!kinemage.masterDict[name]) {\n                        kinemage.masterDict[name] = {\n                            indent: false,\n                            visible: false\n                        };\n                    }\n                    if (flag === 'on') {\n                        kinemage.masterDict[name].visible = true;\n                    }\n                    else if (flag === 'off') {\n                        kinemage.masterDict[name].visible = false;\n                    }\n                    else if (flag === 'indent') {\n                        kinemage.masterDict[name].indent = true;\n                    }\n                    else if (!flag) {\n                        // nothing to do\n                    }\n                }\n                else if (line.startsWith('@pointmaster')) {\n                    const { groupName, groupFlags } = parseGroup(line);\n                    kinemage.pointmasterDict[groupName] = {\n                        id: Object.keys(groupFlags)[0].replace(reTrimQuotes, '')\n                    };\n                }\n                else {\n                    console.log(line);\n                }\n            }\n        }\n        this.streamer.eachChunkOfLines(function (lines /*, chunkNo, chunkCount */) {\n            _parseChunkOfLines(0, lines.length, lines);\n        });\n        kinemage.text = kinemage.texts.join('\\n').trim();\n        kinemage.caption = kinemage.captions.join('\\n').trim();\n        if (kinemage.ribbonLists) {\n            let convertedLists = [];\n            kinemage.ribbonLists.forEach(function (listObject) {\n                convertedLists.push(removePointBreaksTriangleArrays(convertKinTriangleArrays(listObject)));\n            });\n            kinemage.ribbonLists = convertedLists;\n        }\n        if (Debug)\n            Log.timeEnd(`KinParser._parse ${this.name}`);\n    }\n}\nParserRegistry.add('kin', KinParser);\nexport default KinParser;\n//# sourceMappingURL=kin-parser.js.map","/**\n * @file Surface Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport Parser from './parser';\nimport Surface from '../surface/surface';\nclass SurfaceParser extends Parser {\n    constructor(streamer, params) {\n        super(streamer, params);\n        this.loader = this.getLoader();\n        this.surface = new Surface(this.name, this.path);\n    }\n    get type() { return 'surface'; }\n    get __objName() { return 'surface'; }\n    _parse() {\n        var geometry = this.loader.parse(this.streamer.asText());\n        this.surface.fromGeometry(geometry);\n    }\n}\nexport default SurfaceParser;\n//# sourceMappingURL=surface-parser.js.map","/**\n * @file Obj Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { BufferGeometry, BufferAttribute } from 'three';\nimport { ParserRegistry } from '../globals';\nimport SurfaceParser from './surface-parser';\n/**\n * OBJLoader\n * @class\n * @private\n * @author mrdoob / http://mrdoob.com/\n */\nconst OBJLoader = (function OBJLoader() {\n    this.regexp = {\n        // v float float float\n        vertex_pattern: /^v\\s+([\\d.+\\-eE]+)\\s+([\\d.+\\-eE]+)\\s+([\\d.+\\-eE]+)/,\n        // vn float float float\n        normal_pattern: /^vn\\s+([\\d.+\\-eE]+)\\s+([\\d.+\\-eE]+)\\s+([\\d.+\\-eE]+)/,\n        // vt float float\n        uv_pattern: /^vt\\s+([\\d.+\\-eE]+)\\s+([\\d.+\\-eE]+)/,\n        // f vertex vertex vertex\n        face_vertex: /^f\\s+(-?\\d+)\\s+(-?\\d+)\\s+(-?\\d+)(?:\\s+(-?\\d+))?/,\n        // f vertex/uv vertex/uv vertex/uv\n        face_vertex_uv: /^f\\s+(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)(?:\\s+(-?\\d+)\\/(-?\\d+))?/,\n        // f vertex/uv/normal vertex/uv/normal vertex/uv/normal\n        face_vertex_uv_normal: /^f\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)(?:\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+))?/,\n        // f vertex//normal vertex//normal vertex//normal\n        face_vertex_normal: /^f\\s+(-?\\d+)\\/\\/(-?\\d+)\\s+(-?\\d+)\\/\\/(-?\\d+)\\s+(-?\\d+)\\/\\/(-?\\d+)(?:\\s+(-?\\d+)\\/\\/(-?\\d+))?/,\n        // o object_name | g group_name\n        object_pattern: /^[og]\\s*(.+)?/,\n        // s boolean\n        smoothing_pattern: /^s\\s+(\\d+|on|off)/,\n        // mtllib file_reference\n        material_library_pattern: /^mtllib /,\n        // usemtl material_name\n        material_use_pattern: /^usemtl /\n    };\n});\nOBJLoader.prototype = {\n    constructor: OBJLoader,\n    setPath: function (value) {\n        this.path = value;\n    },\n    _createParserState: function () {\n        var state = {\n            objects: [],\n            object: {},\n            vertices: [],\n            normals: [],\n            startObject: function (name, fromDeclaration) {\n                // If the current object (initial from reset) is not from a g/o declaration in the parsed\n                // file. We need to use it for the first parsed g/o to keep things in sync.\n                if (this.object && this.object.fromDeclaration === false) {\n                    this.object.name = name;\n                    this.object.fromDeclaration = (fromDeclaration !== false);\n                    return;\n                }\n                this.object = {\n                    name: name || '',\n                    geometry: {\n                        vertices: [],\n                        normals: []\n                    },\n                    fromDeclaration: (fromDeclaration !== false)\n                };\n                this.objects.push(this.object);\n            },\n            parseVertexIndex: function (value, len) {\n                var index = parseInt(value, 10);\n                return (index >= 0 ? index - 1 : index + len / 3) * 3;\n            },\n            parseNormalIndex: function (value, len) {\n                var index = parseInt(value, 10);\n                return (index >= 0 ? index - 1 : index + len / 3) * 3;\n            },\n            addVertex: function (a, b, c) {\n                var src = this.vertices;\n                var dst = this.object.geometry.vertices;\n                dst.push(src[a + 0]);\n                dst.push(src[a + 1]);\n                dst.push(src[a + 2]);\n                dst.push(src[b + 0]);\n                dst.push(src[b + 1]);\n                dst.push(src[b + 2]);\n                dst.push(src[c + 0]);\n                dst.push(src[c + 1]);\n                dst.push(src[c + 2]);\n            },\n            addVertexLine: function (a) {\n                var src = this.vertices;\n                var dst = this.object.geometry.vertices;\n                dst.push(src[a + 0]);\n                dst.push(src[a + 1]);\n                dst.push(src[a + 2]);\n            },\n            addNormal: function (a, b, c) {\n                var src = this.normals;\n                var dst = this.object.geometry.normals;\n                dst.push(src[a + 0]);\n                dst.push(src[a + 1]);\n                dst.push(src[a + 2]);\n                dst.push(src[b + 0]);\n                dst.push(src[b + 1]);\n                dst.push(src[b + 2]);\n                dst.push(src[c + 0]);\n                dst.push(src[c + 1]);\n                dst.push(src[c + 2]);\n            },\n            addFace: function (a, b, c, d, na, nb, nc, nd) {\n                var vLen = this.vertices.length;\n                var ia = this.parseVertexIndex(a, vLen);\n                var ib = this.parseVertexIndex(b, vLen);\n                var ic = this.parseVertexIndex(c, vLen);\n                var id;\n                if (d === undefined) {\n                    this.addVertex(ia, ib, ic);\n                }\n                else {\n                    id = this.parseVertexIndex(d, vLen);\n                    this.addVertex(ia, ib, id);\n                    this.addVertex(ib, ic, id);\n                }\n                if (na !== undefined) {\n                    // Normals are many times the same. If so, skip function call and parseInt.\n                    var nLen = this.normals.length;\n                    ia = this.parseNormalIndex(na, nLen);\n                    ib = na === nb ? ia : this.parseNormalIndex(nb, nLen);\n                    ic = na === nc ? ia : this.parseNormalIndex(nc, nLen);\n                    if (d === undefined) {\n                        this.addNormal(ia, ib, ic);\n                    }\n                    else {\n                        id = this.parseNormalIndex(nd, nLen);\n                        this.addNormal(ia, ib, id);\n                        this.addNormal(ib, ic, id);\n                    }\n                }\n            },\n            addLineGeometry: function (vertices) {\n                this.object.geometry.type = 'Line';\n                var vLen = this.vertices.length;\n                for (var vi = 0, l = vertices.length; vi < l; vi++) {\n                    this.addVertexLine(this.parseVertexIndex(vertices[vi], vLen));\n                }\n            }\n        };\n        state.startObject('', false);\n        return state;\n    },\n    parse: function (text) {\n        var state = this._createParserState();\n        if (text.indexOf('\\r\\n') !== -1) {\n            // This is faster than String.split with regex that splits on both\n            text = text.replace(/\\r\\n/g, '\\n');\n        }\n        if (text.indexOf('\\\\\\n') !== -1) {\n            // join lines separated by a line continuation character (\\)\n            text = text.replace(/\\\\\\n/g, '');\n        }\n        var i, l;\n        var lines = text.split('\\n');\n        var line = '';\n        var lineFirstChar = '';\n        var lineSecondChar = '';\n        var lineLength = 0;\n        var result = [];\n        // Faster to just trim left side of the line. Use if available.\n        var trimLeft = (typeof ''.trimLeft === 'function');\n        for (i = 0, l = lines.length; i < l; i++) {\n            line = lines[i];\n            line = trimLeft ? line.trimLeft() : line.trim();\n            lineLength = line.length;\n            if (lineLength === 0)\n                continue;\n            lineFirstChar = line.charAt(0);\n            // @todo invoke passed in handler if any\n            if (lineFirstChar === '#')\n                continue;\n            if (lineFirstChar === 'v') {\n                lineSecondChar = line.charAt(1);\n                if (lineSecondChar === ' ' && (result = this.regexp.vertex_pattern.exec(line)) !== null) {\n                    // 0                  1      2      3\n                    // [\"v 1.0 2.0 3.0\", \"1.0\", \"2.0\", \"3.0\"]\n                    state.vertices.push(parseFloat(result[1]), parseFloat(result[2]), parseFloat(result[3]));\n                }\n                else if (lineSecondChar === 'n' && (result = this.regexp.normal_pattern.exec(line)) !== null) {\n                    // 0                   1      2      3\n                    // [\"vn 1.0 2.0 3.0\", \"1.0\", \"2.0\", \"3.0\"]\n                    state.normals.push(parseFloat(result[1]), parseFloat(result[2]), parseFloat(result[3]));\n                }\n                else if (lineSecondChar === 't' && this.regexp.uv_pattern.exec(line) !== null) {\n                    // ignore uv line\n                }\n                else {\n                    throw new Error(\"Unexpected vertex/normal/uv line: '\" + line + \"'\");\n                }\n            }\n            else if (lineFirstChar === 'f') {\n                if ((result = this.regexp.face_vertex_uv_normal.exec(line)) !== null) {\n                    // f vertex/uv/normal vertex/uv/normal vertex/uv/normal\n                    // 0                        1    2    3    4    5    6    7    8    9   10         11         12\n                    // [\"f 1/1/1 2/2/2 3/3/3\", \"1\", \"1\", \"1\", \"2\", \"2\", \"2\", \"3\", \"3\", \"3\", undefined, undefined, undefined]\n                    state.addFace(result[1], result[4], result[7], result[10], \n                    // result[ 2 ], result[ 5 ], result[ 8 ], result[ 11 ],  // ignore uv part\n                    result[3], result[6], result[9], result[12]);\n                }\n                else if (this.regexp.face_vertex_uv.exec(line) !== null) {\n                    // ignore uv line\n                }\n                else if ((result = this.regexp.face_vertex_normal.exec(line)) !== null) {\n                    // f vertex//normal vertex//normal vertex//normal\n                    // 0                     1    2    3    4    5    6   7          8\n                    // [\"f 1//1 2//2 3//3\", \"1\", \"1\", \"2\", \"2\", \"3\", \"3\", undefined, undefined]\n                    state.addFace(result[1], result[3], result[5], result[7], result[2], result[4], result[6], result[8]);\n                }\n                else if ((result = this.regexp.face_vertex.exec(line)) !== null) {\n                    // f vertex vertex vertex\n                    // 0            1    2    3   4\n                    // [\"f 1 2 3\", \"1\", \"2\", \"3\", undefined]\n                    state.addFace(result[1], result[2], result[3], result[4]);\n                }\n                else {\n                    throw new Error(\"Unexpected face line: '\" + line + \"'\");\n                }\n            }\n            else if (lineFirstChar === 'l') {\n                var lineParts = line.substring(1).trim().split(' ');\n                var lineVertices = [];\n                var lineUVs = [];\n                if (line.indexOf('/') === -1) {\n                    lineVertices = lineParts;\n                }\n                else {\n                    for (var li = 0, llen = lineParts.length; li < llen; li++) {\n                        var parts = lineParts[li].split('/');\n                        if (parts[0] !== '')\n                            lineVertices.push(parts[0]);\n                        if (parts[1] !== '')\n                            lineUVs.push(parts[1]);\n                    }\n                }\n                state.addLineGeometry(lineVertices, lineUVs);\n            }\n            else if ((result = this.regexp.object_pattern.exec(line)) !== null) {\n                // o object_name\n                // or\n                // g group_name\n                var name = result[0].substr(1).trim();\n                state.startObject(name);\n                // ignore material related lines\n                // eslint-disable-next-line no-empty\n            }\n            else if (this.regexp.material_use_pattern.test(line)) {\n                // eslint-disable-next-line no-empty\n            }\n            else if (this.regexp.material_library_pattern.test(line)) {\n                // eslint-disable-next-line no-empty\n            }\n            else if (this.regexp.smoothing_pattern.exec(line) !== null) {\n            }\n            else {\n                // Handle null terminated files without exception\n                if (line === '\\0')\n                    continue;\n                throw new Error(\"Unexpected line: '\" + line + \"'\");\n            }\n        }\n        var container = [];\n        for (i = 0, l = state.objects.length; i < l; i++) {\n            var object = state.objects[i];\n            var geometry = object.geometry;\n            // Skip o/g line declarations that did not follow with any faces\n            if (geometry.vertices.length === 0)\n                continue;\n            var buffergeometry = new BufferGeometry();\n            buffergeometry.setAttribute('position', new BufferAttribute(new Float32Array(geometry.vertices), 3));\n            if (geometry.normals.length > 0) {\n                buffergeometry.setAttribute('normal', new BufferAttribute(new Float32Array(geometry.normals), 3));\n            }\n            else {\n                buffergeometry.computeVertexNormals();\n            }\n            container.push(buffergeometry);\n        }\n        return container;\n    }\n};\nclass ObjParser extends SurfaceParser {\n    get type() { return 'obj'; }\n    getLoader() {\n        return new OBJLoader();\n    }\n}\nParserRegistry.add('obj', ObjParser);\nexport default ObjParser;\n//# sourceMappingURL=obj-parser.js.map","/**\n * @file Ply Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Geometry, Vector3, Face3, Color } from 'three';\nimport { ParserRegistry } from '../globals';\nimport SurfaceParser from './surface-parser';\nconst PLYLoader = (function PLYLoader() {\n    this.propertyNameMapping = {};\n});\nPLYLoader.prototype = {\n    constructor: PLYLoader,\n    setPropertyNameMapping: function (mapping) {\n        this.propertyNameMapping = mapping;\n    },\n    bin2str: function (buf) {\n        var arrayBuffer = new Uint8Array(buf);\n        var str = '';\n        for (var i = 0; i < buf.byteLength; i++) {\n            str += String.fromCharCode(arrayBuffer[i]); // implicitly assumes little-endian\n        }\n        return str;\n    },\n    isASCII: function (data) {\n        var header = this.parseHeader(this.bin2str(data));\n        return header.format === 'ascii';\n    },\n    parse: function (data) {\n        if (data instanceof ArrayBuffer) {\n            return (this.isASCII(data)\n                ? this.parseASCII(this.bin2str(data))\n                : this.parseBinary(data));\n        }\n        else {\n            return this.parseASCII(data);\n        }\n    },\n    parseHeader: function (data) {\n        var patternHeader = /ply([\\s\\S]*)end_header\\s/;\n        var headerText = '';\n        var headerLength = 0;\n        var result = patternHeader.exec(data);\n        if (result !== null) {\n            headerText = result[1];\n            headerLength = result[0].length;\n        }\n        var header = {\n            comments: [],\n            elements: [],\n            headerLength: headerLength\n        };\n        var lines = headerText.split('\\n');\n        var currentElement, lineType, lineValues;\n        function makePlyElementProperty(propertValues, propertyNameMapping) {\n            var property = {\n                type: propertValues[0]\n            };\n            if (property.type === 'list') {\n                property.name = propertValues[3];\n                property.countType = propertValues[1];\n                property.itemType = propertValues[2];\n            }\n            else {\n                property.name = propertValues[1];\n            }\n            if (property.name in propertyNameMapping) {\n                property.name = propertyNameMapping[property.name];\n            }\n            return property;\n        }\n        for (var i = 0; i < lines.length; i++) {\n            var line = lines[i];\n            line = line.trim();\n            if (line === '') {\n                continue;\n            }\n            lineValues = line.split(/\\s+/);\n            lineType = lineValues.shift();\n            line = lineValues.join(' ');\n            switch (lineType) {\n                case 'format':\n                    header.format = lineValues[0];\n                    header.version = lineValues[1];\n                    break;\n                case 'comment':\n                    header.comments.push(line);\n                    break;\n                case 'element':\n                    if (currentElement !== undefined) {\n                        header.elements.push(currentElement);\n                    }\n                    currentElement = {};\n                    currentElement.name = lineValues[0];\n                    currentElement.count = parseInt(lineValues[1]);\n                    currentElement.properties = [];\n                    break;\n                case 'property':\n                    currentElement.properties.push(makePlyElementProperty(lineValues, this.propertyNameMapping));\n                    break;\n                default:\n                    console.log('unhandled', lineType, lineValues);\n            }\n        }\n        if (currentElement !== undefined) {\n            header.elements.push(currentElement);\n        }\n        return header;\n    },\n    parseASCIINumber: function (n, type) {\n        switch (type) {\n            case 'char':\n            case 'uchar':\n            case 'short':\n            case 'ushort':\n            case 'int':\n            case 'uint':\n            case 'int8':\n            case 'uint8':\n            case 'int16':\n            case 'uint16':\n            case 'int32':\n            case 'uint32':\n                return parseInt(n);\n            case 'float':\n            case 'double':\n            case 'float32':\n            case 'float64':\n                return parseFloat(n);\n        }\n    },\n    parseASCIIElement: function (properties, line) {\n        var values = line.split(/\\s+/);\n        var element = {};\n        for (var i = 0; i < properties.length; i++) {\n            if (properties[i].type === 'list') {\n                var list = [];\n                var n = this.parseASCIINumber(values.shift(), properties[i].countType);\n                for (var j = 0; j < n; j++) {\n                    list.push(this.parseASCIINumber(values.shift(), properties[i].itemType));\n                }\n                element[properties[i].name] = list;\n            }\n            else {\n                element[properties[i].name] = this.parseASCIINumber(values.shift(), properties[i].type);\n            }\n        }\n        return element;\n    },\n    parseASCII: function (data) {\n        // PLY ascii format specification, as per http://en.wikipedia.org/wiki/PLY_(file_format)\n        var geometry = new Geometry();\n        var result;\n        var header = this.parseHeader(data);\n        var patternBody = /end_header\\s([\\s\\S]*)$/;\n        var body = '';\n        if ((result = patternBody.exec(data)) !== null) {\n            body = result[1];\n        }\n        var lines = body.split('\\n');\n        var currentElement = 0;\n        var currentElementCount = 0;\n        geometry.useColor = false;\n        for (var i = 0; i < lines.length; i++) {\n            var line = lines[i];\n            line = line.trim();\n            if (line === '') {\n                continue;\n            }\n            if (currentElementCount >= header.elements[currentElement].count) {\n                currentElement++;\n                currentElementCount = 0;\n            }\n            var element = this.parseASCIIElement(header.elements[currentElement].properties, line);\n            this.handleElement(geometry, header.elements[currentElement].name, element);\n            currentElementCount++;\n        }\n        return this.postProcess(geometry);\n    },\n    postProcess: function (geometry) {\n        if (geometry.useColor) {\n            for (var i = 0; i < geometry.faces.length; i++) {\n                geometry.faces[i].vertexColors = [\n                    geometry.colors[geometry.faces[i].a],\n                    geometry.colors[geometry.faces[i].b],\n                    geometry.colors[geometry.faces[i].c]\n                ];\n            }\n            geometry.elementsNeedUpdate = true;\n        }\n        geometry.computeBoundingSphere();\n        return geometry;\n    },\n    handleElement: function (geometry, elementName, element) {\n        if (elementName === 'vertex') {\n            geometry.vertices.push(new Vector3(element.x, element.y, element.z));\n            if ('red' in element && 'green' in element && 'blue' in element) {\n                geometry.useColor = true;\n                var color = new Color();\n                color.setRGB(element.red / 255.0, element.green / 255.0, element.blue / 255.0);\n                geometry.colors.push(color);\n            }\n        }\n        else if (elementName === 'face') {\n            var vertexIndices = element.vertex_indices;\n            if (vertexIndices.length === 3) {\n                geometry.faces.push(new Face3(vertexIndices[0], vertexIndices[1], vertexIndices[2]));\n            }\n            else if (vertexIndices.length === 4) {\n                geometry.faces.push(new Face3(vertexIndices[0], vertexIndices[1], vertexIndices[3]), new Face3(vertexIndices[1], vertexIndices[2], vertexIndices[3]));\n            }\n        }\n    },\n    binaryRead: function (dataview, at, type, littleEndian) {\n        switch (type) {\n            // corespondences for non-specific length types here match rply:\n            case 'int8':\n            case 'char': return [dataview.getInt8(at), 1];\n            case 'uint8':\n            case 'uchar': return [dataview.getUint8(at), 1];\n            case 'int16':\n            case 'short': return [dataview.getInt16(at, littleEndian), 2];\n            case 'uint16':\n            case 'ushort': return [dataview.getUint16(at, littleEndian), 2];\n            case 'int32':\n            case 'int': return [dataview.getInt32(at, littleEndian), 4];\n            case 'uint32':\n            case 'uint': return [dataview.getUint32(at, littleEndian), 4];\n            case 'float32':\n            case 'float': return [dataview.getFloat32(at, littleEndian), 4];\n            case 'float64':\n            case 'double': return [dataview.getFloat64(at, littleEndian), 8];\n        }\n    },\n    binaryReadElement: function (dataview, at, properties, littleEndian) {\n        var element = {};\n        var result;\n        var read = 0;\n        for (var i = 0; i < properties.length; i++) {\n            if (properties[i].type === 'list') {\n                var list = [];\n                result = this.binaryRead(dataview, at + read, properties[i].countType, littleEndian);\n                var n = result[0];\n                read += result[1];\n                for (var j = 0; j < n; j++) {\n                    result = this.binaryRead(dataview, at + read, properties[i].itemType, littleEndian);\n                    list.push(result[0]);\n                    read += result[1];\n                }\n                element[properties[i].name] = list;\n            }\n            else {\n                result = this.binaryRead(dataview, at + read, properties[i].type, littleEndian);\n                element[properties[i].name] = result[0];\n                read += result[1];\n            }\n        }\n        return [element, read];\n    },\n    parseBinary: function (data) {\n        var geometry = new Geometry();\n        var header = this.parseHeader(this.bin2str(data));\n        var littleEndian = (header.format === 'binary_little_endian');\n        var body = new DataView(data, header.headerLength);\n        var result;\n        var loc = 0;\n        for (var currentElement = 0; currentElement < header.elements.length; currentElement++) {\n            for (var currentElementCount = 0; currentElementCount < header.elements[currentElement].count; currentElementCount++) {\n                result = this.binaryReadElement(body, loc, header.elements[currentElement].properties, littleEndian);\n                loc += result[1];\n                var element = result[0];\n                this.handleElement(geometry, header.elements[currentElement].name, element);\n            }\n        }\n        return this.postProcess(geometry);\n    }\n};\nclass PlyParser extends SurfaceParser {\n    get type() { return 'ply'; }\n    getLoader() {\n        return new PLYLoader();\n    }\n}\nParserRegistry.add('ply', PlyParser);\nexport default PlyParser;\n//# sourceMappingURL=ply-parser.js.map","/**\n * @file Csv Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { defaults } from '../utils';\nimport { ParserRegistry } from '../globals';\nimport Parser from './parser';\n/**\n * CSV parser\n */\nclass CsvParser extends Parser {\n    /**\n       * [constructor description]\n       * @param  {Streamer} streamer - the streamer object\n       * @param  {Object} params - parameter object\n       * @param  {Char} params.delimiter - delimiter character\n       * @param  {Char} params.comment - comment character\n       * @param  {Boolean} params.columnNames - use first data line as column names\n       */\n    constructor(streamer, params) {\n        const p = params || {};\n        super(streamer, p);\n        this.delimiter = defaults(p.delimiter, ',');\n        this.comment = defaults(p.comment, '#');\n        this.columnNames = defaults(p.columnNames, false);\n        this.table = {\n            name: this.name,\n            path: this.path,\n            columnNames: [],\n            data: []\n        };\n    }\n    get type() { return 'csv'; }\n    get __objName() { return 'table'; }\n    _parse() {\n        const data = this.table.data;\n        const reDelimiter = new RegExp('\\\\s*' + this.delimiter + '\\\\s*');\n        let j = 0;\n        this.streamer.eachChunkOfLines(chunk => {\n            const n = chunk.length;\n            for (let i = 0; i < n; ++i) {\n                const line = chunk[i].trim();\n                if (line.startsWith(this.comment))\n                    continue;\n                const values = line.split(reDelimiter);\n                if (j === 0) {\n                    this.table.columnNames = values;\n                }\n                else if (line) {\n                    data.push(values);\n                }\n                ++j;\n            }\n        });\n    }\n}\nParserRegistry.add('csv', CsvParser);\nexport default CsvParser;\n//# sourceMappingURL=csv-parser.js.map","/**\n * @file Json Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ParserRegistry } from '../globals';\nimport { defaults } from '../utils';\nimport Parser from './parser';\nclass JsonParser extends Parser {\n    constructor(streamer, params) {\n        const p = params || {};\n        super(streamer, p);\n        this.string = defaults(p.string, false);\n        this.json = {\n            name: this.name,\n            path: this.path,\n            data: {}\n        };\n    }\n    get type() { return 'json'; }\n    get __objName() { return 'json'; }\n    get isJson() { return true; }\n    _parse() {\n        if (this.streamer.isBinary() || this.string) {\n            this.json.data = JSON.parse(this.streamer.asText());\n        }\n        else {\n            this.json.data = this.streamer.data;\n        }\n    }\n}\nParserRegistry.add('json', JsonParser);\nexport default JsonParser;\n//# sourceMappingURL=json-parser.js.map","/**\n * @file Msgpack Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Debug, Log, ParserRegistry } from '../globals';\nimport Parser from './parser';\nimport { decodeMsgpack } from '../../lib/mmtf.es6';\nclass MsgpackParser extends Parser {\n    constructor(streamer, params) {\n        const p = params || {};\n        super(streamer, p);\n        this.msgpack = {\n            name: this.name,\n            path: this.path,\n            data: undefined\n        };\n    }\n    get type() { return 'msgpack'; }\n    get __objName() { return 'msgpack'; }\n    get isBinary() { return true; }\n    _parse() {\n        if (Debug)\n            Log.time('MsgpackParser._parse ' + this.name);\n        this.msgpack.data = decodeMsgpack(this.streamer.data);\n        if (Debug)\n            Log.timeEnd('MsgpackParser._parse ' + this.name);\n    }\n}\nParserRegistry.add('msgpack', MsgpackParser);\nexport default MsgpackParser;\n//# sourceMappingURL=msgpack-parser.js.map","/**\n * @file Netcdf Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Debug, Log, ParserRegistry } from '../globals';\nimport Parser from './parser';\nimport NetcdfReader from '../utils/netcdf-reader';\nclass NetcdfParser extends Parser {\n    constructor(streamer, params) {\n        const p = params || {};\n        super(streamer, p);\n        this.netcdf = {\n            name: this.name,\n            path: this.path,\n            data: undefined\n        };\n    }\n    get type() { return 'netcdf'; }\n    get __objName() { return 'netcdf'; }\n    get isBinary() { return true; }\n    _parse() {\n        if (Debug)\n            Log.time('NetcdfParser._parse ' + this.name);\n        this.netcdf.data = new NetcdfReader(this.streamer.data);\n        if (Debug)\n            Log.timeEnd('NetcdfParser._parse ' + this.name);\n    }\n}\nParserRegistry.add('netcdf', NetcdfParser);\nexport default NetcdfParser;\n//# sourceMappingURL=netcdf-parser.js.map","/**\n * @file Text Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ParserRegistry } from '../globals';\nimport Parser from './parser';\nclass TextParser extends Parser {\n    constructor(streamer, params) {\n        super(streamer, params);\n        this.text = {\n            name: this.name,\n            path: this.path,\n            data: ''\n        };\n    }\n    get type() { return 'text'; }\n    get __objName() { return 'text'; }\n    _parse() {\n        this.text.data = this.streamer.asText();\n    }\n}\nParserRegistry.add('txt', TextParser);\nParserRegistry.add('text', TextParser);\nexport default TextParser;\n//# sourceMappingURL=text-parser.js.map","/**\n * @file Parse Xml\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nconst reStrip = /^['\"]|['\"]$/g;\nconst reTag = /^<([\\w-:.]+)\\s*/;\nconst reContent = /^([^<]*)/;\nconst reAttr = /([\\w:-]+)\\s*=\\s*(\"[^\"]*\"|'[^']*'|\\w+)\\s*/;\nfunction strip(val) {\n    return val.replace(reStrip, '');\n}\nexport function parseXml(xml) {\n    // trim and strip comments\n    xml = xml.trim().replace(/<!--[\\s\\S]*?-->/g, '');\n    return document();\n    function document() {\n        return {\n            declaration: declaration(),\n            root: tag()\n        };\n    }\n    function declaration() {\n        const m = match(/^<\\?xml\\s*/);\n        if (!m)\n            return;\n        // tag\n        const node = {\n            attributes: {}\n        };\n        // attributes\n        while (!(eos() || is('?>'))) {\n            const attr = attribute();\n            if (!attr)\n                return node;\n            node.attributes[attr.name] = attr.value;\n        }\n        match(/\\?>\\s*/);\n        return node;\n    }\n    function tag() {\n        const m = match(reTag);\n        if (!m)\n            return;\n        // name\n        const node = {\n            name: m[1],\n            attributes: {},\n            children: []\n        };\n        // attributes\n        while (!(eos() || is('>') || is('?>') || is('/>'))) {\n            const attr = attribute();\n            if (!attr)\n                return node;\n            node.attributes[attr.name] = attr.value;\n        }\n        // self closing tag\n        if (match(/^\\s*\\/>\\s*/)) {\n            return node;\n        }\n        match(/\\??>\\s*/);\n        // content\n        node.content = content();\n        // children\n        let child;\n        while ((child = tag())) {\n            node.children.push(child);\n        }\n        // closing\n        match(/^<\\/[\\w-:.]+>\\s*/);\n        return node;\n    }\n    function content() {\n        const m = match(reContent);\n        if (m)\n            return m[1];\n        return '';\n    }\n    function attribute() {\n        const m = match(reAttr);\n        if (!m)\n            return;\n        return { name: m[1], value: strip(m[2]) };\n    }\n    function match(re) {\n        const m = xml.match(re);\n        if (!m)\n            return;\n        xml = xml.slice(m[0].length);\n        return m;\n    }\n    function eos() {\n        return xml.length === 0;\n    }\n    function is(prefix) {\n        return xml.indexOf(prefix) === 0;\n    }\n}\n//# sourceMappingURL=parse-xml.js.map","/**\n * @file Xml Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Debug, Log, ParserRegistry } from '../globals';\nimport { defaults } from '../utils';\n// @ts-ignore: unused import XMLNode required for declaration only\nimport { parseXml } from '../utils/parse-xml';\nimport Parser from './parser';\nclass XmlParser extends Parser {\n    constructor(streamer, params) {\n        const p = params || {};\n        super(streamer, p);\n        this.useDomParser = defaults(p.useDomParser, false);\n        this.xml = {\n            name: this.name,\n            path: this.path,\n            data: {}\n        };\n    }\n    get type() { return 'xml'; }\n    get __objName() { return 'xml'; }\n    get isXml() { return true; }\n    __xmlParser(xml) {\n        return parseXml(xml);\n    }\n    __domParser(xml) {\n        const domParser = new window.DOMParser();\n        return domParser.parseFromString(xml, 'text/xml');\n    }\n    _parse() {\n        if (Debug)\n            Log.time('XmlParser._parse ' + this.name);\n        if (this.useDomParser) {\n            if (this.streamer.data instanceof Document) { //TS conversion: stripped the window prefix from window.Document\n                this.xml.data = this.streamer.data;\n            }\n            else {\n                this.xml.data = this.__domParser(this.streamer.asText());\n            }\n        }\n        else {\n            this.xml.data = this.__xmlParser(this.streamer.asText());\n        }\n        if (Debug)\n            Log.timeEnd('XmlParser._parse ' + this.name);\n    }\n}\nParserRegistry.add('xml', XmlParser);\nexport default XmlParser;\n//# sourceMappingURL=xml-parser.js.map","/**\n * @file Validation\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Vector3, Color } from 'three';\nimport { Debug, Log } from '../globals';\nimport { defaults } from '../utils';\nimport { ClashPicker } from '../utils/picker';\nimport { uniformArray3 } from '../math/array-utils';\nimport { guessElement } from '../structure/structure-utils';\nfunction getNamedItem(a, name) {\n    const item = a.getNamedItem(name);\n    return item !== null ? item.value : '';\n}\nfunction getSele(a, atomname, useAltcode = false) {\n    const icode = getNamedItem(a, 'icode').trim();\n    const chain = getNamedItem(a, 'chain').trim();\n    const altcode = getNamedItem(a, 'altcode');\n    let sele = getNamedItem(a, 'resnum');\n    if (icode)\n        sele += '^' + icode;\n    if (chain)\n        sele += ':' + chain;\n    if (atomname)\n        sele += '.' + atomname;\n    if (useAltcode && altcode.trim())\n        sele += '%' + altcode;\n    sele += '/' + (parseInt(getNamedItem(a, 'model')) - 1);\n    return sele;\n}\nfunction getResSele(a) {\n    const chain = getNamedItem(a, 'chain').trim();\n    const rescode = getNamedItem(a, 'rescode');\n    const resnum = getNamedItem(a, 'resnum');\n    let sele = `[${rescode}]${resnum}`;\n    if (chain)\n        sele += `:${chain}`;\n    return sele;\n}\nfunction setBitDict(dict, key, bit) {\n    if (dict[key] === undefined) {\n        dict[key] = bit;\n    }\n    else {\n        dict[key] |= bit;\n    }\n}\nfunction hasAttrValue(attr, value) {\n    return attr !== null && attr.value === value;\n}\nfunction getAtomSele(ap) {\n    const icode = ap.inscode;\n    const chain = ap.chainname;\n    const atomname = ap.atomname;\n    const altcode = ap.altloc;\n    let sele = ap.resno + '';\n    if (icode)\n        sele += '^' + icode;\n    if (chain)\n        sele += ':' + chain;\n    if (atomname)\n        sele += '.' + atomname;\n    if (altcode)\n        sele += '%' + altcode;\n    sele += '/' + ap.modelIndex;\n    return sele;\n}\nfunction getProblemCount(clashDict, g, ga) {\n    let geoProblemCount = 0;\n    const clashes = g.getElementsByTagName('clash');\n    for (let j = 0, jl = clashes.length; j < jl; ++j) {\n        if (clashDict[getNamedItem(clashes[j].attributes, 'cid')]) {\n            geoProblemCount += 1;\n            break;\n        }\n    }\n    const angleOutliers = g.getElementsByTagName('angle-outlier');\n    if (angleOutliers.length > 0) {\n        geoProblemCount += 1;\n    }\n    const bondOutliers = g.getElementsByTagName('bond-outlier');\n    if (bondOutliers.length > 0) {\n        geoProblemCount += 1;\n    }\n    const planeOutliers = g.getElementsByTagName('plane-outlier');\n    if (planeOutliers.length > 0) {\n        geoProblemCount += 1;\n    }\n    if (hasAttrValue(ga.getNamedItem('rota'), 'OUTLIER')) {\n        geoProblemCount += 1;\n    }\n    if (hasAttrValue(ga.getNamedItem('rama'), 'OUTLIER')) {\n        geoProblemCount += 1;\n    }\n    if (hasAttrValue(ga.getNamedItem('RNApucker'), 'outlier')) {\n        geoProblemCount += 1;\n    }\n    return geoProblemCount;\n}\nclass Validation {\n    constructor(name, path) {\n        this.name = name;\n        this.path = path;\n        this.rsrzDict = {};\n        this.rsccDict = {};\n        /**\n         * Random Coil Index (RCI) - evaluates the proximity of residue structural\n         * and dynamic properties to the properties of flexible random coil regions\n         * from NMR chemical shifts.\n         *\n         * Mark V. Berjanskii and David S. Wishart (2005)\n         * A Simple Method To Predict Protein Flexibility Using Secondary Chemical Shifts\n         * J. Am. Chem. Soc., 2005, 127 (43), pp 14970–14971\n         * http://pubs.acs.org/doi/abs/10.1021/ja054842f\n         *\n         * Mark V. Berjanskii and David S. Wishart (2008)\n         * Application of the random coil index to studying protein flexibility.\n         * J Biomol NMR. 2008 Jan;40(1):31-48. Epub 2007 Nov 6.\n         * http://www.springerlink.com/content/2966482w10306126/\n         */\n        this.rciDict = {};\n        this.clashDict = {};\n        this.clashArray = [];\n        this.geoDict = {};\n        this.geoAtomDict = {};\n        this.atomDict = {};\n        this.clashSele = 'NONE';\n    }\n    get type() { return 'validation'; }\n    fromXml(xml) {\n        if (Debug)\n            Log.time('Validation.fromXml');\n        const rsrzDict = this.rsrzDict;\n        const rsccDict = this.rsccDict;\n        const rciDict = this.rciDict;\n        const clashDict = this.clashDict;\n        const clashArray = this.clashArray;\n        const geoDict = this.geoDict;\n        const geoAtomDict = this.geoAtomDict;\n        const atomDict = this.atomDict;\n        const entries = xml.getElementsByTagName('Entry');\n        if (entries.length === 1) {\n            const chemicalShiftLists = entries[0].getElementsByTagName('chemical_shift_list');\n            if (chemicalShiftLists.length === 1) {\n                const randomCoilIndices = chemicalShiftLists[0].getElementsByTagName('random_coil_index');\n                for (let j = 0, jl = randomCoilIndices.length; j < jl; ++j) {\n                    const rcia = randomCoilIndices[j].attributes;\n                    const sele = getResSele(rcia);\n                    rciDict[sele] = parseFloat(getNamedItem(rcia, 'value'));\n                }\n            }\n        }\n        const groups = xml.getElementsByTagName('ModelledSubgroup');\n        const _clashDict = {};\n        const clashList = [];\n        if (Debug)\n            Log.time('Validation.fromXml#clashDict');\n        for (let i = 0, il = groups.length; i < il; ++i) {\n            const g = groups[i];\n            const ga = g.attributes;\n            const sele = getSele(ga);\n            if (ga.getNamedItem('rsrz') !== null) {\n                rsrzDict[sele] = parseFloat(getNamedItem(ga, 'rsrz'));\n            }\n            if (ga.getNamedItem('rscc') !== null) {\n                rsccDict[sele] = parseFloat(getNamedItem(ga, 'rscc'));\n            }\n            const seleAttr = xml.createAttribute('sele');\n            seleAttr.value = sele;\n            ga.setNamedItem(seleAttr);\n            const clashes = g.getElementsByTagName('clash');\n            for (let j = 0, jl = clashes.length; j < jl; ++j) {\n                const ca = clashes[j].attributes;\n                const atom = getNamedItem(ca, 'atom');\n                if (guessElement(atom) !== 'H') {\n                    const cid = getNamedItem(ca, 'cid');\n                    const atomSele = getSele(ga, atom, true);\n                    atomDict[atomSele] = true;\n                    if (_clashDict[cid] === undefined) {\n                        _clashDict[cid] = {\n                            sele1: atomSele,\n                            res1: sele\n                        };\n                    }\n                    else {\n                        const c = _clashDict[cid];\n                        if (c.res1 !== sele) {\n                            c.sele2 = atomSele;\n                            c.res2 = sele;\n                            clashList.push(c.res1, sele);\n                            clashDict[cid] = c;\n                            clashArray.push(c);\n                        }\n                    }\n                }\n            }\n        }\n        if (Debug)\n            Log.timeEnd('Validation.fromXml#clashDict');\n        for (let i = 0, il = groups.length; i < il; ++i) {\n            const g = groups[i];\n            const ga = g.attributes;\n            const sele = getNamedItem(ga, 'sele');\n            const isPolymer = getNamedItem(ga, 'seq') !== '.';\n            if (isPolymer) {\n                const geoProblemCount = getProblemCount(clashDict, g, ga);\n                if (geoProblemCount > 0) {\n                    geoDict[sele] = geoProblemCount;\n                }\n            }\n            else {\n                const clashes = g.getElementsByTagName('clash');\n                const mogBondOutliers = g.getElementsByTagName('mog-bond-outlier');\n                const mogAngleOutliers = g.getElementsByTagName('mog-angle-outlier');\n                if (mogBondOutliers.length > 0 || mogAngleOutliers.length > 0 || clashes.length > 0) {\n                    const atomDict = {};\n                    geoAtomDict[sele] = atomDict;\n                    for (let j = 0, jl = clashes.length; j < jl; ++j) {\n                        const ca = clashes[j].attributes;\n                        if (clashDict[getNamedItem(ca, 'cid')]) {\n                            setBitDict(atomDict, getNamedItem(ca, 'atom'), 1);\n                        }\n                    }\n                    for (let j = 0, jl = mogBondOutliers.length; j < jl; ++j) {\n                        const mbo = mogBondOutliers[j].attributes;\n                        getNamedItem(mbo, 'atoms').split(',').forEach(function (atomname) {\n                            setBitDict(atomDict, atomname, 2);\n                        });\n                    }\n                    for (let j = 0, jl = mogAngleOutliers.length; j < jl; ++j) {\n                        const mao = mogAngleOutliers[j].attributes;\n                        getNamedItem(mao, 'atoms').split(',').forEach(function (atomname) {\n                            setBitDict(atomDict, atomname, 4);\n                        });\n                    }\n                }\n            }\n        }\n        this.clashSele = clashList.length ? clashList.join(' OR ') : 'NONE';\n        if (Debug)\n            Log.timeEnd('Validation.fromXml');\n    }\n    getClashData(params) {\n        if (Debug)\n            Log.time('Validation.getClashData');\n        const p = params || {};\n        const s = p.structure;\n        const atomSet = s.atomSet; // TODO\n        const c = new Color(defaults(p.color, '#f0027f'));\n        const ap1 = s.getAtomProxy();\n        const ap2 = s.getAtomProxy();\n        const vDir = new Vector3();\n        const vPos1 = new Vector3();\n        const vPos2 = new Vector3();\n        const clashArray = this.clashArray;\n        const n = clashArray.length;\n        const position1 = new Float32Array(n * 3);\n        const position2 = new Float32Array(n * 3);\n        const color = uniformArray3(n, c.r, c.g, c.b);\n        const radius = new Float32Array(n);\n        const picking = new Float32Array(n);\n        if (Debug)\n            Log.time('Validation.getClashData#atomDict');\n        const atomDict = this.atomDict;\n        s.eachAtom(function (ap) {\n            const sele = getAtomSele(ap);\n            if (atomDict[sele] === true) {\n                atomDict[sele] = ap.index;\n            }\n        });\n        if (Debug)\n            Log.timeEnd('Validation.getClashData#atomDict');\n        let i = 0;\n        clashArray.forEach(function (c, idx) {\n            ap1.index = atomDict[c.sele1]; // TODO\n            ap2.index = atomDict[c.sele2]; // TODO\n            if (ap1.index === undefined || ap2.index === undefined ||\n                !atomSet.isSet(ap1.index, ap2.index))\n                return;\n            vDir.subVectors(ap2, ap1).setLength(ap1.vdw); // TODO\n            vPos1.copy(ap1).add(vDir); // TODO\n            vDir.subVectors(ap1, ap2).setLength(ap2.vdw); // TODO\n            vPos2.copy(ap2).add(vDir); // TODO\n            const dHalf = ap1.distanceTo(ap2) / 2;\n            const r1 = Math.sqrt(ap1.vdw * ap1.vdw - dHalf * dHalf);\n            const r2 = Math.sqrt(ap2.vdw * ap2.vdw - dHalf * dHalf);\n            vPos1.toArray(position1, i * 3); // TODO\n            vPos2.toArray(position2, i * 3);\n            radius[i] = (r1 + r2) / 2;\n            picking[i] = idx;\n            ++i;\n        });\n        if (Debug)\n            Log.timeEnd('Validation.getClashData');\n        return {\n            position1: position1.subarray(0, i * 3),\n            position2: position2.subarray(0, i * 3),\n            color: color.subarray(0, i * 3),\n            color2: color.subarray(0, i * 3),\n            radius: radius.subarray(0, i),\n            picking: new ClashPicker(picking.subarray(0, i), this, s)\n        };\n    }\n}\nexport default Validation;\n//# sourceMappingURL=validation.js.map","/**\n * @file Validation Parser\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Debug, Log, ParserRegistry } from '../globals';\nimport XmlParser from './xml-parser';\nimport Validation from '../structure/validation';\nclass ValidationParser extends XmlParser {\n    constructor(streamer, params) {\n        const p = params || {};\n        super(streamer, p);\n        this.useDomParser = true;\n        this.validation = new Validation(this.name, this.path);\n    }\n    get __objName() { return 'validation'; }\n    get isXml() { return true; }\n    _parse() {\n        super._parse();\n        if (Debug)\n            Log.time('ValidationParser._parse ' + this.name);\n        this.validation.fromXml(this.xml.data);\n        if (Debug)\n            Log.timeEnd('ValidationParser._parse ' + this.name);\n    }\n}\nParserRegistry.add('validation', ValidationParser);\nexport default ValidationParser;\n//# sourceMappingURL=validation-parser.js.map","\n// https://github.com/nodeca/pako\n// MIT License, Copyright (c) 2014 by Vitaly Puzrin\n\n\n// 'use strict';\n\n\n// var TYPED_OK =  (typeof Uint8Array !== 'undefined') &&\n//                 (typeof Uint16Array !== 'undefined') &&\n//                 (typeof Int32Array !== 'undefined');\n\n\nfunction assign(obj /*from1, from2, from3, ...*/) {\n  var sources = Array.prototype.slice.call(arguments, 1);\n  while (sources.length) {\n    var source = sources.shift();\n    if (!source) { continue; }\n\n    if (typeof source !== 'object') {\n      throw new TypeError(source + 'must be non-object');\n    }\n\n    for (var p in source) {\n      if (source.hasOwnProperty(p)) {\n        obj[p] = source[p];\n      }\n    }\n  }\n\n  return obj;\n}\n\n\n// reduce buffer size, avoiding mem copy\nfunction shrinkBuf(buf, size) {\n  if (buf.length === size) { return buf; }\n  if (buf.subarray) { return buf.subarray(0, size); }\n  buf.length = size;\n  return buf;\n}\n\n\nfunction arraySet(dest, src, src_offs, len, dest_offs) {\n  if (src.subarray && dest.subarray) {\n    dest.set(src.subarray(src_offs, src_offs + len), dest_offs);\n    return;\n  }\n  // Fallback to ordinary array\n  for (var i = 0; i < len; i++) {\n    dest[dest_offs + i] = src[src_offs + i];\n  }\n}\n\n// Join array of chunks to single array.\nfunction flattenChunks(chunks) {\n  var i, l, len, pos, chunk, result;\n\n  // calculate data length\n  len = 0;\n  for (i = 0, l = chunks.length; i < l; i++) {\n    len += chunks[i].length;\n  }\n\n  // join chunks\n  result = new Uint8Array(len);\n  pos = 0;\n  for (i = 0, l = chunks.length; i < l; i++) {\n    chunk = chunks[i];\n    result.set(chunk, pos);\n    pos += chunk.length;\n  }\n\n  return result;\n}\n\n// 'use strict';\n\n// Note: adler32 takes 12% for level 0 and 2% for level 6.\n// It doesn't worth to make additional optimizationa as in original.\n// Small size is preferable.\n\nfunction adler32(adler, buf, len, pos) {\n  var s1 = (adler & 0xffff) |0,\n      s2 = ((adler >>> 16) & 0xffff) |0,\n      n = 0;\n\n  while (len !== 0) {\n    // Set limit ~ twice less than 5552, to keep\n    // s2 in 31-bits, because we force signed ints.\n    // in other case %= will fail.\n    n = len > 2000 ? 2000 : len;\n    len -= n;\n\n    do {\n      s1 = (s1 + buf[pos++]) |0;\n      s2 = (s2 + s1) |0;\n    } while (--n);\n\n    s1 %= 65521;\n    s2 %= 65521;\n  }\n\n  return (s1 | (s2 << 16)) |0;\n}\n\n// 'use strict';\n\n// Note: we can't get significant speed boost here.\n// So write code to minimize size - no pregenerated tables\n// and array tools dependencies.\n\n\n// Use ordinary array, since untyped makes no boost here\nfunction makeTable() {\n  var c, table = [];\n\n  for (var n = 0; n < 256; n++) {\n    c = n;\n    for (var k = 0; k < 8; k++) {\n      c = ((c & 1) ? (0xEDB88320 ^ (c >>> 1)) : (c >>> 1));\n    }\n    table[n] = c;\n  }\n\n  return table;\n}\n\n// Create table on load. Just 255 signed longs. Not a problem.\nvar crcTable = makeTable();\n\n\nfunction crc32(crc, buf, len, pos) {\n  var t = crcTable,\n      end = pos + len;\n\n  crc ^= -1;\n\n  for (var i = pos; i < end; i++) {\n    crc = (crc >>> 8) ^ t[(crc ^ buf[i]) & 0xFF];\n  }\n\n  return (crc ^ (-1)); // >>> 0;\n}\n\n// 'use strict';\n\n// See state defs from inflate.js\nvar BAD$1 = 30;       /* got a data error -- remain here until reset */\nvar TYPE$1 = 12;      /* i: waiting for type bits, including last-flag bit */\n\n/*\n   Decode literal, length, and distance codes and write out the resulting\n   literal and match bytes until either not enough input or output is\n   available, an end-of-block is encountered, or a data error is encountered.\n   When large enough input and output buffers are supplied to inflate(), for\n   example, a 16K input buffer and a 64K output buffer, more than 95% of the\n   inflate execution time is spent in this routine.\n\n   Entry assumptions:\n\n        state.mode === LEN\n        strm.avail_in >= 6\n        strm.avail_out >= 258\n        start >= strm.avail_out\n        state.bits < 8\n\n   On return, state.mode is one of:\n\n        LEN -- ran out of enough output space or enough available input\n        TYPE -- reached end of block code, inflate() to interpret next block\n        BAD -- error in block data\n\n   Notes:\n\n    - The maximum input bits used by a length/distance pair is 15 bits for the\n      length code, 5 bits for the length extra, 15 bits for the distance code,\n      and 13 bits for the distance extra.  This totals 48 bits, or six bytes.\n      Therefore if strm.avail_in >= 6, then there is enough input to avoid\n      checking for available input while decoding.\n\n    - The maximum bytes that a single length/distance pair can output is 258\n      bytes, which is the maximum length that can be coded.  inflate_fast()\n      requires strm.avail_out >= 258 for each loop to avoid checking for\n      output space.\n */\n// module.exports =\nfunction inflate_fast(strm, start) {\n  var state;\n  var _in;                    /* local strm.input */\n  var last;                   /* have enough input while in < last */\n  var _out;                   /* local strm.output */\n  var beg;                    /* inflate()'s initial strm.output */\n  var end;                    /* while out < end, enough space available */\n//#ifdef INFLATE_STRICT\n  var dmax;                   /* maximum distance from zlib header */\n//#endif\n  var wsize;                  /* window size or zero if not using window */\n  var whave;                  /* valid bytes in the window */\n  var wnext;                  /* window write index */\n  // Use `s_window` instead `window`, avoid conflict with instrumentation tools\n  var s_window;               /* allocated sliding window, if wsize != 0 */\n  var hold;                   /* local strm.hold */\n  var bits;                   /* local strm.bits */\n  var lcode;                  /* local strm.lencode */\n  var dcode;                  /* local strm.distcode */\n  var lmask;                  /* mask for first level of length codes */\n  var dmask;                  /* mask for first level of distance codes */\n  var here;                   /* retrieved table entry */\n  var op;                     /* code bits, operation, extra bits, or */\n                              /*  window position, window bytes to copy */\n  var len;                    /* match length, unused bytes */\n  var dist;                   /* match distance */\n  var from;                   /* where to copy match from */\n  var from_source;\n\n\n  var input, output; // JS specific, because we have no pointers\n\n  /* copy state to local variables */\n  state = strm.state;\n  //here = state.here;\n  _in = strm.next_in;\n  input = strm.input;\n  last = _in + (strm.avail_in - 5);\n  _out = strm.next_out;\n  output = strm.output;\n  beg = _out - (start - strm.avail_out);\n  end = _out + (strm.avail_out - 257);\n//#ifdef INFLATE_STRICT\n  dmax = state.dmax;\n//#endif\n  wsize = state.wsize;\n  whave = state.whave;\n  wnext = state.wnext;\n  s_window = state.window;\n  hold = state.hold;\n  bits = state.bits;\n  lcode = state.lencode;\n  dcode = state.distcode;\n  lmask = (1 << state.lenbits) - 1;\n  dmask = (1 << state.distbits) - 1;\n\n\n  /* decode literals and length/distances until end-of-block or not enough\n     input data or output space */\n\n  top:\n  do {\n    if (bits < 15) {\n      hold += input[_in++] << bits;\n      bits += 8;\n      hold += input[_in++] << bits;\n      bits += 8;\n    }\n\n    here = lcode[hold & lmask];\n\n    dolen:\n    for (;;) { // Goto emulation\n      op = here >>> 24/*here.bits*/;\n      hold >>>= op;\n      bits -= op;\n      op = (here >>> 16) & 0xff/*here.op*/;\n      if (op === 0) {                          /* literal */\n        //Tracevv((stderr, here.val >= 0x20 && here.val < 0x7f ?\n        //        \"inflate:         literal '%c'\\n\" :\n        //        \"inflate:         literal 0x%02x\\n\", here.val));\n        output[_out++] = here & 0xffff/*here.val*/;\n      }\n      else if (op & 16) {                     /* length base */\n        len = here & 0xffff/*here.val*/;\n        op &= 15;                           /* number of extra bits */\n        if (op) {\n          if (bits < op) {\n            hold += input[_in++] << bits;\n            bits += 8;\n          }\n          len += hold & ((1 << op) - 1);\n          hold >>>= op;\n          bits -= op;\n        }\n        //Tracevv((stderr, \"inflate:         length %u\\n\", len));\n        if (bits < 15) {\n          hold += input[_in++] << bits;\n          bits += 8;\n          hold += input[_in++] << bits;\n          bits += 8;\n        }\n        here = dcode[hold & dmask];\n\n        dodist:\n        for (;;) { // goto emulation\n          op = here >>> 24/*here.bits*/;\n          hold >>>= op;\n          bits -= op;\n          op = (here >>> 16) & 0xff/*here.op*/;\n\n          if (op & 16) {                      /* distance base */\n            dist = here & 0xffff/*here.val*/;\n            op &= 15;                       /* number of extra bits */\n            if (bits < op) {\n              hold += input[_in++] << bits;\n              bits += 8;\n              if (bits < op) {\n                hold += input[_in++] << bits;\n                bits += 8;\n              }\n            }\n            dist += hold & ((1 << op) - 1);\n//#ifdef INFLATE_STRICT\n            if (dist > dmax) {\n              strm.msg = 'invalid distance too far back';\n              state.mode = BAD$1;\n              break top;\n            }\n//#endif\n            hold >>>= op;\n            bits -= op;\n            //Tracevv((stderr, \"inflate:         distance %u\\n\", dist));\n            op = _out - beg;                /* max distance in output */\n            if (dist > op) {                /* see if copy from window */\n              op = dist - op;               /* distance back in window */\n              if (op > whave) {\n                if (state.sane) {\n                  strm.msg = 'invalid distance too far back';\n                  state.mode = BAD$1;\n                  break top;\n                }\n\n// (!) This block is disabled in zlib defailts,\n// don't enable it for binary compatibility\n//#ifdef INFLATE_ALLOW_INVALID_DISTANCE_TOOFAR_ARRR\n//                if (len <= op - whave) {\n//                  do {\n//                    output[_out++] = 0;\n//                  } while (--len);\n//                  continue top;\n//                }\n//                len -= op - whave;\n//                do {\n//                  output[_out++] = 0;\n//                } while (--op > whave);\n//                if (op === 0) {\n//                  from = _out - dist;\n//                  do {\n//                    output[_out++] = output[from++];\n//                  } while (--len);\n//                  continue top;\n//                }\n//#endif\n              }\n              from = 0; // window index\n              from_source = s_window;\n              if (wnext === 0) {           /* very common case */\n                from += wsize - op;\n                if (op < len) {         /* some from window */\n                  len -= op;\n                  do {\n                    output[_out++] = s_window[from++];\n                  } while (--op);\n                  from = _out - dist;  /* rest from output */\n                  from_source = output;\n                }\n              }\n              else if (wnext < op) {      /* wrap around window */\n                from += wsize + wnext - op;\n                op -= wnext;\n                if (op < len) {         /* some from end of window */\n                  len -= op;\n                  do {\n                    output[_out++] = s_window[from++];\n                  } while (--op);\n                  from = 0;\n                  if (wnext < len) {  /* some from start of window */\n                    op = wnext;\n                    len -= op;\n                    do {\n                      output[_out++] = s_window[from++];\n                    } while (--op);\n                    from = _out - dist;      /* rest from output */\n                    from_source = output;\n                  }\n                }\n              }\n              else {                      /* contiguous in window */\n                from += wnext - op;\n                if (op < len) {         /* some from window */\n                  len -= op;\n                  do {\n                    output[_out++] = s_window[from++];\n                  } while (--op);\n                  from = _out - dist;  /* rest from output */\n                  from_source = output;\n                }\n              }\n              while (len > 2) {\n                output[_out++] = from_source[from++];\n                output[_out++] = from_source[from++];\n                output[_out++] = from_source[from++];\n                len -= 3;\n              }\n              if (len) {\n                output[_out++] = from_source[from++];\n                if (len > 1) {\n                  output[_out++] = from_source[from++];\n                }\n              }\n            }\n            else {\n              from = _out - dist;          /* copy direct from output */\n              do {                        /* minimum length is three */\n                output[_out++] = output[from++];\n                output[_out++] = output[from++];\n                output[_out++] = output[from++];\n                len -= 3;\n              } while (len > 2);\n              if (len) {\n                output[_out++] = output[from++];\n                if (len > 1) {\n                  output[_out++] = output[from++];\n                }\n              }\n            }\n          }\n          else if ((op & 64) === 0) {          /* 2nd level distance code */\n            here = dcode[(here & 0xffff)/*here.val*/ + (hold & ((1 << op) - 1))];\n            continue dodist;\n          }\n          else {\n            strm.msg = 'invalid distance code';\n            state.mode = BAD$1;\n            break top;\n          }\n\n          break; // need to emulate goto via \"continue\"\n        }\n      }\n      else if ((op & 64) === 0) {              /* 2nd level length code */\n        here = lcode[(here & 0xffff)/*here.val*/ + (hold & ((1 << op) - 1))];\n        continue dolen;\n      }\n      else if (op & 32) {                     /* end-of-block */\n        //Tracevv((stderr, \"inflate:         end of block\\n\"));\n        state.mode = TYPE$1;\n        break top;\n      }\n      else {\n        strm.msg = 'invalid literal/length code';\n        state.mode = BAD$1;\n        break top;\n      }\n\n      break; // need to emulate goto via \"continue\"\n    }\n  } while (_in < last && _out < end);\n\n  /* return unused bytes (on entry, bits < 8, so in won't go too far back) */\n  len = bits >> 3;\n  _in -= len;\n  bits -= len << 3;\n  hold &= (1 << bits) - 1;\n\n  /* update state and return */\n  strm.next_in = _in;\n  strm.next_out = _out;\n  strm.avail_in = (_in < last ? 5 + (last - _in) : 5 - (_in - last));\n  strm.avail_out = (_out < end ? 257 + (end - _out) : 257 - (_out - end));\n  state.hold = hold;\n  state.bits = bits;\n  return;\n};\n\n// 'use strict';\n\n\n// var utils = require('../utils/common');\n\nvar MAXBITS = 15;\nvar ENOUGH_LENS$1 = 852;\nvar ENOUGH_DISTS$1 = 592;\n//var ENOUGH = (ENOUGH_LENS+ENOUGH_DISTS);\n\nvar CODES$1 = 0;\nvar LENS$1 = 1;\nvar DISTS$1 = 2;\n\nvar lbase = [ /* Length codes 257..285 base */\n  3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31,\n  35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0\n];\n\nvar lext = [ /* Length codes 257..285 extra */\n  16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18,\n  19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78\n];\n\nvar dbase = [ /* Distance codes 0..29 base */\n  1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193,\n  257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145,\n  8193, 12289, 16385, 24577, 0, 0\n];\n\nvar dext = [ /* Distance codes 0..29 extra */\n  16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22,\n  23, 23, 24, 24, 25, 25, 26, 26, 27, 27,\n  28, 28, 29, 29, 64, 64\n];\n\n// module.exports =\nfunction inflate_table(type, lens, lens_index, codes, table, table_index, work, opts)\n{\n  var bits = opts.bits;\n      //here = opts.here; /* table entry for duplication */\n\n  var len = 0;               /* a code's length in bits */\n  var sym = 0;               /* index of code symbols */\n  var min = 0, max = 0;          /* minimum and maximum code lengths */\n  var root = 0;              /* number of index bits for root table */\n  var curr = 0;              /* number of index bits for current table */\n  var drop = 0;              /* code bits to drop for sub-table */\n  var left = 0;                   /* number of prefix codes available */\n  var used = 0;              /* code entries in table used */\n  var huff = 0;              /* Huffman code */\n  var incr;              /* for incrementing code, index */\n  var fill;              /* index for replicating entries */\n  var low;               /* low bits for current root entry */\n  var mask;              /* mask for low root bits */\n  var next;             /* next available space in table */\n  var base = null;     /* base value table to use */\n  var base_index = 0;\n//  var shoextra;    /* extra bits table to use */\n  var end;                    /* use base and extra for symbol > end */\n  var count = new Uint16Array(MAXBITS + 1); //[MAXBITS+1];    /* number of codes of each length */\n  var offs = new Uint16Array(MAXBITS + 1); //[MAXBITS+1];     /* offsets in table for each length */\n  var extra = null;\n  var extra_index = 0;\n\n  var here_bits, here_op, here_val;\n\n  /*\n   Process a set of code lengths to create a canonical Huffman code.  The\n   code lengths are lens[0..codes-1].  Each length corresponds to the\n   symbols 0..codes-1.  The Huffman code is generated by first sorting the\n   symbols by length from short to long, and retaining the symbol order\n   for codes with equal lengths.  Then the code starts with all zero bits\n   for the first code of the shortest length, and the codes are integer\n   increments for the same length, and zeros are appended as the length\n   increases.  For the deflate format, these bits are stored backwards\n   from their more natural integer increment ordering, and so when the\n   decoding tables are built in the large loop below, the integer codes\n   are incremented backwards.\n\n   This routine assumes, but does not check, that all of the entries in\n   lens[] are in the range 0..MAXBITS.  The caller must assure this.\n   1..MAXBITS is interpreted as that code length.  zero means that that\n   symbol does not occur in this code.\n\n   The codes are sorted by computing a count of codes for each length,\n   creating from that a table of starting indices for each length in the\n   sorted table, and then entering the symbols in order in the sorted\n   table.  The sorted table is work[], with that space being provided by\n   the caller.\n\n   The length counts are used for other purposes as well, i.e. finding\n   the minimum and maximum length codes, determining if there are any\n   codes at all, checking for a valid set of lengths, and looking ahead\n   at length counts to determine sub-table sizes when building the\n   decoding tables.\n   */\n\n  /* accumulate lengths for codes (assumes lens[] all in 0..MAXBITS) */\n  for (len = 0; len <= MAXBITS; len++) {\n    count[len] = 0;\n  }\n  for (sym = 0; sym < codes; sym++) {\n    count[lens[lens_index + sym]]++;\n  }\n\n  /* bound code lengths, force root to be within code lengths */\n  root = bits;\n  for (max = MAXBITS; max >= 1; max--) {\n    if (count[max] !== 0) { break; }\n  }\n  if (root > max) {\n    root = max;\n  }\n  if (max === 0) {                     /* no symbols to code at all */\n    //table.op[opts.table_index] = 64;  //here.op = (var char)64;    /* invalid code marker */\n    //table.bits[opts.table_index] = 1;   //here.bits = (var char)1;\n    //table.val[opts.table_index++] = 0;   //here.val = (var short)0;\n    table[table_index++] = (1 << 24) | (64 << 16) | 0;\n\n\n    //table.op[opts.table_index] = 64;\n    //table.bits[opts.table_index] = 1;\n    //table.val[opts.table_index++] = 0;\n    table[table_index++] = (1 << 24) | (64 << 16) | 0;\n\n    opts.bits = 1;\n    return 0;     /* no symbols, but wait for decoding to report error */\n  }\n  for (min = 1; min < max; min++) {\n    if (count[min] !== 0) { break; }\n  }\n  if (root < min) {\n    root = min;\n  }\n\n  /* check for an over-subscribed or incomplete set of lengths */\n  left = 1;\n  for (len = 1; len <= MAXBITS; len++) {\n    left <<= 1;\n    left -= count[len];\n    if (left < 0) {\n      return -1;\n    }        /* over-subscribed */\n  }\n  if (left > 0 && (type === CODES$1 || max !== 1)) {\n    return -1;                      /* incomplete set */\n  }\n\n  /* generate offsets into symbol table for each length for sorting */\n  offs[1] = 0;\n  for (len = 1; len < MAXBITS; len++) {\n    offs[len + 1] = offs[len] + count[len];\n  }\n\n  /* sort symbols by length, by symbol order within each length */\n  for (sym = 0; sym < codes; sym++) {\n    if (lens[lens_index + sym] !== 0) {\n      work[offs[lens[lens_index + sym]]++] = sym;\n    }\n  }\n\n  /*\n   Create and fill in decoding tables.  In this loop, the table being\n   filled is at next and has curr index bits.  The code being used is huff\n   with length len.  That code is converted to an index by dropping drop\n   bits off of the bottom.  For codes where len is less than drop + curr,\n   those top drop + curr - len bits are incremented through all values to\n   fill the table with replicated entries.\n\n   root is the number of index bits for the root table.  When len exceeds\n   root, sub-tables are created pointed to by the root entry with an index\n   of the low root bits of huff.  This is saved in low to check for when a\n   new sub-table should be started.  drop is zero when the root table is\n   being filled, and drop is root when sub-tables are being filled.\n\n   When a new sub-table is needed, it is necessary to look ahead in the\n   code lengths to determine what size sub-table is needed.  The length\n   counts are used for this, and so count[] is decremented as codes are\n   entered in the tables.\n\n   used keeps track of how many table entries have been allocated from the\n   provided *table space.  It is checked for LENS and DIST tables against\n   the constants ENOUGH_LENS and ENOUGH_DISTS to guard against changes in\n   the initial root table size constants.  See the comments in inftrees.h\n   for more information.\n\n   sym increments through all symbols, and the loop terminates when\n   all codes of length max, i.e. all codes, have been processed.  This\n   routine permits incomplete codes, so another loop after this one fills\n   in the rest of the decoding tables with invalid code markers.\n   */\n\n  /* set up for code type */\n  // poor man optimization - use if-else instead of switch,\n  // to avoid deopts in old v8\n  if (type === CODES$1) {\n    base = extra = work;    /* dummy value--not used */\n    end = 19;\n\n  } else if (type === LENS$1) {\n    base = lbase;\n    base_index -= 257;\n    extra = lext;\n    extra_index -= 257;\n    end = 256;\n\n  } else {                    /* DISTS */\n    base = dbase;\n    extra = dext;\n    end = -1;\n  }\n\n  /* initialize opts for loop */\n  huff = 0;                   /* starting code */\n  sym = 0;                    /* starting code symbol */\n  len = min;                  /* starting code length */\n  next = table_index;              /* current table to fill in */\n  curr = root;                /* current table index bits */\n  drop = 0;                   /* current bits to drop from code for index */\n  low = -1;                   /* trigger new sub-table when len > root */\n  used = 1 << root;          /* use root table entries */\n  mask = used - 1;            /* mask for comparing low */\n\n  /* check available table space */\n  if ((type === LENS$1 && used > ENOUGH_LENS$1) ||\n    (type === DISTS$1 && used > ENOUGH_DISTS$1)) {\n    return 1;\n  }\n\n  var i = 0;\n  /* process all codes and make table entries */\n  for (;;) {\n    i++;\n    /* create table entry */\n    here_bits = len - drop;\n    if (work[sym] < end) {\n      here_op = 0;\n      here_val = work[sym];\n    }\n    else if (work[sym] > end) {\n      here_op = extra[extra_index + work[sym]];\n      here_val = base[base_index + work[sym]];\n    }\n    else {\n      here_op = 32 + 64;         /* end of block */\n      here_val = 0;\n    }\n\n    /* replicate for those indices with low len bits equal to huff */\n    incr = 1 << (len - drop);\n    fill = 1 << curr;\n    min = fill;                 /* save offset to next table */\n    do {\n      fill -= incr;\n      table[next + (huff >> drop) + fill] = (here_bits << 24) | (here_op << 16) | here_val |0;\n    } while (fill !== 0);\n\n    /* backwards increment the len-bit code huff */\n    incr = 1 << (len - 1);\n    while (huff & incr) {\n      incr >>= 1;\n    }\n    if (incr !== 0) {\n      huff &= incr - 1;\n      huff += incr;\n    } else {\n      huff = 0;\n    }\n\n    /* go to next symbol, update count, len */\n    sym++;\n    if (--count[len] === 0) {\n      if (len === max) { break; }\n      len = lens[lens_index + work[sym]];\n    }\n\n    /* create new sub-table if needed */\n    if (len > root && (huff & mask) !== low) {\n      /* if first time, transition to sub-tables */\n      if (drop === 0) {\n        drop = root;\n      }\n\n      /* increment past last table */\n      next += min;            /* here min is 1 << curr */\n\n      /* determine length of next table */\n      curr = len - drop;\n      left = 1 << curr;\n      while (curr + drop < max) {\n        left -= count[curr + drop];\n        if (left <= 0) { break; }\n        curr++;\n        left <<= 1;\n      }\n\n      /* check for enough space */\n      used += 1 << curr;\n      if ((type === LENS$1 && used > ENOUGH_LENS$1) ||\n        (type === DISTS$1 && used > ENOUGH_DISTS$1)) {\n        return 1;\n      }\n\n      /* point entry in root table to sub-table */\n      low = huff & mask;\n      /*table.op[low] = curr;\n      table.bits[low] = root;\n      table.val[low] = next - opts.table_index;*/\n      table[low] = (root << 24) | (curr << 16) | (next - table_index) |0;\n    }\n  }\n\n  /* fill in remaining table entry if code is incomplete (guaranteed to have\n   at most one remaining entry, since if the code is incomplete, the\n   maximum code length that was allowed to get this far is one bit) */\n  if (huff !== 0) {\n    //table.op[next + huff] = 64;            /* invalid code marker */\n    //table.bits[next + huff] = len - drop;\n    //table.val[next + huff] = 0;\n    table[next + huff] = ((len - drop) << 24) | (64 << 16) |0;\n  }\n\n  /* set return parameters */\n  //opts.table_index += used;\n  opts.bits = root;\n  return 0;\n};\n\n// 'use strict';\n\n\n// var utils         = require('../utils/common');\n// var adler32       = require('./adler32');\n// var crc32         = require('./crc32');\n// var inflate_fast  = require('./inffast');\n// var inflate_table = require('./inftrees');\n\nvar CODES = 0;\nvar LENS = 1;\nvar DISTS = 2;\n\n/* Public constants ==========================================================*/\n/* ===========================================================================*/\n\n\n/* Allowed flush values; see deflate() and inflate() below for details */\n//var Z_NO_FLUSH      = 0;\n//var Z_PARTIAL_FLUSH = 1;\n//var Z_SYNC_FLUSH    = 2;\n//var Z_FULL_FLUSH    = 3;\nvar Z_FINISH        = 4;\nvar Z_BLOCK         = 5;\nvar Z_TREES         = 6;\n\n\n/* Return codes for the compression/decompression functions. Negative values\n * are errors, positive values are used for special but normal events.\n */\nvar Z_OK            = 0;\nvar Z_STREAM_END    = 1;\nvar Z_NEED_DICT     = 2;\n//var Z_ERRNO         = -1;\nvar Z_STREAM_ERROR  = -2;\nvar Z_DATA_ERROR    = -3;\nvar Z_MEM_ERROR     = -4;\nvar Z_BUF_ERROR     = -5;\n//var Z_VERSION_ERROR = -6;\n\n/* The deflate compression method */\nvar Z_DEFLATED  = 8;\n\n\n/* STATES ====================================================================*/\n/* ===========================================================================*/\n\n\nvar    HEAD = 1;       /* i: waiting for magic header */\nvar    FLAGS = 2;      /* i: waiting for method and flags (gzip) */\nvar    TIME = 3;       /* i: waiting for modification time (gzip) */\nvar    OS = 4;         /* i: waiting for extra flags and operating system (gzip) */\nvar    EXLEN = 5;      /* i: waiting for extra length (gzip) */\nvar    EXTRA = 6;      /* i: waiting for extra bytes (gzip) */\nvar    NAME = 7;       /* i: waiting for end of file name (gzip) */\nvar    COMMENT = 8;    /* i: waiting for end of comment (gzip) */\nvar    HCRC = 9;       /* i: waiting for header crc (gzip) */\nvar    DICTID = 10;    /* i: waiting for dictionary check value */\nvar    DICT = 11;      /* waiting for inflateSetDictionary() call */\nvar        TYPE = 12;      /* i: waiting for type bits, including last-flag bit */\nvar        TYPEDO = 13;    /* i: same, but skip check to exit inflate on new block */\nvar        STORED = 14;    /* i: waiting for stored size (length and complement) */\nvar        COPY_ = 15;     /* i/o: same as COPY below, but only first time in */\nvar        COPY = 16;      /* i/o: waiting for input or output to copy stored block */\nvar        TABLE = 17;     /* i: waiting for dynamic block table lengths */\nvar        LENLENS = 18;   /* i: waiting for code length code lengths */\nvar        CODELENS = 19;  /* i: waiting for length/lit and distance code lengths */\nvar            LEN_ = 20;      /* i: same as LEN below, but only first time in */\nvar            LEN = 21;       /* i: waiting for length/lit/eob code */\nvar            LENEXT = 22;    /* i: waiting for length extra bits */\nvar            DIST = 23;      /* i: waiting for distance code */\nvar            DISTEXT = 24;   /* i: waiting for distance extra bits */\nvar            MATCH = 25;     /* o: waiting for output space to copy string */\nvar            LIT = 26;       /* o: waiting for output space to write literal */\nvar    CHECK = 27;     /* i: waiting for 32-bit check value */\nvar    LENGTH = 28;    /* i: waiting for 32-bit length (gzip) */\nvar    DONE = 29;      /* finished check, done -- remain here until reset */\nvar    BAD = 30;       /* got a data error -- remain here until reset */\nvar    MEM = 31;       /* got an inflate() memory error -- remain here until reset */\nvar    SYNC = 32;      /* looking for synchronization bytes to restart inflate() */\n\n/* ===========================================================================*/\n\n\n\nvar ENOUGH_LENS = 852;\nvar ENOUGH_DISTS = 592;\nfunction zswap32(q) {\n  return  (((q >>> 24) & 0xff) +\n          ((q >>> 8) & 0xff00) +\n          ((q & 0xff00) << 8) +\n          ((q & 0xff) << 24));\n}\n\n\nfunction InflateState() {\n  this.mode = 0;             /* current inflate mode */\n  this.last = false;          /* true if processing last block */\n  this.wrap = 0;              /* bit 0 true for zlib, bit 1 true for gzip */\n  this.havedict = false;      /* true if dictionary provided */\n  this.flags = 0;             /* gzip header method and flags (0 if zlib) */\n  this.dmax = 0;              /* zlib header max distance (INFLATE_STRICT) */\n  this.check = 0;             /* protected copy of check value */\n  this.total = 0;             /* protected copy of output count */\n  // TODO: may be {}\n  this.head = null;           /* where to save gzip header information */\n\n  /* sliding window */\n  this.wbits = 0;             /* log base 2 of requested window size */\n  this.wsize = 0;             /* window size or zero if not using window */\n  this.whave = 0;             /* valid bytes in the window */\n  this.wnext = 0;             /* window write index */\n  this.window = null;         /* allocated sliding window, if needed */\n\n  /* bit accumulator */\n  this.hold = 0;              /* input bit accumulator */\n  this.bits = 0;              /* number of bits in \"in\" */\n\n  /* for string and stored block copying */\n  this.length = 0;            /* literal or length of data to copy */\n  this.offset = 0;            /* distance back to copy string from */\n\n  /* for table and code decoding */\n  this.extra = 0;             /* extra bits needed */\n\n  /* fixed and dynamic code tables */\n  this.lencode = null;          /* starting table for length/literal codes */\n  this.distcode = null;         /* starting table for distance codes */\n  this.lenbits = 0;           /* index bits for lencode */\n  this.distbits = 0;          /* index bits for distcode */\n\n  /* dynamic table building */\n  this.ncode = 0;             /* number of code length code lengths */\n  this.nlen = 0;              /* number of length code lengths */\n  this.ndist = 0;             /* number of distance code lengths */\n  this.have = 0;              /* number of code lengths in lens[] */\n  this.next = null;              /* next available space in codes[] */\n\n  this.lens = new Uint16Array(320); /* temporary storage for code lengths */\n  this.work = new Uint16Array(288); /* work area for code table building */\n\n  /*\n   because we don't have pointers in js, we use lencode and distcode directly\n   as buffers so we don't need codes\n  */\n  //this.codes = new Buf32(ENOUGH);       /* space for code tables */\n  this.lendyn = null;              /* dynamic table for length/literal codes (JS specific) */\n  this.distdyn = null;             /* dynamic table for distance codes (JS specific) */\n  this.sane = 0;                   /* if false, allow invalid distance too far */\n  this.back = 0;                   /* bits back of last unprocessed length/lit */\n  this.was = 0;                    /* initial length of match */\n}\n\nfunction inflateResetKeep(strm) {\n  var state;\n\n  if (!strm || !strm.state) { return Z_STREAM_ERROR; }\n  state = strm.state;\n  strm.total_in = strm.total_out = state.total = 0;\n  strm.msg = ''; /*Z_NULL*/\n  if (state.wrap) {       /* to support ill-conceived Java test suite */\n    strm.adler = state.wrap & 1;\n  }\n  state.mode = HEAD;\n  state.last = 0;\n  state.havedict = 0;\n  state.dmax = 32768;\n  state.head = null/*Z_NULL*/;\n  state.hold = 0;\n  state.bits = 0;\n  //state.lencode = state.distcode = state.next = state.codes;\n  state.lencode = state.lendyn = new Int32Array(ENOUGH_LENS);\n  state.distcode = state.distdyn = new Int32Array(ENOUGH_DISTS);\n\n  state.sane = 1;\n  state.back = -1;\n  //Tracev((stderr, \"inflate: reset\\n\"));\n  return Z_OK;\n}\n\nfunction inflateReset(strm) {\n  var state;\n\n  if (!strm || !strm.state) { return Z_STREAM_ERROR; }\n  state = strm.state;\n  state.wsize = 0;\n  state.whave = 0;\n  state.wnext = 0;\n  return inflateResetKeep(strm);\n\n}\n\nfunction inflateReset2(strm, windowBits) {\n  var wrap;\n  var state;\n\n  /* get the state */\n  if (!strm || !strm.state) { return Z_STREAM_ERROR; }\n  state = strm.state;\n\n  /* extract wrap request from windowBits parameter */\n  if (windowBits < 0) {\n    wrap = 0;\n    windowBits = -windowBits;\n  }\n  else {\n    wrap = (windowBits >> 4) + 1;\n    if (windowBits < 48) {\n      windowBits &= 15;\n    }\n  }\n\n  /* set number of window bits, free window if different */\n  if (windowBits && (windowBits < 8 || windowBits > 15)) {\n    return Z_STREAM_ERROR;\n  }\n  if (state.window !== null && state.wbits !== windowBits) {\n    state.window = null;\n  }\n\n  /* update state and reset the rest of it */\n  state.wrap = wrap;\n  state.wbits = windowBits;\n  return inflateReset(strm);\n}\n\nfunction inflateInit2(strm, windowBits) {\n  var ret;\n  var state;\n\n  if (!strm) { return Z_STREAM_ERROR; }\n  //strm.msg = Z_NULL;                 /* in case we return an error */\n\n  state = new InflateState();\n\n  //if (state === Z_NULL) return Z_MEM_ERROR;\n  //Tracev((stderr, \"inflate: allocated\\n\"));\n  strm.state = state;\n  state.window = null/*Z_NULL*/;\n  ret = inflateReset2(strm, windowBits);\n  if (ret !== Z_OK) {\n    strm.state = null/*Z_NULL*/;\n  }\n  return ret;\n}\n\n/*\n Return state with length and distance decoding tables and index sizes set to\n fixed code decoding.  Normally this returns fixed tables from inffixed.h.\n If BUILDFIXED is defined, then instead this routine builds the tables the\n first time it's called, and returns those tables the first time and\n thereafter.  This reduces the size of the code by about 2K bytes, in\n exchange for a little execution time.  However, BUILDFIXED should not be\n used for threaded applications, since the rewriting of the tables and virgin\n may not be thread-safe.\n */\nvar virgin = true;\n\nvar lenfix;\nvar distfix;\n// We have no pointers in JS, so keep tables separate\n\nfunction fixedtables(state) {\n  /* build fixed huffman tables if first call (may not be thread safe) */\n  if (virgin) {\n    var sym;\n\n    lenfix = new Int32Array(512);\n    distfix = new Int32Array(32);\n\n    /* literal/length table */\n    sym = 0;\n    while (sym < 144) { state.lens[sym++] = 8; }\n    while (sym < 256) { state.lens[sym++] = 9; }\n    while (sym < 280) { state.lens[sym++] = 7; }\n    while (sym < 288) { state.lens[sym++] = 8; }\n\n    inflate_table(LENS,  state.lens, 0, 288, lenfix,   0, state.work, { bits: 9 });\n\n    /* distance table */\n    sym = 0;\n    while (sym < 32) { state.lens[sym++] = 5; }\n\n    inflate_table(DISTS, state.lens, 0, 32,   distfix, 0, state.work, { bits: 5 });\n\n    /* do this just once */\n    virgin = false;\n  }\n\n  state.lencode = lenfix;\n  state.lenbits = 9;\n  state.distcode = distfix;\n  state.distbits = 5;\n}\n\n\n/*\n Update the window with the last wsize (normally 32K) bytes written before\n returning.  If window does not exist yet, create it.  This is only called\n when a window is already in use, or when output has been written during this\n inflate call, but the end of the deflate stream has not been reached yet.\n It is also called to create a window for dictionary data when a dictionary\n is loaded.\n\n Providing output buffers larger than 32K to inflate() should provide a speed\n advantage, since only the last 32K of output is copied to the sliding window\n upon return from inflate(), and since all distances after the first 32K of\n output will fall in the output data, making match copies simpler and faster.\n The advantage may be dependent on the size of the processor's data caches.\n */\nfunction updatewindow(strm, src, end, copy) {\n  var dist;\n  var state = strm.state;\n\n  /* if it hasn't been done already, allocate space for the window */\n  if (state.window === null) {\n    state.wsize = 1 << state.wbits;\n    state.wnext = 0;\n    state.whave = 0;\n\n    state.window = new Uint8Array(state.wsize);\n  }\n\n  /* copy state->wsize or less output bytes into the circular window */\n  if (copy >= state.wsize) {\n    arraySet(state.window, src, end - state.wsize, state.wsize, 0);\n    state.wnext = 0;\n    state.whave = state.wsize;\n  }\n  else {\n    dist = state.wsize - state.wnext;\n    if (dist > copy) {\n      dist = copy;\n    }\n    //zmemcpy(state->window + state->wnext, end - copy, dist);\n    arraySet(state.window, src, end - copy, dist, state.wnext);\n    copy -= dist;\n    if (copy) {\n      //zmemcpy(state->window, end - copy, copy);\n      arraySet(state.window, src, end - copy, copy, 0);\n      state.wnext = copy;\n      state.whave = state.wsize;\n    }\n    else {\n      state.wnext += dist;\n      if (state.wnext === state.wsize) { state.wnext = 0; }\n      if (state.whave < state.wsize) { state.whave += dist; }\n    }\n  }\n  return 0;\n}\n\nfunction inflate(strm, flush) {\n  var state;\n  var input, output;          // input/output buffers\n  var next;                   /* next input INDEX */\n  var put;                    /* next output INDEX */\n  var have, left;             /* available input and output */\n  var hold;                   /* bit buffer */\n  var bits;                   /* bits in bit buffer */\n  var _in, _out;              /* save starting available input and output */\n  var copy;                   /* number of stored or match bytes to copy */\n  var from;                   /* where to copy match bytes from */\n  var from_source;\n  var here = 0;               /* current decoding table entry */\n  var here_bits, here_op, here_val; // paked \"here\" denormalized (JS specific)\n  //var last;                   /* parent table entry */\n  var last_bits, last_op, last_val; // paked \"last\" denormalized (JS specific)\n  var len;                    /* length to copy for repeats, bits to drop */\n  var ret;                    /* return code */\n  var hbuf = new Uint8Array(4);    /* buffer for gzip header crc calculation */\n  var opts;\n\n  var n; // temporary var for NEED_BITS\n\n  var order = /* permutation of code lengths */\n    [ 16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15 ];\n\n\n  if (!strm || !strm.state || !strm.output ||\n      (!strm.input && strm.avail_in !== 0)) {\n    return Z_STREAM_ERROR;\n  }\n\n  state = strm.state;\n  if (state.mode === TYPE) { state.mode = TYPEDO; }    /* skip check */\n\n\n  //--- LOAD() ---\n  put = strm.next_out;\n  output = strm.output;\n  left = strm.avail_out;\n  next = strm.next_in;\n  input = strm.input;\n  have = strm.avail_in;\n  hold = state.hold;\n  bits = state.bits;\n  //---\n\n  _in = have;\n  _out = left;\n  ret = Z_OK;\n\n  inf_leave: // goto emulation\n  for (;;) {\n    switch (state.mode) {\n    case HEAD:\n      if (state.wrap === 0) {\n        state.mode = TYPEDO;\n        break;\n      }\n      //=== NEEDBITS(16);\n      while (bits < 16) {\n        if (have === 0) { break inf_leave; }\n        have--;\n        hold += input[next++] << bits;\n        bits += 8;\n      }\n      //===//\n      if ((state.wrap & 2) && hold === 0x8b1f) {  /* gzip header */\n        state.check = 0/*crc32(0L, Z_NULL, 0)*/;\n        //=== CRC2(state.check, hold);\n        hbuf[0] = hold & 0xff;\n        hbuf[1] = (hold >>> 8) & 0xff;\n        state.check = crc32(state.check, hbuf, 2, 0);\n        //===//\n\n        //=== INITBITS();\n        hold = 0;\n        bits = 0;\n        //===//\n        state.mode = FLAGS;\n        break;\n      }\n      state.flags = 0;           /* expect zlib header */\n      if (state.head) {\n        state.head.done = false;\n      }\n      if (!(state.wrap & 1) ||   /* check if zlib header allowed */\n        (((hold & 0xff)/*BITS(8)*/ << 8) + (hold >> 8)) % 31) {\n        strm.msg = 'incorrect header check';\n        state.mode = BAD;\n        break;\n      }\n      if ((hold & 0x0f)/*BITS(4)*/ !== Z_DEFLATED) {\n        strm.msg = 'unknown compression method';\n        state.mode = BAD;\n        break;\n      }\n      //--- DROPBITS(4) ---//\n      hold >>>= 4;\n      bits -= 4;\n      //---//\n      len = (hold & 0x0f)/*BITS(4)*/ + 8;\n      if (state.wbits === 0) {\n        state.wbits = len;\n      }\n      else if (len > state.wbits) {\n        strm.msg = 'invalid window size';\n        state.mode = BAD;\n        break;\n      }\n      state.dmax = 1 << len;\n      //Tracev((stderr, \"inflate:   zlib header ok\\n\"));\n      strm.adler = state.check = 1/*adler32(0L, Z_NULL, 0)*/;\n      state.mode = hold & 0x200 ? DICTID : TYPE;\n      //=== INITBITS();\n      hold = 0;\n      bits = 0;\n      //===//\n      break;\n    case FLAGS:\n      //=== NEEDBITS(16); */\n      while (bits < 16) {\n        if (have === 0) { break inf_leave; }\n        have--;\n        hold += input[next++] << bits;\n        bits += 8;\n      }\n      //===//\n      state.flags = hold;\n      if ((state.flags & 0xff) !== Z_DEFLATED) {\n        strm.msg = 'unknown compression method';\n        state.mode = BAD;\n        break;\n      }\n      if (state.flags & 0xe000) {\n        strm.msg = 'unknown header flags set';\n        state.mode = BAD;\n        break;\n      }\n      if (state.head) {\n        state.head.text = ((hold >> 8) & 1);\n      }\n      if (state.flags & 0x0200) {\n        //=== CRC2(state.check, hold);\n        hbuf[0] = hold & 0xff;\n        hbuf[1] = (hold >>> 8) & 0xff;\n        state.check = crc32(state.check, hbuf, 2, 0);\n        //===//\n      }\n      //=== INITBITS();\n      hold = 0;\n      bits = 0;\n      //===//\n      state.mode = TIME;\n      /* falls through */\n    case TIME:\n      //=== NEEDBITS(32); */\n      while (bits < 32) {\n        if (have === 0) { break inf_leave; }\n        have--;\n        hold += input[next++] << bits;\n        bits += 8;\n      }\n      //===//\n      if (state.head) {\n        state.head.time = hold;\n      }\n      if (state.flags & 0x0200) {\n        //=== CRC4(state.check, hold)\n        hbuf[0] = hold & 0xff;\n        hbuf[1] = (hold >>> 8) & 0xff;\n        hbuf[2] = (hold >>> 16) & 0xff;\n        hbuf[3] = (hold >>> 24) & 0xff;\n        state.check = crc32(state.check, hbuf, 4, 0);\n        //===\n      }\n      //=== INITBITS();\n      hold = 0;\n      bits = 0;\n      //===//\n      state.mode = OS;\n      /* falls through */\n    case OS:\n      //=== NEEDBITS(16); */\n      while (bits < 16) {\n        if (have === 0) { break inf_leave; }\n        have--;\n        hold += input[next++] << bits;\n        bits += 8;\n      }\n      //===//\n      if (state.head) {\n        state.head.xflags = (hold & 0xff);\n        state.head.os = (hold >> 8);\n      }\n      if (state.flags & 0x0200) {\n        //=== CRC2(state.check, hold);\n        hbuf[0] = hold & 0xff;\n        hbuf[1] = (hold >>> 8) & 0xff;\n        state.check = crc32(state.check, hbuf, 2, 0);\n        //===//\n      }\n      //=== INITBITS();\n      hold = 0;\n      bits = 0;\n      //===//\n      state.mode = EXLEN;\n      /* falls through */\n    case EXLEN:\n      if (state.flags & 0x0400) {\n        //=== NEEDBITS(16); */\n        while (bits < 16) {\n          if (have === 0) { break inf_leave; }\n          have--;\n          hold += input[next++] << bits;\n          bits += 8;\n        }\n        //===//\n        state.length = hold;\n        if (state.head) {\n          state.head.extra_len = hold;\n        }\n        if (state.flags & 0x0200) {\n          //=== CRC2(state.check, hold);\n          hbuf[0] = hold & 0xff;\n          hbuf[1] = (hold >>> 8) & 0xff;\n          state.check = crc32(state.check, hbuf, 2, 0);\n          //===//\n        }\n        //=== INITBITS();\n        hold = 0;\n        bits = 0;\n        //===//\n      }\n      else if (state.head) {\n        state.head.extra = null/*Z_NULL*/;\n      }\n      state.mode = EXTRA;\n      /* falls through */\n    case EXTRA:\n      if (state.flags & 0x0400) {\n        copy = state.length;\n        if (copy > have) { copy = have; }\n        if (copy) {\n          if (state.head) {\n            len = state.head.extra_len - state.length;\n            if (!state.head.extra) {\n              // Use untyped array for more conveniend processing later\n              state.head.extra = new Array(state.head.extra_len);\n            }\n            arraySet(\n              state.head.extra,\n              input,\n              next,\n              // extra field is limited to 65536 bytes\n              // - no need for additional size check\n              copy,\n              /*len + copy > state.head.extra_max - len ? state.head.extra_max : copy,*/\n              len\n            );\n            //zmemcpy(state.head.extra + len, next,\n            //        len + copy > state.head.extra_max ?\n            //        state.head.extra_max - len : copy);\n          }\n          if (state.flags & 0x0200) {\n            state.check = crc32(state.check, input, copy, next);\n          }\n          have -= copy;\n          next += copy;\n          state.length -= copy;\n        }\n        if (state.length) { break inf_leave; }\n      }\n      state.length = 0;\n      state.mode = NAME;\n      /* falls through */\n    case NAME:\n      if (state.flags & 0x0800) {\n        if (have === 0) { break inf_leave; }\n        copy = 0;\n        do {\n          // TODO: 2 or 1 bytes?\n          len = input[next + copy++];\n          /* use constant limit because in js we should not preallocate memory */\n          if (state.head && len &&\n              (state.length < 65536 /*state.head.name_max*/)) {\n            state.head.name += String.fromCharCode(len);\n          }\n        } while (len && copy < have);\n\n        if (state.flags & 0x0200) {\n          state.check = crc32(state.check, input, copy, next);\n        }\n        have -= copy;\n        next += copy;\n        if (len) { break inf_leave; }\n      }\n      else if (state.head) {\n        state.head.name = null;\n      }\n      state.length = 0;\n      state.mode = COMMENT;\n      /* falls through */\n    case COMMENT:\n      if (state.flags & 0x1000) {\n        if (have === 0) { break inf_leave; }\n        copy = 0;\n        do {\n          len = input[next + copy++];\n          /* use constant limit because in js we should not preallocate memory */\n          if (state.head && len &&\n              (state.length < 65536 /*state.head.comm_max*/)) {\n            state.head.comment += String.fromCharCode(len);\n          }\n        } while (len && copy < have);\n        if (state.flags & 0x0200) {\n          state.check = crc32(state.check, input, copy, next);\n        }\n        have -= copy;\n        next += copy;\n        if (len) { break inf_leave; }\n      }\n      else if (state.head) {\n        state.head.comment = null;\n      }\n      state.mode = HCRC;\n      /* falls through */\n    case HCRC:\n      if (state.flags & 0x0200) {\n        //=== NEEDBITS(16); */\n        while (bits < 16) {\n          if (have === 0) { break inf_leave; }\n          have--;\n          hold += input[next++] << bits;\n          bits += 8;\n        }\n        //===//\n        if (hold !== (state.check & 0xffff)) {\n          strm.msg = 'header crc mismatch';\n          state.mode = BAD;\n          break;\n        }\n        //=== INITBITS();\n        hold = 0;\n        bits = 0;\n        //===//\n      }\n      if (state.head) {\n        state.head.hcrc = ((state.flags >> 9) & 1);\n        state.head.done = true;\n      }\n      strm.adler = state.check = 0;\n      state.mode = TYPE;\n      break;\n    case DICTID:\n      //=== NEEDBITS(32); */\n      while (bits < 32) {\n        if (have === 0) { break inf_leave; }\n        have--;\n        hold += input[next++] << bits;\n        bits += 8;\n      }\n      //===//\n      strm.adler = state.check = zswap32(hold);\n      //=== INITBITS();\n      hold = 0;\n      bits = 0;\n      //===//\n      state.mode = DICT;\n      /* falls through */\n    case DICT:\n      if (state.havedict === 0) {\n        //--- RESTORE() ---\n        strm.next_out = put;\n        strm.avail_out = left;\n        strm.next_in = next;\n        strm.avail_in = have;\n        state.hold = hold;\n        state.bits = bits;\n        //---\n        return Z_NEED_DICT;\n      }\n      strm.adler = state.check = 1/*adler32(0L, Z_NULL, 0)*/;\n      state.mode = TYPE;\n      /* falls through */\n    case TYPE:\n      if (flush === Z_BLOCK || flush === Z_TREES) { break inf_leave; }\n      /* falls through */\n    case TYPEDO:\n      if (state.last) {\n        //--- BYTEBITS() ---//\n        hold >>>= bits & 7;\n        bits -= bits & 7;\n        //---//\n        state.mode = CHECK;\n        break;\n      }\n      //=== NEEDBITS(3); */\n      while (bits < 3) {\n        if (have === 0) { break inf_leave; }\n        have--;\n        hold += input[next++] << bits;\n        bits += 8;\n      }\n      //===//\n      state.last = (hold & 0x01)/*BITS(1)*/;\n      //--- DROPBITS(1) ---//\n      hold >>>= 1;\n      bits -= 1;\n      //---//\n\n      switch ((hold & 0x03)/*BITS(2)*/) {\n      case 0:                             /* stored block */\n        //Tracev((stderr, \"inflate:     stored block%s\\n\",\n        //        state.last ? \" (last)\" : \"\"));\n        state.mode = STORED;\n        break;\n      case 1:                             /* fixed block */\n        fixedtables(state);\n        //Tracev((stderr, \"inflate:     fixed codes block%s\\n\",\n        //        state.last ? \" (last)\" : \"\"));\n        state.mode = LEN_;             /* decode codes */\n        if (flush === Z_TREES) {\n          //--- DROPBITS(2) ---//\n          hold >>>= 2;\n          bits -= 2;\n          //---//\n          break inf_leave;\n        }\n        break;\n      case 2:                             /* dynamic block */\n        //Tracev((stderr, \"inflate:     dynamic codes block%s\\n\",\n        //        state.last ? \" (last)\" : \"\"));\n        state.mode = TABLE;\n        break;\n      case 3:\n        strm.msg = 'invalid block type';\n        state.mode = BAD;\n      }\n      //--- DROPBITS(2) ---//\n      hold >>>= 2;\n      bits -= 2;\n      //---//\n      break;\n    case STORED:\n      //--- BYTEBITS() ---// /* go to byte boundary */\n      hold >>>= bits & 7;\n      bits -= bits & 7;\n      //---//\n      //=== NEEDBITS(32); */\n      while (bits < 32) {\n        if (have === 0) { break inf_leave; }\n        have--;\n        hold += input[next++] << bits;\n        bits += 8;\n      }\n      //===//\n      if ((hold & 0xffff) !== ((hold >>> 16) ^ 0xffff)) {\n        strm.msg = 'invalid stored block lengths';\n        state.mode = BAD;\n        break;\n      }\n      state.length = hold & 0xffff;\n      //Tracev((stderr, \"inflate:       stored length %u\\n\",\n      //        state.length));\n      //=== INITBITS();\n      hold = 0;\n      bits = 0;\n      //===//\n      state.mode = COPY_;\n      if (flush === Z_TREES) { break inf_leave; }\n      /* falls through */\n    case COPY_:\n      state.mode = COPY;\n      /* falls through */\n    case COPY:\n      copy = state.length;\n      if (copy) {\n        if (copy > have) { copy = have; }\n        if (copy > left) { copy = left; }\n        if (copy === 0) { break inf_leave; }\n        //--- zmemcpy(put, next, copy); ---\n        arraySet(output, input, next, copy, put);\n        //---//\n        have -= copy;\n        next += copy;\n        left -= copy;\n        put += copy;\n        state.length -= copy;\n        break;\n      }\n      //Tracev((stderr, \"inflate:       stored end\\n\"));\n      state.mode = TYPE;\n      break;\n    case TABLE:\n      //=== NEEDBITS(14); */\n      while (bits < 14) {\n        if (have === 0) { break inf_leave; }\n        have--;\n        hold += input[next++] << bits;\n        bits += 8;\n      }\n      //===//\n      state.nlen = (hold & 0x1f)/*BITS(5)*/ + 257;\n      //--- DROPBITS(5) ---//\n      hold >>>= 5;\n      bits -= 5;\n      //---//\n      state.ndist = (hold & 0x1f)/*BITS(5)*/ + 1;\n      //--- DROPBITS(5) ---//\n      hold >>>= 5;\n      bits -= 5;\n      //---//\n      state.ncode = (hold & 0x0f)/*BITS(4)*/ + 4;\n      //--- DROPBITS(4) ---//\n      hold >>>= 4;\n      bits -= 4;\n      //---//\n//#ifndef PKZIP_BUG_WORKAROUND\n      if (state.nlen > 286 || state.ndist > 30) {\n        strm.msg = 'too many length or distance symbols';\n        state.mode = BAD;\n        break;\n      }\n//#endif\n      //Tracev((stderr, \"inflate:       table sizes ok\\n\"));\n      state.have = 0;\n      state.mode = LENLENS;\n      /* falls through */\n    case LENLENS:\n      while (state.have < state.ncode) {\n        //=== NEEDBITS(3);\n        while (bits < 3) {\n          if (have === 0) { break inf_leave; }\n          have--;\n          hold += input[next++] << bits;\n          bits += 8;\n        }\n        //===//\n        state.lens[order[state.have++]] = (hold & 0x07);//BITS(3);\n        //--- DROPBITS(3) ---//\n        hold >>>= 3;\n        bits -= 3;\n        //---//\n      }\n      while (state.have < 19) {\n        state.lens[order[state.have++]] = 0;\n      }\n      // We have separate tables & no pointers. 2 commented lines below not needed.\n      //state.next = state.codes;\n      //state.lencode = state.next;\n      // Switch to use dynamic table\n      state.lencode = state.lendyn;\n      state.lenbits = 7;\n\n      opts = { bits: state.lenbits };\n      ret = inflate_table(CODES, state.lens, 0, 19, state.lencode, 0, state.work, opts);\n      state.lenbits = opts.bits;\n\n      if (ret) {\n        strm.msg = 'invalid code lengths set';\n        state.mode = BAD;\n        break;\n      }\n      //Tracev((stderr, \"inflate:       code lengths ok\\n\"));\n      state.have = 0;\n      state.mode = CODELENS;\n      /* falls through */\n    case CODELENS:\n      while (state.have < state.nlen + state.ndist) {\n        for (;;) {\n          here = state.lencode[hold & ((1 << state.lenbits) - 1)];/*BITS(state.lenbits)*/\n          here_bits = here >>> 24;\n          here_op = (here >>> 16) & 0xff;\n          here_val = here & 0xffff;\n\n          if ((here_bits) <= bits) { break; }\n          //--- PULLBYTE() ---//\n          if (have === 0) { break inf_leave; }\n          have--;\n          hold += input[next++] << bits;\n          bits += 8;\n          //---//\n        }\n        if (here_val < 16) {\n          //--- DROPBITS(here.bits) ---//\n          hold >>>= here_bits;\n          bits -= here_bits;\n          //---//\n          state.lens[state.have++] = here_val;\n        }\n        else {\n          if (here_val === 16) {\n            //=== NEEDBITS(here.bits + 2);\n            n = here_bits + 2;\n            while (bits < n) {\n              if (have === 0) { break inf_leave; }\n              have--;\n              hold += input[next++] << bits;\n              bits += 8;\n            }\n            //===//\n            //--- DROPBITS(here.bits) ---//\n            hold >>>= here_bits;\n            bits -= here_bits;\n            //---//\n            if (state.have === 0) {\n              strm.msg = 'invalid bit length repeat';\n              state.mode = BAD;\n              break;\n            }\n            len = state.lens[state.have - 1];\n            copy = 3 + (hold & 0x03);//BITS(2);\n            //--- DROPBITS(2) ---//\n            hold >>>= 2;\n            bits -= 2;\n            //---//\n          }\n          else if (here_val === 17) {\n            //=== NEEDBITS(here.bits + 3);\n            n = here_bits + 3;\n            while (bits < n) {\n              if (have === 0) { break inf_leave; }\n              have--;\n              hold += input[next++] << bits;\n              bits += 8;\n            }\n            //===//\n            //--- DROPBITS(here.bits) ---//\n            hold >>>= here_bits;\n            bits -= here_bits;\n            //---//\n            len = 0;\n            copy = 3 + (hold & 0x07);//BITS(3);\n            //--- DROPBITS(3) ---//\n            hold >>>= 3;\n            bits -= 3;\n            //---//\n          }\n          else {\n            //=== NEEDBITS(here.bits + 7);\n            n = here_bits + 7;\n            while (bits < n) {\n              if (have === 0) { break inf_leave; }\n              have--;\n              hold += input[next++] << bits;\n              bits += 8;\n            }\n            //===//\n            //--- DROPBITS(here.bits) ---//\n            hold >>>= here_bits;\n            bits -= here_bits;\n            //---//\n            len = 0;\n            copy = 11 + (hold & 0x7f);//BITS(7);\n            //--- DROPBITS(7) ---//\n            hold >>>= 7;\n            bits -= 7;\n            //---//\n          }\n          if (state.have + copy > state.nlen + state.ndist) {\n            strm.msg = 'invalid bit length repeat';\n            state.mode = BAD;\n            break;\n          }\n          while (copy--) {\n            state.lens[state.have++] = len;\n          }\n        }\n      }\n\n      /* handle error breaks in while */\n      if (state.mode === BAD) { break; }\n\n      /* check for end-of-block code (better have one) */\n      if (state.lens[256] === 0) {\n        strm.msg = 'invalid code -- missing end-of-block';\n        state.mode = BAD;\n        break;\n      }\n\n      /* build code tables -- note: do not change the lenbits or distbits\n         values here (9 and 6) without reading the comments in inftrees.h\n         concerning the ENOUGH constants, which depend on those values */\n      state.lenbits = 9;\n\n      opts = { bits: state.lenbits };\n      ret = inflate_table(LENS, state.lens, 0, state.nlen, state.lencode, 0, state.work, opts);\n      // We have separate tables & no pointers. 2 commented lines below not needed.\n      // state.next_index = opts.table_index;\n      state.lenbits = opts.bits;\n      // state.lencode = state.next;\n\n      if (ret) {\n        strm.msg = 'invalid literal/lengths set';\n        state.mode = BAD;\n        break;\n      }\n\n      state.distbits = 6;\n      //state.distcode.copy(state.codes);\n      // Switch to use dynamic table\n      state.distcode = state.distdyn;\n      opts = { bits: state.distbits };\n      ret = inflate_table(DISTS, state.lens, state.nlen, state.ndist, state.distcode, 0, state.work, opts);\n      // We have separate tables & no pointers. 2 commented lines below not needed.\n      // state.next_index = opts.table_index;\n      state.distbits = opts.bits;\n      // state.distcode = state.next;\n\n      if (ret) {\n        strm.msg = 'invalid distances set';\n        state.mode = BAD;\n        break;\n      }\n      //Tracev((stderr, 'inflate:       codes ok\\n'));\n      state.mode = LEN_;\n      if (flush === Z_TREES) { break inf_leave; }\n      /* falls through */\n    case LEN_:\n      state.mode = LEN;\n      /* falls through */\n    case LEN:\n      if (have >= 6 && left >= 258) {\n        //--- RESTORE() ---\n        strm.next_out = put;\n        strm.avail_out = left;\n        strm.next_in = next;\n        strm.avail_in = have;\n        state.hold = hold;\n        state.bits = bits;\n        //---\n        inflate_fast(strm, _out);\n        //--- LOAD() ---\n        put = strm.next_out;\n        output = strm.output;\n        left = strm.avail_out;\n        next = strm.next_in;\n        input = strm.input;\n        have = strm.avail_in;\n        hold = state.hold;\n        bits = state.bits;\n        //---\n\n        if (state.mode === TYPE) {\n          state.back = -1;\n        }\n        break;\n      }\n      state.back = 0;\n      for (;;) {\n        here = state.lencode[hold & ((1 << state.lenbits) - 1)];  /*BITS(state.lenbits)*/\n        here_bits = here >>> 24;\n        here_op = (here >>> 16) & 0xff;\n        here_val = here & 0xffff;\n\n        if (here_bits <= bits) { break; }\n        //--- PULLBYTE() ---//\n        if (have === 0) { break inf_leave; }\n        have--;\n        hold += input[next++] << bits;\n        bits += 8;\n        //---//\n      }\n      if (here_op && (here_op & 0xf0) === 0) {\n        last_bits = here_bits;\n        last_op = here_op;\n        last_val = here_val;\n        for (;;) {\n          here = state.lencode[last_val +\n                  ((hold & ((1 << (last_bits + last_op)) - 1))/*BITS(last.bits + last.op)*/ >> last_bits)];\n          here_bits = here >>> 24;\n          here_op = (here >>> 16) & 0xff;\n          here_val = here & 0xffff;\n\n          if ((last_bits + here_bits) <= bits) { break; }\n          //--- PULLBYTE() ---//\n          if (have === 0) { break inf_leave; }\n          have--;\n          hold += input[next++] << bits;\n          bits += 8;\n          //---//\n        }\n        //--- DROPBITS(last.bits) ---//\n        hold >>>= last_bits;\n        bits -= last_bits;\n        //---//\n        state.back += last_bits;\n      }\n      //--- DROPBITS(here.bits) ---//\n      hold >>>= here_bits;\n      bits -= here_bits;\n      //---//\n      state.back += here_bits;\n      state.length = here_val;\n      if (here_op === 0) {\n        //Tracevv((stderr, here.val >= 0x20 && here.val < 0x7f ?\n        //        \"inflate:         literal '%c'\\n\" :\n        //        \"inflate:         literal 0x%02x\\n\", here.val));\n        state.mode = LIT;\n        break;\n      }\n      if (here_op & 32) {\n        //Tracevv((stderr, \"inflate:         end of block\\n\"));\n        state.back = -1;\n        state.mode = TYPE;\n        break;\n      }\n      if (here_op & 64) {\n        strm.msg = 'invalid literal/length code';\n        state.mode = BAD;\n        break;\n      }\n      state.extra = here_op & 15;\n      state.mode = LENEXT;\n      /* falls through */\n    case LENEXT:\n      if (state.extra) {\n        //=== NEEDBITS(state.extra);\n        n = state.extra;\n        while (bits < n) {\n          if (have === 0) { break inf_leave; }\n          have--;\n          hold += input[next++] << bits;\n          bits += 8;\n        }\n        //===//\n        state.length += hold & ((1 << state.extra) - 1)/*BITS(state.extra)*/;\n        //--- DROPBITS(state.extra) ---//\n        hold >>>= state.extra;\n        bits -= state.extra;\n        //---//\n        state.back += state.extra;\n      }\n      //Tracevv((stderr, \"inflate:         length %u\\n\", state.length));\n      state.was = state.length;\n      state.mode = DIST;\n      /* falls through */\n    case DIST:\n      for (;;) {\n        here = state.distcode[hold & ((1 << state.distbits) - 1)];/*BITS(state.distbits)*/\n        here_bits = here >>> 24;\n        here_op = (here >>> 16) & 0xff;\n        here_val = here & 0xffff;\n\n        if ((here_bits) <= bits) { break; }\n        //--- PULLBYTE() ---//\n        if (have === 0) { break inf_leave; }\n        have--;\n        hold += input[next++] << bits;\n        bits += 8;\n        //---//\n      }\n      if ((here_op & 0xf0) === 0) {\n        last_bits = here_bits;\n        last_op = here_op;\n        last_val = here_val;\n        for (;;) {\n          here = state.distcode[last_val +\n                  ((hold & ((1 << (last_bits + last_op)) - 1))/*BITS(last.bits + last.op)*/ >> last_bits)];\n          here_bits = here >>> 24;\n          here_op = (here >>> 16) & 0xff;\n          here_val = here & 0xffff;\n\n          if ((last_bits + here_bits) <= bits) { break; }\n          //--- PULLBYTE() ---//\n          if (have === 0) { break inf_leave; }\n          have--;\n          hold += input[next++] << bits;\n          bits += 8;\n          //---//\n        }\n        //--- DROPBITS(last.bits) ---//\n        hold >>>= last_bits;\n        bits -= last_bits;\n        //---//\n        state.back += last_bits;\n      }\n      //--- DROPBITS(here.bits) ---//\n      hold >>>= here_bits;\n      bits -= here_bits;\n      //---//\n      state.back += here_bits;\n      if (here_op & 64) {\n        strm.msg = 'invalid distance code';\n        state.mode = BAD;\n        break;\n      }\n      state.offset = here_val;\n      state.extra = (here_op) & 15;\n      state.mode = DISTEXT;\n      /* falls through */\n    case DISTEXT:\n      if (state.extra) {\n        //=== NEEDBITS(state.extra);\n        n = state.extra;\n        while (bits < n) {\n          if (have === 0) { break inf_leave; }\n          have--;\n          hold += input[next++] << bits;\n          bits += 8;\n        }\n        //===//\n        state.offset += hold & ((1 << state.extra) - 1)/*BITS(state.extra)*/;\n        //--- DROPBITS(state.extra) ---//\n        hold >>>= state.extra;\n        bits -= state.extra;\n        //---//\n        state.back += state.extra;\n      }\n//#ifdef INFLATE_STRICT\n      if (state.offset > state.dmax) {\n        strm.msg = 'invalid distance too far back';\n        state.mode = BAD;\n        break;\n      }\n//#endif\n      //Tracevv((stderr, \"inflate:         distance %u\\n\", state.offset));\n      state.mode = MATCH;\n      /* falls through */\n    case MATCH:\n      if (left === 0) { break inf_leave; }\n      copy = _out - left;\n      if (state.offset > copy) {         /* copy from window */\n        copy = state.offset - copy;\n        if (copy > state.whave) {\n          if (state.sane) {\n            strm.msg = 'invalid distance too far back';\n            state.mode = BAD;\n            break;\n          }\n// (!) This block is disabled in zlib defailts,\n// don't enable it for binary compatibility\n//#ifdef INFLATE_ALLOW_INVALID_DISTANCE_TOOFAR_ARRR\n//          Trace((stderr, \"inflate.c too far\\n\"));\n//          copy -= state.whave;\n//          if (copy > state.length) { copy = state.length; }\n//          if (copy > left) { copy = left; }\n//          left -= copy;\n//          state.length -= copy;\n//          do {\n//            output[put++] = 0;\n//          } while (--copy);\n//          if (state.length === 0) { state.mode = LEN; }\n//          break;\n//#endif\n        }\n        if (copy > state.wnext) {\n          copy -= state.wnext;\n          from = state.wsize - copy;\n        }\n        else {\n          from = state.wnext - copy;\n        }\n        if (copy > state.length) { copy = state.length; }\n        from_source = state.window;\n      }\n      else {                              /* copy from output */\n        from_source = output;\n        from = put - state.offset;\n        copy = state.length;\n      }\n      if (copy > left) { copy = left; }\n      left -= copy;\n      state.length -= copy;\n      do {\n        output[put++] = from_source[from++];\n      } while (--copy);\n      if (state.length === 0) { state.mode = LEN; }\n      break;\n    case LIT:\n      if (left === 0) { break inf_leave; }\n      output[put++] = state.length;\n      left--;\n      state.mode = LEN;\n      break;\n    case CHECK:\n      if (state.wrap) {\n        //=== NEEDBITS(32);\n        while (bits < 32) {\n          if (have === 0) { break inf_leave; }\n          have--;\n          // Use '|' insdead of '+' to make sure that result is signed\n          hold |= input[next++] << bits;\n          bits += 8;\n        }\n        //===//\n        _out -= left;\n        strm.total_out += _out;\n        state.total += _out;\n        if (_out) {\n          strm.adler = state.check =\n              /*UPDATE(state.check, put - _out, _out);*/\n              (state.flags ? crc32(state.check, output, _out, put - _out) : adler32(state.check, output, _out, put - _out));\n\n        }\n        _out = left;\n        // NB: crc32 stored as signed 32-bit int, zswap32 returns signed too\n        if ((state.flags ? hold : zswap32(hold)) !== state.check) {\n          strm.msg = 'incorrect data check';\n          state.mode = BAD;\n          break;\n        }\n        //=== INITBITS();\n        hold = 0;\n        bits = 0;\n        //===//\n        //Tracev((stderr, \"inflate:   check matches trailer\\n\"));\n      }\n      state.mode = LENGTH;\n      /* falls through */\n    case LENGTH:\n      if (state.wrap && state.flags) {\n        //=== NEEDBITS(32);\n        while (bits < 32) {\n          if (have === 0) { break inf_leave; }\n          have--;\n          hold += input[next++] << bits;\n          bits += 8;\n        }\n        //===//\n        if (hold !== (state.total & 0xffffffff)) {\n          strm.msg = 'incorrect length check';\n          state.mode = BAD;\n          break;\n        }\n        //=== INITBITS();\n        hold = 0;\n        bits = 0;\n        //===//\n        //Tracev((stderr, \"inflate:   length matches trailer\\n\"));\n      }\n      state.mode = DONE;\n      /* falls through */\n    case DONE:\n      ret = Z_STREAM_END;\n      break inf_leave;\n    case BAD:\n      ret = Z_DATA_ERROR;\n      break inf_leave;\n    case MEM:\n      return Z_MEM_ERROR;\n    case SYNC:\n      /* falls through */\n    default:\n      return Z_STREAM_ERROR;\n    }\n  }\n\n  // inf_leave <- here is real place for \"goto inf_leave\", emulated via \"break inf_leave\"\n\n  /*\n     Return from inflate(), updating the total counts and the check value.\n     If there was no progress during the inflate() call, return a buffer\n     error.  Call updatewindow() to create and/or update the window state.\n     Note: a memory error from inflate() is non-recoverable.\n   */\n\n  //--- RESTORE() ---\n  strm.next_out = put;\n  strm.avail_out = left;\n  strm.next_in = next;\n  strm.avail_in = have;\n  state.hold = hold;\n  state.bits = bits;\n  //---\n\n  if (state.wsize || (_out !== strm.avail_out && state.mode < BAD &&\n                      (state.mode < CHECK || flush !== Z_FINISH))) {\n    if (updatewindow(strm, strm.output, strm.next_out, _out - strm.avail_out)) {\n      state.mode = MEM;\n      return Z_MEM_ERROR;\n    }\n  }\n  _in -= strm.avail_in;\n  _out -= strm.avail_out;\n  strm.total_in += _in;\n  strm.total_out += _out;\n  state.total += _out;\n  if (state.wrap && _out) {\n    strm.adler = state.check = /*UPDATE(state.check, strm.next_out - _out, _out);*/\n      (state.flags ? crc32(state.check, output, _out, strm.next_out - _out) : adler32(state.check, output, _out, strm.next_out - _out));\n  }\n  strm.data_type = state.bits + (state.last ? 64 : 0) +\n                    (state.mode === TYPE ? 128 : 0) +\n                    (state.mode === LEN_ || state.mode === COPY_ ? 256 : 0);\n  if (((_in === 0 && _out === 0) || flush === Z_FINISH) && ret === Z_OK) {\n    ret = Z_BUF_ERROR;\n  }\n  return ret;\n}\n\nfunction inflateEnd(strm) {\n\n  if (!strm || !strm.state /*|| strm->zfree == (free_func)0*/) {\n    return Z_STREAM_ERROR;\n  }\n\n  var state = strm.state;\n  if (state.window) {\n    state.window = null;\n  }\n  strm.state = null;\n  return Z_OK;\n}\n\nfunction inflateGetHeader(strm, head) {\n  var state;\n\n  /* check state */\n  if (!strm || !strm.state) { return Z_STREAM_ERROR; }\n  state = strm.state;\n  if ((state.wrap & 2) === 0) { return Z_STREAM_ERROR; }\n\n  /* save header structure */\n  state.head = head;\n  head.done = false;\n  return Z_OK;\n}\n\nfunction inflateSetDictionary(strm, dictionary) {\n  var dictLength = dictionary.length;\n\n  var state;\n  var dictid;\n  var ret;\n\n  /* check state */\n  if (!strm /* == Z_NULL */ || !strm.state /* == Z_NULL */) { return Z_STREAM_ERROR; }\n  state = strm.state;\n\n  if (state.wrap !== 0 && state.mode !== DICT) {\n    return Z_STREAM_ERROR;\n  }\n\n  /* check for correct dictionary identifier */\n  if (state.mode === DICT) {\n    dictid = 1; /* adler32(0, null, 0)*/\n    /* dictid = adler32(dictid, dictionary, dictLength); */\n    dictid = adler32(dictid, dictionary, dictLength, 0);\n    if (dictid !== state.check) {\n      return Z_DATA_ERROR;\n    }\n  }\n  /* copy dictionary to window using updatewindow(), which will amend the\n   existing dictionary if appropriate */\n  ret = updatewindow(strm, dictionary, dictLength, dictLength);\n  if (ret) {\n    state.mode = MEM;\n    return Z_MEM_ERROR;\n  }\n  state.havedict = 1;\n  // Tracev((stderr, \"inflate:   dictionary set\\n\"));\n  return Z_OK;\n}\n\n// String encode/decode helpers\n// 'use strict';\n\n\n// var utils = require('./common');\n\n\n// Quick check if we can use fast array to bin string conversion\n//\n// - apply(Array) can fail on Android 2.2\n// - apply(Uint8Array) can fail on iOS 5.1 Safary\n//\nvar STR_APPLY_OK = true;\nvar STR_APPLY_UIA_OK = true;\n\ntry { String.fromCharCode.apply(null, [ 0 ]); } catch (__) { STR_APPLY_OK = false; }\ntry { String.fromCharCode.apply(null, new Uint8Array(1)); } catch (__) { STR_APPLY_UIA_OK = false; }\n\n\n// Table with utf8 lengths (calculated by first byte of sequence)\n// Note, that 5 & 6-byte values and some 4-byte values can not be represented in JS,\n// because max possible codepoint is 0x10ffff\nvar _utf8len = new Uint8Array(256);\nfor (var q = 0; q < 256; q++) {\n  _utf8len[q] = (q >= 252 ? 6 : q >= 248 ? 5 : q >= 240 ? 4 : q >= 224 ? 3 : q >= 192 ? 2 : 1);\n}\n_utf8len[254] = _utf8len[254] = 1; // Invalid sequence start\n\n\n// convert string to array (typed, when possible)\nfunction string2buf(str) {\n  var buf, c, c2, m_pos, i, str_len = str.length, buf_len = 0;\n\n  // count binary size\n  for (m_pos = 0; m_pos < str_len; m_pos++) {\n    c = str.charCodeAt(m_pos);\n    if ((c & 0xfc00) === 0xd800 && (m_pos + 1 < str_len)) {\n      c2 = str.charCodeAt(m_pos + 1);\n      if ((c2 & 0xfc00) === 0xdc00) {\n        c = 0x10000 + ((c - 0xd800) << 10) + (c2 - 0xdc00);\n        m_pos++;\n      }\n    }\n    buf_len += c < 0x80 ? 1 : c < 0x800 ? 2 : c < 0x10000 ? 3 : 4;\n  }\n\n  // allocate buffer\n  buf = new Uint8Array(buf_len);\n\n  // convert\n  for (i = 0, m_pos = 0; i < buf_len; m_pos++) {\n    c = str.charCodeAt(m_pos);\n    if ((c & 0xfc00) === 0xd800 && (m_pos + 1 < str_len)) {\n      c2 = str.charCodeAt(m_pos + 1);\n      if ((c2 & 0xfc00) === 0xdc00) {\n        c = 0x10000 + ((c - 0xd800) << 10) + (c2 - 0xdc00);\n        m_pos++;\n      }\n    }\n    if (c < 0x80) {\n      /* one byte */\n      buf[i++] = c;\n    } else if (c < 0x800) {\n      /* two bytes */\n      buf[i++] = 0xC0 | (c >>> 6);\n      buf[i++] = 0x80 | (c & 0x3f);\n    } else if (c < 0x10000) {\n      /* three bytes */\n      buf[i++] = 0xE0 | (c >>> 12);\n      buf[i++] = 0x80 | (c >>> 6 & 0x3f);\n      buf[i++] = 0x80 | (c & 0x3f);\n    } else {\n      /* four bytes */\n      buf[i++] = 0xf0 | (c >>> 18);\n      buf[i++] = 0x80 | (c >>> 12 & 0x3f);\n      buf[i++] = 0x80 | (c >>> 6 & 0x3f);\n      buf[i++] = 0x80 | (c & 0x3f);\n    }\n  }\n\n  return buf;\n}\n\n// Helper (used in 2 places)\nfunction _buf2binstring(buf, len) {\n  // use fallback for big arrays to avoid stack overflow\n  if (len < 65537) {\n    if ((buf.subarray && STR_APPLY_UIA_OK) || (!buf.subarray && STR_APPLY_OK)) {\n      return String.fromCharCode.apply(null, shrinkBuf(buf, len));\n    }\n  }\n\n  var result = '';\n  for (var i = 0; i < len; i++) {\n    result += String.fromCharCode(buf[i]);\n  }\n  return result;\n}\n\n\n// Convert binary string (typed, when possible)\nfunction binstring2buf(str) {\n  var buf = new Uint8Array(str.length);\n  for (var i = 0, len = buf.length; i < len; i++) {\n    buf[i] = str.charCodeAt(i);\n  }\n  return buf;\n}\n\n\n// convert array to string\nfunction buf2string(buf, max) {\n  var i, out, c, c_len;\n  var len = max || buf.length;\n\n  // Reserve max possible length (2 words per char)\n  // NB: by unknown reasons, Array is significantly faster for\n  //     String.fromCharCode.apply than Uint16Array.\n  var utf16buf = new Array(len * 2);\n\n  for (out = 0, i = 0; i < len;) {\n    c = buf[i++];\n    // quick process ascii\n    if (c < 0x80) { utf16buf[out++] = c; continue; }\n\n    c_len = _utf8len[c];\n    // skip 5 & 6 byte codes\n    if (c_len > 4) { utf16buf[out++] = 0xfffd; i += c_len - 1; continue; }\n\n    // apply mask on first byte\n    c &= c_len === 2 ? 0x1f : c_len === 3 ? 0x0f : 0x07;\n    // join the rest\n    while (c_len > 1 && i < len) {\n      c = (c << 6) | (buf[i++] & 0x3f);\n      c_len--;\n    }\n\n    // terminated by end of string?\n    if (c_len > 1) { utf16buf[out++] = 0xfffd; continue; }\n\n    if (c < 0x10000) {\n      utf16buf[out++] = c;\n    } else {\n      c -= 0x10000;\n      utf16buf[out++] = 0xd800 | ((c >> 10) & 0x3ff);\n      utf16buf[out++] = 0xdc00 | (c & 0x3ff);\n    }\n  }\n\n  return _buf2binstring(utf16buf, out);\n}\n\n\n// Calculate max possible position in utf8 buffer,\n// that will not break sequence. If that's not possible\n// - (very small limits) return max size as is.\n//\n// buf[] - utf8 bytes array\n// max   - length limit (mandatory);\nfunction utf8border(buf, max) {\n  var pos;\n\n  max = max || buf.length;\n  if (max > buf.length) { max = buf.length; }\n\n  // go back from last position, until start of sequence found\n  pos = max - 1;\n  while (pos >= 0 && (buf[pos] & 0xC0) === 0x80) { pos--; }\n\n  // Fuckup - very small and broken sequence,\n  // return max, because we should return something anyway.\n  if (pos < 0) { return max; }\n\n  // If we came to start of buffer - that means vuffer is too small,\n  // return max too.\n  if (pos === 0) { return max; }\n\n  return (pos + _utf8len[buf[pos]] > max) ? pos : max;\n}\n\n/* Allowed flush values; see deflate() and inflate() below for details */\nvar Z_NO_FLUSH        = 0;\nvar Z_SYNC_FLUSH      = 2;\nvar Z_FINISH$1          = 4;\n/* Return codes for the compression/decompression functions. Negative values\n  * are errors, positive values are used for special but normal events.\n  */\nvar Z_OK$1              =  0;\nvar Z_STREAM_END$1      =  1;\nvar Z_NEED_DICT$1       =  2;\n//export var Z_MEM_ERROR     = -4;\nvar Z_BUF_ERROR$1       = -5;\n\n// 'use strict';\n\nvar messages = {\n  2:      'need dictionary',     /* Z_NEED_DICT       2  */\n  1:      'stream end',          /* Z_STREAM_END      1  */\n  0:      '',                    /* Z_OK              0  */\n  '-1':   'file error',          /* Z_ERRNO         (-1) */\n  '-2':   'stream error',        /* Z_STREAM_ERROR  (-2) */\n  '-3':   'data error',          /* Z_DATA_ERROR    (-3) */\n  '-4':   'insufficient memory', /* Z_MEM_ERROR     (-4) */\n  '-5':   'buffer error',        /* Z_BUF_ERROR     (-5) */\n  '-6':   'incompatible version' /* Z_VERSION_ERROR (-6) */\n};\n\n// 'use strict';\n\n\nfunction ZStream() {\n  /* next input byte */\n  this.input = null; // JS specific, because we have no pointers\n  this.next_in = 0;\n  /* number of bytes available at input */\n  this.avail_in = 0;\n  /* total number of input bytes read so far */\n  this.total_in = 0;\n  /* next output byte should be put there */\n  this.output = null; // JS specific, because we have no pointers\n  this.next_out = 0;\n  /* remaining free space at output */\n  this.avail_out = 0;\n  /* total number of bytes output so far */\n  this.total_out = 0;\n  /* last error message, NULL if no error */\n  this.msg = ''/*Z_NULL*/;\n  /* not visible by applications */\n  this.state = null;\n  /* best guess about the data type: binary or text */\n  this.data_type = 2/*Z_UNKNOWN*/;\n  /* adler32 value of the uncompressed data */\n  this.adler = 0;\n}\n\n// 'use strict';\n\n\nfunction GZheader() {\n  /* true if compressed data believed to be text */\n  this.text       = 0;\n  /* modification time */\n  this.time       = 0;\n  /* extra flags (not used when writing a gzip file) */\n  this.xflags     = 0;\n  /* operating system */\n  this.os         = 0;\n  /* pointer to extra field or Z_NULL if none */\n  this.extra      = null;\n  /* extra field length (valid if extra != Z_NULL) */\n  this.extra_len  = 0; // Actually, we don't need it in JS,\n                       // but leave for few code modifications\n\n  //\n  // Setup limits is not necessary because in js we should not preallocate memory\n  // for inflate use constant limit in 65536 bytes\n  //\n\n  /* space at extra (only when reading header) */\n  // this.extra_max  = 0;\n  /* pointer to zero-terminated file name or Z_NULL */\n  this.name       = '';\n  /* space at name (only when reading header) */\n  // this.name_max   = 0;\n  /* pointer to zero-terminated comment or Z_NULL */\n  this.comment    = '';\n  /* space at comment (only when reading header) */\n  // this.comm_max   = 0;\n  /* true if there was or will be a header crc */\n  this.hcrc       = 0;\n  /* true when done reading gzip header (not used when writing a gzip file) */\n  this.done       = false;\n}\n\n// 'use strict';\n\n\n// var zlib_inflate = require('./zlib/inflate');\n// var utils        = require('./utils/common');\n// var strings      = require('./utils/strings');\n// var c            = require('./zlib/constants');\n// var msg          = require('./zlib/messages');\n// var ZStream      = require('./zlib/zstream');\n// var GZheader     = require('./zlib/gzheader');\n\nvar toString = Object.prototype.toString;\n\n/**\n * class Inflate\n *\n * Generic JS-style wrapper for zlib calls. If you don't need\n * streaming behaviour - use more simple functions: [[inflate]]\n * and [[inflateRaw]].\n **/\n\n/* internal\n * inflate.chunks -> Array\n *\n * Chunks of output data, if [[Inflate#onData]] not overriden.\n **/\n\n/**\n * Inflate.result -> Uint8Array|Array|String\n *\n * Uncompressed result, generated by default [[Inflate#onData]]\n * and [[Inflate#onEnd]] handlers. Filled after you push last chunk\n * (call [[Inflate#push]] with `Z_FINISH` / `true` param) or if you\n * push a chunk with explicit flush (call [[Inflate#push]] with\n * `Z_SYNC_FLUSH` param).\n **/\n\n/**\n * Inflate.err -> Number\n *\n * Error code after inflate finished. 0 (Z_OK) on success.\n * Should be checked if broken data possible.\n **/\n\n/**\n * Inflate.msg -> String\n *\n * Error message, if [[Inflate.err]] != 0\n **/\n\n\n/**\n * new Inflate(options)\n * - options (Object): zlib inflate options.\n *\n * Creates new inflator instance with specified params. Throws exception\n * on bad params. Supported options:\n *\n * - `windowBits`\n * - `dictionary`\n *\n * [http://zlib.net/manual.html#Advanced](http://zlib.net/manual.html#Advanced)\n * for more information on these.\n *\n * Additional options, for internal needs:\n *\n * - `chunkSize` - size of generated data chunks (16K by default)\n * - `raw` (Boolean) - do raw inflate\n * - `to` (String) - if equal to 'string', then result will be converted\n *   from utf8 to utf16 (javascript) string. When string output requested,\n *   chunk length can differ from `chunkSize`, depending on content.\n *\n * By default, when no options set, autodetect deflate/gzip data format via\n * wrapper header.\n *\n * ##### Example:\n *\n * ```javascript\n * var pako = require('pako')\n *   , chunk1 = Uint8Array([1,2,3,4,5,6,7,8,9])\n *   , chunk2 = Uint8Array([10,11,12,13,14,15,16,17,18,19]);\n *\n * var inflate = new pako.Inflate({ level: 3});\n *\n * inflate.push(chunk1, false);\n * inflate.push(chunk2, true);  // true -> last chunk\n *\n * if (inflate.err) { throw new Error(inflate.err); }\n *\n * console.log(inflate.result);\n * ```\n **/\nfunction Inflate(options) {\n  if (!(this instanceof Inflate)) return new Inflate(options);\n\n  this.options = assign({\n    chunkSize: 16384,\n    windowBits: 0,\n    to: ''\n  }, options || {});\n\n  var opt = this.options;\n\n  // Force window size for `raw` data, if not set directly,\n  // because we have no header for autodetect.\n  if (opt.raw && (opt.windowBits >= 0) && (opt.windowBits < 16)) {\n    opt.windowBits = -opt.windowBits;\n    if (opt.windowBits === 0) { opt.windowBits = -15; }\n  }\n\n  // If `windowBits` not defined (and mode not raw) - set autodetect flag for gzip/deflate\n  if ((opt.windowBits >= 0) && (opt.windowBits < 16) &&\n      !(options && options.windowBits)) {\n    opt.windowBits += 32;\n  }\n\n  // Gzip header has no info about windows size, we can do autodetect only\n  // for deflate. So, if window size not set, force it to max when gzip possible\n  if ((opt.windowBits > 15) && (opt.windowBits < 48)) {\n    // bit 3 (16) -> gzipped data\n    // bit 4 (32) -> autodetect gzip/deflate\n    if ((opt.windowBits & 15) === 0) {\n      opt.windowBits |= 15;\n    }\n  }\n\n  this.err    = 0;      // error code, if happens (0 = Z_OK)\n  this.msg    = '';     // error message\n  this.ended  = false;  // used to avoid multiple onEnd() calls\n  this.chunks = [];     // chunks of compressed data\n\n  this.strm   = new ZStream();\n  this.strm.avail_out = 0;\n\n  var status  = inflateInit2(\n    this.strm,\n    opt.windowBits\n  );\n\n  if (status !== Z_OK$1) {\n    throw new Error(messages[status]);\n  }\n\n  this.header = new GZheader();\n\n  inflateGetHeader(this.strm, this.header);\n}\n\n/**\n * Inflate#push(data[, mode]) -> Boolean\n * - data (Uint8Array|Array|ArrayBuffer|String): input data\n * - mode (Number|Boolean): 0..6 for corresponding Z_NO_FLUSH..Z_TREE modes.\n *   See constants. Skipped or `false` means Z_NO_FLUSH, `true` meansh Z_FINISH.\n *\n * Sends input data to inflate pipe, generating [[Inflate#onData]] calls with\n * new output chunks. Returns `true` on success. The last data block must have\n * mode Z_FINISH (or `true`). That will flush internal pending buffers and call\n * [[Inflate#onEnd]]. For interim explicit flushes (without ending the stream) you\n * can use mode Z_SYNC_FLUSH, keeping the decompression context.\n *\n * On fail call [[Inflate#onEnd]] with error code and return false.\n *\n * We strongly recommend to use `Uint8Array` on input for best speed (output\n * format is detected automatically). Also, don't skip last param and always\n * use the same type in your code (boolean or number). That will improve JS speed.\n *\n * For regular `Array`-s make sure all elements are [0..255].\n *\n * ##### Example\n *\n * ```javascript\n * push(chunk, false); // push one of data chunks\n * ...\n * push(chunk, true);  // push last chunk\n * ```\n **/\nInflate.prototype.push = function (data, mode) {\n  var strm = this.strm;\n  var chunkSize = this.options.chunkSize;\n  var dictionary = this.options.dictionary;\n  var status, _mode;\n  var next_out_utf8, tail, utf8str;\n  var dict;\n\n  // Flag to properly process Z_BUF_ERROR on testing inflate call\n  // when we check that all output data was flushed.\n  var allowBufError = false;\n\n  if (this.ended) { return false; }\n  _mode = (mode === ~~mode) ? mode : ((mode === true) ? Z_FINISH$1 : Z_NO_FLUSH);\n\n  // Convert data if needed\n  if (typeof data === 'string') {\n    // Only binary strings can be decompressed on practice\n    strm.input = binstring2buf(data);\n  } else if (toString.call(data) === '[object ArrayBuffer]') {\n    strm.input = new Uint8Array(data);\n  } else {\n    strm.input = data;\n  }\n\n  strm.next_in = 0;\n  strm.avail_in = strm.input.length;\n\n  do {\n    if (strm.avail_out === 0) {\n      strm.output = new Uint8Array(chunkSize);\n      strm.next_out = 0;\n      strm.avail_out = chunkSize;\n    }\n\n    status = inflate(strm, Z_NO_FLUSH);    /* no bad return value */\n\n    if (status === Z_NEED_DICT$1 && dictionary) {\n      // Convert data if needed\n      if (typeof dictionary === 'string') {\n        dict = string2buf(dictionary);\n      } else if (toString.call(dictionary) === '[object ArrayBuffer]') {\n        dict = new Uint8Array(dictionary);\n      } else {\n        dict = dictionary;\n      }\n\n      status = inflateSetDictionary(this.strm, dict);\n\n    }\n\n    if (status === Z_BUF_ERROR$1 && allowBufError === true) {\n      status = Z_OK$1;\n      allowBufError = false;\n    }\n\n    if (status !== Z_STREAM_END$1 && status !== Z_OK$1) {\n      this.onEnd(status);\n      this.ended = true;\n      return false;\n    }\n\n    if (strm.next_out) {\n      if (strm.avail_out === 0 || status === Z_STREAM_END$1 || (strm.avail_in === 0 && (_mode === Z_FINISH$1 || _mode === Z_SYNC_FLUSH))) {\n\n        if (this.options.to === 'string') {\n\n          next_out_utf8 = utf8border(strm.output, strm.next_out);\n\n          tail = strm.next_out - next_out_utf8;\n          utf8str = buf2string(strm.output, next_out_utf8);\n\n          // move tail\n          strm.next_out = tail;\n          strm.avail_out = chunkSize - tail;\n          if (tail) { arraySet(strm.output, strm.output, next_out_utf8, tail, 0); }\n\n          this.onData(utf8str);\n\n        } else {\n          this.onData(shrinkBuf(strm.output, strm.next_out));\n        }\n      }\n    }\n\n    // When no more input data, we should check that internal inflate buffers\n    // are flushed. The only way to do it when avail_out = 0 - run one more\n    // inflate pass. But if output data not exists, inflate return Z_BUF_ERROR.\n    // Here we set flag to process this error properly.\n    //\n    // NOTE. Deflate does not return error in this case and does not needs such\n    // logic.\n    if (strm.avail_in === 0 && strm.avail_out === 0) {\n      allowBufError = true;\n    }\n\n  } while ((strm.avail_in > 0 || strm.avail_out === 0) && status !== Z_STREAM_END$1);\n\n  if (status === Z_STREAM_END$1) {\n    _mode = Z_FINISH$1;\n  }\n\n  // Finalize on the last chunk.\n  if (_mode === Z_FINISH$1) {\n    status = inflateEnd(this.strm);\n    this.onEnd(status);\n    this.ended = true;\n    return status === Z_OK$1;\n  }\n\n  // callback interim results if Z_SYNC_FLUSH.\n  if (_mode === Z_SYNC_FLUSH) {\n    this.onEnd(Z_OK$1);\n    strm.avail_out = 0;\n    return true;\n  }\n\n  return true;\n};\n\n\n/**\n * Inflate#onData(chunk) -> Void\n * - chunk (Uint8Array|Array|String): ouput data. Type of array depends\n *   on js engine support. When string output requested, each chunk\n *   will be string.\n *\n * By default, stores data blocks in `chunks[]` property and glue\n * those in `onEnd`. Override this handler, if you need another behaviour.\n **/\nInflate.prototype.onData = function (chunk) {\n  this.chunks.push(chunk);\n};\n\n\n/**\n * Inflate#onEnd(status) -> Void\n * - status (Number): inflate status. 0 (Z_OK) on success,\n *   other if not.\n *\n * Called either after you tell inflate that the input stream is\n * complete (Z_FINISH) or should be flushed (Z_SYNC_FLUSH)\n * or if an error happened. By default - join collected chunks,\n * free memory and fill `results` / `err` properties.\n **/\nInflate.prototype.onEnd = function (status) {\n  // On success - join\n  if (status === Z_OK$1) {\n    if (this.options.to === 'string') {\n      // Glue & convert here, until we teach pako to send\n      // utf8 alligned strings to onData\n      this.result = this.chunks.join('');\n    } else {\n      this.result = flattenChunks(this.chunks);\n    }\n  }\n  this.chunks = [];\n  this.err = status;\n  this.msg = this.strm.msg;\n};\n\n\n/**\n * inflate(data[, options]) -> Uint8Array|Array|String\n * - data (Uint8Array|Array|String): input data to decompress.\n * - options (Object): zlib inflate options.\n *\n * Decompress `data` with inflate/ungzip and `options`. Autodetect\n * format via wrapper header by default. That's why we don't provide\n * separate `ungzip` method.\n *\n * Supported options are:\n *\n * - windowBits\n *\n * [http://zlib.net/manual.html#Advanced](http://zlib.net/manual.html#Advanced)\n * for more information.\n *\n * Sugar (options):\n *\n * - `raw` (Boolean) - say that we work with raw stream, if you don't wish to specify\n *   negative windowBits implicitly.\n * - `to` (String) - if equal to 'string', then result will be converted\n *   from utf8 to utf16 (javascript) string. When string output requested,\n *   chunk length can differ from `chunkSize`, depending on content.\n *\n *\n * ##### Example:\n *\n * ```javascript\n * var pako = require('pako')\n *   , input = pako.deflate([1,2,3,4,5,6,7,8,9])\n *   , output;\n *\n * try {\n *   output = pako.inflate(input);\n * } catch (err)\n *   console.log(err);\n * }\n * ```\n **/\nfunction doInflate(input, options) {\n  var inflator = new Inflate(options);\n\n  inflator.push(input, true);\n\n  // That will never happens, if you don't cheat with options :)\n  if (inflator.err) { throw inflator.msg; }\n\n  return inflator.result;\n}\n\nexport { doInflate as ungzip };","/**\n * @file Gzip Decompressor\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { ungzip } from '../../lib/pako_inflate.es6';\nimport { DecompressorRegistry } from '../globals';\nfunction gzipDecompress(data) {\n    let decompressedData;\n    if (data instanceof ArrayBuffer) {\n        data = new Uint8Array(data);\n    }\n    try {\n        decompressedData = ungzip(data);\n    }\n    catch (e) {\n        decompressedData = data; // assume it is already uncompressed\n    }\n    return decompressedData;\n}\nDecompressorRegistry.add('gz', gzipDecompress);\n//# sourceMappingURL=gzip-decompressor.js.map","/**\n * @file Datasource\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\n/**\n * Datasource base class\n * @interface\n */\nclass Datasource {\n}\nexport default Datasource;\n//# sourceMappingURL=datasource.js.map","/**\n * @file RCSB Datasource\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Log, DatasourceRegistry } from '../globals';\nimport { getProtocol } from '../utils';\nimport { getFileInfo } from '../loader/loader-utils';\nimport Datasource from './datasource';\nconst baseUrl = '//files.rcsb.org/download/';\nconst mmtfBaseUrl = '//mmtf.rcsb.org/v1.0/';\nconst mmtfFullUrl = mmtfBaseUrl + 'full/';\nconst mmtfReducedUrl = mmtfBaseUrl + 'reduced/';\nclass RcsbDatasource extends Datasource {\n    getUrl(src) {\n        // valid path are\n        // XXXX.pdb, XXXX.pdb.gz, XXXX.cif, XXXX.cif.gz, XXXX.mmtf, XXXX.bb.mmtf\n        // XXXX defaults to XXXX.cif\n        const info = getFileInfo(src);\n        const pdbid = info.name.substr(0, 4);\n        let url;\n        if (['pdb', 'cif'].includes(info.ext) &&\n            (info.compressed === false || info.compressed === 'gz')) {\n            url = baseUrl + info.path;\n        }\n        else if (info.ext === 'mmtf') {\n            if (info.base.endsWith('.bb')) {\n                url = mmtfReducedUrl + pdbid;\n            }\n            else {\n                url = mmtfFullUrl + pdbid;\n            }\n        }\n        else if (!info.ext) {\n            url = mmtfFullUrl + pdbid;\n        }\n        else {\n            Log.warn('unsupported ext', info.ext);\n            url = mmtfFullUrl + pdbid;\n        }\n        return getProtocol() + url;\n    }\n    getExt(src) {\n        const ext = getFileInfo(src).ext;\n        return ext ? ext : 'mmtf';\n    }\n}\nDatasourceRegistry.add('rcsb', new RcsbDatasource());\nexport default RcsbDatasource;\n//# sourceMappingURL=rcsb-datasource.js.map","/**\n * @file PubChem Datasource\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { Log, DatasourceRegistry } from '../globals';\nimport { getProtocol } from '../utils';\nimport { getFileInfo } from '../loader/loader-utils';\nimport Datasource from './datasource';\nconst baseUrl = '//pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/';\nconst suffixUrl = '/SDF?record_type=3d';\nclass PubchemDatasource extends Datasource {\n    getUrl(src) {\n        const info = getFileInfo(src);\n        const cid = info.name;\n        let url;\n        if (!info.ext || info.ext === 'sdf') {\n            url = baseUrl + cid + suffixUrl;\n        }\n        else {\n            Log.warn('unsupported ext', info.ext);\n            url = baseUrl + cid + suffixUrl;\n        }\n        return getProtocol() + url;\n    }\n    getExt(src) {\n        const ext = getFileInfo(src).ext;\n        return ext ? ext : 'sdf';\n    }\n}\nDatasourceRegistry.add('pubchem', new PubchemDatasource());\nexport default PubchemDatasource;\n//# sourceMappingURL=pubchem-datasource.js.map","/**\n * @file Pass Through Datasource\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { DatasourceRegistry } from '../globals';\nimport { getFileInfo } from '../loader/loader-utils';\nimport Datasource from './datasource';\nclass PassThroughDatasource extends Datasource {\n    getUrl(path) {\n        return path;\n    }\n    getExt(path) {\n        return getFileInfo(path).ext;\n    }\n}\nDatasourceRegistry.add('ftp', new PassThroughDatasource());\nDatasourceRegistry.add('http', new PassThroughDatasource());\nDatasourceRegistry.add('https', new PassThroughDatasource());\nexport default PassThroughDatasource;\n//# sourceMappingURL=passthrough-datasource.js.map","/**\n * @file Static Datasource\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { getAbsolutePath } from '../utils';\nimport { getFileInfo } from '../loader/loader-utils';\nimport Datasource from './datasource';\nconst reProtocol = /^((http|https|ftp):)*\\/\\//;\nclass StaticDatasource extends Datasource {\n    constructor(baseUrl = '') {\n        super();\n        this.baseUrl = baseUrl;\n    }\n    getUrl(src) {\n        const info = getFileInfo(src);\n        let url = this.baseUrl + info.path;\n        if (!reProtocol.test(this.baseUrl)) {\n            url = getAbsolutePath(url);\n        }\n        return url;\n    }\n    getExt(src) {\n        return getFileInfo(src).ext;\n    }\n}\nexport default StaticDatasource;\n//# sourceMappingURL=static-datasource.js.map","/**\n * @file MDsrv Datasource\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @private\n */\nimport { autoLoad, getFileInfo } from '../loader/loader-utils';\nimport Datasource from './datasource';\nclass MdsrvDatasource extends Datasource {\n    constructor(baseUrl = '') {\n        super();\n        this.baseUrl = baseUrl;\n    }\n    getListing(path = '') {\n        let url = `${this.baseUrl}dir/${path}`;\n        if (url[url.length - 1] !== '/')\n            url += '/';\n        return autoLoad(url, {\n            ext: 'json'\n        }).then((jsonData) => ({\n            path: path,\n            data: jsonData.data\n        }));\n    }\n    getUrl(src) {\n        const info = getFileInfo(src);\n        return `${this.baseUrl}file/${info.path}${info.query}`;\n    }\n    getCountUrl(src) {\n        const info = getFileInfo(src);\n        return `${this.baseUrl}traj/numframes/${info.path}${info.query}`;\n    }\n    getFrameUrl(src, frameIndex) {\n        const info = getFileInfo(src);\n        return `${this.baseUrl}traj/frame/${frameIndex}/${info.path}${info.query}`;\n    }\n    getFrameParams(src, atomIndices) {\n        return `atomIndices=${atomIndices.join(';')}`;\n    }\n    getPathUrl(src, atomIndex) {\n        const info = getFileInfo(src);\n        return `${this.baseUrl}traj/path/${atomIndex}/${info.path}${info.query}`;\n    }\n    getExt(src) {\n        return getFileInfo(src).ext;\n    }\n}\nexport default MdsrvDatasource;\n//# sourceMappingURL=mdsrv-datasource.js.map","/**\n * @file UI Parameters\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { MouseActionPresets } from '../controls/mouse-actions';\nfunction BooleanParam() { return { type: 'boolean' }; }\nfunction ColorParam() { return { type: 'color' }; }\nfunction IntegerParam(max, min) {\n    return { type: 'integer', max, min };\n}\nfunction NumberParam(precision, max, min) {\n    return { type: 'number', precision, max, min };\n}\nfunction RangeParam(step, max, min) {\n    return { type: 'range', step, max, min };\n}\nfunction SelectParam(...options) {\n    return { type: 'select', options: options.reduce((o, k) => (Object.assign(Object.assign({}, o), { [k]: k })), {}) };\n}\nexport const UIStageParameters = {\n    backgroundColor: ColorParam(),\n    quality: SelectParam('auto', 'low', 'medium', 'high'),\n    sampleLevel: RangeParam(1, 5, -1),\n    impostor: BooleanParam(),\n    workerDefault: BooleanParam(),\n    rotateSpeed: NumberParam(1, 10, 0),\n    zoomSpeed: NumberParam(1, 10, 0),\n    panSpeed: NumberParam(1, 10, 0),\n    clipNear: RangeParam(1, 100, 0),\n    clipFar: RangeParam(1, 100, 0),\n    clipDist: IntegerParam(200, 0),\n    clipMode: SelectParam('scene', 'camera'),\n    clipScale: SelectParam('relative', 'absolute'),\n    fogNear: RangeParam(1, 100, 0),\n    fogFar: RangeParam(1, 100, 0),\n    cameraType: SelectParam('perspective', 'orthographic', 'stereo'),\n    cameraEyeSep: NumberParam(3, 1.0, 0.01),\n    cameraFov: RangeParam(1, 120, 15),\n    lightColor: ColorParam(),\n    lightIntensity: NumberParam(2, 10, 0),\n    ambientColor: ColorParam(),\n    ambientIntensity: NumberParam(2, 10, 0),\n    hoverTimeout: IntegerParam(10000, -1),\n    tooltip: BooleanParam(),\n    mousePreset: SelectParam(...Object.keys(MouseActionPresets))\n};\n//# sourceMappingURL=parameters.js.map","/**\n * @file Version\n * @private\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport * as data from '../package.json';\n/**\n * Version name\n * @type {String}\n */\nconst Version = data.version;\nexport default Version;\n//# sourceMappingURL=version.js.map","/**\n * @file ngl\n * @private\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport './polyfills';\nimport _Promise from 'promise-polyfill';\n/**\n * The NGL module. These members are available in the `NGL` namespace when using the {@link https://github.com/umdjs/umd|UMD} build in the `ngl.js` file.\n * @module NGL\n */\nexport { Debug, setDebug, MeasurementDefaultParams, setMeasurementDefaultParams, ScriptExtensions, ColormakerRegistry, DatasourceRegistry, DecompressorRegistry, ParserRegistry, RepresentationRegistry, setListingDatasource, setTrajectoryDatasource, ListingDatasource, TrajectoryDatasource } from './globals';\nexport { autoLoad, getDataInfo, getFileInfo } from './loader/loader-utils';\nimport Selection from './selection/selection';\nimport PdbWriter from './writer/pdb-writer';\nimport SdfWriter from './writer/sdf-writer';\nimport StlWriter from './writer/stl-writer';\nimport Stage from './stage/stage';\nimport Collection from './component/collection';\nimport ComponentCollection from './component/component-collection';\nimport Component from './component/component';\nimport ShapeComponent from './component/shape-component';\nimport StructureComponent from './component/structure-component';\nimport SurfaceComponent from './component/surface-component';\nimport VolumeComponent from './component/volume-component';\nimport RepresentationCollection from './component/representation-collection';\nimport Assembly from './symmetry/assembly';\nimport TrajectoryPlayer from './trajectory/trajectory-player';\nimport Superposition from './align/superposition';\nexport { superpose } from './align/align-utils';\nexport { guessElement, concatStructures } from './structure/structure-utils';\nexport { flatten, throttle, download, getQuery, uniqueArray } from './utils';\nimport Queue from './utils/queue';\nimport Counter from './utils/counter';\nimport Frames from './trajectory/frames';\n//\nimport Colormaker from './color/colormaker';\nimport './color/atomindex-colormaker';\nimport './color/bfactor-colormaker';\nimport './color/chainid-colormaker';\nimport './color/chainindex-colormaker';\nimport './color/chainname-colormaker';\nimport './color/densityfit-colormaker';\nimport './color/electrostatic-colormaker';\nimport './color/element-colormaker';\nimport './color/entityindex-colormaker';\nimport './color/entitytype-colormaker';\nimport './color/geoquality-colormaker';\nimport './color/hydrophobicity-colormaker';\nimport './color/modelindex-colormaker';\nimport './color/moleculetype-colormaker';\nimport './color/occupancy-colormaker';\nimport './color/partialcharge-colormaker';\nimport './color/random-colormaker';\nimport './color/randomcoilindex-colormaker';\nimport './color/residueindex-colormaker';\nimport './color/resname-colormaker';\nimport './color/sstruc-colormaker';\nimport './color/uniform-colormaker';\nimport './color/value-colormaker';\nimport './color/volume-colormaker';\n//\nimport './component/shape-component';\nimport './component/structure-component';\nimport './component/surface-component';\nimport './component/volume-component';\n//\nimport './representation/angle-representation';\nimport './representation/axes-representation';\nimport './representation/backbone-representation';\nimport './representation/ballandstick-representation';\nimport './representation/base-representation';\nimport './representation/cartoon-representation';\nimport './representation/contact-representation';\nimport './representation/dihedral-representation';\nimport './representation/dihedral-histogram-representation';\nimport './representation/distance-representation';\nimport './representation/helixorient-representation';\nimport './representation/hyperball-representation';\nimport './representation/label-representation';\nimport './representation/licorice-representation';\nimport './representation/line-representation';\nimport './representation/molecularsurface-representation';\nimport './representation/point-representation';\nimport './representation/ribbon-representation';\nimport './representation/rocket-representation';\nimport './representation/rope-representation';\nimport './representation/spacefill-representation';\nimport './representation/trace-representation';\nimport './representation/tube-representation';\nimport './representation/unitcell-representation';\nimport './representation/validation-representation';\nimport BufferRepresentation from './representation/buffer-representation';\nimport ArrowBuffer from './buffer/arrow-buffer';\nimport BoxBuffer from './buffer/box-buffer';\nimport ConeBuffer from './buffer/cone-buffer';\nimport CylinderBuffer from './buffer/cylinder-buffer';\nimport EllipsoidBuffer from './buffer/ellipsoid-buffer';\nimport MeshBuffer from './buffer/mesh-buffer';\nimport OctahedronBuffer from './buffer/octahedron-buffer';\nimport PointBuffer from './buffer/point-buffer';\nimport SphereBuffer from './buffer/sphere-buffer';\nimport TetrahedronBuffer from './buffer/tetrahedron-buffer';\nimport TextBuffer from './buffer/text-buffer';\nimport TorusBuffer from './buffer/torus-buffer';\nimport WidelineBuffer from './buffer/wideline-buffer';\n//\nimport './parser/cif-parser';\nimport './parser/gro-parser';\nimport './parser/mmtf-parser';\nimport './parser/mol2-parser';\nimport './parser/pdb-parser';\nimport './parser/pdbqt-parser';\nimport './parser/pqr-parser';\nimport './parser/sdf-parser';\nimport './parser/prmtop-parser';\nimport './parser/psf-parser';\nimport './parser/top-parser';\nimport './parser/dcd-parser';\nimport './parser/nctraj-parser';\nimport './parser/trr-parser';\nimport './parser/xtc-parser';\nimport './parser/cube-parser';\nimport './parser/dsn6-parser';\nimport './parser/dx-parser';\nimport './parser/dxbin-parser';\nimport './parser/mrc-parser';\nimport './parser/xplor-parser';\nimport './parser/kin-parser';\nimport './parser/obj-parser';\nimport './parser/ply-parser';\nimport './parser/csv-parser';\nimport './parser/json-parser';\nimport './parser/msgpack-parser';\nimport './parser/netcdf-parser';\nimport './parser/text-parser';\nimport './parser/xml-parser';\nimport './parser/validation-parser';\n//\nimport Shape from './geometry/shape';\nimport Kdtree from './geometry/kdtree';\nimport SpatialHash from './geometry/spatial-hash';\nimport Structure from './structure/structure';\nimport MolecularSurface from './surface/molecular-surface';\nimport Volume from './surface/volume';\n//\nimport './utils/gzip-decompressor';\n//\nimport './datasource/rcsb-datasource';\nimport './datasource/pubchem-datasource';\nimport './datasource/passthrough-datasource';\nimport StaticDatasource from './datasource/static-datasource';\nimport MdsrvDatasource from './datasource/mdsrv-datasource';\n//\nexport { LeftMouseButton, MiddleMouseButton, RightMouseButton } from './constants';\nimport MouseActions from './controls/mouse-actions';\nimport KeyActions from './controls/key-actions';\nimport PickingProxy from './controls/picking-proxy';\n//\nexport { Signal } from 'signals';\nexport { Matrix3, Matrix4, Vector2, Vector3, Box3, Quaternion, Euler, Plane, Color } from 'three';\n//\nexport { UIStageParameters } from './ui/parameters';\n//\nimport Version from './version';\nif (!window.Promise) {\n    window.Promise = _Promise;\n}\nexport { Version, StaticDatasource, MdsrvDatasource, Colormaker, Selection, PdbWriter, SdfWriter, StlWriter, Stage, Collection, ComponentCollection, RepresentationCollection, Component, ShapeComponent, StructureComponent, SurfaceComponent, VolumeComponent, Assembly, TrajectoryPlayer, Superposition, Frames, Queue, Counter, BufferRepresentation, ArrowBuffer, BoxBuffer, ConeBuffer, CylinderBuffer, EllipsoidBuffer, MeshBuffer, OctahedronBuffer, PointBuffer, SphereBuffer, TetrahedronBuffer, TextBuffer, TorusBuffer, WidelineBuffer, Shape, Structure, Kdtree, SpatialHash, MolecularSurface, Volume, MouseActions, KeyActions, PickingProxy };\n//# sourceMappingURL=ngl.js.map"],"names":["arguments","const","let","chroma\n        .scale","test","prototypeAccessors","super","ColormakerRegistry","this","WorkerRegistry","_WorkerRegistry","_ColormakerRegistry","ParserRegistry","_ParserRegistry","signalsWrapper.Signal","i","c","angle","b","dx","dy","tmpRotateMatrix","tmpRotateVector","distance","prototypeAccessors$1","Worker","k3","tmpVec","size","n","k","state","invalidAtomContact","offset","outOfPlane","tmpColor","j","swap","scale","a","wireframeIndex","tmpRotateQuaternion","tmpMatrix","Kdtree","_Kdtree","index","ai3","t","getHash","matrix","iy","ix","iz","idx","val","d","name","atomSet","y","x","q","getData","mapping","mappingIndices","MappedAlignedBoxBuffer","s","quadIndices","getSize","eye","target","up","getGeo","resname","chainname","inscode","resno","reWhitespace","ensureArray","ls","dates","depDates","r","reTrimQuotes","listMasters","listColor","listName","label","color","position","groupName","groupMasters","key","groupFlags","sele","jl","il","g","ga","clashes","atomDict","ca","ungzip","baseUrl","data.version"],"mappings":"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AE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG;CACzqC,CAAC;AACF,AAAOA,IAAM,mBAAmB,GAAG,CAAC,CAAC;AACrC,AAKA;AACA,AAAOA,IAAM,QAAQ,GAAG;IACpB,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG;CAC7mC,CAAC;AACF,AAAOA,IAAM,gBAAgB,GAAG,GAAG,CAAC;AACpC,AA8tBA;AACA,AAAOA,IAAM,aAAa,GAAG;IACzB,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG;CAChoC,CAAC;AACF,AAAOA,IAAM,qBAAqB,GAAG,GAAG,CAAC;AACzC,AAAOA,IAAM,QAAQ,GAAG;IACpB,CAAC,EAAE,CAAC,CAAC,CAAC;IACN,CAAC,EAAE,CAAC,CAAC,CAAC;IACN,CAAC,EAAE,CAAC,CAAC,CAAC;IACN,CAAC,EAAE,CAAC,CAAC,CAAC;IACN,CAAC,EAAE,CAAC,CAAC,CAAC;IACN,CAAC,EAAE,CAAC,CAAC,CAAC;IACN,CAAC,EAAE,CAAC,CAAC,CAAC;IACN,CAAC,EAAE,CAAC,CAAC,CAAC;IACN,CAAC,EAAE,CAAC,CAAC,CAAC;IACN,EAAE,EAAE,CAAC,CAAC,CAAC;IACP,EAAE,EAAE,CAAC,CAAC,CAAC;IACP,EAAE,EAAE,CAAC,CAAC,CAAC;IACP,EAAE,EAAE,CAAC,CAAC,CAAC;IACP,EAAE,EAAE,CAAC,CAAC,CAAC;IACP,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACb,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACb,EAAE,EAAE,CAAC,CAAC,CAAC;IACP,EAAE,EAAE,CAAC,CAAC,CAAC;IACP,EAAE,EAAE,CAAC,CAAC,CAAC;IACP,EAAE,EAAE,CAAC,CAAC,CAAC;IACP,EAAE,EAAE,CAAC,CAAC,CAAC;IACP,EAAE,EAAE,CAAC,CAAC,CAAC;IACP,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;IACV,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACb,EAAE,EAAE,CAAC,CAAC,CAAC;IACP,EAAE,EAAE,CAAC,CAAC,CAAC;IACP,EAAE,EAAE,CAAC,CAAC,CAAC;IACP,EAAE,EAAE,CAAC,CAAC,CAAC;IACP,EAAE,EAAE,CAAC,CAAC,CAAC;IACP,EAAE,EAAE,CAAC,CAAC,CAAC;IACP,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;IACV,EAAE,EAAE,CAAC,CAAC,CAAC;IACP,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACb,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;IACV,EAAE,EAAE,CAAC,CAAC,CAAC;IACP,EAAE,EAAE,CAAC,CAAC,CAAC;IACP,EAAE,EAAE,CAAC,CAAC,CAAC;IACP,EAAE,EAAE,CAAC,CAAC,CAAC;IACP,EAAE,EAAE,CAAC,CAAC,CAAC;IACP,EAAE,EAAE,CAAC,CAAC,CAAC;IACP,EAAE,EAAE,CAAC,CAAC,CAAC;IACP,EAAE,EAAE,CAAC,CAAC,CAAC;IACP,EAAE,EAAE,CAAC,CAAC,CAAC;IACP,EAAE,EAAE,CAAC,CAAC,CAAC;CACV,CAAC;AACF,AAAOA,IAAM,cAAc,GAAG,CAAC,CAAC,CAAC;AACjC,AAAOA,IAAM,wBAAwB,GAAG;IACpC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,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E,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI;IAC5E,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IACzE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI;IACzE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK;IAC7E,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK;IAC7E,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI;IAC9E,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI;IAC3E,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;;IAE3D,KAAK;CACR,CAAC;;;;;;;;;;AAUF,AAAOA,IAAM,eAAe,GAAG;IAC3B,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IACpE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAC3E,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAA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AAE,KAAK;QACtD,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;QACrD,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;QACtD,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;QACrD,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;QACtD,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;QACrD,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;QACtD,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK;QACrD,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;QACtD,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK;QACrD,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;QACtD,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI;QACrD,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;QACtD,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;QACtD,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;QACrD,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;QACtD,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;QACrD,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;QACtD,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;QACrD,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;QACtD,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;QACrD,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;QACtD,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;QACrD,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;QACtD,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK;QACrD,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;QACtD,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK;QACrD,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;QACtD,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG;KACvD,CAAC,CAAC;CACN;AACD,SAAS,WAAW,GAAG;IACnB,OAAO,IAAI,UAAU,CAAC;QAClB,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC9D,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC3D,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC3D,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC5D,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACzD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACzD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACvD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC5D,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC1D,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACzD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC3D,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACzD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC3D,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC3D,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACzD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACnD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACzD,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACvD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACzD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC3D,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACzD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACnD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACzD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACvD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACnD,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACnD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACnD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACnD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACnD,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACvD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC;QACnD,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACnD,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC3D,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC5D,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACzD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACzD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAClD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC1D,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACvD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACnD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACvD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACzD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACnD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAClD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAClD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QAC/C,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACvD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACpD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACpD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC;QACnD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACpD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;QACpD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QAChD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACpD,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC1D,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACvD,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACvD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACnD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAClD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACpD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC;QAClD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACnD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACjD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACzD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACpD,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACvD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAClD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QAC/C,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC;QAClD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;QAClD,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QAChD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACzD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACpD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC5D,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC5D,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACzD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACzD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC1D,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACvD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACvD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAClD,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACvD,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACpD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACzD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACnD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACvD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QAClD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAClD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACnD,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACvD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACjD,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC1D,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACzD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACnD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACvD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACpD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACjD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAClD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAClD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QAC/C,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACnD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QAChD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;QACpD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACvD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACnD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;QAClD,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QAClD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAClD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QAC/C,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QAChD,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACpD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACzD,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC5D,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC3D,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACvD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACnD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACnD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QAChD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACnD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACpD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QAChD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACnD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACnD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;QACpD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACjD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACzD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACnD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACjD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACnD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAClD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC3D,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACzD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC;QACnD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QAClD,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACvD,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACpD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACnD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACjD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;QACpD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACzD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAClD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC3D,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC3D,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACzD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC3D,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACpD,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC1D,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC5D,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACvD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACzD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACpD,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC5D,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACxD,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC3D,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC3D,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,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,CAAC,EAAE;IACjCA,IAAM,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC;IAClBA,IAAM,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC;IAClBA,IAAM,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC;IAClBA,IAAM,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IAClBA,IAAM,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IAClBA,IAAM,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IAClBA,IAAM,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IAClBA,IAAM,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IAClBA,IAAM,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IAClBA,IAAM,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IAClBA,IAAM,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IAClBA,IAAM,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IAClBA,IAAM,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IAClBA,IAAM,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IAClBA,IAAM,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IAClBA,IAAM,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IAClBA,IAAM,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IAClBA,IAAM,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IAClBA,IAAM,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IAClBA,IAAM,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IAClBA,IAAM,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IAClB,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;IAC1C,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;IAC1C,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;IAC1C,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;IAC1C,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;IAC1C,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;IAC1C,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;IAC1C,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;IAC1C,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;CAC7C;AACD,AAAO,SAAS,QAAQ,CAAC,CAAC,EAAE;IACxBA,IAAM,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC;IACrBA,IAAM,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC;IACrBA,IAAM,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC;IAClBA,IAAM,IAAI,GAAG,IAAI,KAAK,CAAC,KAAK,CAAC,CAAC;IAC9B,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,EAAE,CAAC,EAAE;QAC5B,IAAI,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;KACjB;IACD,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,EAAE,CAAC,EAAE;QACnC,KAAKA,IAAIkC,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAG,KAAK,EAAE,EAAEA,GAAC,EAAE,EAAE,CAAC,EAAE;YACjC,IAAI,CAACA,GAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;SACpB;KACJ;IACD,KAAKlC,IAAIkC,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAG,KAAK,EAAE,EAAEA,GAAC,EAAE;QAC5B,IAAI,CAACA,GAAC,CAAC,IAAI,KAAK,CAAC;KACpB;IACD,OAAO,IAAI,CAAC;CACf;AACD,AAkBO,SAAS,OAAO,CAAC,CAAC,EAAE,GAAG,EAAE;IAC5BnC,IAAM,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC;IACrBA,IAAM,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC;IACrBA,IAAM,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC;IAClB,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,EAAE,CAAC,EAAE;QACnC,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE;YACjC,EAAE,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC;SACnB;KACJ;CACJ;AACD,AA8BO,SAASmC,MAAI,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE;IAC/B,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IACV,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IACd,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;CACb;AACD,AAAO,SAAS,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE;IACxB,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAChB,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAChB,IAAI,CAAC,GAAG,CAAC,EAAE;QACP,CAAC,IAAI,CAAC,CAAC;QACP,OAAO,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;KACrC;IACD,IAAI,CAAC,GAAG,CAAC,EAAE;QACP,CAAC,IAAI,CAAC,CAAC;QACP,OAAO,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;KACrC;IACD,OAAO,GAAG,CAAC;CACd;AACDpC,IAAM,OAAO,GAAG,kBAAkB,CAAC;AACnCA,IAAM,OAAO,GAAG,KAAK,CAAC;AACtB,AAAO,SAAS,aAAa,CAAC,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE;IAC9DA,IAAM,GAAG,GAAG,OAAO,GAAG,GAAG,CAAC;IAC1BA,IAAM,MAAM,GAAG,OAAO,CAAC;IACvBC,IAAI,CAAC,GAAG,CAAC,CAAC;IACVA,IAAI,CAAC,GAAG,CAAC,CAAC;IACVA,IAAI,CAAC,GAAG,CAAC,CAAC;IACVA,IAAI,IAAI,GAAG,CAAC,CAAC;IACbD,IAAM,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;IAChCC,IAAI,EAAE,GAAG,CAAC,CAAC;IACXA,IAAI,EAAE,GAAG,CAAC,CAAC;IACXA,IAAI,EAAE,GAAG,CAAC,CAAC;IACXA,IAAI,EAAE,GAAG,CAAC,CAAC;IACXA,IAAI,OAAO,GAAG,CAAC,CAAC;IAChBA,IAAI,CAAC,GAAG,GAAG,CAAC;IACZA,IAAI,CAAC,GAAG,GAAG,CAAC;IACZA,IAAI,CAAC,GAAG,GAAG,CAAC;IACZA,IAAI,EAAE,GAAG,GAAG,CAAC;IACbA,IAAI,EAAE,GAAG,GAAG,CAAC;IACbA,IAAI,EAAE,GAAG,GAAG,CAAC;IACbA,IAAI,IAAI,GAAG,GAAG,CAAC;IACfA,IAAI,KAAK,GAAG,GAAG,CAAC;IAChBA,IAAI,KAAK,GAAG,GAAG,CAAC;IAChBA,IAAI,CAAC,GAAG,GAAG,CAAC;IACZA,IAAI,CAAC,GAAG,GAAG,CAAC;IACZA,IAAI,CAAC,GAAG,GAAG,CAAC;IACZA,IAAI,IAAI,GAAG,MAAM,CAAC;IAClBA,IAAI,GAAG,GAAG,GAAG,CAAC;IACdA,IAAI,IAAI,GAAG,GAAG,CAAC;IACfA,IAAI,IAAI,GAAG,GAAG,CAAC;IACfD,IAAM,CAAC,GAAG,IAAI,YAAY,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;IACnC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;QACf,KAAK,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;YAC5B,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC,CAAC;YACtB,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;SACf;QACD,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;QACV,IAAI,EAAE,EAAE;YACJ,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBACpB,EAAE,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;aACzB;YACD,EAAE,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;SACzB;KACJ;IACD,OAAO,IAAI,GAAG,OAAO,EAAE,IAAI,EAAE,EAAE;QAC3B,OAAO,GAAG,CAAC,CAAC;QACZ,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;YACxB,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBACxB,EAAE,GAAG,CAAC,CAAC,GAAG,KAAK,IAAI,CAAC,CAAC;gBACrB,EAAE,GAAG,CAAC,CAAC,GAAG,KAAK,IAAI,CAAC,CAAC;gBACrB,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBACT,CAAC,GAAG,CAAC,CAAC;gBACN,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBACT,CAAC,GAAG,CAAC,CAAC;gBACN,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;gBACrB,CAAC,IAAI,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;gBAC7B,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;oBACf,CAAC,IAAI,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;iBAChC;gBACD,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;sBACrC,WAAS;gBACb,CAAC,IAAI,GAAG,CAAC;gBACT,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC;gBACb,KAAK,GAAG,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;gBACvB,IAAI,IAAI,GAAG,CAAC,EAAE;oBACV,KAAK,GAAG,CAAC,KAAK,GAAG,IAAI,IAAI,GAAG,CAAC;oBAC7B,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC;oBAC7B,CAAC,IAAI,CAAC,IAAI,KAAK,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;iBAC/B;qBACI;oBACD,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,IAAI,KAAK,KAAK,GAAG,GAAG,CAAC,CAAC,CAAC;oBAC9C,CAAC,IAAI,CAAC,IAAI,KAAK,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;iBAC/B;gBACD,CAAC,GAAG,GAAG,CAAC;gBACR,CAAC,GAAG,GAAG,CAAC;gBACR,CAAC,GAAG,CAAC,CAAC;gBACN,EAAE,GAAG,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;gBAC7B,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;gBAC9B,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC;gBACZ,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC;gBACZ,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC;gBACb,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC;gBACb,EAAE,GAAG,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;gBACrC,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;gBACtC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;gBAChB,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;gBAChB,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC;gBACb,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC;gBACb,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;oBACf,EAAE,GAAG,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;oBACrC,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;oBACtC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;oBAChB,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;oBAChB,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC;oBACb,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC;iBAChB;gBACD,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;gBACT,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;gBACT,OAAO,GAAG,CAAC,CAAC;gBACZ,IAAI,EAAE,EAAE;oBACJ,EAAE,GAAG,CAAC,CAAC,GAAG,KAAK,IAAI,CAAC,CAAC;oBACrB,EAAE,GAAG,CAAC,CAAC,GAAG,KAAK,IAAI,CAAC,CAAC;oBACrB,CAAC,GAAG,CAAC,CAAC;oBACN,EAAE,GAAG,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;oBAC7B,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;oBAC9B,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC;oBACZ,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC;oBACZ,EAAE,GAAG,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;oBACrC,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;oBACtC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;oBAChB,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;oBAChB,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;wBACf,EAAE,GAAG,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;wBACrC,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;wBACtC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;wBAChB,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;qBACnB;iBACJ;aACJ;SACJ;QACD,IAAI,OAAO,KAAK,CAAC;cACb,QAAM;KACb;IACD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;QACpB,KAAK,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;YAC5B,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC,CAAC;YACtB,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;SACf;QACD,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;KACxB;IACD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;QACxB,CAAC,GAAG,CAAC,CAAC;QACN,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;YACxB,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE;gBACb,CAAC,GAAG,CAAC,CAAC;aACT;SACJ;QACD,IAAI,CAAC,KAAK,CAAC,EAAE;YACToC,MAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;YAClB,IAAI,EAAE,EAAE;gBACJ,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;oBACpBA,MAAI,CAAC,EAAE,EAAE,CAAC,GAAG,KAAK,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;iBAC7C;gBACD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;oBACpBA,MAAI,CAAC,EAAE,EAAE,CAAC,GAAG,KAAK,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;iBAC7C;aACJ;SACJ;KACJ;IACD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;QACpB,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;KAChB;IACD,IAAI,CAAC,EAAE,EAAE;QACL,OAAO;KACV;IACD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE;QACrB,EAAE,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QACtB,OAAO,EAAE,IAAI,MAAM,EAAE;;;;YAIjB,IAAI,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC;YACjB,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBACpB,IAAI,IAAI,IAAI,GAAG,MAAM,GAAG,OAAO,CAAC,CAAC;gBACjC,GAAG,GAAG,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE,IAAI,MAAM,IAAI,GAAG,MAAM,CAAC,GAAG,IAAI,GAAG,CAAC,IAAI,CAAC;gBAC3D,EAAE,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;aAC3B;YACD,KAAK,IAAI,GAAG,CAAC,EAAE,IAAI,GAAG,CAAC,EAAE,IAAI,EAAE,EAAE;gBAC7B,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;oBACpB,EAAE,GAAG,CAAC,CAAC;oBACP,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;wBACpB,EAAE,IAAI,EAAE,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC,CAAC;qBAC/C;oBACD,IAAI,GAAG,GAAG,CAAC;oBACX,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;wBACpB,CAAC,IAAI,EAAE,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC;wBACjD,EAAE,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;wBACtB,IAAI,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;qBACvB;oBACD,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,CAAC,CAAC;oBAC7B,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;wBACpB,EAAE,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC;qBAC7B;iBACJ;aACJ;YACD,EAAE,GAAG,CAAC,CAAC;YACP,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBACpB,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC,CAAC;gBACtB,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;aACf;YACD,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;SACtB;QACD,CAAC,IAAI,GAAG,GAAG,EAAE,CAAC,CAAC;QACf,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;YACpB,EAAE,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;SAC1B;KACJ;CACJ;AACD,AAAO,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;IAC5BnC,IAAI,EAAE,GAAG,CAAC,CAAC;IACXA,IAAI,CAAC,GAAG,CAAC,CAAC;IACVD,IAAM,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC;IAClBA,IAAM,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC;IAClBC,IAAI,CAAC,GAAG,EAAE,CAAC;IACXA,IAAI,CAAC,GAAG,EAAE,CAAC;IACX,IAAI,CAAC,GAAG,CAAC,EAAE;QACP,EAAE,GAAG,CAAC,CAAC;QACP,CAAC,GAAG,CAAC,CAAC;QACN,CAAC,GAAG,CAAC,CAAC;QACN,CAAC,GAAG,CAAC,CAAC;KACT;IACDD,IAAM,GAAG,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC7BA,IAAM,GAAG,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC7BA,IAAM,GAAG,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC7B,IAAI,EAAE,KAAK,CAAC,EAAE;QACV,SAAS,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;KACrB;SACI;QACD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE;YAC1B,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;SAC3B;QACD,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;YACnB,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;SACnB;KACJ;IACD,aAAa,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,EAAE,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3D,IAAI,CAAC,EAAE;QACH,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;YACpB,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;SAC3B;QACD,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE;YAChB,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;SACjB;KACJ;IACD,IAAI,EAAE,KAAK,CAAC,EAAE;QACV,IAAI,CAAC;cACD,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,GAAC;QACtB,IAAI,CAAC;cACD,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,GAAC;KACzB;SACI;QACD,IAAI,CAAC;cACD,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,GAAC;QACtB,IAAI,CAAC;cACD,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,GAAC;KACzB;CACJ;;AAED,AAAO,SAAS,KAAK,GAAG;IACpB,OAAO,IAAI,YAAY,CAAC;QACpB,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;QACV,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;QACV,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;QACV,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;KACb,CAAC,CAAC;CACN;AACD,AAAO,SAAS,KAAK,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;IACvG,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;IACb,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;IACb,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;IACb,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC;IACd,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;IACb,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;IACb,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;IACb,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC;IACd,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;IACb,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;IACb,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC;IACd,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC;IACd,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;IACb,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;IACb,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC;IACd,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC;CACjB;AACD,AAIO,SAAS,UAAU,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE;IAClCA,IAAM,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACjBA,IAAM,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACjBA,IAAM,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACjBA,IAAM,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAClBA,IAAM,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACjBA,IAAM,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACjBA,IAAM,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACjBA,IAAM,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAClBA,IAAM,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACjBA,IAAM,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACjBA,IAAM,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAClBA,IAAM,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAClBA,IAAM,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACjBA,IAAM,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACjBA,IAAM,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAClBA,IAAM,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAClBA,IAAM,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACjBA,IAAM,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACjBA,IAAM,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACjBA,IAAM,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAClBA,IAAM,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACjBA,IAAM,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACjBA,IAAM,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACjBA,IAAM,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAClBA,IAAM,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACjBA,IAAM,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACjBA,IAAM,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAClBA,IAAM,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAClBA,IAAM,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACjBA,IAAM,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACjBA,IAAM,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAClBA,IAAM,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAClB,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;IACvD,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;IACvD,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;IACvD,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;IACxD,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;IACvD,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;IACvD,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;IACvD,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;IACxD,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;IACvD,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;IACvD,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;IACxD,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;IACxD,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;IACvD,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;IACvD,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;IACxD,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;CAC3D;AACD,AAAO,SAAS,WAAW,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;IACtC,KAAK,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CAC9D;AACD,WAAW,CAAC,MAAM,GAAG,CAAC,KAAK,CAAC,CAAC;AAC7B,AAAO,SAAS,iBAAiB,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;IAC5C,KAAK,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CAC9D;AACD,iBAAiB,CAAC,MAAM,GAAG,CAAC,KAAK,CAAC,CAAC;AACnC,AAAO,SAAS,eAAe,CAAC,GAAG,EAAE,KAAK,EAAE;IACxCA,IAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IAC1BA,IAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IAC1B,KAAK,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CAC/D;AACD,eAAe,CAAC,MAAM,GAAG,CAAC,KAAK,CAAC,CAAC;;AAEjC,AAAO,SAAS,KAAK,GAAG;IACpB,OAAO,IAAI,YAAY,CAAC;QACpB,CAAC,EAAE,CAAC,EAAE,CAAC;QACP,CAAC,EAAE,CAAC,EAAE,CAAC;QACP,CAAC,EAAE,CAAC,EAAE,CAAC;KACV,CAAC,CAAC;CACN;AACD,AAAO,SAAS,YAAY,CAAC,GAAG,EAAE,EAAE,EAAE;IAClCA,IAAM,EAAE,GAAG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACxCA,IAAM,EAAE,GAAG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACxCA,IAAM,EAAE,GAAG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACzCA,IAAM,EAAE,GAAG,KAAK,EAAE,CAAC;;;;IAInB,OAAO,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;IACpB,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IACf,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IACf,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IACf,OAAO,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;IACpB,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IACf,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IACf,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IACf,OAAO,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;IACpB,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IACf,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IACf,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;CAClB;AACD,YAAY,CAAC,MAAM,GAAG,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;;ACjpBvC;;;;;AAKA,AAGA,SAAS,eAAe,CAAC,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE;;;;;;;;;;;;IAYrD,OAAO,GAAG,OAAO,IAAI,CAAC,CAAC;IACvB,OAAO,GAAG,OAAO,IAAI,IAAI,CAAC;IAC1BA,IAAM,EAAE,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;IAC5BA,IAAM,EAAE,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;IAC5BC,IAAI,KAAK,GAAG,SAAS,CAAC;IACtB,IAAI,OAAO,EAAE;QACT,KAAK,GAAG,IAAI,YAAY,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;KACpC;IACDD,IAAM,GAAG,GAAG,IAAI,YAAY,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;IACrCC,IAAI,CAAC,CAAC;IACND,IAAM,IAAI,GAAG,EAAE,CAAC;IAChBA,IAAM,OAAO,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,CAAC;IAChC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE,EAAE,CAAC,EAAE;QACvB,OAAO,CAAC,CAAC,CAAC,GAAG,IAAI,WAAW,CAAC,EAAE,CAAC,CAAC;KACpC;IACD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;QACrB,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;KACrB;IACDC,IAAI,CAAC,EAAE,EAAE,CAAC;IACVA,IAAI,QAAQ,CAAC;;IAEb,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;QACrB,IAAI,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;QACf,IAAI,EAAE,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACnB,IAAI,EAAE,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;;QAEnB,QAAQ,GAAG,IAAI,CAAC;QAChB,KAAK,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;YACjD,IAAI,KAAK,CAAC,EAAE,CAAC,KAAK,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE;gBACzC,QAAQ,GAAG,KAAK,CAAC;gBACjB,MAAM;aACT;SACJ;QACD,IAAI,QAAQ,EAAE;YACV,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;YACxB,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC;SACzD;QACD,QAAQ,GAAG,IAAI,CAAC;QAChB,KAAK,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;YACjD,IAAI,KAAK,CAAC,EAAE,CAAC,KAAK,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE;gBACzC,QAAQ,GAAG,KAAK,CAAC;gBACjB,MAAM;aACT;SACJ;QACD,IAAI,QAAQ,EAAE;YACV,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;YACxB,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC;SACzD;;QAED,QAAQ,GAAG,IAAI,CAAC;QAChB,KAAK,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;YACjD,IAAI,KAAK,CAAC,EAAE,CAAC,KAAK,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE;gBACzC,QAAQ,GAAG,KAAK,CAAC;gBACjB,MAAM;aACT;SACJ;QACD,IAAI,QAAQ,EAAE;YACV,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;YACxB,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC;SACzD;QACD,QAAQ,GAAG,IAAI,CAAC;QAChB,KAAK,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;YACjD,IAAI,KAAK,CAAC,EAAE,CAAC,KAAK,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE;gBACzC,QAAQ,GAAG,KAAK,CAAC;gBACjB,MAAM;aACT;SACJ;QACD,IAAI,QAAQ,EAAE;YACV,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;YACxB,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC;SACzD;;QAED,QAAQ,GAAG,IAAI,CAAC;QAChB,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;YACxC,IAAI,KAAK,CAAC,EAAE,CAAC,KAAK,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE;gBACzC,QAAQ,GAAG,KAAK,CAAC;gBACjB,MAAM;aACT;SACJ;QACD,IAAI,QAAQ,EAAE;YACV,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;YACxB,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC;SACzD;QACD,QAAQ,GAAG,IAAI,CAAC;QAChB,KAAK,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;YACjD,IAAI,KAAK,CAAC,EAAE,CAAC,KAAK,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE;gBACzC,QAAQ,GAAG,KAAK,CAAC;gBACjB,MAAM;aACT;SACJ;QACD,IAAI,QAAQ,EAAE;YACV,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;YACxB,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC;SACzD;KACJ;IACD,IAAI,EAAE,GAAG,GAAG,CAAC;IACb,IAAI,GAAG,GAAG,GAAG,CAAC;IACd,IAAI,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,KAAK,CAAC;IAC9B,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC;IACf,IAAI,WAAW,GAAG,CAAC,CAAC;IACpB,IAAI,KAAK,GAAG,IAAI,IAAI,WAAW,GAAG,GAAG,CAAC,CAAC;;IAEvC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,EAAE,EAAE,CAAC,EAAE;;QAE9B,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;YACrB,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;YACX,GAAG,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACpB,IAAI,GAAG,GAAG,CAAC,EAAE;gBACT,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC;gBACpB,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;gBAC5B,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;aAC/B;iBACI,IAAI,GAAG,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,EAAE;gBAC7B,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;gBACZ,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;gBAChB,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;gBAChB,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,EAAE,CAAC,EAAE;oBACtB,GAAG,GAAG,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;oBAC5B,GAAG,CAAC,EAAE,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC;oBACtB,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,IAAI,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;oBAC9B,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,IAAI,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;iBACjC;gBACD,GAAG,CAAC,EAAE,CAAC,IAAI,GAAG,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC;gBAC3B,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,IAAI,GAAG,GAAG,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;gBACnC,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,IAAI,GAAG,GAAG,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;gBACnC,KAAK,GAAG,GAAG,GAAG,GAAG,CAAC;gBAClB,GAAG,CAAC,EAAE,CAAC,IAAI,KAAK,CAAC;gBACjB,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,IAAI,KAAK,CAAC;gBACrB,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,IAAI,KAAK,CAAC;aACxB;iBACI;gBACD,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;gBACZ,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;gBAChB,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;gBAChB,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,EAAE,CAAC,EAAE;oBACtB,GAAG,GAAG,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;oBAC5B,GAAG,CAAC,EAAE,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC;oBACtB,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,IAAI,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;oBAC9B,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,IAAI,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;iBACjC;gBACD,GAAG,CAAC,EAAE,CAAC,IAAI,EAAE,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC;gBAC1B,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,IAAI,EAAE,GAAG,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;gBAClC,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,IAAI,EAAE,GAAG,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;gBAClC,IAAI,GAAG,EAAE,GAAG,GAAG,CAAC;gBAChB,GAAG,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC;gBAChB,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC;gBACpB,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC;aACvB;SACJ;QACD,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACf,IAAI,OAAO,EAAE;YACT,oBAAoB,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;YAC1C,IAAI,GAAG,GAAG,EAAE,GAAG,CAAC,CAAC;YACjB,KAAK,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,IAAI,CAAC,EAAE;;;gBAG5B,KAAK,CAAC,EAAE,CAAC,IAAI,KAAK,GAAG,KAAK,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC;gBACvC,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,IAAI,KAAK,GAAG,KAAK,GAAG,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;gBAC/C,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,IAAI,KAAK,GAAG,KAAK,GAAG,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;aAClD;SACJ;KACJ;CACJ;AACD,MAAM,CAAC,MAAM,CAAC,eAAe,EAAE,EAAE,MAAM,EAAE,CAAC,oBAAoB,CAAC,EAAE,CAAC,CAAC;AACnE,SAAS,oBAAoB,CAAC,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE;IACnD,IAAI,CAAC,EAAE,EAAE,CAAC;IACV,IAAI,MAAM,KAAK,SAAS,EAAE;QACtB,MAAM,GAAG,IAAI,YAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;KAC9C;SACI;;QAED,KAAK,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE;YACzC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;SACjB;KACJ;IACD,IAAI,CAAC,GAAG,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;IAC5B,IAAI,CAAC,GAAG,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;IAC5B,IAAI,CAAC,GAAG,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;IAC5B,IAAI,EAAE,GAAG,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;IAC7B,IAAI,EAAE,GAAG,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;IAC7B,IAAI,KAAK,EAAE;;QAEP,KAAK,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,EAAE;YAC3C,IAAI,EAAE,GAAG,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YACtB,IAAI,EAAE,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;YAC1B,IAAI,EAAE,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;YAC1B,WAAW,CAAC,CAAC,EAAE,QAAQ,EAAE,EAAE,CAAC,CAAC;YAC7B,WAAW,CAAC,CAAC,EAAE,QAAQ,EAAE,EAAE,CAAC,CAAC;YAC7B,WAAW,CAAC,CAAC,EAAE,QAAQ,EAAE,EAAE,CAAC,CAAC;YAC7B,KAAK,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAChB,KAAK,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAChB,OAAO,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;YACpB,MAAM,CAAC,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;YACpB,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;YACxB,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;YACxB,MAAM,CAAC,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;YACpB,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;YACxB,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;YACxB,MAAM,CAAC,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;YACpB,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;YACxB,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;SAC3B;KACJ;SACI;;QAED,KAAK,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,EAAE;YAC9C,WAAW,CAAC,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC;YAC5B,WAAW,CAAC,CAAC,EAAE,QAAQ,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;YAChC,WAAW,CAAC,CAAC,EAAE,QAAQ,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;YAChC,KAAK,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAChB,KAAK,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAChB,OAAO,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;YACpB,MAAM,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YAClB,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YACtB,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YACtB,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YACtB,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YACtB,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YACtB,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YACtB,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YACtB,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;SACzB;KACJ;IACD,qBAAqB,CAAC,MAAM,CAAC,CAAC;IAC9B,OAAO,MAAM,CAAC;CACjB;AACD,MAAM,CAAC,MAAM,CAAC,oBAAoB,EAAE,EAAE,MAAM,EAAE;QACtC,KAAK,EAAE,OAAO,EAAE,WAAW,EAAE,qBAAqB;KACrD,EAAE,CAAC,CAAC;AACT,SAAS,aAAa,CAAC,UAAU,EAAE;IAC/B,IAAI,UAAU,GAAG,EAAE,CAAC;IACpB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;QACjD,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;KACpC;IACD,OAAO,UAAU,CAAC;CACrB;AACD,SAAS,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE,SAAS,EAAE,WAAW,EAAE,WAAW,EAAE;;IAEnE,IAAI,MAAM,GAAG,CAAC,CAAC,GAAG,WAAW,IAAI,CAAC,CAAC;IACnC,MAAM,IAAI,SAAS,CAAC;IACpB,WAAW,CAAC,GAAG,EAAE,GAAG,EAAE,WAAW,GAAG,MAAM,CAAC,CAAC;IAC5C,WAAW,CAAC,GAAG,EAAE,GAAG,EAAE,WAAW,GAAG,MAAM,CAAC,CAAC;IAC5C,gBAAgB,CAAC,GAAG,EAAE,GAAG,EAAE,WAAW,CAAC,CAAC;IACxC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;IAClB,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE,WAAW,CAAC,CAAC;IACtC,gBAAgB,CAAC,GAAG,EAAE,GAAG,EAAE,WAAW,CAAC,CAAC;IACxC,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;IACjB,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE,WAAW,CAAC,CAAC;IACtC,IAAI,GAAG,GAAG,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;IAC9B,KAAK,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;IACrB,gBAAgB,CAAC,GAAG,EAAE,GAAG,EAAE,WAAW,CAAC,CAAC;IACxC,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;IACjB,WAAW,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;IACzB,IAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC;IACpC,IAAI,OAAO,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IAC3C,IAAI,OAAO,IAAI,OAAO,EAAE;QACpB,WAAW,IAAI,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,OAAO,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;QAClD,gBAAgB,CAAC,GAAG,EAAE,GAAG,EAAE,WAAW,CAAC,CAAC;QACxC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;QAClB,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE,WAAW,CAAC,CAAC;QACtC,gBAAgB,CAAC,GAAG,EAAE,GAAG,EAAE,WAAW,CAAC,CAAC;QACxC,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;QACjB,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE,WAAW,CAAC,CAAC;QACtC,KAAK,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;QACrB,gBAAgB,CAAC,GAAG,EAAE,GAAG,EAAE,WAAW,CAAC,CAAC;QACxC,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;QACjB,WAAW,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;KAC5B;IACD,IAAI,IAAI,GAAG,IAAI,YAAY,CAAC,GAAG,CAAC,CAAC;IACjC,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;;IAErB,IAAI,MAAM,GAAG,KAAK,EAAE,CAAC;IACrB,IAAI,KAAK,GAAG,KAAK,EAAE,CAAC;IACpB,eAAe,CAAC,KAAK,EAAE,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;IACrC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;IAClC,IAAI,MAAM,GAAG,KAAK,EAAE,CAAC;IACrB,WAAW,CAAC,MAAM,EAAE,CAAC,CAAC,GAAG,WAAW,EAAE,CAAC,GAAG,WAAW,EAAE,CAAC,GAAG,WAAW,CAAC,CAAC;IACxE,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;IACnC,IAAI,MAAM,GAAG,KAAK,EAAE,CAAC;IACrB,iBAAiB,CAAC,MAAM,EAAE,CAAC,WAAW,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,WAAW,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,WAAW,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;IAClG,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;IACnC,OAAO;QACH,GAAG,EAAE,GAAG;QACR,IAAI,EAAE,IAAI;QACV,MAAM,EAAE,MAAM;QACd,WAAW,EAAE,WAAW;KAC3B,CAAC;CACL;AACD,MAAM,CAAC,MAAM,CAAC,cAAc,EAAE,EAAE,QAAQ,EAAE;QAClC,QAAQ;QACR,WAAW,EAAE,WAAW,EAAE,cAAc,EAAE,gBAAgB;QAC1D,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,QAAQ;QAChC,KAAK,EAAE,UAAU,EAAE,iBAAiB,EAAE,WAAW,EAAE,eAAe;KACrE,EAAE,CAAC,CAAC;;ACzTT;;;;;AAKA,AAMA;;;AAGA,IAAM,OAAO,GAYT,gBAAW,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE;IAC1B,IAAI,CAAC,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;IACvB,IAAI,CAAC,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;IACvB,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;IACf,IAAI,CAAC,MAAM,GAAG,IAAI,OAAO,EAAE,CAAC;IAC5B,IAAI,CAAC,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC;IAC9B,IAAI,IAAI,YAAY,QAAQ;QACxB,IAAI,YAAY,cAAc;QAC9B,IAAI,YAAY,KAAK,EAAE;;QAEvB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;KAC3B;SACI,IAAI,IAAI,EAAE;QACX,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QAC3F,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC7C,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC3C;;;4DACJ;AACDG,qBAAI,uBAAO,EAAE,OAAO,SAAS,CAAC,GAAE;;;;;;;;;;;kBAWhC,oBAAI,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,OAAe,EAAE;yCAAV,GAAG;;;;;IAIrD,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;;;;IAIzB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;;;;IAInB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;;;;IAIrB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;;;;IAInB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;IAC3B,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;IAChC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;EAC1B;kBACD,sCAAa,QAAQ,EAAE;IACnB,IAAI,KAAK;UACL,GAAG,CAAC,IAAI,CAAC,8BAA8B,CAAC,GAAC;IAC7CH,IAAI,GAAG,CAAC;IACR,IAAI,QAAQ,YAAY,QAAQ,EAAE;QAC9B,QAAQ,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;QACpC,GAAG,GAAG,IAAI,cAAc,EAAE,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;KACrD;SACI,IAAI,QAAQ,YAAY,cAAc,EAAE;QACzC,GAAG,GAAG,QAAQ,CAAC;KAClB;SACI;QACD,GAAG,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;KACrB;IACD,IAAI,CAAC,GAAG,CAAC,WAAW;UAChB,GAAG,CAAC,kBAAkB,EAAE,GAAC;IAC7B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;IACvC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACxCA,IAAI,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,CAAC;IACnC,IAAI,GAAG,YAAY,cAAc,EAAE;QAC/BD,IAAM,IAAI,GAAG,GAAG,CAAC,UAAU,CAAC;QAC5BA,IAAM,EAAE,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC;;QAEnD,IAAI,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;YACpD,GAAG,CAAC,oBAAoB,EAAE,CAAC;SAC9B;QACD,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;QAC/B,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC;QAC7C,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;KAC9B;IACD,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;IACpD,IAAI,KAAK;UACL,GAAG,CAAC,OAAO,CAAC,6BAA6B,CAAC,GAAC;EAClD;kBACD,sCAAc;IACV,OAAO,IAAI,CAAC,QAAQ,CAAC;EACxB;kBACD,8BAAS,MAAM,EAAE;IACbA,IAAM,CAAC,GAAG,MAAM,IAAI,EAAE,CAAC;IACvB,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;IACjBA,IAAM,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC;IACpBA,IAAM,KAAK,GAAG,IAAI,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACtCA,IAAM,UAAU,GAAGM,oBAAkB,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;IACnD,IAAI,UAAU,CAAC,WAAW,IAAI,CAAC,CAAC,MAAM,KAAK,QAAQ,EAAE;QACjD,KAAKL,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;YACxB,UAAU,CAAC,kBAAkB,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;SAClD;KACJ;SACI,IAAI,UAAU,CAAC,aAAa,EAAE;QAC/BD,IAAM,CAAC,GAAG,IAAI,OAAO,EAAE,CAAC;QACxBA,IAAM,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC1B,KAAKC,IAAIa,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAG,CAAC,EAAE,EAAEA,GAAC,EAAE;YACxB,IAAI,EAAE,GAAGA,GAAC,GAAG,CAAC,CAAC;YACf,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;YACzC,UAAU,CAAC,oBAAoB,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;SACjD;KACJ;SACI,IAAI,UAAU,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,EAAE;QAC7Cd,IAAM,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;QAC7CA,IAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QACjC,KAAKC,IAAIa,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAG,CAAC,EAAE,EAAEA,GAAC,EAAE;YACxB,SAAS,CAAC,KAAK,GAAG,SAAS,CAACA,GAAC,CAAC,CAAC;YAC/B,UAAU,CAAC,gBAAgB,CAAC,SAAS,EAAE,KAAK,EAAEA,GAAC,GAAG,CAAC,CAAC,CAAC;SACxD;KACJ;SACI;QACDd,IAAM,EAAE,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;QAC9B,aAAa,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;KAC7C;IACD,OAAO,KAAK,CAAC;EAChB;kBACD,kCAAW,SAAS,EAAE;IAClB,IAAI,IAAI,CAAC,SAAS,IAAI,SAAS,EAAE;QAC7B,OAAO,IAAI,UAAU,CAAC,IAAI,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;KACpD;SACI;QACD,OAAO,IAAI,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC;KAC1D;EACJ;kBACD,kCAAY;IACR,OAAO,IAAI,CAAC,MAAM,CAAC;EACtB;kBACD,4BAAQ,IAAI,EAAEqC,QAAK,EAAE;IACjB,OAAO,YAAY,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,GAAGA,QAAK,CAAC,CAAC;EAChD;kBACD,gCAAW;IACP,OAAO,IAAI,CAAC,KAAK,CAAC;EACrB;kBACD,8CAAiB,IAAI,EAAE,SAAS,EAAE;IAC9B,IAAI,IAAI,IAAI,IAAI,CAAC,SAAS,EAAE;QACxBrC,IAAM,SAAS,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,CAAC;QACtCA,IAAM,OAAO,GAAG,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;QAChDA,IAAM,aAAa,GAAG,EAAE,CAAC;QACzBA,IAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QACjCA,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QACzBA,IAAM,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC;QACvBA,IAAM,WAAW,GAAG,IAAI,CAAC,OAAO,GAAG,CAAC,GAAG,CAAC,CAAC;QACzCC,IAAI,CAAC,GAAG,CAAC,CAAC;QACV,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,WAAW,EAAE;YACrCA,IAAI,OAAO,GAAG,IAAI,CAAC;YACnB,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,EAAE,CAAC,EAAE,EAAE;gBAClCD,IAAM,GAAG,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBACzBA,IAAM,EAAE,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;gBAC1B,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE;oBAClB,OAAO,GAAG,KAAK,CAAC;oBAChB,MAAM;iBACT;aACJ;YACD,IAAI,CAAC,OAAO,EAAE;gBACV,SAAS;aACZ;YACD,KAAKC,IAAIqC,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAG,WAAW,EAAEA,GAAC,EAAE,EAAE,CAAC,EAAE,EAAE;gBACvC,aAAa,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAGA,GAAC,CAAC,CAAC;aACnC;SACJ;QACD,OAAO,YAAY,CAAC,aAAa,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;KAChE;SACI;QACD,OAAO,IAAI,CAAC,KAAK,CAAC;KACrB;EACJ;kBACD,wCAAe;IACX,OAAO,IAAI,CAAC,SAAS,CAAC;EACzB;kBACD,8BAAU;;;;mEAGb;;AC9MD;;;;;AAKA,AAWO,SAAS,aAAa,CAAC,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,SAAS,EAAE;IACvD,IAAI,EAAE,GAAG,IAAI,aAAa,CAAC,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,SAAS,CAAC,CAAC;IACxD,SAAS,UAAU,CAAC,QAAQ,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,EAAE,OAAO,EAAE,IAAY,EAAE;mCAAV,GAAG;;QAC/DtC,IAAM,EAAE,GAAG,EAAE,CAAC,WAAW,CAAC,QAAQ,EAAE,MAAM,EAAE,GAAG,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;QAChE,IAAI,MAAM,IAAI,CAAC,OAAO,EAAE;YACpB,eAAe,CAAC,EAAE,CAAC,QAAQ,EAAE,EAAE,CAAC,KAAK,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;YACrD,EAAE,CAAC,MAAM,GAAG,oBAAoB,CAAC,EAAE,CAAC,QAAQ,EAAE,EAAE,CAAC,KAAK,CAAC,CAAC;SAC3D;QACD,IAAI,MAAM,EAAE;YACR,0BAA0B,CAAC,MAAM,EAAE,EAAE,CAAC,QAAQ,CAAC,CAAC;YAChD,IAAI,EAAE,CAAC,MAAM,EAAE;gBACXA,IAAM,YAAY,GAAG,KAAK,EAAE,CAAC;gBAC7B,YAAY,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;gBACnC,0BAA0B,CAAC,YAAY,EAAE,EAAE,CAAC,MAAM,CAAC,CAAC;aACvD;SACJ;QACD,OAAO,EAAE,CAAC;KACb;IACD,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;CAChC;AACD,MAAM,CAAC,MAAM,CAAC,aAAa,EAAE,EAAE,MAAM,EAAE;QAC/B,eAAe,EAAE,oBAAoB,EAAE,aAAa;QACpD,0BAA0B,EAAE,0BAA0B;QACtD,KAAK,EAAE,YAAY;KACtB,EAAE,CAAC,CAAC;AACTQ,gBAAc,CAAC,GAAG,CAAC,MAAM,EAAE,SAAS,IAAI,CAAC,CAAC,EAAE,QAAQ,EAAE;IAClDR,IAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;IACtBA,IAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC;IACxB,IAAI,CAAC,EAAE;;QAEH,IAAI,CAAC,OAAO,GAAG,IAAI,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;KAClE;IACD,IAAI,CAAC,EAAE;QACHA,IAAM,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC;QAC7FA,IAAM,YAAY,GAAG,CAAC,EAAE,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QAC3D,IAAI,EAAE,CAAC,MAAM;cACT,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,GAAC;QACxC,IAAI,EAAE,CAAC,SAAS;cACZ,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,GAAC;QAC3CA,IAAM,IAAI,GAAG;YACT,EAAE,EAAE,EAAE;YACN,CAAC,EAAE,CAAC;SACP,CAAC;QACF,QAAQ,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC;KAChC;CACJ,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC;;;;AAIpB,IAAM,MAAM,GAWR,eAAW,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,SAAS,EAAE;IACjD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACjB,IAAI,CAAC,MAAM,GAAG,IAAI,OAAO,EAAE,CAAC;IAC5B,IAAI,CAAC,YAAY,GAAG,IAAI,OAAO,EAAE,CAAC;IAClC,IAAI,CAAC,aAAa,GAAG,IAAI,OAAO,EAAE,CAAC;IACnC,IAAI,CAAC,MAAM,GAAG,IAAI,OAAO,EAAE,CAAC;IAC5B,IAAI,CAAC,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC;IAC9B,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,SAAS,CAAC,CAAC;;;0OAC7C;AACDI,qBAAI,uBAAO,EAAE,OAAO,QAAQ,CAAC,GAAE;;;;;;;;;;iBAU/B,4BAAQ,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,SAAS,EAAE;IACjC,IAAI,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;IAClB,IAAI,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;IAClB,IAAI,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;IAClB,IAAI,CAAC,IAAI,GAAG,IAAI,IAAI,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;IACxC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;IAC7B,OAAO,IAAI,CAAC,SAAS,CAAC;IACtB,OAAO,IAAI,CAAC,IAAI,CAAC;IACjB,OAAO,IAAI,CAAC,IAAI,CAAC;IACjB,OAAO,IAAI,CAAC,KAAK,CAAC;IAClB,OAAO,IAAI,CAAC,IAAI,CAAC;IACjB,IAAI,IAAI,CAAC,MAAM;UACX,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,GAAC;EAC/B;;;;;;;;;iBASD,8BAAS,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE;IAC1B,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;IAChB,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;IAChB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IAClB,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;EACnB;;;;;;iBAMD,gCAAU,MAAM,EAAE;IACd,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACzBJ,IAAM,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC;IAC5BA,IAAM,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;IACtBA,IAAM,CAAC,GAAG,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;IACtBA,IAAM,CAAC,GAAG,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;IACtBA,IAAM,CAAC,GAAG,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;IACtB,EAAE,CAAC,SAAS,EAAE,CAAC;IACf,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACjC,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACjC,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACjC,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACjC,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACjC,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACjC,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACjC,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACjC,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC7B,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;IAE1BA,IAAM,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;IAChCA,IAAM,EAAE,GAAG,IAAI,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IAC5CA,IAAM,EAAE,GAAG,IAAI,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IAC5CA,IAAM,EAAE,GAAG,IAAI,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAC7CA,IAAM,EAAE,GAAG,IAAI,OAAO,EAAE,CAAC;;;;IAIzBA,IAAM,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;IACtC,EAAE,CAAC,YAAY,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;IACxB,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;IACb,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;IACb,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;IACb,EAAE,CAAC,YAAY,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;IACxB,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;IACb,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;IACb,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;IACb,EAAE,CAAC,YAAY,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;IACxB,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;IACb,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;IACb,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;IACb,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;EAC9C;;;;;;iBAMD,sCAAa,SAAS,EAAE;IACpB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;EAC9B;iBACD,0BAAO,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE;IACzB,IAAI,CAAC,MAAM;UACP,MAAM,GAAG,IAAI,IAAI,EAAE,GAAC;IACxB,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;IAC3B,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;IAC5B,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;IACxC,MAAM,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC;IACnB,MAAM,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC;IACnB,OAAO,MAAM,CAAC;EACjB;iBACD,4BAAQ,MAAM,EAAE,IAAI,EAAE;IAClB,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI;UAChB,SAAO;IACX,IAAI,CAAC,IAAI,CAAC,KAAK;UACX,IAAI,CAAC,KAAK,GAAG,IAAI,IAAI,EAAE,GAAC;IAC5BA,IAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IAClD,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,OAAO,EAAE,EAAE,GAAG,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC;EACjD;iBACD,sCAAa,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE;IAC/BA,IAAM,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,GAAG,GAAG,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;IACvDA,IAAM,OAAO,GAAG,IAAI,OAAO,CAAC,IAAI,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;IAC1C,OAAO,CAAC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IACjC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IAC7B,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;IAC3B,OAAO,OAAO,CAAC;EAClB;iBACD,kCAAW,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAY,EAAE;mCAAV,GAAG;;IACvD,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC;IACjE,MAAM,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;;IAE7B,IAAI,IAAI,CAAC,OAAO,KAAK,SAAS,EAAE;QAC5B,IAAI,CAAC,OAAO,GAAG,IAAI,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;KAC1F;IACDA,IAAM,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;IACvCA,IAAM,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,QAAQ,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;IAC/F,OAAO,IAAI,CAAC,YAAY,CAAC,EAAE,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC;EAClD;iBACD,8CAAiB,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE;;;IACtE,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC;IACjE,MAAM,GAAG,MAAM,IAAI,CAAC,CAAC;;IAErB,IAAI,MAAM,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE;QACjC,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS,EAAE;YAC/B,IAAI,CAAC,UAAU,GAAG,IAAI,UAAU,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;SAC/C;QACDA,IAAM,GAAG,GAAG,EAAE,CAAC;QACfA,IAAM,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,CAAC;QAC/C,IAAI,MAAM,CAAC,SAAS,KAAK,CAAC,EAAE;YACxB,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE;gBACf,IAAI,EAAE;oBACF,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,SAAS;iBACvD;aACJ,CAAC,CAAC;SACN;QACD,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE;YACf,MAAM,EAAE;gBACJ,QAAQ,EAAE,QAAQ;gBAClB,MAAM,EAAE,MAAM;gBACd,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC;gBAC/B,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ;gBAC5B,OAAO,EAAE,OAAO;gBAChB,IAAI,EAAE,IAAI;aACb;SACJ,CAAC,CAAC;QACH,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,SAAS,YAAG,CAAC,EAAK;YAC/BA,IAAM,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC;YACrBA,IAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;YACnB,QAAQ,CAACO,MAAI,CAAC,YAAY,CAAC,EAAE,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;SACzD,YAAG,CAAC,EAAK;YACN,OAAO,CAAC,IAAI,CAAC,uDAAuD,EAAE,CAAC,CAAC,CAAC;YACzEP,IAAM,OAAO,GAAGO,MAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;YAC/E,QAAQ,CAAC,OAAO,CAAC,CAAC;SACrB,CAAC,CAAC;KACN;SACI;QACDP,IAAM,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;QAC/E,QAAQ,CAAC,OAAO,CAAC,CAAC;KACrB;EACJ;iBACD,8CAAiB,KAAK,EAAE;IACpB,OAAO,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,KAAK,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC;EACpD;iBACD,8CAAiB,KAAK,EAAE;IACpB,OAAO,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,GAAG,CAAC;EACtD;AACDI,qBAAI,2BAAW;IACX,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;QACjBJ,IAAM,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;QACnBA,IAAM,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;QACnBA,IAAM,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;QACnBA,IAAM,QAAQ,GAAG,IAAI,YAAY,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;QACpDC,IAAI,CAAC,GAAG,CAAC,CAAC;QACV,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;YACzB,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;gBACzB,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;oBACzB,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;oBACpB,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;oBACpB,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;oBACpB,CAAC,IAAI,CAAC,CAAC;iBACV;aACJ;SACJ;QACD,0BAA0B,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;QAC3D,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;KAC7B;IACD,OAAO,IAAI,CAAC,SAAS,CAAC;EACzB;iBACD,gDAAmB;IACf,OAAO,IAAI,CAAC,SAAS,CAAC;EACzB;iBACD,8CAAkB;IACd,OAAO,IAAI,CAAC,QAAQ,CAAC;EACxB;iBACD,sCAAa,MAAM,EAAE;IACjBD,IAAM,CAAC,GAAG,MAAM,IAAI,EAAE,CAAC;IACvB,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;IAChB,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,IAAI,UAAU,CAAC;IAChC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;IAC5CA,IAAM,UAAU,GAAGM,oBAAkB,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;IACnDN,IAAM,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;IACnCA,IAAM,KAAK,GAAG,IAAI,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;;;IAGtC,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;QACxB,UAAU,CAAC,kBAAkB,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;;;KAGlD;IACD,OAAO,KAAK,CAAC;EAChB;iBACD,4CAAiB;IACbD,IAAM,OAAO,GAAG,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;IACtD,OAAO,IAAI,YAAY,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;EAC1C;iBACD,oCAAY,IAAI,EAAEqC,QAAK,EAAE;IACrBrC,IAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;IACvBA,IAAM,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;IACnCC,IAAI,KAAK,CAAC;IACV,QAAQ,IAAI;QACR,KAAK,OAAO;YACR,KAAK,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC,CAAC;YAC/B,MAAM;QACV,KAAK,WAAW;YACZ,KAAK,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC,CAAC;YAC/B,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;gBACxB,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;aACjC;YACD,MAAM;QACV,KAAK,WAAW,EAAE;YACd,KAAK,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC,CAAC;YAC/BD,IAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;YACrB,KAAKC,IAAIa,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAG,CAAC,EAAE,EAAEA,GAAC,EAAE;gBACxB,KAAK,CAACA,GAAC,CAAC,IAAI,GAAG,CAAC;aACnB;YACD,MAAM;SACT;QACD,KAAK,WAAW;YACZ,KAAK,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC,CAAC;YAC/B,MAAM;QACV;YACI,KAAK,GAAG,YAAY,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;YAC9B,MAAM;KACb;IACD,IAAIuB,QAAK,KAAK,GAAG,EAAE;QACf,KAAKpC,IAAIa,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAG,CAAC,EAAE,EAAEA,GAAC,EAAE;YACxB,KAAK,CAACA,GAAC,CAAC,IAAIuB,QAAK,CAAC;SACrB;KACJ;IACD,OAAO,KAAK,CAAC;EAChB;AACDjC,qBAAI,sBAAM;IACN,IAAI,IAAI,CAAC,IAAI,KAAK,SAAS,EAAE;QACzB,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACnC;IACD,OAAO,IAAI,CAAC,IAAI,CAAC;EACpB;AACDA,qBAAI,sBAAM;IACN,IAAI,IAAI,CAAC,IAAI,KAAK,SAAS,EAAE;QACzB,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACnC;IACD,OAAO,IAAI,CAAC,IAAI,CAAC;EACpB;AACDA,qBAAI,sBAAM;IACN,IAAI,IAAI,CAAC,IAAI,KAAK,SAAS,EAAE;QACzB,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACnC;IACD,OAAO,IAAI,CAAC,IAAI,CAAC;EACpB;AACDA,qBAAI,uBAAO;IACP,IAAI,IAAI,CAAC,KAAK,KAAK,SAAS,EAAE;QAC1B,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACrC;IACD,OAAO,IAAI,CAAC,KAAK,CAAC;EACrB;AACDA,qBAAI,sBAAM;IACN,IAAI,IAAI,CAAC,IAAI,KAAK,SAAS,EAAE;QACzB,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACnC;IACD,OAAO,IAAI,CAAC,IAAI,CAAC;EACpB;iBACD,0BAAQ;IACJJ,IAAM,GAAG,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;IACnG,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC7B,GAAG,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IAC5C,OAAO,GAAG,CAAC;EACd;iBACD,8BAAU;IACN,IAAI,IAAI,CAAC,UAAU;UACf,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,GAAC;;;kEAEvC;;;;;;ACrYD;;;;;AAKA,AAOA,SAAS,YAAY,CAAC,IAAI,EAAE;IACxB,IAAI,IAAI,KAAK,OAAO,EAAE;QAClB,OAAO,SAAS,CAAC;KACpB;SACI,IAAI,IAAI,KAAK,MAAM,EAAE;QACtB,OAAO,QAAQ,CAAC;KACnB;SACI,IAAI,IAAI,KAAK,QAAQ,EAAE;QACxB,OAAO,UAAU,CAAC;KACrB;SACI;QACD,OAAO,UAAU,CAAC;KACrB;CACJ;AACDA,IAAM,QAAQ,GAAG;IACb,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC;CACnC,CAAC;AACF,SAAS,eAAe,CAAC,MAAM,EAAE,MAAM,EAAE;IACrC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC3B,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC,UAAU,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;IAC1E,MAAM,CAAC,sBAAsB,GAAG,IAAI,CAAC;CACxC;AACD,AAAOA,IAAM,uBAAuB,GAAG;IACnC,UAAU,EAAE,KAAK;IACjB,IAAI,EAAE,QAAQ;IACd,OAAO,EAAE,GAAG;IACZ,UAAU,EAAE,IAAI;IAChB,QAAQ,EAAE,CAAC;IACX,UAAU,EAAE,CAAC;IACb,UAAU,EAAE,IAAI,OAAO,EAAE;IACzB,UAAU,EAAE,KAAK;IACjB,SAAS,EAAE,KAAK;IAChB,SAAS,EAAE,GAAG;IACd,SAAS,EAAE,GAAG;IACd,OAAO,EAAE,QAAQ;IACjB,eAAe,EAAE,KAAK;IACtB,gBAAgB,EAAE,KAAK;IACvB,aAAa,EAAE,QAAQ;IACvB,iBAAiB,EAAE,CAAC;IACpB,gBAAgB,EAAE,KAAK;IACvB,MAAM,EAAE,IAAI,OAAO,EAAE;IACrB,cAAc,EAAE,KAAK;IACrB,aAAa,EAAE,KAAK;IACpB,UAAU,EAAE,KAAK;CACpB,CAAC;AACF,AAAOA,IAAM,oBAAoB,GAAG;IAChC,UAAU,EAAE,EAAE,YAAY,EAAE,IAAI,EAAE;IAClC,IAAI,EAAE,EAAE,YAAY,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE;IAC5C,OAAO,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE;IAC1B,UAAU,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE;IAC9B,QAAQ,EAAE,EAAE,YAAY,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE;IAChD,UAAU,EAAE,EAAE,YAAY,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE;IACjD,UAAU,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE;IAC7B,UAAU,EAAE,EAAE,YAAY,EAAE,IAAI,EAAE;IAClC,UAAU,EAAE,EAAE,YAAY,EAAE,IAAI,EAAE;IAClC,SAAS,EAAE,EAAE,gBAAgB,EAAE,IAAI,EAAE;IACrC,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE;IAC5B,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE;IAC5B,OAAO,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE;IAC1B,eAAe,EAAE,EAAE,YAAY,EAAE,IAAI,EAAE;IACvC,gBAAgB,EAAE,EAAE,YAAY,EAAE,IAAI,EAAE;IACxC,aAAa,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE;IAChC,iBAAiB,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE;IACpC,MAAM,EAAE,EAAE;CACb,CAAC;;;;;AAKF,IAAM,MAAM,GASR,eAAW,CAAC,IAAI,EAAE,MAAW,EAAE;mCAAP,GAAG;;IACvB,IAAI,CAAC,cAAc,GAAG,oBAAoB,CAAC;IAC3C,IAAI,CAAC,QAAQ,GAAG,IAAI,cAAc,EAAE,CAAC;IACrC,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;IACtB,IAAI,CAAC,qBAAqB,GAAG,CAAC,CAAC,CAAC;IAChC,IAAI,CAAC,KAAK,GAAG,IAAI,KAAK,EAAE,CAAC;IACzB,IAAI,CAAC,cAAc,GAAG,IAAI,KAAK,EAAE,CAAC;IAClC,IAAI,CAAC,YAAY,GAAG,IAAI,KAAK,EAAE,CAAC;IAChC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;IACvB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;IACzB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;IACxB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACpB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IACvB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACrB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACpB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACpB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACpB,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;IAC7B,IAAI,CAAC,UAAU,GAAG,YAAY,CAAC,MAAM,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;IAC/D,IAAI,CAAC,QAAQ,GAAG,aAAa,CAAC,KAAK,CAAC;QAChC,WAAW,CAAC,MAAM;QAClB;YACI,QAAQ,EAAE,EAAE,KAAK,EAAE,IAAI,KAAK,CAAC,QAAQ,CAAC,EAAE;YACxC,OAAO,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE;YACvB,MAAM,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE;YACtB,OAAO,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE;YAC3C,QAAQ,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE;YACxB,UAAU,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE;YACjD,UAAU,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE;SACpD;QACD;YACI,QAAQ,EAAE,EAAE,KAAK,EAAE,IAAI,KAAK,CAAC,QAAQ,CAAC,EAAE;YACxC,SAAS,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE;YAC/C,SAAS,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE;YAC/C,aAAa,EAAE,EAAE,KAAK,EAAE,IAAI,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,EAAE;YAClE,iBAAiB,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,iBAAiB,EAAE;SAClE;QACD,WAAW,CAAC,MAAM;KACrB,CAAC,CAAC;IACH,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;IACzD,IAAI,CAAC,eAAe,GAAG;QACnB,QAAQ,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE;QACxB,QAAQ,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE;QACtB,OAAO,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE;KAC9C,CAAC;;IAEFA,IAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,SAAS,CAAC;IACjD,IAAI,CAAC,iBAAiB,GAAG,QAAQ,GAAG,QAAQ,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC;IAC5D,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;QACnB,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;KAC1D;IACD,IAAI,CAAC,aAAa,CAAC;QACf,QAAQ,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,QAAQ,EAAE;QAC9C,KAAK,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE;QACvC,WAAW,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,WAAW,EAAE;KACtD,CAAC,CAAC;IACH,IAAI,MAAM,CAAC,MAAM,EAAE;QACf,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;KAC/B;IACD,IAAI,IAAI,CAAC,KAAK,EAAE;QACZ,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KAC9B;IACD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;IAC5B,IAAI,CAAC,qBAAqB,EAAE,CAAC;;;gPAChC;AACDI,qBAAI,oCAAoB,EAAE,OAAO,uBAAuB,CAAC,GAAE;AAC3DA,qBAAI,uBAAO,CAAC,EAAE;IACV,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;EACrB;AACDA,qBAAI,yBAAS;IACT,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;EACpC;AACDA,qBAAI,8BAAc;IACd,OAAO,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC;EAC1E;AACDA,qBAAI,uBAAO;IACP,OAAO,IAAI,CAAC,iBAAiB,CAAC;EACjC;AACDA,qBAAI,gCAAgB;IAChB,OAAO,IAAI,CAAC,IAAI,CAAC;EACpB;AACDA,qBAAI,2BAAW;IACX,OAAO,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC;EAC5D;iBACD,gCAAU,CAAC,EAAE;IACT,eAAe,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IAC/B,eAAe,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;IACxC,eAAe,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;EACzC;iBACD,gCAAU,KAAK,EAAE;IACb,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,eAAe,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC;IACtDJ,IAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;IACxC,IAAI,CAAC,MAAM,EAAE;QACT,GAAG,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;QAC3B,OAAO;KACV;IACD,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,GAAG,qBAAqB,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC;EAC1E;iBACD,wCAAe;IACXA,IAAM,IAAI,GAAG,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;IAChDA,IAAM,CAAC,GAAG,IAAI,cAAc,CAAC;QACzB,QAAQ,EAAE,IAAI,CAAC,QAAQ;QACvB,YAAY,EAAE,EAAE;QAChB,cAAc,EAAE,EAAE;QAClB,SAAS,EAAE,IAAI;QACf,WAAW,EAAE,IAAI,CAAC,WAAW;QAC7B,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,UAAU;QACtC,MAAM,EAAE,IAAI;QACZ,GAAG,EAAE,IAAI;QACT,IAAI,EAAE,IAAI;KACb,CAAC,CAAC;IACH,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC;IACtB,CAAC,CAAC,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC;IAChC,CAAC,CAAC,UAAU,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC;IACzCA,IAAM,EAAE,GAAG,IAAI,cAAc,CAAC;QAC1B,QAAQ,EAAE,IAAI,CAAC,QAAQ;QACvB,YAAY,EAAE,EAAE;QAChB,cAAc,EAAE,EAAE;QAClB,SAAS,EAAE,IAAI;QACf,WAAW,EAAE,IAAI,CAAC,WAAW;QAC7B,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,UAAU;QACtC,MAAM,EAAE,KAAK;QACb,GAAG,EAAE,IAAI;QACT,IAAI,EAAE,IAAI;KACb,CAAC,CAAC;IACH,EAAE,CAAC,YAAY,GAAG,IAAI,CAAC;IACvBA,IAAM,EAAE,GAAG,IAAI,cAAc,CAAC;QAC1B,QAAQ,EAAE,IAAI,CAAC,eAAe;QAC9B,YAAY,EAAE,EAAE;QAChB,cAAc,EAAE,EAAE;QAClB,SAAS,EAAE,IAAI;QACf,WAAW,EAAE,KAAK;QAClB,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,UAAU;QACtC,MAAM,EAAE,KAAK;QACb,GAAG,EAAE,KAAK;QACV,IAAI,EAAE,IAAI;QACV,QAAQ,EAAE,UAAU;KACvB,CAAC,CAAC;IACH,EAAE,CAAC,YAAY,GAAG,IAAI,CAAC;IACvB,EAAE,CAAC,UAAU,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC;IAC1C,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC;IACtC,EAAE,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC;IACvC,EAAE,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC;IACvC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;IAClB,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;IAC5B,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;;IAE1B,IAAI,CAAC,YAAY,EAAE,CAAC;EACvB;iBACD,0DAAwB;IACpB,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC1BA,IAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;IAC/BA,IAAM,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;IAC3CA,IAAM,iBAAiB,GAAG,IAAI,cAAc,EAAE,CAAC;IAC/C,iBAAiB,CAAC,UAAU,GAAG,QAAQ,CAAC,UAAU,CAAC;IACnD,IAAI,cAAc,EAAE;QAChB,iBAAiB,CAAC,QAAQ,CAAC,IAAI,eAAe,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,GAAG,qBAAqB,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,CAAC;QACnI,iBAAiB,CAAC,YAAY,CAAC,CAAC,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;KAC/D;IACD,IAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;EAC9C;iBACD,oDAAqB;IACjBA,IAAM,KAAK,GAAG,EAAE,CAAC;IACjB,SAAS,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE;QACrB,IAAI,CAAC,GAAG,CAAC,EAAE;YACPA,IAAM,GAAG,GAAG,CAAC,CAAC;YACd,CAAC,GAAG,CAAC,CAAC;YACN,CAAC,GAAG,GAAG,CAAC;SACX;QACDA,IAAM,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;QACtB,IAAI,IAAI,KAAK,SAAS,EAAE;YACpB,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACf,OAAO,IAAI,CAAC;SACf;aACI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE;YACxB,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACb,OAAO,IAAI,CAAC;SACf;QACD,OAAO,KAAK,CAAC;KAChB;IACDA,IAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;IAC/BA,IAAM,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC;IAC7B,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE;QAC5B,IAAI,CAAC,cAAc,GAAG,IAAI,WAAW,CAAC,CAAC,CAAC,CAAC;QACzC,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;KAChC;SACI,IAAI,KAAK,EAAE;QACZA,IAAM,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;QAC1BC,IAAI,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC;QACrB,IAAI,QAAQ,CAAC,SAAS,CAAC,KAAK,KAAK,QAAQ,EAAE;YACvC,CAAC,GAAG,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC;SAChC;QACDA,IAAI,cAAc,CAAC;QACnB,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,EAAE;YAC3D,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;SACxC;aACI;YACDD,IAAM,KAAK,GAAG,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC;YACjD,cAAc,GAAG,YAAY,CAAC,CAAC,GAAG,CAAC,EAAE,KAAK,CAAC,CAAC;SAC/C;QACDC,IAAI,CAAC,GAAG,CAAC,CAAC;QACV,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;QACjB,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE;YAC3BD,IAAM,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACvBA,IAAM,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACvBA,IAAM,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACvB,IAAI,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;gBACjB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;gBAC1B,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;gBAC1B,CAAC,IAAI,CAAC,CAAC;aACV;YACD,IAAI,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;gBACjB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;gBAC1B,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;gBAC1B,CAAC,IAAI,CAAC,CAAC;aACV;YACD,IAAI,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;gBACjB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;gBAC1B,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;gBAC1B,CAAC,IAAI,CAAC,CAAC;aACV;SACJ;QACD,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;QAC7B,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,YAAY,CAAC;KAClD;SACI;QACDA,IAAM4B,GAAC,GAAG,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC;QAC7C3B,IAAIsC,gBAAc,CAAC;QACnB,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,GAAGX,GAAC,GAAG,CAAC,EAAE;YAC3DW,gBAAc,GAAG,IAAI,CAAC,cAAc,CAAC;SACxC;aACI;YACDA,gBAAc,GAAG,YAAY,CAACX,GAAC,GAAG,CAAC,EAAEA,GAAC,CAAC,CAAC;SAC3C;QACD,KAAK3B,IAAIa,GAAC,GAAG,CAAC,EAAEqB,GAAC,GAAG,CAAC,EAAErB,GAAC,GAAGc,GAAC,EAAEd,GAAC,IAAI,CAAC,EAAE;YAClCyB,gBAAc,CAACJ,GAAC,GAAG,CAAC,CAAC,GAAGrB,GAAC,CAAC;YAC1ByB,gBAAc,CAACJ,GAAC,GAAG,CAAC,CAAC,GAAGrB,GAAC,GAAG,CAAC,CAAC;YAC9ByB,gBAAc,CAACJ,GAAC,GAAG,CAAC,CAAC,GAAGrB,GAAC,GAAG,CAAC,CAAC;YAC9ByB,gBAAc,CAACJ,GAAC,GAAG,CAAC,CAAC,GAAGrB,GAAC,GAAG,CAAC,CAAC;YAC9ByB,gBAAc,CAACJ,GAAC,GAAG,CAAC,CAAC,GAAGrB,GAAC,GAAG,CAAC,CAAC;YAC9ByB,gBAAc,CAACJ,GAAC,GAAG,CAAC,CAAC,GAAGrB,GAAC,CAAC;YAC1BqB,GAAC,IAAI,CAAC,CAAC;SACV;QACD,IAAI,CAAC,cAAc,GAAGI,gBAAc,CAAC;QACrC,IAAI,CAAC,mBAAmB,GAAGX,GAAC,GAAG,CAAC,CAAC;QACjC,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,YAAY,CAAC;KAClD;EACJ;iBACD,wDAAuB;IACnB,IAAI,CAAC,IAAI,CAAC,iBAAiB,IAAI,CAAC,IAAI,CAAC,cAAc;UAC/C,SAAO;IACX,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC;IACjD,IAAI,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,YAAY;UAC9C,IAAI,CAAC,kBAAkB,EAAE,GAAC;IAC9B,IAAI,IAAI,CAAC,iBAAiB,CAAC,KAAK;QAC5B,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE;QACxE,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,IAAI,eAAe,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,GAAG,qBAAqB,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,CAAC;KAChJ;SACI;QACD5B,IAAM,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC,QAAQ,EAAE,CAAC;QAChD,IAAI,CAAC,KAAK,EAAE;YACR,GAAG,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;YAC3B,OAAO;SACV;QACD,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAC/B,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;QACjD,KAAK,CAAC,WAAW,CAAC,KAAK,GAAG,IAAI,CAAC,mBAAmB,CAAC;KACtD;IACD,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,CAAC,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;EACpE;iBACD,4CAAiB;IACbC,IAAI,WAAW,GAAG,CAAC,CAAC;IACpB,IAAI,IAAI,CAAC,MAAM,EAAE;QACb,WAAW,GAAG,CAAC,CAAC;KACnB;SACI,IAAI,IAAI,CAAC,WAAW,EAAE;QACvB,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,WAAW,GAAG,CAAC,CAAC;SACnB;aACI;YACD,WAAW,GAAG,CAAC,CAAC;SACnB;KACJ;IACD,OAAO,WAAW,CAAC;EACtB;iBACD,8BAAS,YAAY,EAAE;IACnB,IAAI,CAAC,IAAI,CAAC,QAAQ;UACd,IAAI,CAAC,YAAY,EAAE,GAAC;IACxBD,IAAM,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC;IACxBA,IAAM,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC;IAC7BC,IAAI,IAAI,CAAC;IACT,IAAI,IAAI,CAAC,MAAM,EAAE;QACb,IAAI,GAAG,IAAI,YAAY,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;KACjC;SACI,IAAI,IAAI,CAAC,OAAO,EAAE;QACnB,IAAI,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;KAC3B;SACI;QACD,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;KACzB;IACD,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;IAC3B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;IACzC,OAAO,IAAI,CAAC;EACf;iBACD,8BAAU;IACN,OAAO,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;EACpC;iBACD,gDAAmB;IACfA,IAAI,IAAI,CAAC;IACT,IAAI,CAAC,IAAI,CAAC,QAAQ;UACd,IAAI,CAAC,YAAY,EAAE,GAAC;IACxB,IAAI,CAAC,IAAI,CAAC,iBAAiB;UACvB,IAAI,CAAC,qBAAqB,EAAE,GAAC;IACjC,IAAI,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;IACxE,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;IAC3B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;IACzC,OAAO,IAAI,CAAC;EACf;iBACD,4CAAiB;IACb,OAAO,IAAI,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC;EAC3C;iBACD,kCAAU,IAAI,EAAE,IAAI,EAAE;IAClB,OAAO,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC;EACjD;iBACD,4CAAgB,IAAI,EAAE;IAClB,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;EAClD;iBACD,gDAAkB,IAAI,EAAE;IACpB,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;EACpD;iBACD,kCAAW,IAAI,EAAE;IACbD,IAAM,OAAO,GAAG,EAAE,CAAC;IACnB,IAAI,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE;QAC1B,OAAO,CAAC,SAAS,GAAG,CAAC,CAAC;KACzB;IACD,IAAI,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE;QAC5B,OAAO,CAAC,WAAW,GAAG,CAAC,CAAC;KAC3B;IACD,IAAI,IAAI,KAAK,SAAS,EAAE;QACpB,OAAO,CAAC,OAAO,GAAG,CAAC,CAAC;KACvB;SACI;QACD,IAAI,IAAI,KAAK,YAAY,IAAI,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE;YACrD,OAAO,CAAC,OAAO,GAAG,CAAC,CAAC;SACvB;QACD,IAAI,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE;YAC5B,OAAO,CAAC,WAAW,GAAG,CAAC,CAAC;SAC3B;QACD,IAAI,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE;YAC5B,OAAO,CAAC,WAAW,GAAG,CAAC,CAAC;SAC3B;QACD,IAAI,IAAI,CAAC,UAAU,CAAC,eAAe,EAAE;YACjC,OAAO,CAAC,gBAAgB,GAAG,CAAC,CAAC;SAChC;QACD,IAAI,IAAI,CAAC,UAAU,CAAC,gBAAgB,EAAE;YAClC,OAAO,CAAC,kBAAkB,GAAG,CAAC,CAAC;SAClC;KACJ;IACD,OAAO,OAAO,CAAC;EAClB;iBACD,0CAAgB;IACZ,OAAO,IAAI,CAAC,UAAU,CAAC;EAC1B;iBACD,oCAAY,QAAQ,EAAE;IAClB,IAAI,CAAC,QAAQ,GAAG,aAAa,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC;IAC/D,IAAI,CAAC,eAAe,GAAG,aAAa,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,eAAe,EAAE,QAAQ,CAAC,CAAC,CAAC;EAChF;iBACD,wCAAc,UAAU,EAAE;IACtB,KAAKC,IAAI,IAAI,IAAI,UAAU,EAAE;QACzBA,IAAI,cAAG,CAAC;QACRD,IAAM,CAAC,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC;QAC3BA,IAAM,SAAS,GAAG,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;QACxD,IAAI,CAAC,CAAC,KAAK,EAAE;YACT,IAAI,SAAS,KAAK,CAAC,CAAC,KAAK,CAAC,MAAM,EAAE;gBAC9B,GAAG,CAAC,KAAK,CAAC,kCAAkC,EAAE,IAAI,CAAC,CAAC;aACvD;YACD,GAAG,GAAG,CAAC,CAAC,KAAK,CAAC;SACjB;aACI;YACD,GAAG,GAAG,aAAa,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;SAC7C;QACD,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,eAAe,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,GAAG,qBAAqB,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,CAAC;KAChJ;EACJ;iBACD,kDAAoB;IAChBA,IAAM,WAAW,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;IAC1C,SAAS,cAAc,CAAC,IAAI,EAAE;QAC1B,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;KAClC;IACD,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;IAC5C,IAAI,IAAI,CAAC,YAAY,EAAE;QACnB,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;KACtD;EACJ;iBACD,wCAAe;IACXA,IAAM,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC;IACxBA,IAAM,EAAE,GAAG,IAAI,CAAC,iBAAiB,CAAC;IAClCA,IAAM,EAAE,GAAG,IAAI,CAAC,eAAe,CAAC;IAChC,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;IACxC,CAAC,CAAC,cAAc,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC5C,CAAC,CAAC,WAAW,GAAG,IAAI,CAAC;IACrB,EAAE,CAAC,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;IAC9C,EAAE,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;IAChD,EAAE,CAAC,WAAW,GAAG,IAAI,CAAC;IACtB,EAAE,CAAC,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;IAClD,EAAE,CAAC,cAAc,GAAG,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC;IACtD,EAAE,CAAC,WAAW,GAAG,IAAI,CAAC;EACzB;;;;;;iBAMD,wCAAc,MAAM,EAAE;IAClBA,IAAM,CAAC,GAAG,MAAM,CAAC;IACjBA,IAAM,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC;IAC/BA,IAAM,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC;IAC3BA,IAAM,YAAY,GAAG,EAAE,CAAC;IACxBA,IAAM,WAAW,GAAG,EAAE,CAAC;IACvBC,IAAI,cAAc,GAAG,KAAK,CAAC;IAC3BA,IAAI,kBAAkB,GAAG,KAAK,CAAC;IAC/B,KAAKD,IAAM,IAAI,IAAI,CAAC,EAAE;QAClBA,IAAM,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;QACtB,IAAI,KAAK,KAAK,SAAS;cACnB,WAAS;QACb,EAAE,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;QACjB,IAAI,EAAE,CAAC,IAAI,CAAC,KAAK,SAAS;cACtB,WAAS;QACb,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE;YACnB,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,QAAQ,KAAK,IAAI,EAAE;gBAC5B,YAAY,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC;aAC3C;iBACI;gBACD,YAAY,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;aAC9B;SACJ;QACD,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE;YAClB,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,OAAO,KAAK,IAAI,EAAE;gBAC3B,WAAW,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC;aACzC;iBACI;gBACD,WAAW,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;aAC7B;SACJ;QACD,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,YAAY,EAAE;YACvB,cAAc,GAAG,IAAI,CAAC;SACzB;QACD,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,gBAAgB,EAAE;YAC3B,kBAAkB,GAAG,IAAI,CAAC;SAC7B;QACD,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,KAAK,WAAW,IAAI,KAAK,KAAK,IAAI,EAAE;YACxD,IAAI,CAAC,oBAAoB,EAAE,CAAC;SAC/B;QACD,IAAI,IAAI,KAAK,kBAAkB,EAAE;YAC7B,YAAY,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;SAC/C;QACD,IAAI,IAAI,KAAK,QAAQ,EAAE;YACnB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;SACvB;KACJ;IACD,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;IACjC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;IAC9B,IAAI,cAAc;UACd,IAAI,CAAC,YAAY,EAAE,GAAC;IACxB,IAAI,kBAAkB;UAClB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,GAAC;EACxC;;;;;;;;;iBASD,wCAAc,IAAI,EAAE;IAChBA,IAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;IAC/BA,IAAM,UAAU,GAAG,QAAQ,CAAC,UAAU,CAAC;IACvC,KAAKA,IAAM,IAAI,IAAI,IAAI,EAAE;QACrB,IAAI,IAAI,KAAK,SAAS;cAClB,WAAS;QACbA,IAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;QACzBA,IAAM,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;QAC5B,IAAI,IAAI,KAAK,OAAO,EAAE;YAClBA,IAAM,KAAK,GAAG,QAAQ,CAAC,QAAQ,EAAE,CAAC;YAClC,IAAI,CAAC,KAAK,EAAE;gBACR,GAAG,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;gBAC3B,SAAS;aACZ;YACD,QAAQ,CAAC,YAAY,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC;YACnC,IAAI,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE;gBAC7B,QAAQ,CAAC,QAAQ,CAAC,IAAI,eAAe,CAAC,KAAK,EAAE,CAAC,CAAC;qBAC1C,QAAQ,CAAC,IAAI,CAAC,OAAO,GAAG,qBAAqB,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,CAAC;aACzE;iBACI;gBACD,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBACjB,KAAK,CAAC,WAAW,GAAG,MAAM,GAAG,CAAC,CAAC;gBAC/B,KAAK,CAAC,WAAW,CAAC,KAAK,GAAG,MAAM,CAAC;gBACjC,QAAQ,CAAC,YAAY,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC;aACpC;YACD,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS;kBACzB,IAAI,CAAC,oBAAoB,EAAE,GAAC;SACnC;aACI;YACDA,IAAM,SAAS,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC;YACnC,IAAI,MAAM,GAAG,SAAS,CAAC,KAAK,CAAC,MAAM,EAAE;gBACjC,QAAQ,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,eAAe,CAAC,KAAK,EAAE,SAAS,CAAC,QAAQ,CAAC;qBACrE,QAAQ,CAAC,IAAI,CAAC,OAAO,GAAG,qBAAqB,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,CAAC;aACzE;iBACI;gBACD,UAAU,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBAC5B,UAAU,CAAC,IAAI,CAAC,CAAC,WAAW,GAAG,MAAM,GAAG,CAAC,CAAC;gBAC1C,UAAU,CAAC,IAAI,CAAC,CAAC,WAAW,CAAC,KAAK,GAAG,MAAM,CAAC;aAC/C;SACJ;KACJ;EACJ;iBACD,oCAAY,IAAI,EAAE;IACd,IAAI,CAAC,IAAI;UACL,SAAO;IACXA,IAAM,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC;IACjCA,IAAM,EAAE,GAAG,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC;IAC3CA,IAAM,EAAE,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC;IACzC,KAAKC,IAAI,IAAI,IAAI,IAAI,EAAE;QACnB,IAAI,IAAI,KAAK,SAAS,EAAE;YACpB,IAAI,CAAC,aAAa,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;SACzD;QACD,IAAI,CAAC,CAAC,IAAI,CAAC,KAAK,SAAS,EAAE;YACvB,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,SAAS,EAAE;gBACzB,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;aAClC;iBACI,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE;gBACxB,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;aACjC;iBACI;gBACD,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;aAC9B;SACJ;QACD,IAAI,EAAE,CAAC,IAAI,CAAC,KAAK,SAAS,EAAE;YACxB,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,SAAS,EAAE;gBAC1B,EAAE,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;aACnC;iBACI,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE;gBACzB,EAAE,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;aAClC;iBACI;gBACD,EAAE,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;aAC/B;SACJ;QACD,IAAI,EAAE,CAAC,IAAI,CAAC,KAAK,SAAS,EAAE;YACxB,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,SAAS,EAAE;gBAC1B,EAAE,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;aACnC;iBACI,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE;gBACzB,EAAE,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;aAClC;iBACI;gBACD,EAAE,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;aAC/B;SACJ;KACJ;EACJ;iBACD,wCAAc,IAAI,EAAE;IAChB,IAAI,CAAC,IAAI;UACL,SAAO;IACXD,IAAM,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC;IACxBA,IAAM,EAAE,GAAG,IAAI,CAAC,iBAAiB,CAAC;IAClCA,IAAM,EAAE,GAAG,IAAI,CAAC,eAAe,CAAC;IAChC,KAAKA,IAAM,KAAK,IAAI,IAAI,EAAE;QACtBA,IAAM,IAAI,GAAG,KAAK,CAAC;QACnBC,IAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;QACvB,IAAI,IAAI,KAAK,aAAa,EAAE;YACxB,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC5B;aACI,IAAI,IAAI,KAAK,MAAM,EAAE;YACtB,KAAK,GAAG,YAAY,CAAC,KAAK,CAAC,CAAC;SAC/B;QACD,CAAC,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;QAChB,EAAE,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;QACjB,EAAE,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;KACpB;IACD,CAAC,CAAC,WAAW,GAAG,IAAI,CAAC;IACrB,EAAE,CAAC,WAAW,GAAG,IAAI,CAAC;IACtB,EAAE,CAAC,WAAW,GAAG,IAAI,CAAC;EACzB;;;;;;iBAMD,wCAAc,KAAK,EAAE;IACjB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACrB,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE;QAC3B,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,cAAc,CAAC,OAAO,GAAG,KAAK,CAAC;QACpC,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,YAAY,CAAC,OAAO,GAAG,KAAK,CAAC;SACrC;KACJ;SACI;QACD,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,cAAc,CAAC,OAAO,GAAG,KAAK,CAAC;QACpC,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,YAAY,CAAC,OAAO,GAAG,KAAK,CAAC;SACrC;KACJ;EACJ;;;;;iBAKD,8BAAU;IACN,IAAI,IAAI,CAAC,QAAQ;UACb,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,GAAC;IAC5B,IAAI,IAAI,CAAC,iBAAiB;UACtB,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,GAAC;IACrC,IAAI,IAAI,CAAC,eAAe;UACpB,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,GAAC;IACnC,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;IACxB,IAAI,IAAI,CAAC,iBAAiB;UACtB,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,GAAC;EACxC;;;;iBAID,4BAAS;IACL,IAAI,MAAM,GAAG,EAAE,CAAC;IAChB,KAAK,IAAI,CAAC,IAAI,IAAI,EAAE;QAChB,IAAI,CAAC,KAAK,OAAO,IAAI,CAAC,KAAK,gBAAgB,IAAI,CAAC,IAAI,cAAc;eAC3D,CAAC,KAAK,SAAS,EAAE;YACpB,MAAM,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;SACvB;KACJ;IACD,OAAO,MAAM,CAAC;;;kEAErB;;ACvtBD;;;;;AAKA,AAGA;;;;;;;;;;;;;AAaA,IAAM,UAAU;IASZ,mBAAW,CAAC,IAAI,EAAE,MAAW,EAAE;uCAAP,GAAG;;QACvBI,cAAK,OAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QACpB,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC;QAChC,IAAI,CAAC,cAAc,GAAG,WAAW,CAAC;QAClC,IAAI,CAAC,aAAa,CAAC;YACf,QAAQ,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,MAAM,EAAE;SAC/C,CAAC,CAAC;QACH,IAAI,IAAI,CAAC,MAAM,KAAK,SAAS,EAAE;YAC3B,IAAI,CAAC,QAAQ,CAAC,oBAAoB,EAAE,CAAC;SACxC;;;;;;;;EAlBgB,SAoBxB;;ACzCD;;;;;AAKA,AACA;;;AAGA,IAAM,aAAa;IACf,sBAAW,GAAG;QACVA,mBAAK,OAAI,SAAS,CAAC,CAAC;QACpB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;;;;;;;;EAHF,aAK3B;;ACdD;;;;;AAKA,AAGA,SAAS,iBAAiB,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,EAAE;AACnD,SAAS,kBAAkB,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,OAAO,GAAG,KAAK,CAAC,EAAE;;;;;;;;;;;;;;;;AAgBrD,IAAM,iBAAiB,GAKnB,0BAAW,CAAC,MAAM,EAAE;IAChB,IAAI,CAAC,KAAK,GAAG,IAAI,KAAK,EAAE,CAAC;IACzB,IAAI,CAAC,cAAc,GAAG,IAAI,KAAK,EAAE,CAAC;IAClC,IAAI,CAAC,YAAY,GAAG,IAAI,KAAK,EAAE,CAAC;IAChC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;IACtB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;IACrB,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;IACxB,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC;IACnC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;IAC9B,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;IAChC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;IAC9B,IAAI,CAAC,KAAK,GAAG,IAAI,KAAK,EAAE,CAAC;IACzB,IAAI,CAAC,cAAc,GAAG,IAAI,KAAK,EAAE,CAAC;IAClC,IAAI,CAAC,YAAY,GAAG,IAAI,KAAK,EAAE,CAAC;;IAEhC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;IAC5BL,IAAM,WAAW,GAAG,MAAM,CAAC;IAC3BA,IAAM,UAAU,GAAG,IAAI,MAAM,CAAC,WAAW,CAAC;QACtC,QAAQ,EAAE,IAAI,YAAY,CAAC,CAAC,CAAC;KAChC,CAAC,CAAC;IACH,WAAW,CAAC,YAAY,EAAE,CAAC;IAC3B,UAAU,CAAC,YAAY,EAAE,CAAC;IAC1B,UAAU,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;IACpC,UAAU,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;IACtC,UAAU,CAAC,iBAAiB,GAAG,MAAM,CAAC,iBAAiB,CAAC;IACxD,UAAU,CAAC,aAAa,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC,CAAC;IACjD,UAAU,CAAC,YAAY,EAAE,CAAC;IAC1B,WAAW,CAAC,aAAa,CAAC;QACtB,IAAI,EAAE,OAAO;KAChB,CAAC,CAAC;IACH,UAAU,CAAC,aAAa,CAAC;QACrB,IAAI,EAAE,MAAM;QACZ,OAAO,EAAE,UAAU,CAAC,UAAU,CAAC,OAAO;KACzC,CAAC,CAAC;IACH,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACrB,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;IAC/B,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;;;kIAChC;AACDI,qBAAI,uBAAO,CAAC,EAAE;IACV,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;EAC5C;AACDA,qBAAI,yBAAS;IACT,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;EACpC;AACDA,qBAAI,2BAAW;IACX,OAAO,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC;EAC5D;AACDA,qBAAI,6BAAa;IACb,OAAO,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC;EACjC;4BACD,0CAAgB;IACZJ,IAAM,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;IACpD,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;IACnB,OAAO,CAAC,CAAC;EACZ;4BACD,4BAAQ,OAAO,EAAE;IACbC,IAAI,KAAK,EAAE,IAAI,CAAC;IAChB,IAAI,OAAO,EAAE;QACT,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE,CAAC;QACxC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC;KAC7C;SACI;QACD,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;QACjC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;KACtC;IACD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC7B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC3B,IAAI,CAAC,aAAa,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;IACxC,OAAO,IAAI,KAAK,EAAE,CAAC,GAAG,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;EACvC;4BACD,gDAAmB;IACf,OAAO,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC;EACzC;4BACD,4CAAiB;IACb,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;EAC7B;4BACD,wCAAc,IAAI,EAAE;IAChB,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;EACnC;4BACD,wCAAc,IAAI,EAAE;IAChB,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;IAC/B,IAAI,IAAI,CAAC,IAAI,KAAK,OAAO,EAAE;QACvB,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;QAC5C,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC;KAC/C;SACI,IAAI,IAAI,CAAC,IAAI,KAAK,MAAM,EAAE;QAC3B,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC;QAC7C,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;KAC9C;SACI,IAAI,IAAI,CAAC,IAAI,KAAK,QAAQ,EAAE;QAC7B,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;QAC5C,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;KAC9C;IACD,IAAI,IAAI,CAAC,IAAI,KAAK,SAAS,EAAE;QACzB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;KACzB;IACD,OAAO,IAAI,CAAC,IAAI,CAAC;IACjB,IAAI,IAAI,CAAC,MAAM,KAAK,SAAS,EAAE;QAC3B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;KAC7B;IACD,OAAO,IAAI,CAAC,MAAM,CAAC;IACnB,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;IACrC,IAAI,IAAI,CAAC,SAAS,KAAK,SAAS,EAAE;QAC9B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QAChC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;KACpC;IACD,OAAO,IAAI,CAAC,SAAS,CAAC;IACtB,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;EACvC;4BACD,wCAAc,KAAK,EAAE;IACjB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACrB,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE;QAC3B,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,cAAc,CAAC,OAAO,GAAG,KAAK,CAAC;QACpC,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,YAAY,CAAC,OAAO,GAAG,KAAK,CAAC;SACrC;KACJ;SACI;QACD,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,cAAc,CAAC,OAAO,GAAG,KAAK,CAAC;QACpC,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,YAAY,CAAC,OAAO,GAAG,KAAK,CAAC;SACrC;KACJ;EACJ;4BACD,8BAAU;IACN,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;IAC3B,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;EAC7B;;;;;4BAKD,4BAAS;IACL,IAAI,MAAM,GAAG,EAAE,CAAC;IAChB,KAAK,IAAI,CAAC,IAAI,IAAI,EAAE;QAChB,IAAI,CAAC,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE;YACjE,MAAM,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;SACvB;KACJ;IACD,OAAO,MAAM,CAAC;;;6EAErB;;;;;;AC7KD;;;;;AAKA,AAGA;;;AAGA,IAAM,aAAa;IACf,sBAAW,GAAG;QACVI,eAAK,OAAI,SAAS,CAAC,CAAC;QACpB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACnB,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC;QAChC,IAAI,CAAC,cAAc,GAAG,WAAW,CAAC;;;;;;;;EALd,SAO3B;;AClBD;;;;;AAKA,AAOA;;;;;;;;;AASA,IAAM,qBAAqB;GACvB,8BAAW,CAAC,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE;QACjCA,sBAAK,OAAC,OAAO,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;QAC/B,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC;QACtB,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC;YAC5B,YAAY,EAAE;gBACV,IAAI,EAAE,QAAQ;gBACd,OAAO,EAAE;oBACL,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO;iBACrC;aACJ;YACD,QAAQ,EAAE;gBACN,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,IAAI;aACtD;YACD,cAAc,EAAE;gBACZ,IAAI,EAAE,SAAS;aAClB;YACD,cAAc,EAAE;gBACZ,IAAI,EAAE,SAAS;aAClB;YACD,MAAM,EAAE;gBACJ,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC;aACjD;YACD,UAAU,EAAE;gBACR,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI;aACjC;YACD,UAAU,EAAE;gBACR,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI;aAChC;YACD,OAAO,EAAE;gBACL,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;aAClD;YACD,WAAW,EAAE;gBACT,IAAI,EAAE,QAAQ;aACjB;YACD,OAAO,EAAE;gBACL,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI;aACjC;YACD,SAAS,EAAE;gBACP,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI;aACjC;YACD,IAAI,EAAE;gBACF,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI;aACjC;SACJ,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACpB,IAAI,OAAO,YAAY,MAAM,EAAE;YAC3B,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC;YACzB,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC;SACzB;aACI;YACD,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;YACvB,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;SAC3B;QACD,IAAI,CAAC,SAAS,GAAG,IAAI,OAAO,EAAE,CAAC;QAC/B,IAAI,CAAC,WAAW,GAAG,IAAI,OAAO,EAAE,CAAC;QACjC,IAAI,CAAC,GAAG,GAAG,IAAI,IAAI,EAAE,CAAC;QACtB,IAAI,CAAC,KAAK,GAAG,IAAI,IAAI,EAAE,CAAC;QACxB,IAAI,CAAC,SAAS,GAAG,IAAI,OAAO,EAAE,CAAC;QAC/B,IAAI,CAAC,aAAa,GAAG,IAAI,OAAO,EAAE,CAAC;QACnC,IAAI,CAAC,MAAM,GAAG,SAAS,MAAM,GAAG;YAC5B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,MAAM,EAAE,CAAC;YAC/D,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YAChD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;gBACxC,IAAI,CAAC,aAAa,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;aACvD;SACJ,CAAC;QACF,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QAClD,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;;;;uEACrB;oCACD,sBAAK,MAAM,EAAE;QACTL,IAAM,CAAC,GAAG,MAAM,IAAI,EAAE,CAAC;QACvB,CAAC,CAAC,WAAW,GAAG,QAAQ,CAAC,CAAC,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;QACnD,CAAC,CAAC,UAAU,GAAG,QAAQ,CAAC,CAAC,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;QAChD,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,CAAC,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;QACtD,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,CAAC,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;QAC1C,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,CAAC,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;QACxD,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,CAAC,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;QACxD,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;QACpC,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,CAAC,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,CAAC,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;QAC/C,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;QACtC,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,CAAC,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;QACtD,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;QAC1C,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,CAAC,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QAC7C,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QACpCK,2BAAK,CAAC,SAAI,OAAC,CAAC,CAAC,CAAC;QACd,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC3C,IAAI,CAAC,KAAK,EAAE,CAAC;MAChB;oCACD,0BAAO,QAAQ,EAAE;;;QACb,IAAI,CAAC,UAAU,CAAC,OAAO,WAAC,QAAU;YAC9BE,MAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;SAC3B,CAAC,CAAC;QACH,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACjC,QAAQ,EAAE,CAAC;MACd;oCACD,4BAAQ,QAAQ,EAAE;;;QACd,IAAI,IAAI,CAAC,MAAM,EAAE;YACbN,IAAI,QAAQ,CAAC;YACb,IAAI,IAAI,CAAC,YAAY,KAAK,OAAO,EAAE;gBAC/B,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aAC1D;iBACI;gBACD,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;aAC5B;YACD,IAAI,IAAI,CAAC,cAAc;kBACnB,QAAQ,IAAI,CAAC,CAAC,GAAC;YACnB,IAAI,CAAC,IAAI,CAAC,OAAO;gBACb,IAAI,CAAC,UAAU,KAAK,QAAQ;gBAC5B,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,MAAM;gBAC7B,IAAI,CAAC,SAAS,KAAK,IAAI,CAAC,OAAO;gBAC/B,IAAI,CAAC,MAAM,KAAK,IAAI,CAAC,IAAI;gBACzB,IAAI,CAAC,SAAS,KAAK,IAAI,CAAC,OAAO;iBAC9B,IAAI,CAAC,OAAO,GAAG,CAAC;oBACb,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE;gBAC/C,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC;gBAC3B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC;gBAC5B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC;gBAC9B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC;gBACxB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC;gBAC9B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBACtC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBAC1BD,IAAM,eAAe,aAAI,OAAO,EAAK;oBACjCO,MAAI,CAAC,OAAO,GAAG,OAAO,CAAC;oBACvB,QAAQ,EAAE,CAAC;iBACd,CAAC;gBACF,IAAI,IAAI,CAAC,SAAS,EAAE;oBAChB,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,IAAI,EAAE,eAAe,CAAC,CAAC;iBAC/H;qBACI;oBACD,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;iBACzH;aACJ;iBACI;gBACD,QAAQ,EAAE,CAAC;aACd;SACJ;aACI;YACD,QAAQ,EAAE,CAAC;SACd;MACJ;oCACD,4BAAS;QACLP,IAAM,EAAE,GAAG;YACP,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE;YACpC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;YACnD,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE;SACjC,CAAC;QACFC,IAAI,MAAM,CAAC;QACX,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,MAAM,GAAG,IAAI,aAAa,CAAC,EAAE,EAAE,IAAI,CAAC,eAAe,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;SAC9E;aACI;YACD,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE;gBACd,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;gBAChC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE;aACrC,CAAC,CAAC;YACHD,IAAM,aAAa,GAAG,IAAI,aAAa,CAAC,EAAE,EAAE,IAAI,CAAC,eAAe,CAAC;gBAC7D,UAAU,EAAE,IAAI,CAAC,UAAU;gBAC3B,UAAU,EAAE,IAAI,CAAC,UAAU;gBAC3B,YAAY,EAAE,KAAK;aACtB,CAAC,CAAC,CAAC;YACJ,MAAM,GAAG,IAAI,iBAAiB,CAAC,aAAa,CAAC,CAAC;SACjD;QACD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;MAChC;oCACD,0BAAO,IAAI,EAAE;QACT,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,KAAK,CAAC;cAC5B,SAAO;QACX,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;QAClBA,IAAM,WAAW,GAAG,EAAE,CAAC;QACvB,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,WAAW,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC;SACrD;QACD,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,WAAW,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC;SACpE;QACD,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,WAAW,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;SAC/C;QACD,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC;SACjD;QACD,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,UAAU,MAAM,EAAE;YACtC,MAAM,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;SACrC,CAAC,CAAC;MACN;;;;;;;;;;;;;;;oCAeD,wCAAc,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE;QACjC,IAAI,MAAM,IAAI,MAAM,CAAC,YAAY,KAAK,SAAS;YAC3C,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,IAAI,CAAC,YAAY,KAAK,OAAO;gBAC7B,MAAM,CAAC,YAAY,KAAK,OAAO,EAAE;gBACjC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aAC/D;iBACI,IAAI,IAAI,CAAC,YAAY,KAAK,OAAO;gBAClC,MAAM,CAAC,YAAY,KAAK,OAAO,EAAE;gBACjC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aAC/D;YACD,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,YAAY,CAAC;SAC3C;QACD,IAAI,MAAM,IAAI,MAAM,CAAC,SAAS,EAAE;YAC5B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;YACtC,OAAO,MAAM,CAAC,SAAS,CAAC;SAC3B;;QAED,IAAI,MAAM,IAAI,MAAM,CAAC,SAAS,KAAK,MAAM,CAAC,OAAO,KAAK,MAAM,CAAC,OAAO,KAAK,SAAS,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE;YAClG,MAAM,CAAC,SAAS,GAAG,KAAK,CAAC;SAC5B;QACDK,2BAAK,CAAC,kBAAa,OAAC,MAAM,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;QAC3C,IAAI,MAAM,CAAC,MAAM,EAAE;YACf,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;SAChD;QACD,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;SAC9D;QACD,IAAI,MAAM,IAAI,MAAM,CAAC,WAAW,KAAK,SAAS,EAAE;YAC5C,IAAI,IAAI;kBACJ,IAAI,CAAC,KAAK,GAAG,IAAI,GAAC;SACzB;QACD,IAAI,IAAI,CAAC,OAAO,KAAK,MAAM,CAAC,QAAQ,KAAK,SAAS;YAC9C,MAAM,CAAC,cAAc,KAAK,SAAS;YACnC,MAAM,CAAC,MAAM,KAAK,SAAS;YAC3B,MAAM,CAAC,IAAI,KAAK,SAAS;YACzB,MAAM,CAAC,OAAO,KAAK,SAAS;aAC3B,IAAI,CAAC,OAAO,GAAG,CAAC;gBACb,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE;YACpC,IAAI,CAAC,KAAK,CAAC;gBACP,UAAU,EAAE,IAAI;gBAChB,OAAO,EAAE,IAAI;gBACb,OAAO,EAAE,IAAI;gBACb,QAAQ,EAAE,CAAC,IAAI,CAAC,OAAO;aAC1B,CAAC,CAAC;SACN;QACD,OAAO,IAAI,CAAC;MACf;oCACD,4CAAiB;QACbL,IAAM,CAAC,GAAGK,2BAAK,CAAC,mBAAc,KAAC,CAAC,CAAC;QACjC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC;QAC5B,OAAO,CAAC,CAAC;MACZ;oCACD,8BAAU;QACN,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QACrDA,2BAAK,CAAC,YAAO,KAAC,CAAC,CAAC;;;;EAhQY,iBAkQnC;;ACvRD;;;;;AAKA,AAEA;;;AAGA,IAAM,YAAY;;AAOd,aAAO,kCAAW,KAAK,EAAE,KAAK,EAAE;IAC5B,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EACvC;;;;;;;AAOD,aAAO,0CAAe,KAAK,EAAE,KAAK,EAAE;IAChCL,IAAM,EAAE,GAAG,KAAK,CAAC,aAAa,EAAE,CAAC;IACjC,KAAK,CAAC,aAAa,CAAC,EAAE,QAAQ,EAAE,EAAE,CAAC,QAAQ,GAAG,KAAK,GAAG,EAAE,EAAE,CAAC,CAAC;EAC/D;;;;;;;AAOD,aAAO,oCAAY,KAAK,EAAE,KAAK,EAAE;IAC7BA,IAAM,KAAK,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;IAC/BA,IAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC9BA,IAAM,IAAI,GAAG,IAAI,GAAG,cAAc,CAAC,CAAC,GAAG,GAAG,KAAK,IAAI,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;IAC/D,KAAK,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC;EAChC;;;;;;;;AAQD,aAAO,4CAAgB,KAAK,EAAE,KAAK,EAAE;IACjC,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACpCA,IAAM,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC;IACzC,KAAK,CAAC,QAAQ,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EACzC;;;;;;;AAOD,aAAO,0CAAe,KAAK,EAAE,KAAK,EAAE;IAChCA,IAAM,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;IAChC,KAAK,CAAC,kBAAkB,WAAE,QAAQ,EAAE,IAAI,EAAK;QACzC,IAAI,QAAQ,CAAC,IAAI,YAAY,qBAAqB,EAAE;YAChDA,IAAM,CAAC,GAAG,QAAQ,CAAC,aAAa,EAAE,CAAC;YACnC,IAAI,CAAC,CAAC,cAAc,EAAE;gBAClB,QAAQ,CAAC,aAAa,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,QAAQ,GAAG,CAAC,EAAE,CAAC,CAAC;aACxD;SACJ;KACJ,CAAC,CAAC;EACN;;;;;;;;AAQD,aAAO,4BAAQ,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE;IAC1B,KAAK,CAAC,iBAAiB,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;EACvC;;;;;;;;AAQD,aAAO,kCAAW,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE;IAC7B,KAAK,CAAC,iBAAiB,CAAC,MAAM,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;EAC1C;;;;;;;;AAQD,aAAO,oCAAY,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE;IAC9B,KAAK,CAAC,iBAAiB,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;EAC3C;;;;;;;;AAQD,aAAO,8BAAS,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE;IAC3B,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;EAChD;;;;;;;;;AASD,aAAO,wCAAc,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE;IAChC,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;IAC7CA,IAAM,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC;IACzC,KAAK,CAAC,QAAQ,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EACzC;;;;;;;;AAQD,aAAO,8CAAiB,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE;IACnC,KAAK,CAAC,iBAAiB,CAAC,YAAY,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;EAChD;;;;;;;;AAQD,aAAO,oCAAY,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE;IAC9B,KAAK,CAAC,iBAAiB,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;EAC3C;;;;;;;;AAQD,aAAO,oDAAoB,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE;IACtC,KAAK,CAAC,iBAAiB,CAAC,eAAe,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;EACnD;;;;;;;AAOD,aAAO,8BAAS,KAAK,EAAE,YAAY,EAAE;IACjC,IAAI,YAAY,EAAE;QACd,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,CAAC;KAC/D;EACJ;;;;;;;AAOD,aAAO,oCAAY,KAAK,EAAE,YAAY,EAAE;IACpCA,IAAM,EAAE,GAAG,KAAK,CAAC,OAAO,CAAC;IACzBA,IAAM,EAAE,GAAG,KAAK,CAAC,aAAa,EAAE,CAAC;IACjC,IAAI,EAAE,CAAC,OAAO,IAAI,YAAY,EAAE;QAC5BA,IAAM,EAAE,GAAG,YAAY,CAAC,KAAK,CAAC,QAAQ,CAAC;QACvC,EAAE,CAAC,SAAS,GAAG,YAAY,CAAC,QAAQ,EAAE,CAAC;QACvC,EAAE,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,MAAM,CAAC,WAAW,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC;QACzD,EAAE,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC;QAClC,EAAE,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;KAC9B;SACI;QACD,EAAE,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;KAC7B;EACJ;AACD,aAAO,oCAAY,KAAK,EAAE,YAAY,EAAE;IACpC,IAAI,YAAY,KAAK,YAAY,CAAC,IAAI,IAAI,YAAY,CAAC,IAAI,CAAC,EAAE;QAC1DA,IAAM,IAAI,GAAG,YAAY,CAAC,IAAI,IAAI,YAAY,CAAC,eAAe,CAAC;QAC/DA,IAAM,EAAE,GAAG,YAAY,CAAC,SAAS,CAAC;QAClC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;KACxB;SACI;QACD,KAAK,CAAC,YAAY,EAAE,CAAC;KACxB;EAER;AACD,AAAOA,IAAM,kBAAkB,GAAG;IAC9B,OAAO,EAAE;QACL,CAAC,QAAQ,EAAE,YAAY,CAAC,UAAU,CAAC;QACnC,CAAC,cAAc,EAAE,YAAY,CAAC,WAAW,CAAC;QAC1C,CAAC,aAAa,EAAE,YAAY,CAAC,cAAc,CAAC;QAC5C,CAAC,mBAAmB,EAAE,YAAY,CAAC,eAAe,CAAC;QACnD,CAAC,WAAW,EAAE,YAAY,CAAC,UAAU,CAAC;QACtC,CAAC,YAAY,EAAE,YAAY,CAAC,OAAO,CAAC;QACpC,CAAC,gBAAgB,EAAE,YAAY,CAAC,OAAO,CAAC;QACxC,CAAC,iBAAiB,EAAE,YAAY,CAAC,WAAW,CAAC;QAC7C,CAAC,iBAAiB,EAAE,YAAY,CAAC,QAAQ,CAAC;QAC1C,CAAC,aAAa,EAAE,YAAY,CAAC,aAAa,CAAC;QAC3C,CAAC,uBAAuB,EAAE,YAAY,CAAC,gBAAgB,CAAC;QACxD,CAAC,sBAAsB,EAAE,YAAY,CAAC,mBAAmB,CAAC;QAC1D,CAAC,iBAAiB,EAAE,YAAY,CAAC,WAAW,CAAC;QAC7C,CAAC,qBAAqB,EAAE,YAAY,CAAC,WAAW,CAAC;QACjD,CAAC,kBAAkB,EAAE,YAAY,CAAC,QAAQ,CAAC;QAC3C,CAAC,gBAAgB,EAAE,YAAY,CAAC,QAAQ,CAAC;QACzC,CAAC,WAAW,EAAE,YAAY,CAAC,WAAW,CAAC;KAC1C;IACD,KAAK,EAAE;QACH,CAAC,WAAW,EAAE,YAAY,CAAC,UAAU,CAAC;QACtC,CAAC,aAAa,EAAE,YAAY,CAAC,OAAO,CAAC;QACrC,CAAC,YAAY,EAAE,YAAY,CAAC,QAAQ,CAAC;QACrC,CAAC,kBAAkB,EAAE,YAAY,CAAC,WAAW,CAAC;QAC9C,CAAC,6BAA6B,EAAE,YAAY,CAAC,QAAQ,CAAC;QACtD,CAAC,WAAW,EAAE,YAAY,CAAC,WAAW,CAAC;KAC1C;IACD,IAAI,EAAE;QACF,CAAC,QAAQ,EAAE,YAAY,CAAC,cAAc,CAAC;QACvC,CAAC,WAAW,EAAE,YAAY,CAAC,UAAU,CAAC;QACtC,CAAC,aAAa,EAAE,YAAY,CAAC,OAAO,CAAC;QACrC,CAAC,gBAAgB,EAAE,YAAY,CAAC,OAAO,CAAC;QACxC,CAAC,YAAY,EAAE,YAAY,CAAC,aAAa,CAAC;QAC1C,CAAC,iBAAiB,EAAE,YAAY,CAAC,WAAW,CAAC;QAC7C,CAAC,kBAAkB,EAAE,YAAY,CAAC,QAAQ,CAAC;QAC3C,CAAC,WAAW,EAAE,YAAY,CAAC,WAAW,CAAC;KAC1C;IACD,WAAW,EAAE;QACT,CAAC,WAAW,EAAE,YAAY,CAAC,UAAU,CAAC;QACtC,CAAC,gBAAgB,EAAE,YAAY,CAAC,OAAO,CAAC;QACxC,CAAC,iBAAiB,EAAE,YAAY,CAAC,QAAQ,CAAC;QAC1C,CAAC,QAAQ,EAAE,YAAY,CAAC,WAAW,CAAC;QACpC,CAAC,kBAAkB,EAAE,YAAY,CAAC,QAAQ,CAAC;QAC3C,CAAC,WAAW,EAAE,YAAY,CAAC,WAAW,CAAC;KAC1C;CACJ,CAAC;;AClPF;;;;;AAKA,AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,SAAS,iBAAiB,CAAC,GAAG,EAAE;IAC5BA,IAAM,MAAM,GAAG,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IACjCC,IAAI,IAAI,GAAG,EAAE,CAAC;IACd,IAAI,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC;UACzB,IAAI,GAAG,QAAQ,GAAC;IACpB,IAAI,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;UACvB,IAAI,GAAG,MAAM,GAAC;IAClB,IAAI,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC;UACxB,IAAI,GAAG,OAAO,GAAC;IACnB,IAAI,MAAM,CAAC,QAAQ,CAAC,aAAa,CAAC;UAC9B,IAAI,GAAG,aAAa,GAAC;IACzB,IAAI,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC;UACxB,IAAI,GAAG,OAAO,GAAC;IACnB,IAAI,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC;UAC5B,IAAI,GAAG,WAAW,GAAC;IACvB,IAAI,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC;UAC5B,IAAI,GAAG,WAAW,GAAC;IACvBA,IAAI,GAAG,GAAG,CAAC,CAAC;IACZ,IAAI,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC;UACtB,GAAG,IAAI,CAAC,GAAC;IACb,IAAI,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;UACvB,GAAG,IAAI,CAAC,GAAC;IACb,IAAI,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;UACvB,GAAG,IAAI,CAAC,GAAC;IACb,IAAI,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC;UACxB,GAAG,IAAI,CAAC,GAAC;IACbA,IAAI,MAAM,GAAG,CAAC,CAAC;IACf,IAAI,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;UACvB,MAAM,IAAI,CAAC,GAAC;IAChB,IAAI,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC;UACxB,MAAM,IAAI,CAAC,GAAC;IAChB,IAAI,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC;UACzB,MAAM,IAAI,CAAC,GAAC;IAChB,OAAO,CAAC,IAAI,EAAE,GAAG,EAAE,MAAM,CAAC,CAAC;CAC9B;;;;AAID,IAAM,aAAa,GAOf,sBAAW,CAAC,KAAK,EAAE,MAAW,EAAE;mCAAP,GAAG;;IACxB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACnB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;IACrB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,aAAa,CAAC;IACjC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,IAAI,KAAK,CAAC;IACzC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,IAAI,SAAS,CAAC,CAAC;EAC3C;wBACD,oBAAI,IAAa,EAAE;;;;;IACf,IAAI,IAAI,CAAC,QAAQ;UACb,SAAO;IACXD,IAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC;IAChCA,IAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,IAAI,CAAC,CAAC;IACvC,IAAI,CAAC,UAAU,CAAC,OAAO,WAAC,GAAK;QACzB,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,IAAI,CAAC,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,CAAC,MAAM,KAAK,MAAM,EAAE;YACzD,CAAC,CAAC,cAAQ,MAACO,MAAI,CAAC,KAAK,WAAK,MAAI,CAAC,CAAC;SACnC;KACJ,CAAC,CAAC;EACN;;;;;;;;;;;;;;;;;;;;;;;wBAuBD,oBAAI,UAAU,EAAE,QAAQ,EAAE;WACG,GAAG,iBAAiB,CAAC,UAAU;QAAjD;QAAM;QAAK,oBAAwC;IAC1D,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAE,IAAI,OAAE,GAAG,UAAE,MAAM,YAAE,QAAQ,EAAE,CAAC,CAAC;EACzD;;;;;;;;;;;;;;;;;;;;;;;;wBAwBD,0BAAO,UAAU,EAAE,QAAQ,EAAE;IACzBP,IAAM,QAAQ,GAAG,UAAU,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;WACjB,GAAG,iBAAiB,CAAC,UAAU;QAAjD;QAAM;QAAK,oBAAwC;IAC1DA,IAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE;QACnD,OAAO,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,IAAI,KAAK,QAAQ,IAAI,IAAI,KAAK,EAAE,CAAC;aACjD,CAAC,CAAC,GAAG,KAAK,GAAG,KAAK,QAAQ,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC;aACzC,CAAC,CAAC,MAAM,KAAK,MAAM,KAAK,QAAQ,IAAI,MAAM,KAAK,CAAC,CAAC,CAAC;aAClD,CAAC,CAAC,QAAQ,KAAK,QAAQ,IAAI,QAAQ,KAAK,SAAS,CAAC,CAAC,CAAC;KAC5D,CAAC,CAAC;IACH,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;EAChC;;;;;;wBAMD,0BAAO,IAAI,EAAE;;;IACT,IAAI,CAAC,KAAK,EAAE,CAAC;IACbA,IAAM,IAAI,GAAG,kBAAkB,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;IAC5C,IAAI,CAAC,OAAO,WAAC,iBAAUO,MAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,IAAC,CAAC,CAAC;EAC1D;;;;;wBAKD,0BAAQ;IACJ,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC;EAElC;;ACnLD;;;;;;;;AAQA,IAAM,UAAU;;AAIZ,WAAO,8BAAS,KAAK,EAAE;IACnB,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;EACxB;;;;AAID,WAAO,8CAAiB,KAAK,EAAE;IAC3B,KAAK,CAAC,iBAAiB,CAAC,MAAM,EAAE,CAAC;EACpC;;;;AAID,WAAO,kCAAW,KAAK,EAAE;IACrB,KAAK,CAAC,UAAU,EAAE,CAAC;EACtB;;;;AAID,WAAO,kCAAW,KAAK,EAAE;IACrB,KAAK,CAAC,UAAU,EAAE,CAAC;EACtB;;;;AAID,WAAO,kDAAmB,KAAK,EAAE;IAC7BP,IAAM,CAAC,GAAG,KAAK,CAAC,aAAa,EAAE,CAAC;IAChC,KAAK,CAAC,aAAa,CAAC,EAAE,WAAW,EAAE,CAAC,CAAC,WAAW,KAAK,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;EAE3E;AACD,AAAOA,IAAM,gBAAgB,GAAG;IAC5B,OAAO,EAAE;QACL,CAAC,GAAG,EAAE,UAAU,CAAC,UAAU,CAAC;QAC5B,CAAC,GAAG,EAAE,UAAU,CAAC,UAAU,CAAC;QAC5B,CAAC,GAAG,EAAE,UAAU,CAAC,gBAAgB,CAAC;QAClC,CAAC,GAAG,EAAE,UAAU,CAAC,kBAAkB,CAAC;QACpC,CAAC,GAAG,EAAE,UAAU,CAAC,QAAQ,CAAC;KAC7B;CACJ,CAAC;;ACjDF;;;;;AAKA,AACA;;;AAGA,IAAM,WAAW,GAOb,oBAAW,CAAC,KAAK,EAAE,MAAW,EAAE;mCAAP,GAAG;;IACxB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACnB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;IACrB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,IAAI,KAAK,CAAC;IACzC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,IAAI,SAAS,CAAC,CAAC;EAC3C;sBACD,oBAAI,GAAG,EAAE;;;IACL,IAAI,IAAI,CAAC,QAAQ;UACb,SAAO;IACX,IAAI,CAAC,UAAU,CAAC,OAAO,WAAC,GAAK;QACzB,IAAI,CAAC,CAAC,GAAG,KAAK,GAAG,EAAE;YACf,CAAC,CAAC,QAAQ,CAACO,MAAI,CAAC,KAAK,CAAC,CAAC;SAC1B;KACJ,CAAC,CAAC;EACN;;;;;;;;;;;;;;sBAcD,oBAAI,IAAI,EAAE,QAAQ,EAAE;IAChB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,IAAI,YAAE,QAAQ,EAAE,CAAC,CAAC;EACjD;;;;;;;;;;;;;;;;;sBAiBD,0BAAO,IAAI,EAAE,QAAQ,EAAE;IACnBP,IAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE;QACnD,OAAO,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,IAAI;aACnB,CAAC,CAAC,QAAQ,KAAK,QAAQ,IAAI,QAAQ,KAAK,SAAS,CAAC,CAAC,CAAC;KAC5D,CAAC,CAAC;IACH,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;EAChC;;;;;;sBAMD,0BAAO,IAAI,EAAE;;;IACT,IAAI,CAAC,KAAK,EAAE,CAAC;IACbA,IAAM,IAAI,GAAG,gBAAgB,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;IAC1C,IAAI,CAAC,OAAO,WAAC,iBAAUO,MAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,IAAC,CAAC,CAAC;EAC1D;;;;;sBAKD,0BAAQ;IACJ,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC;EAElC;;ACvFD;;;;;AAKA,IAAM,eAAe,GACjB,wBAAW,CAAC,KAAK,EAAE;IACf,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACnB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACnB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,aAAa,CAAC;IACjC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,aAAa,CAAC;IACpC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IACpD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;EACvD;0BACD,8BAAS,CAAC,EAAE,CAAC,EAAE;IACXP,IAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3D,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;IAClD,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,WAAW,EAAE,YAAY,CAAC,CAAC;EAChD;0BACD,8BAAS,CAAC,EAAE,CAAC,EAAE;IACXA,IAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3D,IAAI,YAAY,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE;QAC7D,IAAI,CAAC,KAAK,CAAC,kBAAkB,GAAG,YAAY,CAAC,SAAS,CAAC;QACvD,IAAI,CAAC,KAAK,CAAC,aAAa,GAAG,YAAY,CAAC,IAAI,CAAC;KAChD;IACD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;IAClD,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,WAAW,EAAE,YAAY,CAAC,CAAC;EAChD;0BACD,8BAAU;IACN,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IACvD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;EAE9D;;AChCD;;;;;AAKA,IAAM,aAAa,GACf,sBAAW,CAAC,KAAK,EAAE;IACf,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACnB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACnB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,aAAa,CAAC;IACjC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,aAAa,CAAC;IACpC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IACjD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IACtD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IACnD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IACpD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IACpD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;EAChE;wBACD,yCAAqB;IACjB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;EAC7C;wBACD,gCAAU,KAAK,EAAE;IACb,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;EACtC;wBACD,4BAAQ,EAAE,EAAE,EAAE,EAAE;IACZ,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;EACrC;wBACD,8BAAS,CAAC,EAAE,CAAC,EAAE;IACX,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;EACpC;wBACD,oCAAY,CAAC,EAAE,CAAC,EAAE;IACd,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;EAC1C;wBACD,8BAAS,CAAC,EAAE,CAAC,EAAE;IACX,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;EACpC;wBACD,8BAAU;IACN,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IACpD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IACzD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IACtD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IACvD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;EAE9D;;AC3CD;;;;;AAKA,IAAM,iBAAiB,GACnB,0BAAW,CAAC,KAAK,EAAE;IACf,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACnB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;IAC3B,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC,iBAAiB,CAAC;IACjD,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;EACtD;4BACD,4BAAQ,KAAK,EAAE;IACX,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;EACrC;4BACD,8BAAU;IACN,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;EAE7D;;AClBD;;;;;AAKA,AACAA,IAAM,OAAO,GAAG,2BAA2B,GAAG,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,KAAK,CAAC;AACxE,IAAM,WAAW,GAIb,oBAAW,CAAC,KAAK,EAAE;IACf,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACnB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACnB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,WAAW,CAAC;IAClC,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC;;IAEnD,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;IAC/C,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;IACvC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACzD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC7C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACzC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC/C,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;IACrE,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAAC;IAC/E,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;IAC7D,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;IACzD,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;EAClE;;;;;;sBAMD,gDAAyB;;EAExB;;;;;;sBAMD,4CAAuB;;EAEtB;;;;;;sBAMD,oCAAY,KAAK,EAAE;;IAEfC,IAAI,UAAU,CAAC;IACf,IAAI,KAAK,IAAI,aAAa,CAAC,SAAS,EAAE;QAClC,UAAU,GAAG,KAAK,CAAC,GAAG,CAAC;;KAE1B;SACI;QACD,UAAU,GAAG,MAAM,CAAC,YAAY,CAAC,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC;KAClE;IACD,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;EACjC;sBACD,gDAAmB;IACf,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;EAC3B;sBACD,8BAAU;IACN,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;IACxE,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,YAAY,EAAE,IAAI,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAAC;IAClF,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;IACjE,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;IAC/D,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;EAEzE;;ACxED;;;;;AAKA,AAGA;;;AAGe,IAAM,UAAU,GAU3B,mBAAW,CAAC,SAAS,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAW,EAAE;mCAAP,GAAG;;IAC/C,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;IAC3B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IACzB,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;IAC3C,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;IAC3C,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IAC9C,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;IAC7B,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC;IACrC,IAAI,CAAC,eAAe,GAAG,IAAI,OAAO,EAAE,CAAC;IACrC,IAAI,CAAC,qBAAqB,EAAE,CAAC;IAC7B,IAAI,CAAC,eAAe,GAAG,IAAI,OAAO,EAAE,CAAC;IACrC,IAAI,CAAC,eAAe,GAAG,IAAI,OAAO,EAAE,CAAC;IACrC,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IAC7C,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE;QAC9B,OAAO,EAAE,OAAO;QAChB,QAAQ,EAAE,UAAU;QACpB,aAAa,EAAE,MAAM;QACrB,UAAU,EAAE,QAAQ;QACpB,IAAI,EAAE,UAAU;KACnB,CAAC,CAAC;IACH,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAC9C,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;IACzB,IAAI,CAAC,gBAAgB,EAAE,CAAC;IACxB,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IACrD,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;EAC9E;;;;;;qBAMD,kCAAW,KAAK,EAAE;IACdD,IAAM,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC;IAChD,IAAI,YAAY,KAAK,MAAM,EAAE;QACzB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;QACrC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;KACxC;IACD,IAAI,KAAK,YAAY,WAAW,EAAE;QAC9B,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;KACnC;SACI;QACDA,IAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9C,OAAO,CAAC,SAAS,GAAG,KAAK,CAAC;QAC1B,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,EAAE;YACzB,eAAe,EAAE,sBAAsB;YACvC,KAAK,EAAE,WAAW;YAClB,OAAO,EAAE,KAAK;YACd,UAAU,EAAE,YAAY;SAC3B,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;KACrC;IACD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE,CAAC;IACxD,IAAI,YAAY,KAAK,MAAM,EAAE;QACzB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,YAAY,CAAC;KAC7C;EACJ;;;;;;qBAMD,wCAAc,KAAK,EAAE;IACjB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACrB,IAAI,CAAC,gBAAgB,EAAE,CAAC;EAC3B;qBACD,0CAAgB;IACZ,OAAO,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,OAAO,CAAC;EAC5D;qBACD,gDAAmB;IACf,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,aAAa,EAAE,GAAG,OAAO,GAAG,MAAM,CAAC;EACxE;qBACD,0DAAwB;IACpB,IAAI,CAAC,eAAe;SACf,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;SACnB,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;EAC5C;qBACD,8BAAU;IACN,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;UACrB,SAAO;IACXA,IAAM,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;IAC7BA,IAAM,EAAE,GAAG,IAAI,CAAC,eAAe,CAAC;IAChCA,IAAM,EAAE,GAAG,IAAI,CAAC,eAAe,CAAC;IAChCA,IAAM,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC;IAC5B,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,CAAC;SACxB,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,QAAQ,CAAC;SAC1C,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,MAAM,CAAC;SAC9C,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IACtC,IAAI,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,EAAE;QAC5B,CAAC,CAAC,OAAO,GAAG,MAAM,CAAC;QACnB,OAAO;KACV;SACI;QACD,CAAC,CAAC,OAAO,GAAG,OAAO,CAAC;KACvB;IACDA,IAAM,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;IAC5CA,IAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC;IAClC,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC,GAAG,UAAU,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE,QAAQ,EAAE,CAAC;IAClE,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,KAAK,IAAI,GAAG,CAAC,EAAE,QAAQ,EAAE,CAAC;IAC5D,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,mBAAmB,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;IACtD,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC;IACxD,CAAC,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,KAAK,GAAG,CAAC,IAAI,IAAI,CAAC;EACxD;;;;;qBAKD,8BAAU;IACN,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAC9C,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IACtD,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;;;AClItF;;;;;AAKA,AAGAA,IAAMoB,iBAAe,GAAG,IAAI,OAAO,EAAE,CAAC;AACtCpB,IAAMqB,iBAAe,GAAG,IAAI,OAAO,EAAE,CAAC;AACtCrB,IAAMwC,qBAAmB,GAAG,IAAI,UAAU,EAAE,CAAC;;;;AAI7C,IAAM,iBAAiB,GAInB,0BAAW,CAAC,SAAS,EAAE;IACnB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;IAC3B,IAAI,CAAC,OAAO,GAAG;QACX,OAAO,EAAE,IAAI3B,MAAqB,EAAE;KACvC,CAAC;IACF,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;IAC7B,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC;;;iGACxC;;;;;AAKDT,qBAAI,2BAAW;IACX,OAAO,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC;EAClC;;;;;AAKDA,qBAAI,2BAAW;IACX,OAAO,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC;EACpC;;;;;;4BAMD,8BAAU;IACN,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;IAC9B,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC;IAC5B,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;EACnC;;;;;;;4BAOD,sBAAK,IAAI,EAAE,KAAK,EAAE;IACdgB,iBAAe,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;IAC7DC,iBAAe;SACV,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,YAAY,CAACD,iBAAe,CAAC,CAAC;IAC7DA,iBAAe,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;IAC1DA,iBAAe,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;IAC9DA,iBAAe,CAAC,UAAU,CAACA,iBAAe,CAAC,CAAC;IAC5CC,iBAAe,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC;IAC1CA,iBAAe,CAAC,YAAY,CAACD,iBAAe,CAAC,CAAC;IAC9CA,iBAAe,CAAC,gBAAgB,CAACC,iBAAe,EAAE,KAAK,CAAC,CAAC;IACzDmB,qBAAmB,CAAC,qBAAqB,CAACpB,iBAAe,CAAC,CAAC;IAC3D,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,WAAW,CAACoB,qBAAmB,CAAC,CAAC;IAC3D,IAAI,CAAC,OAAO,EAAE,CAAC;;;6EAEtB;;ACtED;;;;;AAKA,AAEOxC,IAAM,kBAAkB,GAAG;IAC9B,EAAE,EAAE,EAAE;IACN,KAAK,EAAE,eAAe;IACtB,UAAU,EAAE,oBAAoB;IAChC,QAAQ,EAAE,wBAAwB;IAClC,SAAS,EAAE,YAAY;IACvB,MAAM,EAAE,MAAM;IACd,MAAM,EAAE,MAAM;IACd,UAAU,EAAE,UAAU;CACzB,CAAC;AACF,IAAM,aAAa,GACf,sBAAW,CAAC,MAAW,EAAE;mCAAP,GAAG;;IACjB,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;IACd,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;IAC1C,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IACvC,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;IACrC,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;EACzC;wBACD,kCAAW,CAAC,EAAE;IACVC,IAAI,CAAC,CAAC;IACN,QAAQ,IAAI,CAAC,IAAI;QACb,KAAK,KAAK;YACN,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;YACV,MAAM;QACV,KAAK,UAAU;YACX,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC;YACf,MAAM;QACV,KAAK,SAAS;YACV,CAAC,GAAG,CAAC,CAAC,OAAO,IAAI,GAAG,CAAC;YACrB,MAAM;QACV,KAAK,QAAQ;YACTD,IAAM,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;YACxB,IAAI,MAAM,KAAK,GAAG,EAAE;gBAChB,CAAC,GAAG,IAAI,CAAC;aACZ;iBACI,IAAI,MAAM,KAAK,GAAG,EAAE;gBACrB,CAAC,GAAG,IAAI,CAAC;aACZ;iBACI,IAAI,MAAM,KAAK,GAAG,EAAE;gBACrB,CAAC,GAAG,IAAI,CAAC;aACZ;iBACI,IAAI,MAAM,KAAK,GAAG,EAAE;gBACrB,CAAC,GAAG,IAAI,CAAC;aACZ;iBACI,IAAI,MAAM,KAAK,GAAG,EAAE;gBACrB,CAAC,GAAG,IAAI,CAAC;aACZ;iBACI,IAAI,oBAAoB,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE;gBAChD,CAAC,GAAG,GAAG,CAAC;aACX;iBACI;gBACD,CAAC,GAAG,GAAG,CAAC;aACX;YACD,MAAM;QACV,KAAK,MAAM;YACP,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC;YACtC,MAAM;QACV,KAAK,UAAU;;;YAGX,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC;YACb,IAAI,CAAC,KAAK,IAAI;kBACV,CAAC,GAAG,IAAI,CAAC,IAAI,GAAC;YAClB,MAAM;QACV;YACI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC;YACd,MAAM;KACb;IACD,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;EAEjD;AACD,aAAa,CAAC,KAAK,GAAG,kBAAkB,CAAC;;AC9EzC;;;;;AAKA,AAGAA,IAAM,YAAY,GAAG,IAAI,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAC7CA,IAAMyC,WAAS,GAAG,IAAI,OAAO,EAAE,CAAC;;;;AAIhC,IAAM,aAAa,GAIf,sBAAW,CAAC,MAAM,EAAE;;IAEhBzC,IAAM,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC;IACtBA,IAAM,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;IACjBA,IAAM,OAAO,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACjCA,IAAM,CAAC,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3BA,IAAM,CAAC,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3BA,IAAM,CAAC,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3BA,IAAM,CAAC,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;;IAE3BA,IAAM,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC;IAC9B,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;IACtB,SAAS,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;IAC3B,WAAW,CAAC,CAAC,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;IACjC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;;;;IAIhBA,IAAM,EAAE,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;;IAElDA,IAAM,GAAG,GAAG,IAAI,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;IACzDA,IAAM,GAAG,GAAG,IAAI,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;IACzDA,IAAM,GAAG,GAAG,IAAI,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;;IAEzDA,IAAM,EAAE,GAAG,GAAG,CAAC,KAAK,EAAE,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;IACjEA,IAAM,EAAE,GAAG,GAAG,CAAC,KAAK,EAAE,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;IACjEA,IAAM,EAAE,GAAG,GAAG,CAAC,KAAK,EAAE,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;;IAEjE,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC,KAAK,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC/B,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC,KAAK,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC/B,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC,KAAK,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC/B,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC,KAAK,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC/B,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC,KAAK,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC/B,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC,KAAK,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;;IAE/B,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;IACjB,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;IACf,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;IACf,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;IACf,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;IACpB,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;IACpB,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;;EAEvB;;;;;;wBAMD,0CAAe,cAA8B,EAAE;uDAAlB,GAAG,IAAI,OAAO;;IACvCA,IAAM,KAAK,GAAG,cAAc,CAAC;IAC7B,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC7D,IAAI,KAAK,CAAC,WAAW,EAAE,GAAG,CAAC,EAAE;QACzB,KAAK,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;KAC7B;IACD,OAAO,KAAK,CAAC;EAChB;;;;;;wBAMD,wDAAsB,cAAiC,EAAE;uDAArB,GAAG,IAAI,UAAU;;IACjDA,IAAM,CAAC,GAAG,cAAc,CAAC;IACzB,CAAC,CAAC,qBAAqB,CAAC,IAAI,CAAC,cAAc,CAACyC,WAAS,CAAC,CAAC,CAAC;IACxD,OAAO,CAAC,CAAC,OAAO,EAAE,CAAC;EACtB;;;;;;;wBAOD,gEAA0B,SAAS,EAAE;IACjCxC,IAAI,GAAG,GAAG,CAAC,QAAQ,CAAC;IACpBA,IAAI,GAAG,GAAG,CAAC,QAAQ,CAAC;IACpBA,IAAI,GAAG,GAAG,CAAC,QAAQ,CAAC;IACpBA,IAAI,GAAG,GAAG,CAAC,QAAQ,CAAC;IACpBA,IAAI,GAAG,GAAG,CAAC,QAAQ,CAAC;IACpBA,IAAI,GAAG,GAAG,CAAC,QAAQ,CAAC;IACpBD,IAAM,CAAC,GAAG,IAAI,OAAO,EAAE,CAAC;IACxBA,IAAM,CAAC,GAAG,IAAI,OAAO,EAAE,CAAC;IACxBA,IAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;IAC3BA,IAAM,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC;IAC1BA,IAAM,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC;IAC1BA,IAAM,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC;IAC1B,SAAS,CAAC,QAAQ,CAAC,UAAU,EAAE,EAAE;QAC7B,oBAAoB,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,MAAM,CAAC,CAAC;QAC9CA,IAAM,GAAG,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,SAAS,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACzDA,IAAM,GAAG,GAAG,CAAC,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;QACjC,IAAI,GAAG,GAAG,CAAC,EAAE;YACT,IAAI,GAAG,GAAG,GAAG;kBACT,GAAG,GAAG,GAAG,GAAC;SACjB;aACI;YACD,IAAI,GAAG,GAAG,GAAG;kBACT,GAAG,GAAG,GAAG,GAAC;SACjB;QACD,oBAAoB,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,MAAM,CAAC,CAAC;QAC9CA,IAAM,GAAG,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,SAAS,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACzDA,IAAM,GAAG,GAAG,CAAC,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;QACjC,IAAI,GAAG,GAAG,CAAC,EAAE;YACT,IAAI,GAAG,GAAG,GAAG;kBACT,GAAG,GAAG,GAAG,GAAC;SACjB;aACI;YACD,IAAI,GAAG,GAAG,GAAG;kBACT,GAAG,GAAG,GAAG,GAAC;SACjB;QACD,oBAAoB,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,MAAM,CAAC,CAAC;QAC9CA,IAAM,GAAG,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,SAAS,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACzDA,IAAM,GAAG,GAAG,CAAC,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;QACjC,IAAI,GAAG,GAAG,CAAC,EAAE;YACT,IAAI,GAAG,GAAG,GAAG;kBACT,GAAG,GAAG,GAAG,GAAC;SACjB;aACI;YACD,IAAI,GAAG,GAAG,GAAG;kBACT,GAAG,GAAG,GAAG,GAAC;SACjB;KACJ,CAAC,CAAC;IACH,OAAO;QACH,GAAG,EAAE,GAAG;QACR,GAAG,EAAE,GAAG;QACR,GAAG,EAAE,GAAG;QACR,GAAG,EAAE,CAAC,GAAG;QACT,GAAG,EAAE,CAAC,GAAG;QACT,GAAG,EAAE,CAAC,GAAG;KACZ,CAAC;EAET;;ACnJD;;;;;AAKA,AAEA,IAAM,cAAc,GAChB,uBAAW,CAAC,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE;IAC7C,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACrB,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;;;4VAC/C;AACDI,qBAAI,yBAAS,EAAE,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAE;AAC3CA,qBAAI,yBAAS,EAAE,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAE;AAC3CA,qBAAI,+BAAe,EAAE,OAAO,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,GAAE;AACvDA,qBAAI,gCAAgB,EAAE,OAAO,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,GAAE;AACzDA,qBAAI,yBAAS,EAAE,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAE;AAC3CA,qBAAI,8BAAc,EAAE,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,GAAE;AACrDA,qBAAI,sBAAM,EAAE,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAE;AACrCA,qBAAI,sBAAM,EAAE,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAE;AACrCA,qBAAI,uBAAO,EAAE,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAE;AACvCA,qBAAI,sBAAM,EAAE,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAE;yBACrC,0CAAe,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE;IACxC,OAAO,IAAI,CAAC,SAAS,CAAC,CAAC,QAAQ,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC;EACxD;yBACD,gCAAU,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE;IACnC,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,MAAM,EAAE;QAChC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;KACzD;IACD,QAAQ,GAAG,CAAC,QAAQ,KAAK,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,QAAQ,GAAG,CAAC,QAAQ,CAAC;IAC/E,QAAQ,GAAG,QAAQ,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;IACxC,OAAO,GAAG,QAAQ,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;IACnCJ,IAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;IAC9BA,IAAM,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;IACtCA,IAAM,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC;IACxCA,IAAM,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;IACpE,IAAI,UAAU,KAAK,IAAI,CAAC,WAAW,EAAE;;QAEjC,OAAO;KACV;SACI,IAAI,QAAQ,KAAK,CAAC,QAAQ,IAAI,QAAQ,KAAK,QAAQ,EAAE;QACtD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;KAC9B;SACI;QACDA,IAAM,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;QACtB,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;;YAEnB,IAAI,CAAC,WAAW,GAAG,IAAI,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YAC1C,IAAI,CAAC,eAAe,GAAG,IAAI,WAAW,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;YAClD,IAAI,SAAS;kBACT,IAAI,CAAC,gBAAgB,GAAG,IAAI,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,GAAC;SACtD;QACDA,IAAM,YAAY,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QACxDA,IAAM,gBAAgB,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QAChEC,IAAI,iBAAiB,CAAC;QACtB,IAAI,SAAS;cACT,iBAAiB,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,gBAAgB,CAAC,GAAC;QAC/DA,IAAI,CAAC,GAAG,CAAC,CAAC;QACV,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;YACxBD,IAAM,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;YACjBA,IAAM,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YAClB,IAAI,CAAC,CAAC,OAAO,IAAI,CAAC,IAAI,QAAQ,IAAI,CAAC,IAAI,QAAQ;iBAC1C,OAAO,KAAK,CAAC,GAAG,QAAQ,IAAI,CAAC,GAAG,QAAQ,CAAC,CAAC,EAAE;gBAC7CA,IAAM,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,YAAY,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;gBACpB,gBAAgB,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,QAAQ,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;gBAC5C,gBAAgB,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,QAAQ,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;gBAC5C,gBAAgB,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,QAAQ,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;gBAC5C,IAAI,SAAS,IAAI,iBAAiB;sBAC9B,iBAAiB,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,GAAC;gBACxC,CAAC,IAAI,CAAC,CAAC;aACV;SACJ;;QAED,IAAI,CAAC,IAAI,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACrD,IAAI,CAAC,QAAQ,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;QACjE,IAAI,SAAS;cACT,IAAI,CAAC,SAAS,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,EAAE,CAAC,CAAC,GAAC;KACpE;IACD,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC;;;0EAErC;AACD,cAAc,CAAC,SAAS,CAAC,gBAAgB,GAAG,MAAM,CAAC,SAAS,CAAC,gBAAgB,CAAC;AAC9E,cAAc,CAAC,SAAS,CAAC,gBAAgB,GAAG,MAAM,CAAC,SAAS,CAAC,gBAAgB,CAAC;AAC9E,cAAc,CAAC,SAAS,CAAC,gBAAgB,GAAG,MAAM,CAAC,SAAS,CAAC,gBAAgB,CAAC;AAC9E,cAAc,CAAC,SAAS,CAAC,eAAe,GAAG,MAAM,CAAC,SAAS,CAAC,eAAe,CAAC;AAC5E,cAAc,CAAC,SAAS,CAAC,YAAY,GAAG,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC;AACtE,cAAc,CAAC,SAAS,CAAC,cAAc,GAAG,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC;AAC1E,cAAc,CAAC,SAAS,CAAC,WAAW,GAAG,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC;;AC1FpE;;;;;AAKA,AACA,IAAM,QAAQ,GACV,iBAAW,CAAC,SAAS,EAAE,SAAS,EAAE;IAC9BA,IAAM,EAAE,GAAG,mBAAmB,CAAC;QAC3B,UAAU,EAAE,SAAS,CAAC,UAAU;QAChC,UAAU,EAAE,SAAS,CAAC,UAAU;QAChC,SAAS,EAAE,SAAS,CAAC,KAAK;QAC1B,SAAS,EAAE,SAAS;KACvB,CAAC,CAAC;IACH,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC,UAAU,CAAC;IAChC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC,WAAW,CAAC;IAClC,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC,UAAU,CAAC;EAEvC;;AClBD;;;;;AAKA,AACA;;;AAGe,IAAM,SAAS;;;;;;;;;;;IAC1B,mBAAI,iCAAiB;QACjB,OAAO;YACH,CAAC,YAAY,EAAE,CAAC,EAAE,OAAO,CAAC;YAC1B,CAAC,YAAY,EAAE,CAAC,EAAE,OAAO,CAAC;YAC1B,CAAC,WAAW,EAAE,CAAC,EAAE,MAAM,CAAC;SAC3B,CAAC;MACL;wBACD,4BAAQ,KAAK,EAAE,KAAK,EAAE,SAAS,EAAE;QAC7B,IAAI,CAAC,UAAU,EAAE,CAAC;QAClBA,IAAM,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;QACrBA,IAAM,GAAG,GAAG,KAAK,CAAC,KAAK,CAAC;QACxBA,IAAM,GAAG,GAAG,KAAK,CAAC,KAAK,CAAC;QACxB,IAAI,GAAG,GAAG,GAAG,EAAE;YACX,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;YACzB,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;SAC5B;aACI;YACD,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;YACzB,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;SAC5B;QACD,IAAI,SAAS;cACT,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,SAAS,GAAC;QAClC,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC;MACnB;wBACD,kDAAmB,KAAK,EAAE,KAAK,EAAE,SAAS,EAAE;QACxC,IAAI,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE;YAC1B,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;YACtC,OAAO,IAAI,CAAC;SACf;QACD,OAAO,KAAK,CAAC;;;;;;EA9BkB;;ACTvC;;;;;AAKA,AACA;;;AAGe,IAAM,SAAS;;;;;;;;;;;IAC1B,mBAAI,iCAAiB;QACjB,OAAO;YACH,CAAC,cAAc,EAAE,CAAC,EAAE,QAAQ,CAAC;YAC7B,CAAC,YAAY,EAAE,CAAC,EAAE,QAAQ,CAAC;YAC3B,CAAC,GAAG,EAAE,CAAC,EAAE,SAAS,CAAC;YACnB,CAAC,GAAG,EAAE,CAAC,EAAE,SAAS,CAAC;YACnB,CAAC,GAAG,EAAE,CAAC,EAAE,SAAS,CAAC;YACnB,CAAC,QAAQ,EAAE,CAAC,EAAE,OAAO,CAAC;YACtB,CAAC,SAAS,EAAE,CAAC,EAAE,SAAS,CAAC;YACzB,CAAC,QAAQ,EAAE,CAAC,EAAE,OAAO,CAAC;YACtB,CAAC,WAAW,EAAE,CAAC,EAAE,SAAS,CAAC;SAC9B,CAAC;MACL;wBACD,gCAAU,CAAC,EAAE,GAAG,EAAE;QACd,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;MACtC;wBACD,gCAAU,CAAC,EAAE;QACTA,IAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QAC5B,OAAO,IAAI,GAAG,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;;;;;;EAnBd;;ACTvC;;;;;AAKA,AACA;;;AAGe,IAAM,YAAY;;;;;;;;;;;IAC7B,mBAAI,iCAAiB;QACjB,OAAO;YACH,CAAC,YAAY,EAAE,CAAC,EAAE,QAAQ,CAAC;YAC3B,CAAC,YAAY,EAAE,CAAC,EAAE,QAAQ,CAAC;YAC3B,CAAC,WAAW,EAAE,CAAC,EAAE,QAAQ,CAAC;YAC1B,CAAC,eAAe,EAAE,CAAC,EAAE,QAAQ,CAAC;YAC9B,CAAC,OAAO,EAAE,CAAC,EAAE,OAAO,CAAC;YACrB,CAAC,QAAQ,EAAE,CAAC,EAAE,OAAO,CAAC;YACtB,CAAC,SAAS,EAAE,CAAC,EAAE,OAAO,CAAC;SAC1B,CAAC;MACL;2BACD,gCAAU,CAAC,EAAE,GAAG,EAAE;QACd,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;MACtC;2BACD,gCAAU,CAAC,EAAE;QACTA,IAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QAC5B,OAAO,IAAI,GAAG,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;MAChD;2BACD,kCAAW,CAAC,EAAE,GAAG,EAAE;QACf,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;MACvC;2BACD,kCAAW,CAAC,EAAE;QACVA,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QAC7B,OAAO,IAAI,GAAG,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;;;;;;EAxBX;;ACT1C;;;;;AAKA,AACA;;;AAGe,IAAM,UAAU;;;;;;;;;;;IAC3B,mBAAI,iCAAiB;QACjB,OAAO;YACH,CAAC,aAAa,EAAE,CAAC,EAAE,QAAQ,CAAC;YAC5B,CAAC,YAAY,EAAE,CAAC,EAAE,QAAQ,CAAC;YAC3B,CAAC,eAAe,EAAE,CAAC,EAAE,QAAQ,CAAC;YAC9B,CAAC,cAAc,EAAE,CAAC,EAAE,QAAQ,CAAC;YAC7B,CAAC,WAAW,EAAE,CAAC,EAAE,OAAO,CAAC;YACzB,CAAC,SAAS,EAAE,CAAC,EAAE,OAAO,CAAC;SAC1B,CAAC;MACL;yBACD,sCAAa,CAAC,EAAE,GAAG,EAAE;QACjBA,IAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAChB,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QACtC,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;MAC7C;yBACD,sCAAa,CAAC,EAAE;QACZC,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;YACxBD,IAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;YACvC,IAAI,IAAI,EAAE;gBACN,SAAS,IAAI,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;aAC1C;iBACI;gBACD,MAAM;aACT;SACJ;QACD,OAAO,SAAS,CAAC;MACpB;yBACD,kCAAW,CAAC,EAAE,GAAG,EAAE;QACfA,IAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAChB,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QACpC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QACxC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QACxC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;MAC3C;yBACD,kCAAW,CAAC,EAAE;QACVC,IAAI,OAAO,GAAG,EAAE,CAAC;QACjB,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;YACxBD,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;YACrC,IAAI,IAAI,EAAE;gBACN,OAAO,IAAI,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;aACxC;iBACI;gBACD,MAAM;aACT;SACJ;QACD,OAAO,OAAO,CAAC;;;;;;EAjDiB;;ACTxC;;;;;AAKA,AACA;;;AAGe,IAAM,UAAU;;;;;;;;;;;IAC3B,mBAAI,iCAAiB;QACjB,OAAO;YACH,CAAC,aAAa,EAAE,CAAC,EAAE,QAAQ,CAAC;YAC5B,CAAC,YAAY,EAAE,CAAC,EAAE,QAAQ,CAAC;SAC9B,CAAC;;;;;;EAL8B;;ACTxC;;;;;AAKA,AAMA,IAAM,WAAW,GACb,oBAAW,CAAC,OAAO,EAAE;IACjB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IACvB,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC,YAAY,CAAC;EACpC;sBACD,gDAAkB,MAAU,EAAE;uCAAN,GAAG;;IACvBA,IAAM,MAAM,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC,MAAM,CAAC;IACzCA,IAAM,IAAI,GAAG,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;IAC/BC,IAAI,CAAC,GAAG,CAAC,CAAC;IACVA,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;IACXD,IAAM,KAAK,GAAG;QACV,IAAI,OAAO,EAAE;QACb,IAAI,OAAO,EAAE;QACb,IAAI,OAAO,EAAE;QACb,IAAI,OAAO,EAAE;KAChB,CAAC;IACF,SAAS,IAAI,GAAG;QACZA,IAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAC3B,CAAC,IAAI,CAAC,CAAC;QACP,OAAO,MAAM,CAAC;KACjB;IACD,SAAS,GAAG,CAAC,GAAG,EAAE;QACd,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;QAC3CA,IAAM,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QACvBA,IAAM,IAAI,GAAG,CAAC,GAAG,GAAG,CAAC;QACrB,CAAC,CAAC,SAAS,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QAC1B,IAAI,MAAM,EAAE;YACRA,IAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,EAAE,IAAI,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;YAChD,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,EAAE;gBACzBD,IAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBAChBA,IAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;gBAChC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;gBAC3D,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;gBAC3D,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;aAC9D;YACD,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACb,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACb,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SAChB;QACD,CAAC,IAAI,CAAC,CAAC;QACP,OAAO,CAAC,CAAC;KACZ;IACD,SAAS,KAAK,GAAG;QACb,CAAC,GAAG,CAAC,CAAC;QACN,CAAC,GAAG,CAAC,CAAC,CAAC;KACV;IACD,OAAO,QAAE,IAAI,QAAE,IAAI,OAAE,GAAG,SAAE,KAAK,EAAE,CAAC;EACrC;sBACD,8BAAS,MAAM,EAAE;IACbA,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;IAC7BA,IAAM,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC;IACpCA,IAAM,CAAC,GAAG,OAAO,CAAC,YAAY,CAAC;IAC/BA,IAAM,iBAAiB,GAAG,OAAO,CAAC,iBAAiB,CAAC;IACpDA,IAAM,GAAG,GAAG,IAAI,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACpCA,IAAM,CAAC,GAAG,MAAM,IAAI,EAAE,CAAC;IACvB,CAAC,CAAC,SAAS,GAAG,SAAS,CAAC;IACxBA,IAAM,UAAU,GAAGM,oBAAkB,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;IACnDN,IAAM,EAAE,GAAG,SAAS,CAAC,eAAe,EAAE,CAAC;IACvCA,IAAM,EAAE,GAAG,SAAS,CAAC,YAAY,EAAE,CAAC;IACpC,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;QACxB,EAAE,CAAC,KAAK,GAAG,iBAAiB,GAAG,CAAC,CAAC;QACjC,EAAE,CAAC,KAAK,GAAG,EAAE,CAAC,cAAc,CAAC;QAC7B,UAAU,CAAC,gBAAgB,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;KAC/C;IACD,OAAO;QACH,OAAO,EAAE,GAAG;KACf,CAAC;EACL;sBACD,oCAAa;IACTD,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;IAC7BA,IAAM,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC;IACpCA,IAAM,CAAC,GAAG,OAAO,CAAC,YAAY,CAAC;IAC/BA,IAAM,iBAAiB,GAAG,OAAO,CAAC,iBAAiB,CAAC;IACpDA,IAAM,IAAI,GAAG,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;IACjCA,IAAM,EAAE,GAAG,SAAS,CAAC,eAAe,EAAE,CAAC;IACvC,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;QACxB,EAAE,CAAC,KAAK,GAAG,iBAAiB,GAAG,CAAC,CAAC;QACjC,IAAI,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,cAAc,CAAC;KAC/B;IACD,OAAO;QACH,SAAS,EAAE,IAAI,UAAU,CAAC,IAAI,EAAE,SAAS,CAAC;KAC7C,CAAC;EACL;sBACD,4BAAQ,MAAM,EAAE;IACZD,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;IAC7BA,IAAM,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC;IACpCA,IAAM,CAAC,GAAG,OAAO,CAAC,YAAY,CAAC;IAC/BA,IAAM,iBAAiB,GAAG,OAAO,CAAC,iBAAiB,CAAC;IACpDA,IAAM,IAAI,GAAG,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;IACjCA,IAAM,aAAa,GAAG,IAAI,aAAa,CAAC,MAAM,CAAC,CAAC;IAChDA,IAAM,EAAE,GAAG,SAAS,CAAC,eAAe,EAAE,CAAC;IACvCA,IAAM,EAAE,GAAG,SAAS,CAAC,YAAY,EAAE,CAAC;IACpC,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;QACxB,EAAE,CAAC,KAAK,GAAG,iBAAiB,GAAG,CAAC,CAAC;QACjC,EAAE,CAAC,KAAK,GAAG,EAAE,CAAC,cAAc,CAAC;QAC7B,IAAI,CAAC,CAAC,CAAC,GAAG,aAAa,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;KAC1C;IACD,OAAO,QAAE,IAAI,EAAE,CAAC;EACnB;sBACD,sCAAc;IACVD,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;IAC7BA,IAAM,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC;IACpCA,IAAM,CAAC,GAAG,OAAO,CAAC,YAAY,CAAC;IAC/BA,IAAM,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;IACjBA,IAAM,MAAM,GAAG,IAAI,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACvCA,IAAM,IAAI,GAAG,IAAI,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACrCA,IAAM,IAAI,GAAG,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;IACjCA,IAAM,MAAM,GAAG,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;IACnCA,IAAM,IAAI,GAAG,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;IACjCA,IAAM,KAAK,GAAG,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;IAClCA,IAAM,MAAM,GAAG,IAAI,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACvCA,IAAM,GAAG,GAAG,IAAI,OAAO,EAAE,CAAC;IAC1BA,IAAM,GAAG,GAAG,IAAI,OAAO,EAAE,CAAC;IAC1BA,IAAM,GAAG,GAAG,IAAI,OAAO,EAAE,CAAC;IAC1BA,IAAM,MAAM,GAAG,IAAI,OAAO,EAAE,CAAC;IAC7BA,IAAM,MAAM,GAAG,IAAI,OAAO,EAAE,CAAC;IAC7BA,IAAM,EAAE,GAAG,IAAI,OAAO,EAAE,CAAC;IACzBA,IAAM,EAAE,GAAG,IAAI,OAAO,EAAE,CAAC;IACzBA,IAAM,EAAE,GAAG,IAAI,OAAO,EAAE,CAAC;IACzBA,IAAM,KAAK,GAAG,IAAI,OAAO,EAAE,CAAC;IAC5BA,IAAM,SAAS,GAAG,IAAI,OAAO,EAAE,CAAC;IAChCA,IAAM,OAAO,GAAG,IAAI,OAAO,EAAE,CAAC;IAC9BA,IAAM,OAAO,GAAG,IAAI,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IACrCA,IAAM,IAAI,GAAG,OAAO,CAAC;IACrBA,IAAM,EAAE,GAAG,SAAS,CAAC,YAAY,EAAE,CAAC;IACpCA,IAAM,EAAE,GAAG,SAAS,CAAC,YAAY,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;IACvEA,IAAM,EAAE,GAAG,SAAS,CAAC,YAAY,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;IACvEA,IAAM,EAAE,GAAG,SAAS,CAAC,YAAY,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;IACvE,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;QACzB,EAAE,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC;QACpB,EAAE,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC;QACpB,EAAE,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC;QACpB,EAAE,CAAC,KAAK,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC;QACnDD,IAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;;QAEhB,GAAG,CAAC,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;QACvB,GAAG,CAAC,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;QACvB,GAAG,CAAC,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;QACvB,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;QAC5B,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;QAC5B,KAAK,CAAC,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,SAAS,EAAE,CAAC;QAC/C,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,GAAG,CAAC,EAAE;YACP,IAAI,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;SACtC;QACDA,IAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;QAC7C,KAAK,CAAC,CAAC,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC5CA,IAAM,YAAY,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC;QACrCA,IAAM,YAAY,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC;QACrC,MAAM,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;;;YAG/C,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,IAAI,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;QACtC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;;QAEnC,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC;QACzD,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC;QACzD,EAAE,CAAC,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;QACtB,EAAE,CAAC,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;QACtB,EAAE,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;QAC1B,EAAE,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;;QAE1B,OAAO,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;QAChC,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;QAC3B,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACtB,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;KACpB;;;;IAID,EAAE,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;IACxB,EAAE,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;IACxB,KAAK,CAAC,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,SAAS,EAAE,CAAC;;IAErC,EAAE,CAAC,KAAK,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;IAC/C,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACjB,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACZ,oBAAoB,CAAC,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;IACpC,EAAE,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;;IAEtB,OAAO,CAAC,UAAU,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;IAChC,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;;;IAG3B,EAAE,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IAChC,EAAE,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IAChC,KAAK,CAAC,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,SAAS,EAAE,CAAC;;IAErC,EAAE,CAAC,KAAK,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC;IACnD,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACjB,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACZ,oBAAoB,CAAC,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;IACpC,EAAE,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;;IAE9B,KAAKC,IAAIa,GAAC,GAAG,CAAC,GAAG,CAAC,EAAEA,GAAC,GAAG,CAAC,EAAE,EAAEA,GAAC,EAAE;QAC5B,EAAE,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,GAAGA,GAAC,CAAC,CAAC;;QAE5B,EAAE,CAAC,KAAK,GAAG,OAAO,CAAC,kBAAkB,CAACA,GAAC,EAAE,IAAI,CAAC,CAAC;QAC/C,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACjB,OAAO,CAAC,UAAU,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;QAChC,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,GAAGA,GAAC,CAAC,CAAC;KAClC;;IAEDd,IAAM,SAAS,GAAG,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;IACtCA,IAAM,QAAQ,GAAG,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;IACrCA,IAAM,OAAO,GAAG,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;IACpCA,IAAM,UAAU,GAAG,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;IACvC,SAAS,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;IACzB,QAAQ,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;IACvB,OAAO,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;IACvB,KAAKC,IAAIa,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAG,CAAC,GAAG,CAAC,EAAE,EAAEA,GAAC,EAAE;QAC5B,SAAS,CAACA,GAAC,CAAC,GAAG,GAAG,IAAI,MAAM,CAACA,GAAC,GAAG,CAAC,CAAC,GAAG,MAAM,CAACA,GAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACrD,QAAQ,CAACA,GAAC,CAAC,GAAG,GAAG,IAAI,KAAK,CAACA,GAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAACA,GAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAClD,OAAO,CAACA,GAAC,CAAC,GAAG,GAAG,IAAI,IAAI,CAACA,GAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAACA,GAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAC/C,EAAE,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,IAAIA,GAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAChC,EAAE,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,IAAIA,GAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAChC,UAAU,CAACA,GAAC,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;KACzE;IACD,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACjC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IAC/B,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;;IAE7Bd,IAAM,OAAO,GAAG,IAAI,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACxC,SAAS,CAAC,IAAI,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAClC,SAAS,CAAC,IAAI,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAClC,KAAKC,IAAIa,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAG,CAAC,GAAG,CAAC,EAAE,EAAEA,GAAC,EAAE;QAC5B,EAAE,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,IAAIA,GAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAChC,EAAE,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,IAAIA,GAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAChC,KAAK,CAAC,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,SAAS,EAAE,CAAC;QACzD,KAAK,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,GAAGA,GAAC,CAAC,CAAC;KACjC;IACD,SAAS,CAAC,IAAI,EAAE,OAAO,EAAE,CAAC,GAAG,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;IACnD,SAAS,CAAC,IAAI,EAAE,OAAO,EAAE,CAAC,GAAG,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;IACnD,OAAO;gBACH,MAAM;QACN,IAAI,EAAE,OAAO;QACb,OAAO,EAAE,UAAU;QACnB,MAAM,EAAE,SAAS;QACjB,IAAI,EAAE,OAAO;QACb,KAAK,EAAE,QAAQ;QACf,MAAM,EAAE,MAAM;KACjB,CAAC;EAET;;AC9PD;;;;;AAKA,AAMA,IAAM,WAAW,GACb,oBAAW,CAAC,OAAO,EAAE;IACjB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IACvB,IAAI,CAAC,WAAW,GAAG,IAAI,WAAW,CAAC,OAAO,CAAC,CAAC;IAC5C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;EAClD;sBACD,4BAAQ,UAAU,EAAE,UAAU,EAAE,QAAQ,EAAE,WAAW,EAAE,YAAY,EAAE;IACjE,UAAU,GAAG,UAAU,IAAI,EAAE,CAAC;IAC9B,UAAU,GAAG,UAAU,IAAI,GAAG,CAAC;IAC/B,QAAQ,GAAG,QAAQ,KAAK,SAAS,GAAG,KAAK,GAAG,QAAQ,CAAC;IACrDd,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;IAC7BA,IAAM,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC;IACpCA,IAAM,CAAC,GAAG,OAAO,CAAC,YAAY,CAAC;IAC/BA,IAAM,iBAAiB,GAAG,OAAO,CAAC,iBAAiB,CAAC;IACpDA,IAAM,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC;IAC1BA,IAAM,EAAE,GAAG,WAAW,IAAI,EAAE,CAAC;IAC7B,EAAE,CAAC,SAAS,GAAG,SAAS,CAAC;IACzBA,IAAM,UAAU,GAAGM,oBAAkB,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;IACpDN,IAAM,aAAa,GAAG,IAAI,aAAa,CAAC,YAAY,CAAC,CAAC;IACtDC,IAAI,CAAC,GAAG,CAAC,CAAC;IACVA,IAAI,CAAC,GAAG,CAAC,CAAC;IACVD,IAAM,IAAI,GAAG,EAAE,CAAC;IAChBA,IAAM,MAAM,GAAG,EAAE,CAAC;IAClBA,IAAM,GAAG,GAAG,EAAE,CAAC;IACfA,IAAM,GAAG,GAAG,EAAE,CAAC;IACfA,IAAM,GAAG,GAAG,EAAE,CAAC;IACfA,IAAM,IAAI,GAAG,EAAE,CAAC;IAChBA,IAAM,IAAI,GAAG,EAAE,CAAC;IAChBA,IAAM,aAAa,GAAG,EAAE,CAAC;IACzBA,IAAM,YAAY,GAAG,EAAE,CAAC;IACxBC,IAAI,OAAO,GAAG,IAAI,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACtCA,IAAI,SAAS,GAAG,IAAI,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACxCA,IAAI,KAAK,EAAE,OAAO,CAAC;IACnBD,IAAM,IAAI,GAAG,IAAI,OAAO,EAAE,CAAC;IAC3BA,IAAM,IAAI,GAAG,IAAI,OAAO,EAAE,CAAC;IAC3BA,IAAM,GAAG,GAAG,SAAS,CAAC,eAAe,EAAE,CAAC;IACxCA,IAAM,GAAG,GAAG,SAAS,CAAC,eAAe,EAAE,CAAC;IACxCA,IAAM,EAAE,GAAG,SAAS,CAAC,YAAY,EAAE,CAAC;IACpCA,IAAM,EAAE,GAAG,IAAI,OAAO,EAAE,CAAC;IACzBA,IAAM,EAAE,GAAG,IAAI,OAAO,EAAE,CAAC;IACzBC,IAAI,KAAK,GAAG,KAAK,CAAC;IAClB,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;QACxB,GAAG,CAAC,KAAK,GAAG,iBAAiB,GAAG,CAAC,CAAC;QAClC,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;QAChC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;YACb,KAAK,GAAG,IAAI,CAAC;SAChB;aACI;YACD,GAAG,CAAC,KAAK,GAAG,iBAAiB,GAAG,CAAC,GAAG,CAAC,CAAC;YACtC,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;YACpC,IAAI,QAAQ,IAAI,GAAG,CAAC,MAAM,KAAK,GAAG,CAAC,MAAM,EAAE;gBACvC,KAAK,GAAG,IAAI,CAAC;aAChB;iBACI,IAAI,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,GAAG,UAAU,EAAE;gBACrC,KAAK,GAAG,IAAI,CAAC;aAChB;iBACI,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,UAAU,EAAE;gBAClC,KAAK,GAAG,IAAI,CAAC;aAChB;SACJ;QACD,IAAI,KAAK,EAAE;YACP,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;gBACX,CAAC,GAAG,CAAC,CAAC;gBACN,KAAK,GAAG,KAAK,CAAC;gBACd,SAAS;aACZ;YACD,EAAE,CAAC,KAAK,GAAG,GAAG,CAAC,cAAc,CAAC;;YAE9B,OAAO,GAAG,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;YAC9C,SAAS,GAAG,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;YAClD,KAAK,GAAG,oBAAoB,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,CAAC;YAClD,OAAO,GAAG,oBAAoB,CAAC,SAAS,CAAC,CAAC;YAC1C,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;YAC1B,oBAAoB,CAAC,IAAI,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;YAC3C,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YAChD,oBAAoB,CAAC,IAAI,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;YAC3C,KAAK,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC7B,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;YACvB,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;YAC3B,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;YACrB,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;YACrB,UAAU,CAAC,gBAAgB,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;YACxC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;YACpB,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC;YACxC,aAAa,CAAC,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC,CAAC;YAC1C,YAAY,CAAC,IAAI,CAAC,iBAAiB,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;YACjD,CAAC,IAAI,CAAC,CAAC;YACP,CAAC,GAAG,CAAC,CAAC;YACN,KAAK,GAAG,KAAK,CAAC;SACjB;KACJ;IACDD,IAAM,OAAO,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC,CAAC;IACvC,OAAO;QACH,IAAI,EAAE,IAAI,YAAY,CAAC,IAAI,CAAC;QAC5B,MAAM,EAAE,IAAI,YAAY,CAAC,MAAM,CAAC;QAChC,KAAK,EAAE,IAAI,YAAY,CAAC,GAAG,CAAC;QAC5B,GAAG,EAAE,IAAI,YAAY,CAAC,GAAG,CAAC;QAC1B,KAAK,EAAE,IAAI,YAAY,CAAC,GAAG,CAAC;QAC5B,OAAO,EAAE,IAAI,UAAU,CAAC,OAAO,EAAE,SAAS,CAAC;QAC3C,IAAI,EAAE,IAAI,YAAY,CAAC,IAAI,CAAC;QAC5B,aAAa,EAAE,aAAa;QAC5B,YAAY,EAAE,YAAY;KAC7B,CAAC;EAET;;ACnHD;;;;;;;;;;;AAWA,IAAM,UAAU,GACZ,mBAAW,CAAC,aAAa,EAAE;IACvB,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;IACnC,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;IAClB,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;EACtC;qBACD,sBAAK,OAAO,EAAE;;IAEV,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;;IAE3B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;EAC1C;qBACD,sBAAM;;IAEFA,IAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;;IAE/BA,IAAM,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;;;IAG/B,IAAI,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;QAChC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;QACtB,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;KACpB;IACD,OAAO,MAAM,CAAC;EACjB;qBACD,wBAAO;IACH,OAAO,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;EAC1B;qBACD,0BAAO,OAAO,EAAE;IACZA,IAAM,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;;IAEhC,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;QAC1B,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,OAAO,EAAE;;;YAG7BD,IAAM,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;YAC/B,IAAI,GAAG,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,EAAE;gBACtB,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;gBACtB,IAAI,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,EAAE;oBACvD,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;iBACpB;qBACI;oBACD,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;iBACpB;aACJ;YACD,OAAO;SACV;KACJ;IACD,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAC;EACtC;qBACD,wBAAO;IACH,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;EAC9B;qBACD,8BAAS,CAAC,EAAE;;IAERA,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;;IAEhC,OAAO,CAAC,GAAG,CAAC,EAAE;;QAEVA,IAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QAC5CA,IAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;;QAErC,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE;YAC1D,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC;YAChC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC;;YAEzB,CAAC,GAAG,OAAO,CAAC;SACf;aACI;;YAED,MAAM;SACT;KACJ;EACJ;qBACD,8BAAS,CAAC,EAAE;;IAERA,IAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;IACnCA,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IAChCA,IAAM,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;IAC9CC,IAAI,WAAW,GAAG,CAAC,CAAC;IACpBA,IAAI,WAAW,GAAG,CAAC,CAAC;IACpB,OAAO,IAAI,EAAE;;QAETD,IAAM,OAAO,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAC5BA,IAAM,OAAO,GAAG,OAAO,GAAG,CAAC,CAAC;;QAE5BC,IAAI,IAAI,GAAG,IAAI,CAAC;;QAEhB,IAAI,OAAO,GAAG,MAAM,EAAE;;YAElBD,IAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YACrC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;;YAEzC,IAAI,WAAW,GAAG,SAAS;kBACvB,IAAI,GAAG,OAAO,GAAC;SACtB;;QAED,IAAI,OAAO,GAAG,MAAM,EAAE;YAClBA,IAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YACrC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;YACzC,IAAI,WAAW,IAAI,IAAI,KAAK,IAAI,GAAG,SAAS,GAAG,WAAW,CAAC;kBACvD,IAAI,GAAG,OAAO,GAAC;SACtB;;QAED,IAAI,IAAI,KAAK,IAAI,EAAE;YACf,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YACrC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,OAAO,CAAC;YAC7B,CAAC,GAAG,IAAI,CAAC;SACZ;aACI;;YAED,MAAM;SACT;KACJ;EAER;;AC9HD;;;;;AAKA,AACA;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,IAAM,MAAM,GACR,eAAW,CAAC,MAAM,EAAE,MAAM,EAAE;IACxB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACrB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACrB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;IAClB,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;IACrBA,IAAM,CAAC,GAAG,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;IAC5BA,IAAM,OAAO,GAAG,IAAI,WAAW,CAAC,CAAC,CAAC,CAAC;IACnC,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;QACxB,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;KAClB;IACD,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IACvB,IAAI,CAAC,KAAK,GAAG,IAAI,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACnC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;EAChD;iBACD,gCAAU,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE;IACvC,IAAI,KAAK,GAAG,IAAI,CAAC,QAAQ;UACrB,IAAI,CAAC,QAAQ,GAAG,KAAK,GAAC;IAC1BD,IAAM,OAAO,GAAG,MAAM,GAAG,QAAQ,CAAC;IAClC,IAAI,OAAO,KAAK,CAAC,EAAE;QACf,OAAO,CAAC,CAAC,CAAC;KACb;IACDA,IAAM,SAAS,GAAG,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;IACvCA,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;IACzB,IAAI,CAAC,WAAW,IAAI,CAAC,CAAC;IACtB,IAAI,OAAO,KAAK,CAAC,EAAE;QACf,KAAK,CAAC,SAAS,CAAC,GAAG,QAAQ,CAAC;QAC5B,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QAC1B,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QAC1B,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC;QAC9B,OAAO,SAAS,CAAC;KACpB;;;;IAIDA,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;IAC7BA,IAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;IAC3BA,IAAM,SAAS,GAAG,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;IACrDA,IAAM,UAAU,GAAG,KAAK,GAAG,CAAC,CAAC;;IAE7BC,IAAI,CAAC,EAAE,GAAG,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,CAAC;IAC/CA,IAAI,IAAI,GAAG,QAAQ,CAAC;IACpBA,IAAI,KAAK,GAAG,MAAM,GAAG,CAAC,CAAC;IACvB,OAAO,KAAK,GAAG,IAAI,EAAE;QACjB,UAAU,GAAG,CAAC,IAAI,GAAG,KAAK,KAAK,CAAC,CAAC;QACjC,UAAU,GAAG,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,CAAC;;QAE1D,GAAG,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;QAC1B,OAAO,CAAC,UAAU,CAAC,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC;QACrC,OAAO,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC;QACrB,UAAU,GAAG,IAAI,CAAC;QAClB,KAAK,CAAC,GAAG,IAAI,EAAE,CAAC,GAAG,KAAK,EAAE,EAAE,CAAC,EAAE;YAC3B,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,GAAG,UAAU,EAAE;;gBAElD,GAAG,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;gBAC1B,OAAO,CAAC,UAAU,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;gBACjC,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;gBACjB,EAAE,UAAU,CAAC;aAChB;SACJ;;QAED,GAAG,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC;QACrB,OAAO,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;QACrC,OAAO,CAAC,UAAU,CAAC,GAAG,GAAG,CAAC;QAC1B,UAAU,GAAG,UAAU,CAAC;QACxB,IAAI,SAAS,KAAK,UAAU,EAAE;YAC1B,MAAM;SACT;aACI,IAAI,SAAS,GAAG,UAAU,EAAE;YAC7B,KAAK,GAAG,UAAU,GAAG,CAAC,CAAC;SAC1B;aACI;YACD,IAAI,GAAG,UAAU,GAAG,CAAC,CAAC;SACzB;KACJ;IACD,KAAK,CAAC,SAAS,CAAC,GAAG,SAAS,CAAC;IAC7B,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC;IACjF,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,CAAC,EAAE,SAAS,EAAE,SAAS,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC;IACnF,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC;IAC9B,OAAO,SAAS,CAAC;EACpB;iBACD,sCAAa,SAAS,EAAE;IACpBD,IAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;IAC9C,OAAO,CAAC,WAAW,KAAK,CAAC,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;EACxE;;;;;;;;;;iBAUD,4BAAQ,KAAK,EAAE,QAAQ,EAAE,WAAW,EAAE;;;IAClCA,IAAM,SAAS,GAAG,IAAI,UAAU,WAAC,YAAK,CAAC,CAAC,CAAC,CAAC,IAAC,CAAC,CAAC;IAC7CA,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;IACzBA,IAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;IAC3BA,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;IAC7BA,IAAM,aAAa,aAAI,SAAS,EAAK;QACjCC,IAAI,SAAS,EAAE,UAAU,CAAC;QAC1BD,IAAM,SAAS,GAAGO,MAAI,CAAC,YAAY,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QACnDP,IAAM,UAAU,GAAG,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC;QACjDA,IAAM,QAAQ,GAAG;YACb,MAAM,CAAC,UAAU,GAAG,CAAC,CAAC;YACtB,MAAM,CAAC,UAAU,GAAG,CAAC,CAAC;YACtB,MAAM,CAAC,UAAU,GAAG,CAAC,CAAC;SACzB,CAAC;QACFA,IAAM,WAAW,GAAGO,MAAI,CAAC,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACjD,SAAS,QAAQ,CAAC,SAAS,EAAE,QAAQ,EAAE;YACnC,SAAS,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC,CAAC;YACtC,IAAI,SAAS,CAAC,IAAI,EAAE,GAAG,QAAQ,EAAE;gBAC7B,SAAS,CAAC,GAAG,EAAE,CAAC;aACnB;SACJ;QACDP,IAAM,SAAS,GAAG,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;QACvCA,IAAM,UAAU,GAAG,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;;QAExC,IAAI,UAAU,KAAK,CAAC,CAAC,IAAI,SAAS,KAAK,CAAC,CAAC,EAAE;YACvC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,GAAG,QAAQ,IAAI,WAAW,GAAG,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;gBACjE,WAAW,IAAI,WAAW,EAAE;gBAC5B,QAAQ,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;aACpC;YACD,OAAO;SACV;QACD,IAAI,UAAU,KAAK,CAAC,CAAC,EAAE;YACnB,SAAS,GAAG,SAAS,CAAC;SACzB;aACI,IAAI,SAAS,KAAK,CAAC,CAAC,EAAE;YACvB,SAAS,GAAG,UAAU,CAAC;SAC1B;aACI;YACD,IAAI,KAAK,CAAC,SAAS,CAAC,IAAI,MAAM,CAAC,UAAU,GAAG,SAAS,CAAC,EAAE;gBACpD,SAAS,GAAG,SAAS,CAAC;aACzB;iBACI;gBACD,SAAS,GAAG,UAAU,CAAC;aAC1B;SACJ;;QAED,aAAa,CAAC,SAAS,CAAC,CAAC;QACzB,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,GAAG,QAAQ,IAAI,WAAW,GAAG,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;YACjE,WAAW,IAAI,WAAW,EAAE;YAC5B,QAAQ,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;SACpC;;QAEDA,IAAM,WAAW,GAAG,EAAE,CAAC;QACvB,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE;YAC3B,IAAI,CAAC,KAAK,SAAS,EAAE;gBACjB,WAAW,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;aAC7B;iBACI;gBACD,WAAW,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;aAC3C;SACJ;QACDD,IAAM,cAAc,GAAGO,MAAI,CAAC,MAAM,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC;QAC1D,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,GAAG,QAAQ,IAAI,IAAI,CAAC,GAAG,CAAC,cAAc,CAAC,GAAG,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;YAC9E,IAAI,CAAC,GAAG,CAAC,cAAc,CAAC,IAAI,WAAW,EAAE;YACzC,IAAI,SAAS,KAAK,SAAS,EAAE;gBACzB,UAAU,GAAG,UAAU,CAAC;aAC3B;iBACI;gBACD,UAAU,GAAG,SAAS,CAAC;aAC1B;YACD,IAAI,UAAU,KAAK,CAAC,CAAC,EAAE;gBACnB,aAAa,CAAC,UAAU,CAAC,CAAC;aAC7B;SACJ;KACJ,CAAC;IACF,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAC9BP,IAAM,MAAM,GAAG,EAAE,CAAC;IAClB,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,EAAE,EAAE,QAAQ,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,EAAE;QACvE,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;KACrC;IACD,OAAO,MAAM,CAAC;EACjB;iBACD,0BAAO,SAAS,EAAE,KAAS,EAAE;qCAAN,GAAG;;IACtBA,IAAI,KAAK,GAAG,CAAC,CAAC;IACd,IAAI,SAAS,KAAK,SAAS,EAAE;QACzB,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;KAC9B;IACD,IAAI,SAAS,KAAK,CAAC,CAAC,EAAE;QAClB,MAAM,IAAI,KAAK,CAAC,cAAc,CAAC,CAAC;KACnC;IACDD,IAAM,GAAG,GAAG,KAAK,GAAG,CAAC,CAAC;IACtBA,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;IACzBA,IAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;IAC3BA,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;IAC7BA,IAAM,SAAS,GAAG,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;IACvCA,IAAM,UAAU,GAAG,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;IACxC,IAAI,SAAS,KAAK,CAAC,CAAC,EAAE;QAClB,IAAI,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;YAC3C,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,EAAE;YAC7C,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAC;SAC9C;QACD,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC;KAC9C;IACD,IAAI,UAAU,KAAK,CAAC,CAAC,EAAE;QACnB,IAAI,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;YAC5C,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,EAAE;YAC7C,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAC;SAC/C;QACD,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC;KAC/C;IACD,OAAO,KAAK,CAAC;EAEpB;;AC9OD;;;;;AAKA,AAEA;;;AAGA,IAAM,SAAS,GAKX,kBAAW,CAAC,SAAS,EAAE,KAAS,EAAE;iCAAN,GAAG;;IAC3B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;IAC3B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACnB,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;IACvC,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC;IAC3C,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC;IACrC,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;IACvC,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;;;mnCACpC;;;;AAIDI,qBAAI,2BAAW,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAE;;;;;AAKlDA,qBAAI,yBAAS;IACT,OAAO,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;EACtD;AACDA,qBAAI,8BAAc;IACd,OAAO,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;EACvD;AACDA,qBAAI,6BAAa;IACb,OAAO,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;EACtD;AACDA,qBAAI,6BAAa;IACb,OAAO,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;EAC1D;;;;AAIDA,qBAAI,0BAAU;IACV,OAAO,CAAC,IAAI,CAAC,8BAA8B,CAAC,CAAC;IAC7C,OAAO,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;EAC5D;AACDA,qBAAI,+BAAe;IACf,OAAO,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EAClD;AACDA,qBAAI,6BAAa,KAAK,EAAE;IACpB,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EACnD;;;;;;AAMDA,qBAAI,yBAAS;IACT,OAAO,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;EACzD;;;;;AAKDA,qBAAI,0BAAU;IACV,OAAO,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;EAC1D;;;;;AAKDA,qBAAI,wBAAQ;IACR,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;EACrD;;;;;AAKDA,qBAAI,4BAAY;IACZ,OAAO,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;EACxD;;;;;AAKDA,qBAAI,0BAAU;IACV,OAAO,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;EACtD;;;;;AAKDA,qBAAI,8BAAc;IACd,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;EAClF;;;;AAIDA,qBAAI,2BAAW;IACX,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;EAClE;AACDA,qBAAI,oCAAoB;IACpB,OAAO,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;EAC1D;;;;;AAKDA,qBAAI,0BAAU;IACV,OAAO,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC;EACnC;;;;AAIDA,qBAAI,yBAAS;IACT,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;EAClC;;;;;AAKDA,qBAAI,2BAAW;IACX,OAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC;EACjC;;;;AAIDA,qBAAI,yBAAS;IACT,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;EAC/B;;;;AAIDA,qBAAI,0BAAU;IACV,OAAO,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC;EAChC;;;;AAIDA,qBAAI,sBAAM;IACN,OAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC;EAC5B;;;;AAIDA,qBAAI,2BAAW;IACX,OAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC;EACjC;;;;;AAKDA,qBAAI,oBAAI;IACJ,OAAO,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EACvC;AACDA,qBAAI,kBAAE,KAAK,EAAE;IACT,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EACxC;;;;AAIDA,qBAAI,oBAAI;IACJ,OAAO,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EACvC;AACDA,qBAAI,kBAAE,KAAK,EAAE;IACT,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EACxC;;;;AAIDA,qBAAI,oBAAI;IACJ,OAAO,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EACvC;AACDA,qBAAI,kBAAE,KAAK,EAAE;IACT,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EACxC;;;;AAIDA,qBAAI,yBAAS;IACT,OAAO,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EAC5C;AACDA,qBAAI,uBAAO,KAAK,EAAE;IACd,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EAC7C;;;;AAIDA,qBAAI,0BAAU;IACV,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EAC7C;AACDA,qBAAI,wBAAQ,KAAK,EAAE;IACf,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EAC9C;;;;AAIDA,qBAAI,4BAAY;IACZ,OAAO,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EAC/C;AACDA,qBAAI,0BAAU,KAAK,EAAE;IACjB,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EAChD;;;;AAIDA,qBAAI,yBAAS;IACT,OAAO,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EAC/C;AACDA,qBAAI,uBAAO,KAAK,EAAE;IACd,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;EAC/C;;;;AAIDA,qBAAI,gCAAgB;IAChB,OAAO,IAAI,CAAC,SAAS,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;EACzF;AACDA,qBAAI,8BAAc,KAAK,EAAE;IACrB,IAAI,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE;QAC9B,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;KACpD;EACJ;;;;AAIDA,qBAAI,yBAAS;IACT,OAAO,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;EAC3E;AACDA,qBAAI,uBAAO,KAAK,EAAE;IACd,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;QACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;KAC7C;EACJ;;;;AAIDA,qBAAI,+BAAe;IACf,OAAO,IAAI,CAAC,SAAS,CAAC,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;EACvF;AACDA,qBAAI,6BAAa,KAAK,EAAE;IACpB,IAAI,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE;QAC7B,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;KACnD;EACJ;;;;AAIDA,qBAAI,2BAAW;IACX,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE;QACzB,OAAO,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KAC9C;SACI;QACD,OAAO,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KACpD;EACJ;AACDA,qBAAI,yBAAS,KAAK,EAAE;IAChB,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE;QACzB,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;KAC/C;EACJ;;AAEDA,qBAAI,4BAAY;IACZ,OAAO,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EAC/C;;;;;;;;oBAQD,8BAAS,QAAQ,EAAE,EAAE,EAAE;IACnB,EAAE,GAAG,EAAE,IAAI,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;IAC9BJ,IAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC;IACvBA,IAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;IAC/BA,IAAM,UAAU,GAAG,QAAQ,CAAC,UAAU,CAAC;IACvCA,IAAM,CAAC,GAAG,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;IACnCA,IAAM,MAAM,GAAG,QAAQ,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;IACzC,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;QACxB,EAAE,CAAC,KAAK,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QAClC,QAAQ,CAAC,EAAE,CAAC,CAAC;KAChB;EACJ;;;;;;;oBAOD,0CAAe,QAAQ,EAAE,GAAG,EAAE;IAC1BD,IAAM,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;IAC1CA,IAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC;IACvB,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,EAAE;QACxB,EAAE,CAAC,KAAK,GAAG,GAAG,KAAK,EAAE,CAAC,UAAU,GAAG,EAAE,CAAC,UAAU,GAAG,EAAE,CAAC,UAAU,CAAC;QACjE,QAAQ,CAAC,EAAE,CAAC,CAAC;KAChB,CAAC,CAAC;IACH,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;EACpB;;;;;;;oBAOD,gCAAU,EAAE,EAAE;IACVC,IAAI,IAAI,GAAG,KAAK,CAAC;IACjB,IAAI,CAAC,cAAc,CAAC,UAAU,GAAG,EAAE;QAC/B,IAAI,EAAE,CAAC,KAAK,KAAK,GAAG,CAAC,KAAK;cACtB,IAAI,GAAG,IAAI,GAAC;KACnB,CAAC,CAAC;IACH,OAAO,IAAI,CAAC;EACf;oBACD,kDAAmB,OAAO,EAAE;IACxBA,IAAI,KAAK,GAAG,CAAC,CAAC;IACdD,IAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC;IACvB,IAAI,CAAC,cAAc,CAAC,UAAU,GAAG,EAAE;QAC/B,IAAI,GAAG,CAAC,MAAM,KAAK,OAAO;cACtB,KAAK,IAAI,CAAC,GAAC;KAClB,CAAC,CAAC;IACH,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;IACjB,OAAO,KAAK,CAAC;EAChB;oBACD,8CAAiB,OAAO,EAAE;IACtB,OAAO,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;EAC/C;;;;;;oBAMD,oCAAa;IACTA,IAAM,iBAAiB,GAAG,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC;IAC7D,IAAI,iBAAiB,CAAC,MAAM,GAAG,CAAC,EAAE;QAC9B,OAAO,iBAAiB,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC;KAC1E;SACI;QACD,OAAO,KAAK,CAAC;KAChB;EACJ;;;;;oBAKD,kCAAY;IACR,IAAI,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;QACtC,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC;KAClC;SACI;QACDA,IAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC;QACnD,QAAQ,YAAY,KAAK,WAAW;YAChC,YAAY,KAAK,OAAO;YACxB,YAAY,KAAK,OAAO,EAAE;KACjC;EACJ;;;;;oBAKD,sCAAc;IACV,OAAO,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;EACjD;;;;;oBAKD,wBAAO;IACHA,IAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC;IACnD,QAAQ,YAAY,KAAK,qBAAqB;QAC1C,YAAY,KAAK,iBAAiB;QAClC,YAAY,KAAK,iBAAiB,EAAE;EAC3C;oBACD,8BAAU;IACN,OAAO,IAAI,CAAC,KAAK,MAAM,IAAI,CAAC,WAAW,CAAC,cAAc,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC;EACpF;;;;;oBAKD,gCAAW;IACP,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,KAAK,CAAC,CAAC;EACxC;;;;;oBAKD,kCAAY;IACR,OAAO,IAAI,CAAC,WAAW,CAAC,YAAY,KAAK,WAAW,CAAC;EACxD;;;;;oBAKD,kCAAY;IACRA,IAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC;IACnD,OAAO,YAAY,KAAK,OAAO,IAAI,YAAY,KAAK,OAAO,CAAC;EAC/D;;;;;oBAKD,0BAAQ;IACJ,OAAO,IAAI,CAAC,WAAW,CAAC,YAAY,KAAK,OAAO,CAAC;EACpD;;;;;oBAKD,0BAAQ;IACJ,OAAO,IAAI,CAAC,WAAW,CAAC,YAAY,KAAK,OAAO,CAAC;EACpD;;;;;oBAKD,8BAAU;IACN,OAAO,IAAI,CAAC,WAAW,CAAC,YAAY,KAAK,SAAS,CAAC;EACtD;;;;;oBAKD,0BAAQ;IACJ,OAAO,IAAI,CAAC,WAAW,CAAC,YAAY,KAAK,OAAO,CAAC;EACpD;;;;;oBAKD,wCAAe;IACX,OAAO,IAAI,CAAC,WAAW,CAAC,YAAY,KAAK,cAAc,CAAC;EAC3D;;;;;oBAKD,8BAAU;IACN,OAAO,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;EAC9C;;;;;oBAKD,8BAAU;IACN,OAAO,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;EAC9C;;;;;oBAKD,4BAAS;IACL,OAAO,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC;EACjE;oBACD,gCAAW;IACP,OAAO,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;EACrD;;;;;oBAKD,4BAAS;IACLA,IAAM,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC,SAAS,CAAC;IACxD,OAAO,SAAS,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,SAAS,CAAC;EACvE;oBACD,oCAAa;IACT,OAAO,IAAI,CAAC,QAAQ,KAAK,CAAC,CAAC;EAC9B;oBACD,8CAAkB;IACdC,IAAI,MAAM,GAAG,KAAK,CAAC;IACnB,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC;UACjB,OAAO,MAAM,GAAC;IAClB,MAAM,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,SAAS,CAAC;IAC3C,OAAO,MAAM,CAAC;EACjB;oBACD,8BAAU,EAAE,OAAO,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC,GAAE;oBAC7C,oCAAa,EAAE,OAAO,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC,GAAE;oBACnD,sCAAc,EAAE,OAAO,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,GAAE;oBACrD,kCAAY,EAAE,OAAO,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC,GAAE;oBACjD,oDAAqB,EAAE,OAAO,IAAI,CAAC,QAAQ,CAAC,kBAAkB,EAAE,CAAC,GAAE;oBACnE,wDAAuB,EAAE,OAAO,IAAI,CAAC,QAAQ,CAAC,oBAAoB,EAAE,CAAC,GAAE;oBACvE,0CAAgB,EAAE,OAAO,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,GAAE;oBACzD,wDAAuB,EAAE,OAAO,IAAI,CAAC,QAAQ,CAAC,oBAAoB,EAAE,CAAC,GAAE;oBACvE,oCAAa,EAAE,OAAO,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC,GAAE;oBACnD,kDAAoB,EAAE,OAAO,IAAI,CAAC,QAAQ,CAAC,iBAAiB,EAAE,CAAC,GAAE;oBACjE,0DAAwB,EAAE,OAAO,IAAI,CAAC,QAAQ,CAAC,qBAAqB,EAAE,CAAC,GAAE;oBACzE,wCAAe,EAAE,OAAO,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC,GAAE;oBACvD,oCAAa,EAAE,OAAO,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC,GAAE;oBACnD,kDAAoB,EAAE,OAAO,IAAI,CAAC,QAAQ,CAAC,iBAAiB,EAAE,CAAC,GAAE;oBACjE,4CAAiB,EAAE,OAAO,IAAI,CAAC,QAAQ,CAAC,cAAc,EAAE,CAAC,GAAE;oBAC3D,oEAA6B,EAAE,OAAO,IAAI,CAAC,QAAQ,CAAC,0BAA0B,EAAE,CAAC,GAAE;;;;;;oBAMnF,kCAAW,IAAI,EAAE;IACbD,IAAM,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC;IAC3BA,IAAM,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC;IAC3BA,IAAM,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;IACtBA,IAAM,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;IACtBA,IAAM,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IAChCA,IAAM,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IAChCA,IAAM,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IAChCA,IAAM,WAAW,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAC1C,OAAO,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;EACjC;;;;;;oBAMD,oCAAY,IAAI,EAAE;IACdA,IAAM,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC;IAC3BA,IAAM,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC;IAC3BA,IAAM,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;IACtBA,IAAM,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;IACtB,IAAI,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,MAAM,EAAE;QAC1BA,IAAM,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;QAC1BA,IAAM,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;;QAE1B,IAAI,EAAE,EAAE,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;cAChE,OAAO,KAAK,GAAC;KACpB;IACDA,IAAM,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IAChCA,IAAM,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IAChCA,IAAM,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IAChCA,IAAM,WAAW,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;;IAE1C,IAAI,WAAW,GAAG,IAAI,IAAI,IAAI,CAAC,IAAI,EAAE;UACjC,OAAO,IAAI,GAAC;IAChB,IAAI,KAAK,CAAC,WAAW,CAAC;UAClB,OAAO,KAAK,GAAC;IACjBA,IAAM,CAAC,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;IACxCA,IAAM,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC;IACnBA,IAAM,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC;IACnB,OAAO,WAAW,IAAI,EAAE,GAAG,EAAE,CAAC,IAAI,WAAW,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC;EAC7D;;;;;;;oBAOD,gDAAkB,KAAK,EAAE,MAAU,EAAE;uCAAN,GAAG;;IAC9B,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;IAC3B,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;IAC3B,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;IAC3B,OAAO,IAAI,CAAC;EACf;;;;;;;oBAOD,4CAAgB,KAAU,EAAE,MAAU,EAAE;qCAAnB,GAAG;uCAAU,GAAG;;IACjCA,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;IACzBA,IAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;IACjC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;IACvC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;IACvC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;IACvC,OAAO,KAAK,CAAC;EAChB;;;;;;oBAMD,gDAAkB,CAAC,EAAE;IACjB,IAAI,CAAC,KAAK,SAAS;UACf,CAAC,GAAG,IAAI,OAAO,EAAE,GAAC;IACtB,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;IACb,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;IACb,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;IACb,OAAO,CAAC,CAAC;EACZ;;;;;;oBAMD,oDAAoB,CAAC,EAAE;IACnB,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACb,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACb,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACb,OAAO,IAAI,CAAC;EACf;;;;;;oBAMD,oCAAY,CAAC,EAAE;IACX,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACd,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACd,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACd,OAAO,IAAI,CAAC;EACf;;;;;;oBAMD,oCAAY,CAAC,EAAE;IACX,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACd,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACd,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACd,OAAO,IAAI,CAAC;EACf;;;;;;oBAMD,4CAAgB,SAAiB,EAAE;6CAAV,GAAG;;IACxBA,IAAM,iBAAiB,GAAG,IAAI,CAAC,iBAAiB,CAAC;IACjDA,IAAM,aAAa,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC;IAC1DA,IAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;IAC1CA,IAAM,YAAY,GAAG,KAAK,CAAC,YAAY,CAAC;IACxCA,IAAM,YAAY,GAAG,KAAK,CAAC,YAAY,CAAC;IACxCC,IAAI,IAAI,EAAE,IAAI,EAAE,kBAAkB,CAAC;IACnCA,IAAI,oBAAoB,CAAC;IACzB,IAAI,CAAC,SAAS;UACV,oBAAoB,GAAG,EAAE,GAAC;IAC9B,IAAI,GAAG,YAAY,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;IAC3C,OAAO,IAAI,KAAK,CAAC,CAAC,EAAE;QAChB,kBAAkB,GAAG,YAAY,CAAC,IAAI,CAAC,GAAG,iBAAiB,CAAC;QAC5D,IAAI,oBAAoB,EAAE;YACtB,oBAAoB,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;YAC9C,IAAI,GAAG,YAAY,CAAC,OAAO,CAAC,aAAa,EAAE,IAAI,GAAG,CAAC,CAAC,CAAC;SACxD;aACI;YACD,OAAO,kBAAkB,CAAC;SAC7B;KACJ;IACD,IAAI,GAAG,YAAY,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;IAC3C,OAAO,IAAI,KAAK,CAAC,CAAC,EAAE;QAChB,kBAAkB,GAAG,YAAY,CAAC,IAAI,CAAC,GAAG,iBAAiB,CAAC;QAC5D,IAAI,oBAAoB,EAAE;YACtB,oBAAoB,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;YAC9C,IAAI,GAAG,YAAY,CAAC,OAAO,CAAC,aAAa,EAAE,IAAI,GAAG,CAAC,CAAC,CAAC;SACxD;aACI;YACD,OAAO,kBAAkB,CAAC;SAC7B;KACJ;IACD,OAAO,oBAAoB,CAAC;EAC/B;;oBAED,wCAAc,SAAiB,EAAE;6CAAV,GAAG;;IACtB,IAAI,IAAI,GAAG,EAAE,CAAC;IACd,IAAI,IAAI,CAAC,OAAO,IAAI,CAAC,SAAS;UAC1B,IAAI,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,GAAG,GAAG,GAAC;IACrC,IAAI,IAAI,CAAC,KAAK,KAAK,SAAS;UACxB,IAAI,IAAI,IAAI,CAAC,KAAK,GAAC;IACvB,IAAI,IAAI,CAAC,OAAO;UACZ,IAAI,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,GAAC;IAC/B,IAAI,IAAI,CAAC,SAAS;UACd,IAAI,IAAI,GAAG,GAAG,IAAI,CAAC,SAAS,GAAC;IACjC,IAAI,IAAI,CAAC,QAAQ;UACb,IAAI,IAAI,GAAG,GAAG,IAAI,CAAC,QAAQ,GAAC;IAChC,IAAI,IAAI,CAAC,MAAM;UACX,IAAI,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,GAAC;IAC9B,IAAI,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,KAAK,GAAG,CAAC;UACnC,IAAI,IAAI,GAAG,GAAG,IAAI,CAAC,UAAU,GAAC;IAClC,OAAO,IAAI,CAAC;EACf;;;;;oBAKD,0BAAQ;IACJ,OAAO,IAAI,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;EACpD;oBACD,gCAAW;IACP,OAAO;QACH,KAAK,EAAE,IAAI,CAAC,KAAK;QACjB,YAAY,EAAE,IAAI,CAAC,YAAY;QAC/B,OAAO,EAAE,IAAI,CAAC,OAAO;QACrB,CAAC,EAAE,IAAI,CAAC,CAAC;QACT,CAAC,EAAE,IAAI,CAAC,CAAC;QACT,CAAC,EAAE,IAAI,CAAC,CAAC;QACT,OAAO,EAAE,IAAI,CAAC,OAAO;QACrB,SAAS,EAAE,IAAI,CAAC,SAAS;QACzB,KAAK,EAAE,IAAI,CAAC,KAAK;QACjB,MAAM,EAAE,IAAI,CAAC,MAAM;QACnB,GAAG,EAAE,IAAI,CAAC,GAAG;QACb,QAAQ,EAAE,IAAI,CAAC,QAAQ;QACvB,MAAM,EAAE,IAAI,CAAC,MAAM;QACnB,OAAO,EAAE,IAAI,CAAC,OAAO;QACrB,MAAM,EAAE,IAAI,CAAC,MAAM;QACnB,QAAQ,EAAE,IAAI,CAAC,QAAQ;QACvB,UAAU,EAAE,IAAI,CAAC,UAAU;KAC9B,CAAC;;;qEAET;;AC5rBD;;;;;AAKA,AAIA,SAAS,eAAe,CAAC,CAAC,EAAE,CAAC,EAAE;IAC3BD,IAAM,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACvBA,IAAM,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACvBA,IAAM,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACvB,OAAO,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;CACtC;AACD,SAAS,aAAa,CAAC,CAAC,EAAE,CAAC,EAAE;IACzB,OAAO,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;CAC3C;AACDA,IAAM,UAAU,GAAG,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;AACvC,IAAM0C,QAAM,GACR,kBAAW,CAAC,SAAS,EAAE,cAAsB,EAAE;mDAAV,GAAG;;IACpC,IAAI,KAAK;UACL,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,GAAC;IAC7B1C,IAAM,MAAM,GAAG,cAAc,GAAG,eAAe,GAAG,aAAa,CAAC;IAChEA,IAAM,MAAM,GAAG,IAAI,YAAY,CAAC,SAAS,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;IACzDA,IAAM,WAAW,GAAG,IAAI,WAAW,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;IACzDC,IAAI,CAAC,GAAG,CAAC,CAAC;IACV,SAAS,CAAC,QAAQ,CAAC,UAAU,EAAE,EAAE;QAC7B,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QACrB,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QACrB,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QACrB,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC;QAC9B,CAAC,IAAI,CAAC,CAAC;KACV,CAAC,CAAC;IACH,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;IAC/B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACrB,IAAI,CAAC,MAAM,GAAG,IAAI0C,MAAO,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;IAC1C,IAAI,KAAK;UACL,GAAG,CAAC,OAAO,CAAC,cAAc,CAAC,GAAC;;EAEnC;mBACD,4BAAQ,KAAK,EAAE,QAAQ,EAAE,WAAW,EAAE;;IAElC,IAAI,KAAK,YAAY,OAAO,EAAE;QAC1B,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;KAC7B;SACI,IAAI,KAAK,YAAY,SAAS,EAAE;QACjC,KAAK,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;KACrC;IACD3C,IAAM,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,UAAU,EAAE,QAAQ,EAAE,WAAW,CAAC,CAAC;IACxEA,IAAM,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;IACpCA,IAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;IAChCA,IAAM,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;IACrCA,IAAM,UAAU,GAAG,EAAE,CAAC;IACtB,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;QAC7CD,IAAM,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;QACtBA,IAAM,SAAS,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACvBA,IAAM,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAClB,UAAU,CAAC,IAAI,CAAC;YACZ,KAAK,EAAE,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;YAC7C,QAAQ,EAAE,IAAI;SACjB,CAAC,CAAC;KACN;;IAED,OAAO,UAAU,CAAC;EAEzB;;AClED;;;;;AAKA,AAAOA,IAAM,SAAS,GAAG;IACrB,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,QAAQ;IACb,GAAG,EAAE,QAAQ;IACb,GAAG,EAAE,QAAQ;IACb,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,KAAK;IACV,GAAG,EAAE,KAAK;IACV,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,QAAQ;IACb,GAAG,EAAE,SAAS;IACd,GAAG,EAAE,SAAS;IACd,GAAG,EAAE,QAAQ;IACb,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,QAAQ;IACb,GAAG,EAAE,SAAS;IACd,GAAG,EAAE,SAAS;IACd,GAAG,EAAE,QAAQ;IACb,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,SAAS;IACd,GAAG,EAAE,SAAS;IACd,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,SAAS;IACd,GAAG,EAAE,SAAS;IACd,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,IAAI;CACZ,CAAC;;AAEF,AAAOA,IAAM,YAAY,GAAG;IACxB,KAAK,EAAE,KAAK;IACZ,MAAM,EAAE,QAAQ;IAChB,SAAS,EAAE,QAAQ;IACnB,UAAU,EAAE,QAAQ;IACpB,SAAS,EAAE,cAAc;IACzB,SAAS,EAAE,QAAQ;IACnB,SAAS,EAAE,QAAQ;IACnB,SAAS,EAAE,cAAc;IACzB,SAAS,EAAE,cAAc;IACzB,WAAW,EAAE,cAAc;IAC3B,YAAY,EAAE,cAAc;IAC5B,WAAW,EAAE,0BAA0B;IACvC,WAAW,EAAE,cAAc;IAC3B,YAAY,EAAE,cAAc;IAC5B,WAAW,EAAE,0BAA0B;IACvC,SAAS,EAAE,cAAc;IACzB,UAAU,EAAE,cAAc;IAC1B,WAAW,EAAE,cAAc;IAC3B,YAAY,EAAE,cAAc;IAC5B,UAAU,EAAE,0BAA0B;IACtC,SAAS,EAAE,0BAA0B;IACrC,SAAS,EAAE,kDAAkD;IAC7D,SAAS,EAAE,0BAA0B;IACrC,YAAY,EAAE,0BAA0B;IACxC,SAAS,EAAE,cAAc;IACzB,UAAU,EAAE,cAAc;IAC1B,SAAS,EAAE,cAAc;IACzB,SAAS,EAAE,cAAc;IACzB,UAAU,EAAE,cAAc;IAC1B,SAAS,EAAE,cAAc;IACzB,UAAU,EAAE,cAAc;IAC1B,SAAS,EAAE,cAAc;IACzB,UAAU,EAAE,cAAc;IAC1B,SAAS,EAAE,cAAc;IACzB,SAAS,EAAE,0BAA0B;IACrC,UAAU,EAAE,0BAA0B;IACtC,SAAS,EAAE,0BAA0B;IACrC,SAAS,EAAE,0BAA0B;IACrC,SAAS,EAAE,0BAA0B;IACrC,SAAS,EAAE,0BAA0B;IACrC,SAAS,EAAE,0BAA0B;IACrC,SAAS,EAAE,kDAAkD;IAC7D,SAAS,EAAE,kDAAkD;IAC7D,SAAS,EAAE,0BAA0B;IACrC,SAAS,EAAE,0BAA0B;IACrC,SAAS,EAAE,0BAA0B;IACrC,eAAe,EAAE,0BAA0B;IAC3C,eAAe,EAAE,0BAA0B;IAC3C,eAAe,EAAE,0BAA0B;IAC3C,eAAe,EAAE,0BAA0B;IAC3C,gBAAgB,EAAE,0BAA0B;IAC5C,gBAAgB,EAAE,0BAA0B;IAC5C,gBAAgB,EAAE,0BAA0B;IAC5C,gBAAgB,EAAE,0BAA0B;IAC5C,iBAAiB,EAAE,0BAA0B;IAC7C,iBAAiB,EAAE,0BAA0B;IAC7C,iBAAiB,EAAE,0BAA0B;IAC7C,iBAAiB,EAAE,0BAA0B;IAC7C,iBAAiB,EAAE,0BAA0B;IAC7C,iBAAiB,EAAE,0BAA0B;IAC7C,kBAAkB,EAAE,0BAA0B;IAC9C,kBAAkB,EAAE,0BAA0B;IAC9C,gBAAgB,EAAE,kDAAkD;IACpE,gBAAgB,EAAE,kDAAkD;IACpE,eAAe,EAAE,kDAAkD;IACnE,eAAe,EAAE,kDAAkD;IACnE,eAAe,EAAE,kDAAkD;IACnE,eAAe,EAAE,kDAAkD;IACnE,eAAe,EAAE,kGAAkG;IACnH,eAAe,EAAE,kGAAkG;IACnH,eAAe,EAAE,kDAAkD;IACnE,eAAe,EAAE,kDAAkD;IACnE,kBAAkB,EAAE,kDAAkD;IACtE,kBAAkB,EAAE,kDAAkD;IACtE,KAAK,EAAE,cAAc;IACrB,MAAM,EAAE,cAAc;IACtB,MAAM,EAAE,cAAc;IACtB,MAAM,EAAE,cAAc;IACtB,KAAK,EAAE,0BAA0B;IACjC,MAAM,EAAE,0BAA0B;IAClC,MAAM,EAAE,cAAc;IACtB,MAAM,EAAE,0BAA0B;IAClC,OAAO,EAAE,0BAA0B;IACnC,QAAQ,EAAE,0BAA0B;IACpC,OAAO,EAAE,0BAA0B;IACnC,QAAQ,EAAE,0BAA0B;IACpC,OAAO,EAAE,kDAAkD;IAC3D,QAAQ,EAAE,kDAAkD;IAC5D,SAAS,EAAE,0BAA0B;IACrC,UAAU,EAAE,0BAA0B;IACtC,UAAU,EAAE,0BAA0B;IACtC,WAAW,EAAE,0BAA0B;IACvC,UAAU,EAAE,0BAA0B;IACtC,WAAW,EAAE,0BAA0B;IACvC,UAAU,EAAE,0BAA0B;IACtC,WAAW,EAAE,0BAA0B;IACvC,SAAS,EAAE,kDAAkD;IAC7D,UAAU,EAAE,kDAAkD;IAC9D,SAAS,EAAE,0BAA0B;IACrC,SAAS,EAAE,0BAA0B;IACrC,UAAU,EAAE,0BAA0B;IACtC,UAAU,EAAE,0BAA0B;IACtC,SAAS,EAAE,0BAA0B;IACrC,SAAS,EAAE,0BAA0B;IACrC,UAAU,EAAE,0BAA0B;IACtC,UAAU,EAAE,0BAA0B;IACtC,SAAS,EAAE,kDAAkD;IAC7D,SAAS,EAAE,kDAAkD;IAC7D,UAAU,EAAE,kDAAkD;IAC9D,UAAU,EAAE,kDAAkD;IAC9D,UAAU,EAAE,0BAA0B;IACtC,UAAU,EAAE,0BAA0B;IACtC,WAAW,EAAE,0BAA0B;IACvC,WAAW,EAAE,0BAA0B;IACvC,UAAU,EAAE,0BAA0B;IACtC,UAAU,EAAE,0BAA0B;IACtC,UAAU,EAAE,0BAA0B;IACtC,UAAU,EAAE,0BAA0B;IACtC,UAAU,EAAE,kDAAkD;IAC9D,UAAU,EAAE,kDAAkD;IAC9D,UAAU,EAAE,kDAAkD;IAC9D,UAAU,EAAE,kDAAkD;IAC9D,eAAe,EAAE,kDAAkD;IACnE,eAAe,EAAE,kDAAkD;IACnE,eAAe,EAAE,kDAAkD;IACnE,eAAe,EAAE,kDAAkD;IACnE,gBAAgB,EAAE,kDAAkD;IACpE,gBAAgB,EAAE,kDAAkD;IACpE,gBAAgB,EAAE,kDAAkD;IACpE,eAAe,EAAE,kDAAkD;IACnE,gBAAgB,EAAE,kDAAkD;IACpE,gBAAgB,EAAE,kDAAkD;IACpE,gBAAgB,EAAE,kDAAkD;IACpE,gBAAgB,EAAE,kDAAkD;IACpE,iBAAiB,EAAE,kDAAkD;IACrE,iBAAiB,EAAE,kDAAkD;IACrE,iBAAiB,EAAE,kDAAkD;IACrE,iBAAiB,EAAE,kDAAkD;IACrE,eAAe,EAAE,kGAAkG;IACnH,eAAe,EAAE,kGAAkG;IACnH,gBAAgB,EAAE,kGAAkG;IACpH,gBAAgB,EAAE,kGAAkG;IACpH,KAAK,EAAE,WAAW;IAClB,MAAM,EAAE,WAAW;IACnB,MAAM,EAAE,WAAW;IACnB,KAAK,EAAE,6BAA6B;IACpC,KAAK,EAAE,WAAW;IAClB,MAAM,EAAE,oBAAoB;IAC5B,MAAM,EAAE,wDAAwD;IAChE,MAAM,EAAE,oBAAoB;IAC5B,SAAS,EAAE,oBAAoB;IAC/B,SAAS,EAAE,oBAAoB;IAC/B,UAAU,EAAE,oBAAoB;IAChC,UAAU,EAAE,oBAAoB;IAChC,UAAU,EAAE,oBAAoB;IAChC,UAAU,EAAE,oBAAoB;IAChC,OAAO,EAAE,wDAAwD;IACjE,OAAO,EAAE,oBAAoB;IAC7B,SAAS,EAAE,oBAAoB;IAC/B,SAAS,EAAE,oBAAoB;IAC/B,SAAS,EAAE,oBAAoB;IAC/B,SAAS,EAAE,oBAAoB;IAC/B,OAAO,EAAE,wDAAwD;IACjE,OAAO,EAAE,oBAAoB;IAC7B,OAAO,EAAE,wDAAwD;IACjE,OAAO,EAAE,oBAAoB;IAC7B,YAAY,EAAE,sCAAsC;IACpD,YAAY,EAAE,sCAAsC;IACpD,YAAY,EAAE,sCAAsC;IACpD,YAAY,EAAE,sCAAsC;IACpD,UAAU,EAAE,8GAA8G;IAC1H,UAAU,EAAE,sCAAsC;IAClD,UAAU,EAAE,8GAA8G;IAC1H,UAAU,EAAE,sCAAsC;IAClD,KAAK,EAAE,oBAAoB;IAC3B,MAAM,EAAE,oBAAoB;IAC5B,MAAM,EAAE,oBAAoB;IAC5B,MAAM,EAAE,oBAAoB;IAC5B,MAAM,EAAE,oBAAoB;IAC5B,MAAM,EAAE,oBAAoB;IAC5B,MAAM,EAAE,oBAAoB;IAC5B,OAAO,EAAE,sCAAsC;IAC/C,QAAQ,EAAE,sCAAsC;IAChD,SAAS,EAAE,sCAAsC;IACjD,UAAU,EAAE,sCAAsC;IAClD,UAAU,EAAE,sCAAsC;IAClD,UAAU,EAAE,sCAAsC;IAClD,UAAU,EAAE,sCAAsC;IAClD,UAAU,EAAE,sCAAsC;IAClD,SAAS,EAAE,sCAAsC;IACjD,SAAS,EAAE,sCAAsC;IACjD,UAAU,EAAE,sCAAsC;IAClD,UAAU,EAAE,sCAAsC;IAClD,UAAU,EAAE,sCAAsC;IAClD,UAAU,EAAE,sCAAsC;IAClD,UAAU,EAAE,sCAAsC;IAClD,UAAU,EAAE,sCAAsC;IAClD,eAAe,EAAE,0EAA0E;IAC3F,eAAe,EAAE,0EAA0E;IAC3F,gBAAgB,EAAE,0EAA0E;IAC5F,gBAAgB,EAAE,0EAA0E;IAC5F,OAAO,EAAE,sCAAsC;IAC/C,OAAO,EAAE,kJAAkJ;IAC3J,OAAO,EAAE,0EAA0E;IACnF,QAAQ,EAAE,sCAAsC;IAChD,QAAQ,EAAE,0EAA0E;IACpF,UAAU,EAAE,0EAA0E;IACtF,UAAU,EAAE,0EAA0E;IACtF,UAAU,EAAE,kSAAkS;IAC9S,UAAU,EAAE,kSAAkS;IAC9S,UAAU,EAAE,kJAAkJ;IAC9J,WAAW,EAAE,0EAA0E;IACvF,WAAW,EAAE,kJAAkJ;IAC/J,SAAS,EAAE,0EAA0E;IACrF,UAAU,EAAE,0EAA0E;IACtF,SAAS,EAAE,kSAAkS;IAC7S,UAAU,EAAE,kSAAkS;IAC9S,SAAS,EAAE,kJAAkJ;IAC7J,UAAU,EAAE,0EAA0E;IACtF,UAAU,EAAE,0EAA0E;IACtF,UAAU,EAAE,kJAAkJ;IAC9J,UAAU,EAAE,0EAA0E;IACtF,UAAU,EAAE,kSAAkS;IAC9S,UAAU,EAAE,kJAAkJ;IAC9J,UAAU,EAAE,0EAA0E;IACtF,UAAU,EAAE,kSAAkS;IAC9S,UAAU,EAAE,kJAAkJ;IAC9J,cAAc,EAAE,kJAAkJ;IAClK,cAAc,EAAE,kJAAkJ;IAClK,eAAe,EAAE,kJAAkJ;IACnK,eAAe,EAAE,kJAAkJ;IACnK,cAAc,EAAE,kkBAAkkB;IACllB,cAAc,EAAE,kkBAAkkB;IACllB,eAAe,EAAE,kkBAAkkB;IACnlB,eAAe,EAAE,kkBAAkkB;IACnlB,cAAc,EAAE,kSAAkS;IAClT,eAAe,EAAE,kSAAkS;IACnT,SAAS,EAAE,QAAQ;IACnB,UAAU,EAAE,QAAQ;IACpB,SAAS,EAAE,cAAc;IACzB,SAAS,EAAE,cAAc;IACzB,UAAU,EAAE,cAAc;IAC1B,SAAS,EAAE,cAAc;IACzB,UAAU,EAAE,cAAc;IAC1B,SAAS,EAAE,QAAQ;IACnB,SAAS,EAAE,QAAQ;IACnB,SAAS,EAAE,cAAc;IACzB,SAAS,EAAE,cAAc;IACzB,WAAW,EAAE,cAAc;IAC3B,YAAY,EAAE,cAAc;IAC5B,WAAW,EAAE,0BAA0B;IACvC,WAAW,EAAE,cAAc;IAC3B,YAAY,EAAE,cAAc;IAC5B,WAAW,EAAE,0BAA0B;IACvC,UAAU,EAAE,cAAc;IAC1B,UAAU,EAAE,cAAc;IAC1B,eAAe,EAAE,cAAc;IAC/B,WAAW,EAAE,cAAc;IAC3B,WAAW,EAAE,cAAc;IAC3B,YAAY,EAAE,0BAA0B;IACxC,UAAU,EAAE,0BAA0B;IACtC,UAAU,EAAE,kDAAkD;IAC9D,UAAU,EAAE,0BAA0B;IACtC,mBAAmB,EAAE,0BAA0B;IAC/C,YAAY,EAAE,0BAA0B;IACxC,QAAQ,EAAE,0EAA0E;CACvF,CAAC;;ACzVF;;;;;AAKA,AAGAA,IAAM,SAAS,GAAG,SAAS,CAAC;AAC5B,AAAO,SAAS,qBAAqB,CAAC,UAAU,EAAE;IAC9CA,IAAM,gBAAgB,GAAG,YAAY,CAAC,UAAU,CAAC,CAAC;IAClDA,IAAM,UAAU,GAAG,EAAE,CAAC;IACtB,IAAI,gBAAgB,KAAK,SAAS,EAAE;QAChC,OAAO,CAAC,IAAI,mBAAgB,UAAU,mCAA+B,CAAC;QACtE,OAAO,UAAU,CAAC;KACrB;IACDA,IAAM,SAAS,GAAG,EAAE,CAAC;IACrB,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,gBAAgB,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,EAAE;QAC1DD,IAAM,KAAK,GAAG,EAAE,CAAC;QACjB,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;YACxB,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;SAClD;QACD,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KACzB;IACD,SAAS,CAAC,OAAO,CAAC,UAAU,KAAK,EAAE;QAC/BA,IAAI,GAAG,GAAG,CAAC,CAAC;QACZD,IAAM,MAAM,GAAG,IAAI,OAAO,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACjFA,IAAM,EAAE,GAAG,MAAM,CAAC,QAAQ,CAAC;QAC3B,UAAU,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,GAAG,MAAM,CAAC;QACtC,KAAK,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;YACzBC,IAAI,MAAM,GAAG,KAAK,CAAC;YACnBA,IAAI,WAAW,GAAG,KAAK,CAAC;YACxB,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;gBACxCD,IAAM,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;gBACjB,IAAI,CAAC,KAAK,GAAG,EAAE;oBACX,MAAM,GAAG,IAAI,CAAC;iBACjB;qBACI,IAAI,CAAC,KAAK,GAAG,EAAE;oBAChB,MAAM,GAAG,KAAK,CAAC;iBAClB;qBACI,IAAI,CAAC,KAAK,GAAG,EAAE;oBAChB,WAAW,GAAG,IAAI,CAAC;iBACtB;qBACI,IAAI,CAAC,KAAK,GAAG,EAAE;oBAChB,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;iBACjC;qBACI,IAAI,CAAC,KAAK,GAAG,EAAE;oBAChB,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;iBACjC;qBACI,IAAI,CAAC,KAAK,GAAG,EAAE;oBAChB,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;iBACjC;qBACI,IAAI,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;oBACxBA,IAAM,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;oBAC5B,IAAI,WAAW,EAAE;wBACb,EAAE,CAAC,EAAE,GAAG,GAAG,CAAC,IAAI,OAAO,CAAC;qBAC3B;yBACI;wBACD,EAAE,CAAC,EAAE,GAAG,GAAG,CAAC,GAAG,OAAO,CAAC;qBAC1B;iBACJ;qBACI;oBACD,GAAG,CAAC,IAAI,6CAA0C,CAAC,QAAI,CAAC;iBAC3D;aACJ;YACD,GAAG,IAAI,CAAC,CAAC;SACZ,CAAC,CAAC;KACN,CAAC,CAAC;IACH,OAAO,UAAU,CAAC;CACrB;;ACrED;;;;;AAKA,AAGA,SAAS,mBAAmB,CAAC,SAAS,EAAE;IACpCC,IAAI,IAAI,GAAG,EAAE,CAAC;IACd,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;QACtB,IAAI,GAAG,GAAG,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;KACrD;IACD,OAAO,IAAI,SAAS,CAAC,IAAI,CAAC,CAAC;CAC9B;;;;AAID,IAAM,QAAQ,GAIV,iBAAW,CAAC,IAAS,EAAE;+BAAP,GAAG;;IACf,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACjB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;;;4DACtB;AACDG,qBAAI,uBAAO,EAAE,OAAO,UAAU,CAAC,GAAE;;;;;;;;;;;;;;mBAcjC,4BAAQ,UAAU,EAAE,SAAS,EAAE;IAC3BJ,IAAM,IAAI,GAAG,IAAI,YAAY,CAAC,UAAU,EAAE,SAAS,CAAC,CAAC;IACrD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACzB,OAAO,IAAI,CAAC;EACf;;;;;;mBAMD,sCAAa,SAAS,EAAE;IACpB,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,WAAE,KAAK,EAAE,IAAI,WAAK,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS,IAAC,EAAE,CAAC,CAAC,CAAC;EACzF;;;;;;mBAMD,4CAAgB,SAAS,EAAE;IACvB,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,WAAE,KAAK,EAAE,IAAI,WAAK,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,IAAC,EAAE,CAAC,CAAC,CAAC;EAC5F;;;;;;mBAMD,gDAAmB;IACfC,IAAI,aAAa,GAAG,CAAC,CAAC;IACtB,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE;QAClC,aAAa,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;KAC3C,CAAC,CAAC;IACH,OAAO,aAAa,CAAC;EACxB;;;;;;mBAMD,kCAAW,SAAS,EAAE;IAClB,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC;UAC1B,OAAO,KAAK,GAAC;IACjBD,IAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;IAC9B,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,KAAK,CAAC;UAC5B,OAAO,KAAK,GAAC;IACjBA,IAAM,cAAc,GAAG,IAAI,OAAO,EAAE,CAAC;IACrC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;UAC1C,OAAO,KAAK,GAAC;IACjBC,IAAI,kBAAkB,GAAG,EAAE,CAAC;IAC5B,SAAS,CAAC,SAAS,CAAC,UAAU,EAAE,EAAE;QAC9B,kBAAkB,CAAC,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;KACzC,CAAC,CAAC;IACH,kBAAkB,GAAG,WAAW,CAAC,kBAAkB,CAAC,CAAC;IACrD,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,KAAK,kBAAkB,CAAC,MAAM;UACnD,OAAO,KAAK,GAAC;IACjB,OAAO,IAAI,CAAC;EACf;mBACD,0CAAe,SAAS,EAAE;IACtBD,IAAM,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC;IAC/B,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE;QAClCA,IAAM,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;QAC/C,WAAW,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QACvC,WAAW,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;KAC1C,CAAC,CAAC;IACH,OAAO,WAAW,CAAC;EACtB;mBACD,gCAAU,SAAS,EAAE;IACjB,OAAO,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,IAAI,OAAO,EAAE,CAAC,CAAC;EAClE;mBACD,wCAAe;IACXC,IAAI,SAAS,GAAG,EAAE,CAAC;IACnB,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE;QAClC,SAAS,GAAG,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;KAChD,CAAC,CAAC;IACH,OAAO,mBAAmB,CAAC,SAAS,CAAC,CAAC;;;oEAE7C;AACD,AAAO,IAAM,YAAY,GACrB,qBAAW,CAAC,UAAe,EAAE,SAAc,EAAE;2CAAvB,GAAG;yCAAa,GAAG;;IACrC,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;IAC7B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;;;8DAC9B;AACDsB,uBAAI,uBAAO,EAAE,OAAO,cAAc,CAAC,GAAE;uBACrC,gCAAU,SAAS,EAAE,YAAY,EAAE;;;IAC/BtB,IAAI,KAAK,GAAG,CAAC,CAAC;IACd,SAAS,CAAC,SAAS,WAAC,IAAM;QACtB,IAAIM,MAAI,CAAC,SAAS,CAAC,MAAM,KAAK,CAAC,IAAIA,MAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE;YACtE,KAAK,IAAI,EAAE,CAAC,YAAY,CAAC,CAAC;SAC7B;KACJ,CAAC,CAAC;IACH,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,KAAK,CAAC;EACzC;uBACD,sCAAa,SAAS,EAAE;IACpB,OAAO,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;EACjD;uBACD,4CAAgB,SAAS,EAAE;IACvB,OAAO,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,cAAc,CAAC,CAAC;EACpD;uBACD,0CAAe,SAAS,EAAE;IACtBP,IAAM,OAAO,GAAG,IAAI,IAAI,EAAE,CAAC;IAC3BA,IAAM,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC;IAC/BA,IAAM,SAAS,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;IACtCA,IAAM,YAAY,GAAG,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;IACzD,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,UAAU,MAAM,EAAE;QACtC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;QACpD,OAAO,CAAC,aAAa,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;QACvC,OAAO,CAAC,aAAa,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;KAC1C,CAAC,CAAC;IACH,OAAO,OAAO,CAAC;EAClB;uBACD,wCAAe;IACX,OAAO,mBAAmB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;EAC9C;uBACD,4BAAQ,SAAS,EAAE;IACfA,IAAM,SAAS,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;IACtC,IAAI,SAAS,EAAE;QACX,OAAO,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;KACvC;SACI;QACD,OAAO,SAAS,CAAC;KACpB;EACJ;uBACD,8CAAkB;IACdA,IAAM,YAAY,GAAG,EAAE,CAAC;IACxB,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;QACtD,YAAY,CAAC,IAAI,CAAC;YACd,EAAE,EAAE,CAAC,GAAG,CAAC;YACT,IAAI,EAAE,CAAC;YACP,MAAM,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;SAC7B,CAAC,CAAC;KACN;IACD,OAAO,YAAY,CAAC;;;0EAE3B;;AC5KD;;;;;AAKA,IAAM,gBAAgB,GAClB,yBAAW,CAAC,SAAS,EAAE;IACnB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;IAC3B,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;IAC9B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;IAC3B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;IAC3B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;IACzB,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC;IAChC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;IAC1B,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;IAC1B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;IAC3B,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;IACb,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;IACb,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;IACb,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;EAChB;2BACD,0CAAe,EAAE,EAAE;IACfD,IAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC;IAC3CA,IAAM,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;IACjDA,IAAM,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC;IAC7CA,IAAM,KAAK,GAAG,YAAY,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;IACzCA,IAAM,MAAM,GAAG,YAAY,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;IAC3CA,IAAM,cAAc,GAAG,IAAI,KAAK,CAAC,KAAK,CAAC,CAAC;IACxC,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,EAAE,CAAC,EAAE;QAC5B,cAAc,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;KACxD;IACD,YAAY,CAAC,aAAa,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,cAAc,EAAE,IAAI,CAAC,cAAc;KACxG,CAAC;EACL;2BACD,4BAAQ,UAAU,EAAE,SAAS,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE;IAC7ED,IAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC;IAC3CA,IAAM,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;IACjDA,IAAM,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC;IAC7CA,IAAM,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC;IAC7CC,IAAI,QAAQ,GAAG,KAAK,CAAC;IACrBA,IAAI,QAAQ,GAAG,KAAK,CAAC;IACrBA,IAAI,UAAU,GAAG,KAAK,CAAC;IACvB,IAAI,IAAI,CAAC,iBAAiB,KAAK,UAAU,EAAE;QACvC,QAAQ,GAAG,IAAI,CAAC;QAChB,QAAQ,GAAG,IAAI,CAAC;QAChB,UAAU,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC;QACb,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC;QACb,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC;KAChB;SACI,IAAI,IAAI,CAAC,cAAc,KAAK,OAAO,EAAE;QACtC,QAAQ,GAAG,IAAI,CAAC;QAChB,UAAU,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC;QACb,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC;KAChB;SACI,IAAI,IAAI,CAAC,YAAY,KAAK,KAAK,IAAI,IAAI,CAAC,cAAc,KAAK,OAAO,IAAI,IAAI,CAAC,cAAc,KAAK,OAAO,EAAE;QACxG,UAAU,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC;KAChB;IACD,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC;IACb,IAAI,QAAQ,EAAE;QACV,UAAU,CAAC,UAAU,EAAE,CAAC;QACxB,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC;QAC1C,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QACnC,UAAU,CAAC,KAAK,IAAI,CAAC,CAAC;QACtB,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC;KAC5C;IACD,IAAI,QAAQ,EAAE;QACV,UAAU,CAAC,UAAU,EAAE,CAAC;QACxB,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,EAAE,SAAS,CAAC,CAAC;QAC5C,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;QACxC,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC;QAC5C,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QACrC,UAAU,CAAC,KAAK,IAAI,CAAC,CAAC;QACtB,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC;QACzC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;QACpC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC;KAC9C;IACD,IAAI,UAAU,EAAE;QACZ,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,cAAc,CAAC;QAC3C,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,aAAa,CAAC;QACzC,IAAI,IAAI,CAAC,EAAE,GAAG,CAAC;cACX,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,GAAC;QACrC,YAAY,CAAC,UAAU,EAAE,CAAC;QAC1B,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC;QACpC,IAAI,MAAM,KAAK,SAAS,EAAE;YACtB,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;SACvD;QACD,IAAI,OAAO,KAAK,SAAS,EAAE;YACvB,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;SACzD;QACD,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC;QAC3C,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QACpC,YAAY,CAAC,KAAK,IAAI,CAAC,CAAC;QACxB,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC;QAC3C,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;KACzC;IACD,SAAS,CAAC,KAAK,IAAI,CAAC,CAAC;IACrB,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC;IAC1C,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;IACrC,IAAI,CAAC,iBAAiB,GAAG,UAAU,CAAC;IACpC,IAAI,CAAC,cAAc,GAAG,OAAO,CAAC;IAC9B,IAAI,CAAC,cAAc,GAAG,OAAO,CAAC;IAC9B,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;IAC1B,IAAI,CAAC,cAAc,GAAG,OAAO,CAAC;IAC9B,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC;EAC/B;2BACD,gCAAW;IACP,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,cAAc,CAAC;IAC3C,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,aAAa,CAAC;IACzC,IAAI,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;UACZ,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,CAAC,GAAC;EAExC;;AClHD;;;;;AAKA,AAgDO,SAAS,wBAAwB,CAAC,SAAS,EAAE,SAAS,EAAE;IAC3D,IAAI,CAAC,SAAS;UACV,SAAO;IACX,IAAI,KAAK;UACL,GAAG,CAAC,IAAI,CAAC,0BAA0B,CAAC,GAAC;IACzCD,IAAM,UAAU,GAAG,EAAE,CAAC;IACtB,SAAS,CAAC,SAAS,CAAC,UAAU,EAAE,EAAE;QAC9B,EAAE,CAAC,SAAS,CAAC,UAAU,EAAE,EAAE;YACvB,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;SACjC,CAAC,CAAC;KACN,CAAC,CAAC;IACHA,IAAM,gBAAgB,GAAG,UAAU,CAAC,KAAK,EAAE,CAAC,IAAI,EAAE,CAAC;IACnDA,IAAM,eAAe,GAAG,EAAE,CAAC;IAC3B,gBAAgB,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE;QAClC,eAAe,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;KAC/C,CAAC,CAAC;;IAEHA,IAAM,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE;QAClD,OAAO,mBAAmB,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;KAC3D,CAAC,CAAC;IACH,OAAO,CAAC,IAAI,CAAC,UAAU,EAAE,EAAE,EAAE,EAAE;QAC3BA,IAAM,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;QACjBA,IAAM,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;QACjBA,IAAM,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;QACjBA,IAAM,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;QACjB,IAAI,EAAE,KAAK,EAAE,EAAE;YACX,IAAI,EAAE,KAAK,EAAE,EAAE;gBACX,OAAO,CAAC,CAAC;aACZ;iBACI;gBACD,OAAO,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;aAC3B;SACJ;aACI;YACDA,IAAM,IAAI,GAAG,mBAAmB,CAAC,gBAAgB,EAAE,EAAE,CAAC,CAAC;YACvDA,IAAM,IAAI,GAAG,mBAAmB,CAAC,gBAAgB,EAAE,EAAE,CAAC,CAAC;YACvD,OAAO,eAAe,CAAC,IAAI,CAAC,GAAG,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;SACjE;KACJ,CAAC,CAAC;IACHA,IAAM,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC;IAC5C,SAAS,CAAC,SAAS,CAAC,UAAU,EAAE,EAAE;QAC9BC,IAAI,CAAC,GAAG,CAAC,CAAC;QACVD,IAAM,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;QACzB,IAAI,CAAC,KAAK,CAAC;cACP,SAAO;QACXC,IAAI,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;QACvBA,IAAI,QAAQ,GAAG,KAAK,CAAC;QACrBA,IAAI,IAAI,GAAG,KAAK,CAAC;QACjB,EAAE,CAAC,SAAS,CAAC,UAAU,EAAE,EAAE;YACvBA,IAAI,WAAW,GAAG,KAAK,CAAC;YACxB,IAAI,EAAE,CAAC,SAAS,KAAK,KAAK,CAAC,CAAC,CAAC,EAAE;gBAC3BD,IAAM,KAAK,GAAG,EAAE,CAAC,YAAY,CAAC;gBAC9BA,IAAM,MAAM,GAAG,EAAE,CAAC,aAAa,CAAC;gBAChCA,IAAM,GAAG,GAAG,MAAM,GAAG,KAAK,CAAC;gBAC3B,KAAKC,IAAI,CAAC,GAAG,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,EAAE,CAAC,EAAE;oBAC/B,IAAI,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;wBAClC,YAAY,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;sBACzC;wBACE,QAAQ,GAAG,IAAI,CAAC;qBACnB;oBACD,IAAI,QAAQ,EAAE;wBACV,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;wBAClC,IAAI,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;4BAClC,YAAY,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;0BACzC;4BACE,QAAQ,GAAG,KAAK,CAAC;4BACjB,CAAC,IAAI,CAAC,CAAC;4BACP,IAAI,CAAC,GAAG,CAAC,EAAE;;;gCAGP,CAAC,GAAG,MAAM,GAAG,CAAC,CAAC;gCACf,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;gCACnB,WAAW,GAAG,EAAE,CAAC,SAAS,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC;6BAC3C;iCACI;gCACD,IAAI,GAAG,IAAI,CAAC;6BACf;yBACJ;qBACJ;oBACD,IAAI,WAAW,IAAI,IAAI;0BACnB,SAAO;iBACd;aACJ;SACJ,CAAC,CAAC;KACN,CAAC,CAAC;;IAEHD,IAAM,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE;QAChD,OAAO,mBAAmB,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;KAC3D,CAAC,CAAC;IACH,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,EAAE,EAAE,EAAE;QAC1BA,IAAM,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;QACjBA,IAAM,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;QACjB,IAAI,EAAE,KAAK,EAAE;cACT,OAAO,CAAC,GAAC;QACbA,IAAM,IAAI,GAAG,mBAAmB,CAAC,gBAAgB,EAAE,EAAE,CAAC,CAAC;QACvDA,IAAM,IAAI,GAAG,mBAAmB,CAAC,gBAAgB,EAAE,EAAE,CAAC,CAAC;QACvD,OAAO,eAAe,CAAC,IAAI,CAAC,GAAG,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;KACjE,CAAC,CAAC;IACHA,IAAM,cAAc,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IACzC,SAAS,CAAC,SAAS,CAAC,UAAU,EAAE,EAAE;QAC9BC,IAAI,CAAC,GAAG,CAAC,CAAC;QACVD,IAAM,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC;QACxB,IAAI,CAAC,KAAK,CAAC;cACP,SAAO;QACXC,IAAI,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;QACtBA,IAAI,QAAQ,GAAG,KAAK,CAAC;QACrBA,IAAI,IAAI,GAAG,KAAK,CAAC;QACjB,EAAE,CAAC,SAAS,CAAC,UAAU,EAAE,EAAE;YACvBA,IAAI,WAAW,GAAG,KAAK,CAAC;YACxB,IAAI,EAAE,CAAC,SAAS,KAAK,KAAK,CAAC,CAAC,CAAC,EAAE;gBAC3BD,IAAM,KAAK,GAAG,EAAE,CAAC,YAAY,CAAC;gBAC9BA,IAAM,MAAM,GAAG,EAAE,CAAC,aAAa,CAAC;gBAChCA,IAAM,GAAG,GAAG,MAAM,GAAG,KAAK,CAAC;gBAC3B,KAAKC,IAAI,CAAC,GAAG,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,EAAE,CAAC,EAAE;oBAC/B,IAAI,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;wBAClC,YAAY,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;sBACzC;wBACE,QAAQ,GAAG,IAAI,CAAC;qBACnB;oBACD,IAAI,QAAQ,EAAE;wBACV,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,cAAc,CAAC;wBACxC,IAAI,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;4BAClC,YAAY,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;0BACzC;4BACE,QAAQ,GAAG,KAAK,CAAC;4BACjB,CAAC,IAAI,CAAC,CAAC;4BACP,IAAI,CAAC,GAAG,CAAC,EAAE;;;gCAGP,CAAC,GAAG,MAAM,GAAG,CAAC,CAAC;gCACf,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;gCAClB,WAAW,GAAG,EAAE,CAAC,SAAS,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC;6BAC3C;iCACI;gCACD,IAAI,GAAG,IAAI,CAAC;6BACf;yBACJ;qBACJ;oBACD,IAAI,WAAW,IAAI,IAAI;0BACnB,SAAO;iBACd;aACJ;SACJ,CAAC,CAAC;KACN,CAAC,CAAC;IACH,IAAI,KAAK;UACL,GAAG,CAAC,OAAO,CAAC,0BAA0B,CAAC,GAAC;CAC/C;AACD,AAAOD,IAAM,2BAA2B,IAAI,YAAY;;;;;;;;;IASpDA,IAAM,eAAe,GAAG,UAAU,OAAO,EAAE,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE;QAC5DA,IAAM,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC;QACpCA,IAAM,MAAM,GAAG,OAAO,CAAC,iBAAiB,CAAC;QACzCA,IAAM,GAAG,GAAG,SAAS,CAAC,eAAe,EAAE,CAAC;QACxCA,IAAM,GAAG,GAAG,SAAS,CAAC,eAAe,EAAE,CAAC;QACxCA,IAAM,GAAG,GAAG,SAAS,CAAC,YAAY,EAAE,CAAC;QACrCA,IAAM,GAAG,GAAG,SAAS,CAAC,YAAY,EAAE,CAAC;QACrC,KAAKC,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,EAAE;YAC1C,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;gBACxB,IAAI,CAAC,GAAG,CAAC,IAAI,OAAO,CAAC,YAAY,EAAE;oBAC/B,SAAS;iBACZ;gBACD,GAAG,CAAC,KAAK,GAAG,MAAM,GAAG,CAAC,CAAC;gBACvB,GAAG,CAAC,KAAK,GAAG,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC;gBAC3B,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,cAAc,CAAC;gBAC/B,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,cAAc,CAAC;gBAC/BD,IAAM,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;gBAC9B,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,KAAK,EAAE;oBACxC,OAAO,KAAK,CAAC;iBAChB;aACJ;SACJ;QACD,OAAO,IAAI,CAAC;KACf,CAAC;IACFA,IAAM,SAAS,GAAG,UAAU,OAAO,EAAE,CAAC,EAAE;QACpCA,IAAM,cAAc,GAAG,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;QAC1CA,IAAM,UAAU,GAAG,GAAG,CAAC;QACvB,OAAO,eAAe,CAAC,OAAO,EAAE,CAAC,EAAE,cAAc,EAAE,UAAU,CAAC,CAAC;KAClE,CAAC;IACFA,IAAM,OAAO,GAAG,UAAU,OAAO,EAAE,CAAC,EAAE;QAClCA,IAAM,cAAc,GAAG,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;QACzCA,IAAM,UAAU,GAAG,IAAI,CAAC;QACxB,OAAO,eAAe,CAAC,OAAO,EAAE,CAAC,EAAE,cAAc,EAAE,UAAU,CAAC,CAAC;KAClE,CAAC;IACFA,IAAM,cAAc,GAAG,UAAU,CAAC,EAAE;QAChCA,IAAM,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC;QACpCA,IAAM,MAAM,GAAG,CAAC,CAAC,iBAAiB,CAAC;QACnC,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,YAAY,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;YAC9CA,IAAI,MAAM,GAAG,GAAG,CAAC;YACjB,IAAI,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;gBACjB,MAAM,GAAG,GAAG,CAAC;aAChB;iBACI,IAAI,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;gBACpB,MAAM,GAAG,GAAG,CAAC;aAChB;YACD,YAAY,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;SAC1D;KACJ,CAAC;IACFD,IAAM,SAAS,GAAG,UAAU,CAAC,EAAE;QAC3BA,IAAM,UAAU,GAAG,EAAE,CAAC;QACtBA,IAAM,UAAU,GAAG,GAAG,CAAC;QACvBA,IAAM,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC;QACpCA,IAAM,MAAM,GAAG,CAAC,CAAC,iBAAiB,CAAC;QACnCA,IAAM,WAAW,GAAG,IAAI,WAAW,CAAC,CAAC,CAAC,CAAC;QACvCA,IAAM,GAAG,GAAG,WAAW,CAAC,QAAQ,CAAC;QACjCA,IAAM,EAAE,GAAG,IAAI,OAAO,EAAE,CAAC;QACzBA,IAAM,EAAE,GAAG,IAAI,OAAO,EAAE,CAAC;QACzB,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,YAAY,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;YAC9C,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;YAChC,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;YACpCD,IAAM,CAAC,GAAG,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;YAC5B,IAAI,CAAC,GAAG,UAAU,IAAI,CAAC,GAAG,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,UAAU,EAAE;gBAC1D,YAAY,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;gBACpD,YAAY,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aAC3D;SACJ;KACJ,CAAC;IACF,OAAO,SAAS,2BAA2B,CAAC,SAAS,EAAE;QACnD,IAAI,KAAK;cACL,GAAG,CAAC,IAAI,CAAC,6BAA6B,CAAC,GAAC;QAC5C,SAAS,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE;;YAE/B,IAAI,CAAC,CAAC,YAAY,GAAG,CAAC;kBAClB,SAAO;YACX,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE;gBACV,SAAS,CAAC,CAAC,CAAC,CAAC;aAChB;iBACI,IAAI,CAAC,CAAC,SAAS,EAAE,EAAE;gBACpB,cAAc,CAAC,CAAC,CAAC,CAAC;aACrB;iBACI;gBACD,OAAO;aACV;;YAEDC,IAAI,UAAU,CAAC;YACfA,IAAI,WAAW,GAAG,CAAC,CAAC;YACpB,CAAC,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE;gBACvB,IAAI,CAAC,CAAC,MAAM,KAAK,UAAU,EAAE;oBACzB,WAAW,IAAI,CAAC,CAAC;iBACpB;qBACI;oBACD,IAAI,WAAW,KAAK,CAAC,EAAE;wBACnB,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC;wBACb,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC;qBAClB;oBACD,WAAW,GAAG,CAAC,CAAC;oBAChB,UAAU,GAAG,CAAC,CAAC,MAAM,CAAC;iBACzB;aACJ,CAAC,CAAC;SACN,CAAC,CAAC;QACH,IAAI,KAAK;cACL,GAAG,CAAC,OAAO,CAAC,6BAA6B,CAAC,GAAC;KAClD,CAAC;CACL,EAAE,CAAC,CAAC;;;;AAILD,IAAM,iBAAiB,GAAG,4BAA4B,CAAC;AACvD,AAAO,SAAS,YAAY,CAAC,KAAK,EAAE;IAChCA,IAAM,CAAC,GAAG,iBAAiB,CAAC,MAAM,CAAC;IACnCC,IAAI,CAAC,GAAG,KAAK,CAAC;IACdA,IAAI,CAAC,GAAG,CAAC,CAAC;IACVA,IAAI,SAAS,GAAG,iBAAiB,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACzC,OAAO,CAAC,IAAI,CAAC,EAAE;QACX,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QACtB,SAAS,IAAI,iBAAiB,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QACtC,CAAC,IAAI,CAAC,CAAC;KACV;IACD,IAAI,CAAC,IAAI,CAAC,EAAE;QACR,GAAG,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;KAClC;IACD,OAAO,SAAS,CAAC;CACpB;AACD,AAAO,SAAS,mBAAmB,CAAC,SAAS,EAAE,gBAAwB,EAAE;uDAAV,GAAG;;IAC9D,IAAI,KAAK;UACL,GAAG,CAAC,IAAI,CAAC,qBAAqB,CAAC,GAAC;IACpCA,IAAI,eAAe,GAAG,IAAI,CAAC;IAC3B,SAAS,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE;QAC7B,IAAI,CAAC,CAAC,SAAS;cACX,eAAe,GAAG,KAAK,GAAC;KAC/B,CAAC,CAAC;IACH,IAAI,eAAe,EAAE;QACjBD,IAAM,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;QACxCA,IAAM,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;QACxCA,IAAM,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC;QAC5CA,IAAM,QAAQ,GAAG,UAAU,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,MAAM,EAAE;YAC3DA,IAAM,EAAE,GAAG,UAAU,CAAC,KAAK,CAAC;YAC5B,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,EAAE,CAAC,EAAE;gBAC7B,YAAY,CAAC,UAAU,CAAC,OAAO,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;aAC7C;YACD,UAAU,CAAC,UAAU,EAAE,CAAC;YACxB,UAAU,CAAC,UAAU,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC;YACnC,UAAU,CAAC,YAAY,CAAC,EAAE,EAAE,SAAS,CAAC,CAAC;YACvC,UAAU,CAAC,UAAU,CAAC,EAAE,EAAE,SAAS,CAAC,CAAC;YACrC,UAAU,CAAC,aAAa,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC;YACvC,UAAU,CAAC,YAAY,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC;YACrC,UAAU,CAAC,KAAK,IAAI,CAAC,CAAC;YACtB,UAAU,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;SACtC,CAAC;QACFD,IAAM,GAAG,GAAG,SAAS,CAAC,YAAY,EAAE,CAAC;QACrCA,IAAM,GAAG,GAAG,SAAS,CAAC,YAAY,EAAE,CAAC;QACrCC,IAAI,CAAC,GAAG,CAAC,CAAC;QACVA,IAAI,EAAE,GAAG,CAAC,CAAC;QACXA,IAAI,MAAM,GAAG,CAAC,CAAC;QACfA,IAAI,IAAI,GAAG,CAAC,CAAC;QACbD,IAAM,SAAS,GAAG,EAAE,CAAC;QACrB,IAAI,YAAY,CAAC,KAAK,KAAK,CAAC,EAAE;YAC1B,SAAS,CAAC,IAAI,CAAC;gBACX,MAAM,EAAE,CAAC;gBACT,SAAS,EAAE,GAAG;gBACd,MAAM,EAAE,CAAC;gBACT,MAAM,EAAE,CAAC;aACZ,CAAC,CAAC;SACN;aACI;YACD,SAAS,CAAC,YAAY,CAAC,CAAC,EAAE,UAAU,GAAG,EAAE,GAAG,EAAE;gBAC1CC,IAAI,QAAQ,GAAG,KAAK,CAAC;gBACrBD,IAAM,OAAO,GAAG,GAAG,CAAC,YAAY,CAAC;gBACjCA,IAAM,OAAO,GAAG,GAAG,CAAC,YAAY,CAAC;gBACjCA,IAAM,SAAS,GAAG,mBAAmB,CAAC;gBACtC,IAAI,GAAG,GAAG,CAAC,KAAK,CAAC;gBACjB,IAAI,GAAG,CAAC,UAAU,KAAK,GAAG,CAAC,UAAU,EAAE;oBACnC,QAAQ,GAAG,IAAI,CAAC;iBACnB;qBACI,IAAI,GAAG,CAAC,YAAY,KAAK,GAAG,CAAC,YAAY,EAAE;oBAC5C,QAAQ,GAAG,IAAI,CAAC;iBACnB;qBACI,IAAI,OAAO,KAAK,SAAS,IAAI,OAAO,KAAK,OAAO,EAAE;oBACnD,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,oBAAoB,CAAC;oBACrC,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,sBAAsB,CAAC;oBACvC,IAAI,gBAAgB,EAAE;wBAClB,QAAQ,GAAG,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;qBAClC;yBACI;wBACD,QAAQ,GAAG,CAAC,GAAG,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;qBACpC;iBACJ;;gBAED,IAAI,CAAC,QAAQ,IAAI,GAAG,CAAC,KAAK,KAAK,YAAY,CAAC,KAAK,GAAG,CAAC,EAAE;oBACnD,QAAQ,GAAG,IAAI,CAAC;oBAChB,IAAI,GAAG,GAAG,CAAC,KAAK,CAAC;iBACpB;gBACD,IAAI,QAAQ,EAAE;oBACV,SAAS,CAAC,IAAI,CAAC;wBACX,MAAM,EAAE,EAAE;wBACV,SAAS,EAAE,YAAY,CAAC,CAAC,CAAC;wBAC1B,MAAM,EAAE,MAAM;wBACd,MAAM,EAAE,IAAI,GAAG,MAAM,GAAG,CAAC;qBAC5B,CAAC,CAAC;oBACH,CAAC,IAAI,CAAC,CAAC;oBACP,IAAI,GAAG,CAAC,UAAU,KAAK,GAAG,CAAC,UAAU,EAAE;wBACnC,CAAC,GAAG,CAAC,CAAC;wBACN,EAAE,IAAI,CAAC,CAAC;qBACX;;oBAED,IAAI,GAAG,CAAC,KAAK,KAAK,YAAY,CAAC,KAAK,GAAG,CAAC,IAAI,IAAI,KAAK,GAAG,CAAC,KAAK,EAAE;wBAC5D,SAAS,CAAC,IAAI,CAAC;4BACX,MAAM,EAAE,EAAE;4BACV,SAAS,EAAE,YAAY,CAAC,CAAC,CAAC;4BAC1B,MAAM,EAAE,YAAY,CAAC,KAAK,GAAG,CAAC;4BAC9B,MAAM,EAAE,CAAC;yBACZ,CAAC,CAAC;qBACN;oBACD,MAAM,GAAG,GAAG,CAAC,KAAK,CAAC;oBACnB,IAAI,GAAG,GAAG,CAAC,KAAK,CAAC;iBACpB;aACJ,CAAC,CAAC;SACN;;QAED,UAAU,CAAC,KAAK,GAAG,CAAC,CAAC;QACrB,SAAS,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE;YAC3B,QAAQ,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC;SACvD,CAAC,CAAC;QACHC,IAAI,WAAW,GAAG,CAAC,CAAC;QACpB,SAAS,CAAC,SAAS,CAAC,UAAU,EAAE,EAAE;YAC9B,UAAU,CAAC,WAAW,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,WAAW,CAAC;YAC/C,UAAU,CAAC,UAAU,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YACrC,WAAW,IAAI,UAAU,CAAC,UAAU,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;SAClD,CAAC,CAAC;KACN;IACD,IAAI,KAAK;UACL,GAAG,CAAC,OAAO,CAAC,qBAAqB,CAAC,GAAC;CAC1C;AACD,AAAO,SAAS,cAAc,CAAC,SAAS,EAAE;IACtC,IAAI,KAAK;UACL,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,GAAC;IAC/B,oBAAoB,CAAC,SAAS,CAAC,CAAC;IAChC,qBAAqB,CAAC,SAAS,CAAC,CAAC;IACjC,IAAI,KAAK;UACL,GAAG,CAAC,OAAO,CAAC,gBAAgB,CAAC,GAAC;CACrC;AACDD,IAAM,cAAc,GAAG;IACnB,YAAY,EAAE,CAAC;IACf,aAAa,EAAE,CAAC;IAChB,YAAY,EAAE,CAAC;IACf,YAAY,EAAE,CAAC;IACf,aAAa,EAAE,CAAC;IAChB,YAAY,EAAE,CAAC;IACf,YAAY,EAAE,CAAC;IACf,aAAa,EAAE,CAAC;IAChB,aAAa,EAAE,CAAC;IAChB,aAAa,EAAE,CAAC;IAChB,YAAY,EAAE,CAAC;IACf,YAAY,EAAE,CAAC;IACf,YAAY,EAAE,CAAC;IACf,aAAa,EAAE,CAAC;IAChB,YAAY,EAAE,CAAC;IACf,YAAY,EAAE,CAAC;IACf,YAAY,EAAE,CAAC;IACf,SAAS,EAAE,CAAC;IACZ,SAAS,EAAE,CAAC;IACZ,SAAS,EAAE,CAAC;IACZ,SAAS,EAAE,CAAC;IACZ,SAAS,EAAE,CAAC;IACZ,SAAS,EAAE,CAAC;IACZ,SAAS,EAAE,CAAC;IACZ,SAAS,EAAE,CAAC;IACZ,SAAS,EAAE,CAAC;IACZ,SAAS,EAAE,CAAC;IACZ,SAAS,EAAE,CAAC;IACZ,SAAS,EAAE,CAAC;IACZ,SAAS,EAAE,CAAC;IACZ,SAAS,EAAE,CAAC;IACZ,UAAU,EAAE,CAAC;IACb,UAAU,EAAE,CAAC;IACb,UAAU,EAAE,CAAC;IACb,UAAU,EAAE,CAAC;IACb,UAAU,EAAE,CAAC;IACb,UAAU,EAAE,CAAC;IACb,UAAU,EAAE,CAAC;IACb,UAAU,EAAE,CAAC;IACb,UAAU,EAAE,CAAC;IACb,UAAU,EAAE,CAAC;IACb,UAAU,EAAE,CAAC;IACb,UAAU,EAAE,CAAC;IACb,UAAU,EAAE,CAAC;IACb,UAAU,EAAE,CAAC;CAChB,CAAC;AACF,SAAS,qBAAqB,CAAC,OAAO,EAAE,SAAS,EAAE,SAAS,EAAE;;;WACpC,GAAG,SAAS,GAAG,SAAS,GAAG,CAAC,SAAS,EAAE,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,SAAS,GAA9F,uBAAW,uBAAqF;IACjG,IAAI,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,SAAS,KAAK,GAAG,IAAI,SAAS,KAAK,GAAG;UAC/D,OAAO,CAAC,GAAC;IACb,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,SAAS,KAAK,KAAK,IAAI,SAAS,KAAK,GAAG;UACnE,OAAO,CAAC,GAAC;IACb,OAAO,cAAc,EAAI,OAAO,SAAI,SAAS,SAAI,WAAY,IAAI,CAAC,CAAC;CACtE;AACD,AAAO,SAAS,qBAAqB,CAAC,CAAC,EAAE;IACrCA,IAAM,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;IAC9BA,IAAM,EAAE,GAAG,SAAS,CAAC,YAAY,EAAE,CAAC;IACpCA,IAAM,EAAE,GAAG,SAAS,CAAC,YAAY,EAAE,CAAC;IACpCA,IAAM,KAAK,GAAG,CAAC,CAAC,SAAS,CAAC;IAC1BA,IAAM,MAAM,GAAG,CAAC,CAAC,UAAU,CAAC;IAC5BA,IAAM,GAAG,GAAG,MAAM,GAAG,KAAK,CAAC;IAC3BA,IAAM,IAAI,GAAG,GAAG,GAAG,CAAC,CAAC;IACrBA,IAAM,YAAY,GAAG,EAAE,CAAC;IACxBA,IAAM,YAAY,GAAG,EAAE,CAAC;IACxBA,IAAM,UAAU,GAAG,EAAE,CAAC;IACtB,IAAI,KAAK,GAAG,GAAG,EAAE;QACb,IAAI,KAAK;cACL,GAAG,CAAC,IAAI,CAAC,oDAAoD,EAAE,CAAC,CAAC,aAAa,EAAE,CAAC,GAAC;KACzF;SACI;QACD,IAAI,KAAK,GAAG,EAAE,EAAE;YACZA,IAAM,MAAM,GAAG,IAAI0C,QAAM,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;YACnC1C,IAAM,MAAM,GAAG,CAAC,CAAC,IAAI,EAAE,GAAG,GAAG,GAAG,GAAG,CAAC;YACpC,KAAKC,IAAI,CAAC,GAAG,MAAM,EAAE,CAAC,GAAG,IAAI,EAAE,EAAE,CAAC,EAAE;gBAChC,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;gBACbD,IAAM,IAAI,GAAG,EAAE,CAAC,QAAQ,GAAG,MAAM,GAAG,GAAG,CAAC;gBACxCA,IAAM,YAAY,GAAG,MAAM,CAAC,OAAO,CAAC,EAAE,EAAE,QAAQ,EAAE,IAAI,GAAG,IAAI,CAAC,CAAC;gBAC/DA,IAAM,CAAC,GAAG,YAAY,CAAC,MAAM,CAAC;gBAC9B,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;oBACxB,EAAE,CAAC,KAAK,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;oBACjC,IAAI,EAAE,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,EAAE;wBACrB,IAAI,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE;4BACpB,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,GAAG,MAAM,CAAC,CAAC;4BACrC,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,GAAG,MAAM,CAAC,CAAC;4BACrC,UAAU,CAAC,IAAI,CAAC,qBAAqB,CAAC,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC,QAAQ,EAAE,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;yBAChF;qBACJ;iBACJ;aACJ;SACJ;aACI;YACD,KAAKA,IAAIa,GAAC,GAAG,MAAM,EAAEA,GAAC,GAAG,IAAI,EAAE,EAAEA,GAAC,EAAE;gBAChC,EAAE,CAAC,KAAK,GAAGA,GAAC,CAAC;gBACb,KAAKb,IAAIkC,GAAC,GAAGrB,GAAC,GAAG,CAAC,EAAEqB,GAAC,IAAI,IAAI,EAAE,EAAEA,GAAC,EAAE;oBAChC,EAAE,CAAC,KAAK,GAAGA,GAAC,CAAC;oBACb,IAAI,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE;wBACpB,YAAY,CAAC,IAAI,CAACrB,GAAC,GAAG,MAAM,CAAC,CAAC;wBAC9B,YAAY,CAAC,IAAI,CAACqB,GAAC,GAAG,MAAM,CAAC,CAAC;wBAC9B,UAAU,CAAC,IAAI,CAAC,qBAAqB,CAAC,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC,QAAQ,EAAE,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;qBAChF;iBACJ;aACJ;SACJ;KACJ;IACD,OAAO;QACH,YAAY,EAAE,YAAY;QAC1B,YAAY,EAAE,YAAY;QAC1B,UAAU,EAAE,UAAU;KACzB,CAAC;CACL;AACD,AAAO,SAAS,oBAAoB,CAAC,SAAS,EAAE;IAC5C,IAAI,KAAK;UACL,GAAG,CAAC,IAAI,CAAC,sBAAsB,CAAC,GAAC;IACrC,IAAI,WAAW,GAAG,EAAE,CAAC;IACrB,SAAS,CAAC,QAAQ,CAAC,UAAU,EAAE,EAAE;QAC7B,IAAI,GAAG,GAAG,EAAE,CAAC,UAAU,CAAC;QACxB,IAAI,GAAG,GAAG,EAAE,CAAC,UAAU,CAAC;QACxB,IAAI,WAAW,CAAC,GAAG,CAAC,KAAK,SAAS;cAC9B,WAAW,CAAC,GAAG,CAAC,GAAG,EAAE,GAAC;QAC1B,WAAW,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC;KACpC,CAAC,CAAC;IACH,IAAI,KAAK;UACL,GAAG,CAAC,OAAO,CAAC,sBAAsB,CAAC,GAAC;IACxC,OAAO,WAAW,CAAC;CACtB;AACD,AAAO,SAAS,oBAAoB,CAAC,SAAS,EAAE,WAAmB,EAAE;6CAAV,GAAG;;IAC1D,IAAI,KAAK;UACL,GAAG,CAAC,IAAI,CAAC,sBAAsB,CAAC,GAAC;IACrCnC,IAAM,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC;IACtCA,IAAM,aAAa,GAAG,SAAS,CAAC,aAAa,CAAC;IAC9CA,IAAM,WAAW,GAAG,SAAS,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;IAChDA,IAAM,EAAE,GAAG,SAAS,CAAC,YAAY,EAAE,CAAC;IACpCA,IAAM,EAAE,GAAG,SAAS,CAAC,YAAY,EAAE,CAAC;IACpCA,IAAM,EAAE,GAAG,SAAS,CAAC,YAAY,EAAE,CAAC;IACpCA,IAAM,WAAW,GAAG,WAAW,GAAG,IAAI,GAAG,oBAAoB,CAAC,SAAS,CAAC,CAAC;IACzE,SAAS,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE;QAC/B,IAAI,CAAC,WAAW,IAAI,WAAW,EAAE;YAC7BA,IAAM,KAAK,GAAG,CAAC,CAAC,SAAS,CAAC;YAC1BA,IAAM,MAAM,GAAG,CAAC,CAAC,UAAU,CAAC;YAC5B,IAAI,KAAK,GAAG,GAAG,EAAE;gBACb,GAAG,CAAC,IAAI,CAAC,oDAAoD,EAAE,CAAC,CAAC,aAAa,EAAE,CAAC,CAAC;gBAClF,OAAO;aACV;YACDA,IAAM,KAAK,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC;YAC3BA,IAAM,YAAY,GAAG,KAAK,CAAC,YAAY,CAAC;YACxCA,IAAM,YAAY,GAAG,KAAK,CAAC,YAAY,CAAC;YACxCA,IAAM,UAAU,GAAG,KAAK,CAAC,UAAU,CAAC;YACpCA,IAAM,EAAE,GAAG,YAAY,CAAC,MAAM,CAAC;YAC/B,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;gBACzBD,IAAM,IAAI,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC;gBAC7BA,IAAM,IAAI,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC;gBAC7BA,IAAM,GAAG,GAAG,IAAI,GAAG,MAAM,CAAC;gBAC1BA,IAAM,GAAG,GAAG,IAAI,GAAG,MAAM,CAAC;gBAC1BA,IAAM,GAAG,GAAG,WAAW,CAAC,GAAG,CAAC,CAAC;gBAC7B,IAAI,GAAG,KAAK,SAAS,IAAI,GAAG,CAAC,GAAG,CAAC,KAAK,SAAS,EAAE;oBAC7C,EAAE,CAAC,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;oBACpBA,IAAM,oBAAoB,GAAG,CAAC,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;;oBAEpE,UAAU,CAAC,oBAAoB,CAAC,GAAG,EAAE,CAAC,SAAS,CAAC;iBACnD;qBACI;oBACD,EAAE,CAAC,KAAK,GAAG,GAAG,CAAC;oBACf,EAAE,CAAC,KAAK,GAAG,GAAG,CAAC;;oBAEf,SAAS,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;iBAC5C;aACJ;SACJ;;QAEDA,IAAM,cAAc,GAAG,CAAC,CAAC,WAAW,CAAC,cAAc,CAAC;QACpDA,IAAM,gBAAgB,GAAG,CAAC,CAAC,WAAW,CAAC,gBAAgB,CAAC;QACxD,IAAI,cAAc,KAAK,CAAC,CAAC,IAAI,gBAAgB,KAAK,CAAC,CAAC,EAAE;YAClD,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC,cAAc,CAAC;YAC5B,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC,gBAAgB,CAAC;YAC9B,aAAa,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;YAC9B,WAAW,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;YAC1B,WAAW,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;SAC7B;KACJ,CAAC,CAAC;IACH,SAAS,CAAC,WAAW,CAAC,IAAI,GAAG,WAAW,CAAC;IACzC,IAAI,KAAK;UACL,GAAG,CAAC,OAAO,CAAC,sBAAsB,CAAC,GAAC;CAC3C;AACD,AAAO,SAAS,qBAAqB,CAAC,SAAS,EAAE,eAAuB,EAAE,gBAAwB,EAAE;qDAApC,GAAG;uDAAuB,GAAG;;IACzF,IAAI,KAAK;UACL,GAAG,CAAC,IAAI,CAAC,uBAAuB,CAAC,GAAC;IACtCA,IAAM,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC;IACtCA,IAAM,iBAAiB,GAAG,SAAS,CAAC,iBAAiB,CAAC;IACtDA,IAAM,eAAe,GAAG,SAAS,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;IACpDA,IAAM,GAAG,GAAG,SAAS,CAAC,YAAY,EAAE,CAAC;IACrCA,IAAM,GAAG,GAAG,SAAS,CAAC,YAAY,EAAE,CAAC;IACrC,IAAI,iBAAiB,CAAC,KAAK,KAAK,CAAC,EAAE;QAC/B,iBAAiB,CAAC,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;KAC1D;IACD,SAAS,kBAAkB,CAAC,GAAG,EAAE,GAAG,EAAE;QAClCA,IAAM,OAAO,GAAG,GAAG,CAAC,YAAY,CAAC;QACjCA,IAAM,OAAO,GAAG,GAAG,CAAC,YAAY,CAAC;QACjC,IAAI,OAAO,KAAK,mBAAmB,IAAI,OAAO,KAAK,OAAO,EAAE;YACxD,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,oBAAoB,CAAC;YACrC,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,sBAAsB,CAAC;YACvC,IAAI,CAAC,gBAAgB,IAAI,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,WAAW,CAAC,GAAG,CAAC,EAAE;gBAClE,IAAI,CAAC,eAAe,EAAE;oBAClB,SAAS,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;iBAClC;gBACD,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,cAAc,CAAC;gBAC/B,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,cAAc,CAAC;gBAC/B,iBAAiB,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;gBACpC,eAAe,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBAC/B,eAAe,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;aAClC;SACJ;KACJ;IACD,SAAS,CAAC,YAAY,CAAC,CAAC,EAAE,kBAAkB,CAAC,CAAC;IAC9CA,IAAM,GAAG,GAAG,SAAS,CAAC,eAAe,EAAE,CAAC;IACxCA,IAAM,GAAG,GAAG,SAAS,CAAC,eAAe,EAAE,CAAC;;IAExC,SAAS,CAAC,SAAS,CAAC,UAAU,EAAE,EAAE;QAC9B,IAAI,EAAE,CAAC,YAAY,KAAK,CAAC;cACrB,SAAO;QACX,GAAG,CAAC,KAAK,GAAG,EAAE,CAAC,aAAa,CAAC;QAC7B,GAAG,CAAC,KAAK,GAAG,EAAE,CAAC,aAAa,GAAG,EAAE,CAAC,YAAY,GAAG,CAAC,CAAC;QACnD,kBAAkB,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;KAChC,CAAC,CAAC;IACH,SAAS,CAAC,WAAW,CAAC,QAAQ,GAAG,eAAe,CAAC;IACjD,IAAI,CAAC,eAAe,EAAE;QAClB,IAAI,KAAK;cACL,GAAG,CAAC,IAAI,CAAC,6BAA6B,CAAC,GAAC;QAC5CA,IAAM,WAAW,GAAG,SAAS,CAAC,WAAW,CAAC;QAC1C,SAAS,CAAC,WAAW,CAAC,UAAU,EAAE,EAAE;YAChC,IAAI,EAAE,CAAC,YAAY,KAAK,mBAAmB,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,EAAE;gBAC1D,EAAE,CAAC,QAAQ,CAAC,UAAU,EAAE,EAAE;oBACtB,IAAI,EAAE,CAAC,OAAO,EAAE;0BACZ,SAAO;oBACX,WAAW,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,UAAU,GAAG,EAAE;wBACvD,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC;wBAChB,IAAI,EAAE,CAAC,UAAU,KAAK,GAAG,CAAC,UAAU;4BAChC,EAAE,CAAC,YAAY,KAAK,GAAG,CAAC,YAAY;4BACpC,CAAC,GAAG,CAAC,OAAO,EAAE,EAAE;4BAChB,SAAS,CAAC,kBAAkB,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;yBAC5C;qBACJ,CAAC,CAAC;iBACN,CAAC,CAAC;aACN;SACJ,CAAC,CAAC;QACH,IAAI,KAAK;cACL,GAAG,CAAC,OAAO,CAAC,6BAA6B,CAAC,GAAC;KAClD;IACD,IAAI,KAAK;UACL,GAAG,CAAC,OAAO,CAAC,uBAAuB,CAAC,GAAC;CAC5C;AACD,AAAO,SAAS,qBAAqB,CAAC,SAAS,EAAE;IAC7C,IAAI,CAAC,SAAS,CAAC,QAAQ;UACnB,SAAO;IACX,IAAI,KAAK;UACL,GAAG,CAAC,IAAI,CAAC,uBAAuB,CAAC,GAAC;IACtCA,IAAM,EAAE,GAAG,SAAS,CAAC,QAAQ,CAAC;IAC9BA,IAAM,mBAAmB,GAAG,SAAS,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC;IACjFA,IAAM,UAAU,GAAG,mBAAmB,CAAC,KAAK,EAAE,CAAC,KAAK,EAAE,CAAC;IACvDA,IAAM,SAAS,GAAG,qBAAqB,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC;IACvDA,IAAM,eAAe,GAAG,IAAI,OAAO,EAAE,CAAC;IACtCA,IAAM,iBAAiB,GAAG,IAAI,OAAO,EAAE,CAAC;IACxC,SAAS,aAAa,CAAC,KAAK,EAAE;QAC1BA,IAAM,UAAU,GAAG,EAAE,CAAC;QACtB,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE;YAC3CA,IAAM,CAAC,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,CAAC;YAClC,eAAe,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;YAClE,iBAAiB,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;YAC3C,iBAAiB,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;YACvC,iBAAiB,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YAClC,IAAI,KAAK;kBACL,iBAAiB,CAAC,GAAG,CAAC,KAAK,CAAC,GAAC;YACjC,CAAC,CAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC;YACjC,CAAC,CAAC,gBAAgB,CAAC,EAAE,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;YACrC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC;YAC1B,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;SACtB,CAAC,CAAC;QACH,OAAO,UAAU,CAAC;KACrB;IACDA,IAAM,gBAAgB,GAAG,IAAI,QAAQ,CAAC,UAAU,CAAC,CAAC;IAClDA,IAAM,kBAAkB,GAAG,aAAa,EAAE,CAAC;IAC3CA,IAAM,aAAa,GAAG,EAAE,CAAC;IACzB,IAAI,SAAS,CAAC,UAAU,CAAC,GAAG,EAAE;QAC1B,aAAa,CAAC,UAAI,kBAAC,IAAI,OAAO,EAAE,WAAK,SAAS,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAU,CAAC,CAAC;QACtFA,IAAM,qBAAqB,GAAG,EAAE,CAAC;QACjC,kBAAkB,CAAC,OAAO,WAAC,IAAM;YAC7B,aAAa,CAAC,OAAO,WAAC,IAAM;gBACxB,qBAAqB,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;aACvD,CAAC,CAAC;SACN,CAAC,CAAC;QACH,gBAAgB,CAAC,OAAO,CAAC,qBAAqB,CAAC,CAAC;KACnD;SACI;QACD,gBAAgB,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC;KAChD;IACDA,IAAM,GAAG,GAAG,IAAI,OAAO,EAAE,CAAC;IAC1BA,IAAM,iBAAiB,GAAG,IAAI,QAAQ,CAAC,WAAW,CAAC,CAAC;IACpDA,IAAM,mBAAmB,GAAG,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IACvF,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAC/B,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAC/B,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAChC,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAChC,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAChC,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAC/B,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAC/B,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAC/B,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACjC,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACjC,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACjC,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACjC,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAChC,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAChC,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAChC,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACjC,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACjC,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAChC,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAChC,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAChC,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAChC,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAChC,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAChC,aAAa,EAAE;IACf,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAC/B,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;KACjC,CAAC;IACF,IAAI,SAAS,CAAC,UAAU,CAAC,GAAG,EAAE;QAC1BA,IAAM,sBAAsB,GAAG,EAAE,CAAC;QAClC,mBAAmB,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE;YACtC,aAAa,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE;gBAChC,sBAAsB,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;aACxD,CAAC,CAAC;SACN,CAAC,CAAC;QACH,iBAAiB,CAAC,OAAO,CAAC,sBAAsB,CAAC,CAAC;KACrD;SACI;QACD,iBAAiB,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC;KAClD;IACD,SAAS,CAAC,UAAU,CAAC,QAAQ,GAAG,gBAAgB,CAAC;IACjD,SAAS,CAAC,UAAU,CAAC,SAAS,GAAG,iBAAiB,CAAC;IACnD,IAAI,KAAK;UACL,GAAG,CAAC,OAAO,CAAC,uBAAuB,CAAC,GAAC;CAC5C;AACDA,IAAM,IAAI,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;AAC5CA,IAAM,IAAI,GAAG,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;AAChC,AAAO,SAAS,YAAY,CAAC,QAAQ,EAAE;IACnCC,IAAI,EAAE,GAAG,QAAQ,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;;IAEvC,IAAI,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;UAC3B,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,GAAC;;IAEtB,IAAI,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;UAC3B,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,GAAC;IACtBD,IAAM,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC;IACpB,IAAI,CAAC,KAAK,CAAC;UACP,OAAO,EAAE,GAAC;IACd,IAAI,CAAC,KAAK,CAAC;UACP,OAAO,EAAE,GAAC;IACd,IAAI,CAAC,KAAK,CAAC,EAAE;QACT,IAAI,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;cACvB,OAAO,EAAE,GAAC;QACd,IAAI,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;cAC1B,OAAO,EAAE,CAAC,CAAC,CAAC,GAAC;KACpB;IACD,IAAI,CAAC,IAAI,CAAC,EAAE;QACR,IAAI,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;cAC1B,OAAO,EAAE,CAAC,CAAC,CAAC,GAAC;KACpB;IACD,OAAO,EAAE,CAAC;CACb;;;;;;AAMD,AAAO,SAAS,sBAAsB,CAAC,SAAS,EAAE;;IAE9CA,IAAM,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;IACpCA,IAAM,UAAU,GAAG,QAAQ,CAAC,UAAU,CAAC;IACvCA,IAAM,WAAW,GAAG,QAAQ,CAAC,WAAW,CAAC;IACzCA,IAAM,UAAU,GAAG,QAAQ,CAAC,UAAU,CAAC;IACvCA,IAAM,EAAE,GAAG,SAAS,CAAC,YAAY,EAAE,CAAC;IACpC,SAAS,CAAC,WAAW,CAAC,UAAU,EAAE,EAAE;QAChCA,IAAM,WAAW,GAAG,EAAE,CAAC,WAAW,CAAC;QACnC,IAAI,WAAW,CAAC,KAAK,KAAK,SAAS;cAC/B,SAAO;QACX,IAAI,UAAU,GAAG,EAAE,CAAC,UAAU,CAAC;QAC/B,IAAI,YAAY,GAAG,EAAE,CAAC;QACtB,IAAI,YAAY,GAAG,EAAE,CAAC;QACtB,IAAI,UAAU,GAAG,EAAE,CAAC;QACpB,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClBA,IAAM,cAAc,GAAG,UAAU,GAAG,EAAE,CAAC,SAAS,CAAC;QACjD,EAAE,CAAC,QAAQ,CAAC,UAAU,EAAE,EAAE;YACtBA,IAAM,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC;YACvBA,IAAM,MAAM,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC;YAClCA,IAAM,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC;YAChC,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,KAAK,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;gBACrC,EAAE,CAAC,KAAK,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;gBAClCA,IAAI,IAAI,GAAG,EAAE,CAAC,UAAU,CAAC;gBACzB,IAAI,IAAI,GAAG,UAAU,IAAI,IAAI,IAAI,cAAc,EAAE;;oBAE7C,SAAS;iBACZ;gBACDA,IAAI,IAAI,GAAG,EAAE,CAAC,UAAU,CAAC;gBACzB,IAAI,IAAI,GAAG,UAAU,IAAI,IAAI,IAAI,cAAc,EAAE;oBAC7C,SAAS;iBACZ;gBACD,IAAI,IAAI,GAAG,IAAI,EAAE;oBACbD,IAAM,GAAG,GAAG,IAAI,CAAC;oBACjB,IAAI,GAAG,IAAI,CAAC;oBACZ,IAAI,GAAG,GAAG,CAAC;iBACd;gBACDA,IAAM,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC;gBAC/B,IAAI,QAAQ,CAAC,IAAI,CAAC,KAAK,SAAS,EAAE;oBAC9B,QAAQ,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;oBACtB,YAAY,CAAC,IAAI,CAAC,IAAI,GAAG,UAAU,CAAC,CAAC;oBACrC,YAAY,CAAC,IAAI,CAAC,IAAI,GAAG,UAAU,CAAC,CAAC;oBACrC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;iBACjC;aACJ;SACJ,CAAC,CAAC;QACH,WAAW,CAAC,KAAK,GAAG;YAChB,YAAY,EAAE,YAAY;YAC1B,YAAY,EAAE,YAAY;YAC1B,UAAU,EAAE,UAAU;SACzB,CAAC;KACL,CAAC,CAAC;;CAEN;AACD,AAAO,SAAS,gBAAgB,CAAC,IAAmB,EAAE;;;;IAClD,IAAI,KAAK;UACL,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,GAAC;IACjCA,IAAM,CAAC,GAAG,IAAI,SAAS,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;IAClCA,IAAM,EAAE,GAAG,IAAI,gBAAgB,CAAC,CAAC,CAAC,CAAC;IACnCA,IAAM,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;IAC9BA,IAAM,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;IAC1B,SAAS,CAAC,QAAQ,CAAC,cAAc,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC;IAC9C,SAAS,CAAC,QAAQ,CAAC,eAAe,EAAE,CAAC,EAAE,SAAS,CAAC,CAAC;IAClDA,IAAM,aAAa,GAAG,EAAE,CAAC;IACzBC,IAAI,GAAG,GAAG,CAAC,CAAC;IACZA,IAAI,SAAS,GAAG,CAAC,CAAC;IAClBA,IAAI,UAAU,GAAG,CAAC,CAAC;IACnB,UAAU,CAAC,OAAO,WAAC,WAAa;QAC5B,SAAS,CAAC,QAAQ,WAAC,GAAK;YACpB,SAAS,CAAC,UAAU,EAAE,CAAC;YACvB,SAAS,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC;YAC/D,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACvB,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACvB,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACvB,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC;YACjC,SAAS,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,YAAY,CAAC;YAC7C,SAAS,CAAC,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,aAAa,CAAC;YAC/C,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC;YACjC,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC;YACvC,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC;YACnC,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,UAAU,GAAG,UAAU,EAAE,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC;YACvH,aAAa,CAAC,CAAC,CAAC,KAAK,GAAG,SAAS,CAAC,GAAG,GAAG,CAAC;YACzC,GAAG,IAAI,CAAC,CAAC;SACZ,CAAC,CAAC;QACH,SAAS,IAAI,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC;QACvC,UAAU,IAAI,SAAS,CAAC,UAAU,CAAC,KAAK,CAAC;KAC5C,CAAC,CAAC;IACHD,IAAM,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;IAC9BA,IAAM,EAAE,GAAG,CAAC,CAAC,YAAY,EAAE,CAAC;IAC5BA,IAAM,EAAE,GAAG,CAAC,CAAC,YAAY,EAAE,CAAC;IAC5B,SAAS,GAAG,CAAC,CAAC;IACd,UAAU,CAAC,OAAO,WAAC,WAAa;QAC5B,SAAS,CAAC,QAAQ,WAAC,GAAK;YACpB,EAAE,CAAC,KAAK,GAAG,aAAa,CAAC,CAAC,CAAC,UAAU,GAAG,SAAS,CAAC,CAAC;YACnD,EAAE,CAAC,KAAK,GAAG,aAAa,CAAC,CAAC,CAAC,UAAU,GAAG,SAAS,CAAC,CAAC;YACnD,SAAS,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC;SAC1C,CAAC,CAAC;QACH,SAAS,IAAI,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC;KAC1C,CAAC,CAAC;IACH,EAAE,CAAC,QAAQ,EAAE,CAAC;IACd,qBAAqB,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;IAC/B,oBAAoB,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;IAC9B,CAAC,CAAC,aAAa,EAAE,CAAC;IAClB,CAAC,CAAC,aAAa,EAAE,CAAC;IAClB,sBAAsB,CAAC,CAAC,CAAC,CAAC;IAC1B,IAAI,KAAK;UACL,GAAG,CAAC,OAAO,CAAC,kBAAkB,CAAC,GAAC;IACpC,OAAO,CAAC,CAAC;CACZ;;ACp6BD;;;;;AAKA,AAEA;AACAA,IAAM,YAAY,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;;AAE7CA,IAAM,mBAAmB,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;;AAEpDA,IAAM,mBAAmB,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;;AAE7CA,IAAM,iBAAiB,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;;AAEnDA,IAAM,UAAU,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;;AAE3CA,IAAM,oBAAoB,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;;AAEnFA,IAAM,UAAU,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;;AAE/CA,IAAM,QAAQ,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;;;;AAIrC,IAAM,QAAQ,GAMV,iBAAW,CAAC,SAAS,EAAE,QAAQ,EAAE,OAAO,EAAE;IACtC,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;IAC3B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IACzB,OAAO,GAAG,OAAO,IAAI,YAAY,CAAC,QAAQ,CAAC,CAAC;IAC5C,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IACvB,IAAI,CAAC,MAAM,GAAG,aAAa,CAAC,OAAO,CAAC,IAAI,mBAAmB,CAAC;IAC5D,IAAI,CAAC,GAAG,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,gBAAgB,CAAC;IACrD,IAAI,CAAC,QAAQ,GAAG,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,qBAAqB,CAAC;EACvE;mBACD,kDAAoB;IAChBA,IAAM,EAAE,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACjC,OAAO,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,cAAc,CAAC;EACtC;mBACD,4CAAiB;IACb,OAAO,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;EACtC;mBACD,oEAA6B;IACzB,OAAO,wBAAwB,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,8BAA8B,CAAC;EAClF;mBACD,8BAAU;IACN,QAAQ,IAAI,CAAC,aAAa,EAAE;QACxB,IAAI,CAAC,oBAAoB,EAAE;QAC3B,IAAI,CAAC,YAAY,EAAE;QACnB,IAAI,CAAC,UAAU,EAAE;QACjB,IAAI,CAAC,iBAAiB,EAAE;QACxB,IAAI,CAAC,qBAAqB,EAAE,EAAE;EACrC;mBACD,oCAAa;IACT,QAAQ,IAAI,CAAC,kBAAkB,EAAE;QAC7B,IAAI,CAAC,oBAAoB,EAAE;QAC3B,IAAI,CAAC,UAAU,EAAE,EAAE;EAC1B;mBACD,sCAAc;IACV,OAAO,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;EAC3C;mBACD,kCAAY;IACR,OAAO,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;EACzC;mBACD,oDAAqB;IACjB,OAAO,iBAAiB,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;EAClD;mBACD,wDAAuB;IACnB,OAAO,mBAAmB,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;EACpD;mBACD,0CAAgB;IACZ,OAAO,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;EAC7C;mBACD,wDAAuB;IACnB,OAAO,mBAAmB,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;EACpD;mBACD,oCAAa;IACT,OAAO,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;EAC3C;mBACD,kDAAoB;IAChBA,IAAM,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC;IACvB,QAAQ,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE;SACxB,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;SACrB,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;SACrB,EAAE,IAAI,GAAG,IAAI,EAAE,IAAI,GAAG,CAAC,EAAE;EACjC;mBACD,0DAAwB;IACpB,OAAO,oBAAoB,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;EACrD;mBACD,wCAAe;IACX,OAAO,IAAI,CAAC,MAAM,IAAI,EAAE,IAAI,IAAI,CAAC,MAAM,IAAI,EAAE,CAAC;EACjD;mBACD,oCAAa;IACT,OAAO,IAAI,CAAC,MAAM,IAAI,EAAE,IAAI,IAAI,CAAC,MAAM,IAAI,GAAG,CAAC;EAEtD;;ACrGD;;;;;AAKA,AAEA,SAAS,OAAO,CAAC,QAAQ,EAAE,OAAO,EAAE;IAChC,OAAO,QAAQ,GAAG,GAAG,GAAG,OAAO,CAAC;CACnC;AACD,IAAM,OAAO,GACT,gBAAW,CAAC,SAAS,EAAE;IACnB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;IAC3B,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;IACf,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;IACf,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;EAC9B;kBACD,oBAAI,QAAQ,EAAE,OAAO,EAAE;IACnB,QAAQ,GAAG,QAAQ,CAAC,WAAW,EAAE,CAAC;IAClC,IAAI,CAAC,OAAO,EAAE;QACV,OAAO,GAAG,YAAY,CAAC,QAAQ,CAAC,CAAC;KACpC;SACI;QACD,OAAO,GAAG,OAAO,CAAC,WAAW,EAAE,CAAC;KACnC;IACDA,IAAM,IAAI,GAAG,OAAO,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;IACxCC,IAAI,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACzB,IAAI,EAAE,KAAK,SAAS,EAAE;QAClBD,IAAM,QAAQ,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;QACjE,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;QACtB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;KAC5B;IACD,OAAO,EAAE,CAAC;EACb;kBACD,oBAAI,EAAE,EAAE;IACJ,OAAO,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;EAE5B;;ACtCD;;;;;;AAMA,AAKA;;;AAGe,IAAM,WAAW,GAU5B,oBAAW,CAAC,SAAS,EAAE,OAAO,EAAE,cAAc,EAAE,MAAM,EAAE,YAAY,EAAE,KAAK,EAAE;IACzE,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;;IAE3B,IAAI,CAAC,wBAAwB,GAAG,EAAE,CAAC;IACnC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IACvB,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;IACrC,IAAI,CAAC,MAAM,GAAG,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC;IAC7B,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;IACjC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACnB,IAAI,CAAC,SAAS,GAAG,cAAc,CAAC,MAAM,CAAC;IACvC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;IAC3C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;IAC5C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC;IAChD,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;IACjD,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;IACrDA,IAAM,SAAS,GAAG,gBAAgB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IACtDA,IAAM,cAAc,GAAG,gBAAgB,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;IAChEA,IAAM,YAAY,GAAG,gBAAgB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;IAC5DA,IAAM,UAAU,GAAG,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;IAC5D,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC,CAAC;IAC/CA,IAAM,SAAS,GAAG,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;IAChE,IAAI,CAAC,mBAAmB,GAAG,QAAQ,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC;IACnDA,IAAM,SAAS,GAAG,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;IAChE,IAAI,CAAC,mBAAmB,GAAG,QAAQ,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC;IACnDA,IAAM,YAAY,GAAG,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;IAC3E,IAAI,CAAC,sBAAsB,GAAG,QAAQ,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC;IACzDA,IAAM,UAAU,GAAG,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;IACrE,IAAI,CAAC,oBAAoB,GAAG,QAAQ,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC,CAAC;IACrDC,IAAI,YAAY,CAAC;IACjB,IAAI,UAAU,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;QAC9B,YAAY,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;KAChD;SACI;QACD,YAAY,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;KAChD;IACD,IAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC;EACtD;sBACD,wDAAuB;IACnBD,IAAM,iBAAiB,GAAG,EAAE,CAAC;IAC7BC,IAAI,YAAY,CAAC;IACjB,QAAQ,IAAI,CAAC,YAAY;QACrB,KAAK,WAAW;YACZ,YAAY,GAAG,oBAAoB,CAAC;YACpC,MAAM;QACV,KAAK,OAAO,CAAC;QACb,KAAK,OAAO;YACR,YAAY,GAAG,oBAAoB,CAAC;YACpC,MAAM;QACV;YACI,OAAO,iBAAiB,CAAC;KAChC;IACDD,IAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;IACvCA,IAAM,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;IAC3C,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;QAC9CD,IAAM,QAAQ,GAAG,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;QAChD,IAAI,YAAY,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE;YAC1C,iBAAiB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;SAC7B;KACJ;IACD,OAAO,iBAAiB,CAAC;EAC5B;sBACD,8CAAkB;IACd,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;QAClB,OAAO,WAAW,CAAC;KACtB;SACI,IAAI,IAAI,CAAC,KAAK,EAAE,EAAE;QACnB,OAAO,OAAO,CAAC;KAClB;SACI,IAAI,IAAI,CAAC,KAAK,EAAE,EAAE;QACnB,OAAO,OAAO,CAAC;KAClB;SACI,IAAI,IAAI,CAAC,OAAO,EAAE,EAAE;QACrB,OAAO,SAAS,CAAC;KACpB;SACI,IAAI,IAAI,CAAC,KAAK,EAAE,EAAE;QACnB,OAAO,OAAO,CAAC;KAClB;SACI,IAAI,IAAI,CAAC,YAAY,EAAE,EAAE;QAC1B,OAAO,cAAc,CAAC;KACzB;SACI;QACD,OAAO,WAAW,CAAC;KACtB;EACJ;sBACD,4CAAgB,QAAQ,EAAE;IACtB,IAAI,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,EAAE;QACnC,OAAO,mBAAmB,CAAC;KAC9B;SACI,IAAI,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE;QACpC,OAAO,eAAe,CAAC;KAC1B;SACI,IAAI,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE;QACpC,OAAO,eAAe,CAAC;KAC1B;SACI,IAAI,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,EAAE;QAC1C,OAAO,qBAAqB,CAAC;KAChC;SACI,IAAI,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,EAAE;QACtC,OAAO,iBAAiB,CAAC;KAC5B;SACI,IAAI,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,EAAE;QACtC,OAAO,iBAAiB,CAAC;KAC5B;SACI;QACD,OAAO,mBAAmB,CAAC;KAC9B;EACJ;sBACD,kCAAY;IACR,IAAI,IAAI,CAAC,YAAY,EAAE;QACnB,OAAO,eAAe,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;KACtD;SACI;QACD,QAAQ,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,GAAG,EAAE,GAAG,CAAC;YACxC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;KACnC;EACJ;sBACD,wBAAO;IACHA,IAAM,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;IACvC,QAAQ,YAAY,KAAK,qBAAqB;QAC1C,YAAY,KAAK,iBAAiB;QAClC,YAAY,KAAK,iBAAiB,EAAE;EAC3C;sBACD,kCAAY;IACR,OAAO,IAAI,CAAC,KAAK,EAAE,IAAI,IAAI,CAAC,KAAK,EAAE,CAAC;EACvC;sBACD,0BAAQ;IACJ,IAAI,IAAI,CAAC,YAAY,EAAE;QACnB,OAAO,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;KAClD;SACI,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;QACxB,OAAO,KAAK,CAAC;KAChB;SACI;QACD,QAAQ,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,EAAE,KAAK,EAAE,KAAK,CAAC,EAAE,CAAC,KAAK,EAAE,KAAK,CAAC,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;aAC1F,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC;iBAC3B,IAAI,CAAC,eAAe,CAAC,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;KAClE;EACJ;sBACD,0BAAQ;IACJ,IAAI,IAAI,CAAC,YAAY,EAAE;QACnB,OAAO,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;KAClD;SACI,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;QACxB,OAAO,KAAK,CAAC;KAChB;SACI;QACD,QAAQ,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,EAAE,KAAK,EAAE,KAAK,CAAC,EAAE,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;YAC9D,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;YACnD,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;KACxC;EACJ;sBACD,gCAAW;IACP,OAAO,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC;EAC5B;sBACD,0BAAQ;IACJ,OAAO,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;EAC1C;sBACD,8BAAU;IACN,OAAO,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;EAC5C;sBACD,wCAAe;IACX,IAAI,IAAI,CAAC,YAAY,EAAE;QACnB,OAAO,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;KACzD;SACI;QACD,OAAO,eAAe,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;KACjD;EACJ;sBACD,sDAAsB;IAClB,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;EACrC;sBACD,4CAAiB;IACb,OAAO,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;EACvC;sBACD,8CAAiB,QAAQ,EAAE,IAAI,EAAE;IAC7BA,IAAM,SAAS,GAAG,gBAAgB,CAAC,IAAI,CAAC,CAAC;IACzC,IAAI,QAAQ,KAAK,CAAC,CAAC,EAAE;QACjB,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,KAAK,EAAE,SAAS,CAAC,WAAW,EAAE,SAAS,CAAC,UAAU,EAAE,SAAS,CAAC,UAAU,CAAC,CAAC;KACnH;SACI,IAAI,QAAQ,KAAK,CAAC,EAAE;QACrB,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,KAAK,EAAE,SAAS,CAAC,UAAU,EAAE,SAAS,CAAC,UAAU,CAAC,CAAC;KAC5F;SACI,IAAI,QAAQ,KAAK,CAAC,EAAE;QACrB,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,KAAK,EAAE,SAAS,CAAC,aAAa,EAAE,SAAS,CAAC,UAAU,EAAE,SAAS,CAAC,UAAU,CAAC,CAAC;KACrH;SACI;QACD,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,KAAK,EAAE,SAAS,CAAC,aAAa,EAAE,SAAS,CAAC,WAAW,EAAE,SAAS,CAAC,UAAU,EAAE,SAAS,CAAC,UAAU,CAAC,CAAC;KAC5I;EACJ;sBACD,kDAAmB,QAAQ,EAAE;IACzB,QAAQ,IAAI,CAAC,SAAS,EAAE;QACpB,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,mBAAmB,CAAC,EAAE;EAC7D;sBACD,0CAAe,QAAQ,EAAE;IACrB,QAAQ,IAAI,CAAC,KAAK,EAAE;QAChB,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,eAAe,CAAC,EAAE;EACzD;sBACD,0CAAe,QAAQ,EAAE;IACrB,QAAQ,IAAI,CAAC,KAAK,EAAE;QAChB,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,eAAe,CAAC,EAAE;EACzD;sBACD,sDAAqB,QAAQ,EAAE;IAC3B,QAAQ,IAAI,CAAC,SAAS,GAAG,CAAC;QACtB,IAAI,CAAC,SAAS,EAAE;QAChB,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,qBAAqB,CAAC,EAAE;EAC/D;sBACD,8CAAiB,QAAQ,EAAE;IACvB,QAAQ,IAAI,CAAC,SAAS,GAAG,EAAE;QACvB,IAAI,CAAC,KAAK,EAAE;QACZ,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,iBAAiB,CAAC,EAAE;EAC3D;sBACD,8CAAiB,QAAQ,EAAE;IACvB,QAAQ,IAAI,CAAC,SAAS,GAAG,EAAE;QACvB,IAAI,CAAC,KAAK,EAAE;QACZ,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,iBAAiB,CAAC,EAAE;EAC3D;sBACD,oCAAY,QAAQ,EAAE;IAClB,QAAQ,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC;QACrC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC;QAC7B,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC;QAC7B,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC;QACnC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC;QAC/B,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,EAAE;EACxC;sBACD,kDAAmB,QAAQ,EAAE;IACzBA,IAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC;IACzBA,IAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;IACvCA,IAAM,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;IAC3C,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;QACzB,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;YACxBD,IAAM,KAAK,GAAG,cAAc,CAAC,CAAC,CAAC,CAAC;YAChC,IAAI,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,EAAE;gBAChD,OAAO,CAAC,CAAC;aACZ;SACJ;KACJ;SACI;QACD,KAAKC,IAAIa,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAG,CAAC,EAAE,EAAEA,GAAC,EAAE;YACxBd,IAAM4C,OAAK,GAAG,cAAc,CAAC9B,GAAC,CAAC,CAAC;YAChC,IAAI,QAAQ,KAAK,OAAO,CAAC,GAAG,CAAC8B,OAAK,CAAC,CAAC,QAAQ,EAAE;gBAC1C,OAAO9B,GAAC,CAAC;aACZ;SACJ;KACJ;IACD,OAAO,SAAS,CAAC;EACpB;sBACD,8CAA8B;;;;IAC1Bd,IAAM,CAAC,GAAG,SAAS,CAAC,MAAM,CAAC;IAC3B,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;QACxB,IAAI,SAAS,CAAC,CAAC,CAAC,KAAK,SAAS;cAC1B,WAAS;QACb,IAAI,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,SAAS,EAAE;YACrD,OAAO,KAAK,CAAC;SAChB;KACJ;IACD,OAAO,IAAI,CAAC;EACf;sBACD,8BAAS,CAAC,EAAE;IACR,IAAI,IAAI,CAAC,KAAK,KAAK,SAAS,EAAE;QAC1B,IAAI,CAAC,KAAK,GAAG,qBAAqB,CAAC,CAAC,CAAC,CAAC;KACzC;IACD,OAAO,IAAI,CAAC,KAAK,CAAC;EACrB;sBACD,gCAAW;IACP,IAAI,IAAI,CAAC,KAAK,KAAK,SAAS,EAAE;QAC1B,IAAI,CAAC,cAAc,EAAE,CAAC;KACzB;IACD,OAAO,IAAI,CAAC,KAAK,CAAC;EACrB;sBACD,wCAAe;IACX,IAAI,IAAI,CAAC,SAAS,KAAK,SAAS,EAAE;QAC9B,IAAI,CAAC,kBAAkB,EAAE,CAAC;KAC7B;IACD,OAAO,IAAI,CAAC,SAAS,CAAC;EACzB;sBACD,oCAAY,CAAC,EAAE;IACX,IAAI,IAAI,CAAC,aAAa,KAAK,SAAS,EAAE;QAClC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC,CAAC;KAC5E;IACD,OAAO,IAAI,CAAC,aAAa,CAAC;EAC7B;sBACD,8CAAiB,CAAC,EAAE;IAChB,IAAI,IAAI,CAAC,aAAa,KAAK,SAAS,EAAE;QAClC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;KAC7B;IACD,OAAO,IAAI,CAAC,aAAa,CAAC;EAC7B;;;;;sBAKD,oDAAqB;IACjBD,IAAM,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IACtCA,IAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;IAC9BA,IAAM,EAAE,GAAG,KAAK,CAAC,YAAY,CAAC,MAAM,CAAC;IACrCA,IAAM,YAAY,GAAG,KAAK,CAAC,YAAY,CAAC;IACxCA,IAAM,YAAY,GAAG,KAAK,CAAC,YAAY,CAAC;IACxC,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;QACzBD,IAAM,GAAG,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC;QAC5BA,IAAM,GAAG,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC;QAC5BA,IAAM,EAAE,GAAG,SAAS,CAAC,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;QACjD,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACbA,IAAM,EAAE,GAAG,SAAS,CAAC,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;QACjD,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KAChB;EACJ;;;;sBAID,4CAAiB;IACbA,IAAM,SAAS,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;IACtCA,IAAM,KAAK,GAAG,eAAe,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;IACzD,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC,EAAE,EAAE;QAClC,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC;cACrB,WAAS;QACb,SAAS,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;KACvB;IACD,IAAI,CAAC,KAAK,GAAG,EAAE,SAAS,EAAE,KAAK,CAAC,SAAS,EAAE,KAAK,EAAE,KAAK,CAAC,KAAK,EAAE,CAAC;EACnE;sBACD,kCAAW,IAAI,EAAE;IACb,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IAC5C,OAAO,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;EACxE;sBACD,gDAAkB,CAAC,EAAE;;;IACjBD,IAAM,aAAa,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAC1EA,IAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC;IACpCA,IAAM,iBAAiB,GAAG,KAAK,CAAC,GAAG,WAAC,MAAQ;QACxC,OAAO,cAAc,CAAC,IAAI,CAAC,GAAG,WAAC,KAAO;YAClC,OAAOO,MAAI,CAAC,SAAS,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC;SAC1D,CAAC,CAAC,CAAC;KACP,CAAC,CAAC;IACHP,IAAM,aAAa,GAAG,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;IAC9C,KAAK,CAAC,OAAO,WAAE,IAAI,EAAE,CAAC,EAAK;QACvB,IAAI,iBAAiB,CAAC,CAAC,CAAC,EAAE;YACtB,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACzB,IAAI,CAAC,OAAO,WAAC,cAAO,aAAa,CAAC,GAAG,CAAC,GAAG,IAAC,CAAC,CAAC;SAC/C;KACJ,CAAC,CAAC;EACN;;;;;sBAKD,4EAAiC;IAC7BA,IAAM,SAAS,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;IACtCA,IAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;IAC9BA,IAAM,SAAS,GAAG,KAAK,CAAC,SAAS,CAAC;IAClCA,IAAM,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC;IAC7BA,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;IACzBA,IAAM,YAAY,GAAG,KAAK,CAAC,YAAY,CAAC;IACxCA,IAAM,YAAY,GAAG,KAAK,CAAC,YAAY,CAAC;IACxCA,IAAM,UAAU,GAAG,KAAK,CAAC,UAAU,CAAC;IACpCA,IAAM,wBAAwB,GAAG,IAAI,CAAC,wBAAwB,CAAC;IAC/DA,IAAM,EAAE,GAAG,KAAK,CAAC,YAAY,CAAC,MAAM,CAAC;IACrC,wBAAwB,CAAC,MAAM,GAAG,CAAC,CAAC;IACpC,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;;QAEzB,IAAI,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC;cAClB,WAAS;QACbA,IAAI,kBAAO,CAAC;QACZD,IAAM,GAAG,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC;QAC5BA,IAAM,GAAG,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC;QAC5BA,IAAM,MAAM,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;QAC9BA,IAAM,MAAM,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;;QAE9B,IAAI,MAAM,IAAI,MAAM,EAAE;;YAElB,KAAKC,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,MAAM,CAAC,MAAM,EAAE,GAAG,EAAE,EAAE;gBAC1C,IAAI,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;oBACpC,OAAO,GAAG,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;oBAChC,MAAM;iBACT;aACJ;SACJ;;QAED,IAAI,SAAS,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;gBAC5CD,IAAM,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC9B,IAAI,GAAG,KAAK,GAAG,EAAE;oBACb,IAAI,OAAO,KAAK,SAAS,IAAI,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;wBACtD,wBAAwB,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;wBAClC,MAAM;qBACT;iBACJ;aACJ;SACJ;aACI,IAAI,SAAS,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;YAChC,KAAKC,IAAIkC,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAEA,GAAC,EAAE;gBAC5CnC,IAAM6C,KAAG,GAAG,SAAS,CAAC,GAAG,CAAC,CAACV,GAAC,CAAC,CAAC;gBAC9B,IAAIU,KAAG,KAAK,GAAG,EAAE;oBACb,IAAI,OAAO,KAAK,SAAS,IAAI,OAAO,CAAC,OAAO,CAACA,KAAG,CAAC,KAAK,CAAC,CAAC,EAAE;wBACtD,wBAAwB,CAAC,CAAC,CAAC,GAAGA,KAAG,CAAC;wBAClC,MAAM;qBACT;iBACJ;aACJ;SACJ;KACJ;EACJ;sBACD,sCAAa,UAAU,EAAE,UAAU,EAAE;IACjC7C,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;IACzBA,IAAM,YAAY,GAAG,KAAK,CAAC,YAAY,CAAC;IACxCA,IAAM,YAAY,GAAG,KAAK,CAAC,YAAY,CAAC;IACxCC,IAAI,IAAI,GAAG,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;IAC5CA,IAAI,IAAI,GAAG,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;IAC5CD,IAAM,KAAK,GAAG,IAAI,CAAC;IACnB,OAAO,IAAI,KAAK,CAAC,CAAC,EAAE;QAChB,OAAO,IAAI,KAAK,CAAC,CAAC,EAAE;YAChB,IAAI,IAAI,KAAK,IAAI;kBACb,OAAO,IAAI,GAAC;YAChB,IAAI,GAAG,YAAY,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,GAAG,CAAC,CAAC,CAAC;SACrD;QACD,IAAI,GAAG,YAAY,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,GAAG,CAAC,CAAC,CAAC;QAClD,IAAI,GAAG,KAAK,CAAC;KAChB;;EAEJ;sBACD,gEAA0B,UAAU,EAAE,UAAU,EAAE;IAC9CA,IAAM,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;IAC5D,IAAI,SAAS,KAAK,SAAS;UACvB,OAAO,SAAS,GAAC;IACrB,IAAI,IAAI,CAAC,wBAAwB,CAAC,MAAM,KAAK,CAAC,EAAE;QAC5C,IAAI,CAAC,8BAA8B,EAAE,CAAC;KACzC;IACD,OAAO,IAAI,CAAC,wBAAwB,CAAC,SAAS,CAAC,CAAC;;AAGxD;AACAA,IAAM,oBAAoB,GAAG;IACzB,CAAC,UAAU,CAAC,UAAU,CAAC,UAAU,CAAC;IAClC,EAAE,WAAW,EAAE,UAAU,EAAE;IAC3B,EAAE,WAAW,EAAE;IACf,EAAE,WAAW,EAAE;IACf,EAAE;CACL,CAAC;AACFA,IAAM,8BAA8B,GAAG,IAAI,CAAC;AAC5C,SAAS,cAAc,CAAC,IAAI,EAAE;IAC1B,IAAI,IAAI,CAAC,IAAI,WAAC,YAAK,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,IAAC,CAAC;UACxD,OAAO,KAAK,GAAC;IACjBC,IAAI,CAAC,GAAG,CAAC,CAAC;IACVD,IAAM,MAAM,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IAC1CA,IAAM,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC;IACvB,IAAI,CAAC,OAAO,WAAC,GAAK;QACd,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAChB,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAChB,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAChB,CAAC,IAAI,CAAC,CAAC;KACV,CAAC,CAAC;IACHA,IAAM,EAAE,GAAG,IAAI,aAAa,CAAC,MAAM,CAAC,CAAC;IACrC,OAAO,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,8BAA8B,CAAC;CAC5D;;;;;;;AAOD,SAAS,OAAO,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,EAAE;;IAE1B,IAAI,CAAC,GAAG,CAAC;UACL,SAAO;IACH;IAAM;IAAO;IAAM,wBAAgB;IAC3CA,IAAM,EAAE,GAAG,EAAE,KAAK,CAAC,YAAY,CAAC;IAChCC,IAAI,OAAO,GAAG,CAAC,CAAC;IAChB,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,kBAAkB,EAAE,CAAC,EAAE,EAAE;QACzC,KAAK,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;QACpB,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC;QACxB,IAAI,OAAO,GAAG,CAAC;cACX,QAAM;KACb;IACDA,IAAI,UAAU,GAAG,CAAC,CAAC;IACnBA,IAAI,WAAW,GAAG,CAAC,CAAC;IACpBA,IAAI,KAAK,GAAG,KAAK,CAAC;IAClBA,IAAI,MAAM,GAAG,CAAC,CAAC;IACf,OAAO,GAAG,CAAC,CAAC;IACZ,KAAKA,IAAI6C,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAG,kBAAkB,EAAEA,GAAC,EAAE,EAAE;QACzC,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE;YACvB,MAAM,GAAG,OAAO,CAAC;YACjB,KAAK,GAAG,IAAI,CAAC;YACb,MAAM;SACT;QACD,KAAK,CAAC,WAAW,EAAE,CAAC,GAAG,OAAO,CAAC;QAC/B,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC;QACxB,IAAI,OAAO,GAAG,CAAC;cACX,QAAM;KACb;IACD,IAAI,CAAC,KAAK;UACN,SAAO;IACX,OAAO,GAAG,CAAC,CAAC;IACZ,KAAK7C,IAAI6C,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAG,kBAAkB,EAAEA,GAAC,EAAE,EAAE;QACzC,IAAI,CAAC,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC;QAC7B,IAAI,MAAM,KAAK,OAAO;cAClB,QAAM;QACV,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC;QACxB,IAAI,OAAO,GAAG,CAAC;cACX,QAAM;KACb;IACD9C,IAAM,EAAE,GAAG,UAAU,GAAG,WAAW,CAAC;IACpCA,IAAM,IAAI,GAAG,IAAI,KAAK,CAAC,EAAE,CAAC,CAAC;IAC3BC,IAAI,UAAU,GAAG,CAAC,CAAC;IACnB,KAAKA,IAAI6C,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAG,UAAU,EAAEA,GAAC,EAAE,EAAE;QACjC,IAAI,CAAC,UAAU,EAAE,CAAC,GAAG,IAAI,CAACA,GAAC,CAAC,CAAC;KAChC;IACD,KAAK7C,IAAI6C,GAAC,GAAG,WAAW,GAAG,CAAC,EAAEA,GAAC,IAAI,CAAC,EAAEA,GAAC,EAAE,EAAE;QACvC,IAAI,CAAC,UAAU,EAAE,CAAC,GAAG,KAAK,CAACA,GAAC,CAAC,CAAC;KACjC;IACD9C,IAAM,EAAE,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC;;IAE9B,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;QACzBD,IAAM,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACnB,IAAI,KAAK,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE;YACrB,KAAK,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;SAChC;aACI;YACD,KAAK,CAAC,SAAS,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;SAC9B;KACJ;IACD,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;CAC1B;AACD,SAAS,SAAS,CAAC,KAAK,EAAE,IAAI,EAAE;IACpB;IAAO;IAAS;IAAO,sBAAe;IAC9C,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAClB,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;IAChBC,IAAI,IAAI,GAAG,CAAC,CAAC;IACbA,IAAI,IAAI,GAAG,CAAC,CAAC;IACb,OAAO,IAAI,GAAG,IAAI,EAAE;QAChBD,IAAM,GAAG,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC;QAC1BA,IAAM,KAAK,GAAG,CAAC,CAAC;QAChB,IAAI,KAAK,CAAC,GAAG,CAAC,KAAK,SAAS,EAAE;YAC1B,SAAS;SACZ;QACDA,IAAM,GAAG,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC;QAC9B,KAAKC,IAAI,CAAC,GAAG,KAAK,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAC9BD,IAAM,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAC5B,IAAI,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;gBACpB,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,KAAK,EAAE;oBAC5C,OAAO,CAAC,KAAK,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;iBAC9B;gBACD,SAAS;aACZ;YACD,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACnB,KAAK,CAAC,IAAI,EAAE,CAAC,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC;SACrB;KACJ;CACJ;AACDA,IAAM,kBAAkB,GAAG,CAAC,CAAC;AAC7B,SAAS,eAAe,CAAC,KAAK,EAAE,QAAQ,EAAE;IACtCA,IAAM,KAAK,GAAG;QACV,KAAK,EAAE,QAAQ;QACf,OAAO,EAAE,IAAI,UAAU,CAAC,QAAQ,CAAC;QACjC,KAAK,EAAE,IAAI,UAAU,CAAC,QAAQ,CAAC;QAC/B,IAAI,EAAE,IAAI,UAAU,CAAC,QAAQ,CAAC;QAC9B,IAAI,EAAE,IAAI,UAAU,CAAC,kBAAkB,CAAC;QACxC,KAAK,EAAE,IAAI,UAAU,CAAC,kBAAkB,CAAC;QACzC,KAAK,EAAE,IAAI,UAAU,CAAC,QAAQ,CAAC;QAC/B,YAAY,EAAE,CAAC;QACf,KAAK,EAAE,EAAE;QACT,SAAS,EAAE,EAAE;eACb,KAAK;KACR,CAAC;IACF,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,EAAE,CAAC,EAAE,EAAE;QAC/B,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QACtB,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;KACtB;IACD,OAAO,KAAK,CAAC;CAChB;;AC9kBD;;;;;AAKA,AACA,SAAS8C,SAAO,CAAC,OAAO,EAAE,cAAc,EAAE,MAAM,EAAE,YAAiB,EAAE;+CAAP,GAAG;;IAC7D,QAAQ,OAAO,GAAG,GAAG;QACjB,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG;SAC7B,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG;QACtB,YAAY,EAAE;CACrB;AACD,IAAM,UAAU,GACZ,mBAAW,CAAC,SAAS,EAAE;IACnB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;IAC3B,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;IACf,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;EAClB;qBACD,oBAAI,OAAO,EAAE,cAAc,EAAE,MAAM,EAAE,YAAiB,EAAE,KAAK,EAAE;mDAAd,GAAG;;IAChD,OAAO,GAAG,OAAO,CAAC,WAAW,EAAE,CAAC;IAChC/C,IAAM,IAAI,GAAG+C,SAAO,CAAC,OAAO,EAAE,cAAc,EAAE,MAAM,EAAE,YAAY,CAAC,CAAC;IACpE9C,IAAI,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACzB,IAAI,EAAE,KAAK,SAAS,EAAE;QAClBD,IAAM,WAAW,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,EAAE,cAAc,EAAE,MAAM,EAAE,YAAY,EAAE,KAAK,CAAC,CAAC;QAC1G,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;QACtB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;KAC/B;IACD,OAAO,EAAE,CAAC;EACb;qBACD,oBAAI,EAAE,EAAE;IACJ,OAAO,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;EAE5B;;ACjCD;;;;;AAKA,AACA;;;AAGA,IAAM,SAAS,GAKX,kBAAW,CAAC,SAAS,EAAE,KAAS,EAAE;iCAAN,GAAG;;IAC3B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;IAC3B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACnB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC;IACrC,IAAI,CAAC,IAAI,GAAG,IAAI,OAAO,EAAE,CAAC;IAC1B,IAAI,CAAC,IAAI,GAAG,IAAI,OAAO,EAAE,CAAC;IAC1B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;IAC1C,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;IAC1C,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;;;mMAC7C;;;;AAIDI,qBAAI,wBAAQ;IACR,OAAO,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;EACvD;;;;AAIDA,qBAAI,wBAAQ;IACR,OAAO,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;EACvD;;;;AAIDA,qBAAI,6BAAa;IACb,OAAO,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EAChD;AACDA,qBAAI,2BAAW,KAAK,EAAE;IAClB,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EACjD;;;;AAIDA,qBAAI,6BAAa;IACb,OAAO,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EAChD;AACDA,qBAAI,2BAAW,KAAK,EAAE;IAClB,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EACjD;;;;AAIDA,qBAAI,4BAAY;IACZ,OAAO,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EAC/C;AACDA,qBAAI,0BAAU,KAAK,EAAE;IACjB,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EAChD;oBACD,gDAAkB,SAAS,EAAE;IACzB,OAAO,SAAS,KAAK,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;EAC5E;oBACD,sCAAa,IAAI,EAAE;IACf,OAAO,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;EAC1E;;;;;oBAKD,0DAAwB;IACpBJ,IAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC;IACtBA,IAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC;IACtB,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC;IAC5B,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC;IAC5B,IAAI,GAAG,CAAC,YAAY,KAAK,GAAG,CAAC,YAAY,EAAE;QACvC,OAAO,SAAS,CAAC;KACpB;IACDA,IAAM,cAAc,GAAG,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,iBAAiB,CAAC;IACzDA,IAAM,cAAc,GAAG,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,iBAAiB,CAAC;IACzDA,IAAM,WAAW,GAAG,GAAG,CAAC,WAAW,CAAC;IACpCA,IAAM,EAAE,GAAG,WAAW,CAAC,yBAAyB,CAAC,cAAc,EAAE,cAAc,CAAC,CAAC;IACjF,IAAI,EAAE,KAAK,SAAS,EAAE;QAClB,OAAO,EAAE,GAAG,GAAG,CAAC,iBAAiB,CAAC;KACrC;SACI;QACD,OAAO,CAAC,IAAI,CAAC,yBAAyB,EAAE,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;KACjE;EACJ;;;;;;oBAMD,gDAAkB,CAAiB,EAAE;6BAAlB,GAAG,IAAI,OAAO;;IAC7BA,IAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC;IACtBA,IAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC;IACtBA,IAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC;IACtBA,IAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC;IACtBA,IAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC;IACtB,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC;IAC5B,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC;IAC5BA,IAAM,GAAG,GAAG,IAAI,CAAC,qBAAqB,EAAE,CAAC;IACzC,GAAG,CAAC,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,SAAS,EAAE,CAAC;IACrC,IAAI,GAAG,KAAK,SAAS,EAAE;QACnB,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC;QAChB,GAAG,CAAC,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;KAC5B;SACI;QACD,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KACjB;IACD,GAAG,CAAC,SAAS,EAAE,CAAC;;IAEhBC,IAAI,EAAE,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACtB,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE;QACzB,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACjB,EAAE,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAClB,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE;YACzB,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YACjB,EAAE,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SACrB;KACJ;IACD,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC;EAC9D;oBACD,0CAAgB;IACZ,OAAO,IAAI,CAAC,UAAU,GAAG,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC;EAClD;;;;;oBAKD,0BAAQ;IACJ,OAAO,IAAI,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;EACpD;oBACD,gCAAW;IACP,OAAO;QACH,UAAU,EAAE,IAAI,CAAC,UAAU;QAC3B,UAAU,EAAE,IAAI,CAAC,UAAU;QAC3B,SAAS,EAAE,IAAI,CAAC,SAAS;KAC5B,CAAC;;;qEAET;;AChJD;;;;;AAKA,AAEA;;;AAGA,IAAM,YAAY,GAKd,qBAAW,CAAC,SAAS,EAAE,KAAS,EAAE;iCAAN,GAAG;;IAC3B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;IAC3B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACnB,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;IACvC,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC;IAC3C,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC;IACrC,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;IACvC,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;;;2hCACpC;;;;;AAKDG,qBAAI,yBAAS;IACT,OAAO,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;EACtD;AACDA,qBAAI,8BAAc;IACd,OAAO,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;EACvD;;;;;AAKDA,qBAAI,wBAAQ;IACR,OAAO,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;EACxD;AACDA,qBAAI,6BAAa;IACb,OAAO,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EACnD;AACDA,qBAAI,2BAAW,KAAK,EAAE;IAClB,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EACpD;AACDA,qBAAI,6BAAa;IACb,OAAO,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EACnD;AACDA,qBAAI,2BAAW,KAAK,EAAE;IAClB,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EACpD;;;;;AAKDA,qBAAI,4BAAY;IACZ,OAAO,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EAClD;AACDA,qBAAI,0BAAU,KAAK,EAAE;IACjB,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EACnD;AACDA,qBAAI,0BAAU;IACV,OAAO,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;EAC/C;;AAEDA,qBAAI,6BAAa;IACb,OAAO,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;EACtD;;;;;AAKDA,qBAAI,4BAAY;IACZ,OAAO,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;EACxD;;;;;AAKDA,qBAAI,0BAAU;IACV,OAAO,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;EACtD;;;;;;AAMDA,qBAAI,wBAAQ;IACR,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EAC9C;AACDA,qBAAI,sBAAM,KAAK,EAAE;IACb,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EAC/C;;;;;AAKDA,qBAAI,yBAAS;IACT,OAAO,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EAClD;AACDA,qBAAI,uBAAO,KAAK,EAAE;IACd,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;EAClD;;;;;AAKDA,qBAAI,0BAAU;IACV,OAAO,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EACnD;AACDA,qBAAI,wBAAQ,KAAK,EAAE;IACf,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;EACnD;;AAEDA,qBAAI,8BAAc;IACd,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;EAC3E;;;;;AAKDA,qBAAI,0BAAU;IACV,OAAO,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC;EACnC;;;;;AAKDA,qBAAI,yBAAS;IACT,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;EAClC;AACDA,qBAAI,+BAAe;IACf,OAAO,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC;EACxC;AACDA,qBAAI,+BAAe;IACf,OAAO,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC;EACxC;AACDA,qBAAI,oCAAoB;IACpB,OAAO,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC;EAC7C;AACDA,qBAAI,kCAAkB;IAClB,OAAO,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC;EAC3C;AACDA,qBAAI,iCAAiB;IACjB,OAAO,IAAI,CAAC,WAAW,CAAC,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC;EAC5D;AACDA,qBAAI,sCAAsB;IACtB,OAAO,IAAI,CAAC,WAAW,CAAC,mBAAmB,GAAG,IAAI,CAAC,UAAU,CAAC;EACjE;AACDA,qBAAI,sCAAsB;IACtB,OAAO,IAAI,CAAC,WAAW,CAAC,mBAAmB,GAAG,IAAI,CAAC,UAAU,CAAC;EACjE;AACDA,qBAAI,yCAAyB;IACzB,OAAO,IAAI,CAAC,WAAW,CAAC,sBAAsB,GAAG,IAAI,CAAC,UAAU,CAAC;EACpE;AACDA,qBAAI,uCAAuB;IACvB,OAAO,IAAI,CAAC,WAAW,CAAC,oBAAoB,GAAG,IAAI,CAAC,UAAU,CAAC;EAClE;AACDA,qBAAI,mCAAmB;IACnB,OAAO,IAAI,CAAC,WAAW,CAAC,gBAAgB,GAAG,IAAI,CAAC,UAAU,CAAC;EAC9D;;AAEDA,qBAAI,oBAAI;IACJH,IAAI,CAAC,GAAG,CAAC,CAAC;IACV,KAAKA,IAAI,CAAC,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC,IAAI,IAAI,CAAC,OAAO,EAAE,EAAE,CAAC,EAAE;QAClD,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;KAC5B;IACD,OAAO,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC;EAC7B;AACDG,qBAAI,oBAAI;IACJH,IAAI,CAAC,GAAG,CAAC,CAAC;IACV,KAAKA,IAAI,CAAC,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC,IAAI,IAAI,CAAC,OAAO,EAAE,EAAE,CAAC,EAAE;QAClD,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;KAC5B;IACD,OAAO,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC;EAC7B;AACDG,qBAAI,oBAAI;IACJH,IAAI,CAAC,GAAG,CAAC,CAAC;IACV,KAAKA,IAAI,CAAC,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC,IAAI,IAAI,CAAC,OAAO,EAAE,EAAE,CAAC,EAAE;QAClD,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;KAC5B;IACD,OAAO,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC;EAC7B;;;;;;;;uBAQD,8BAAS,QAAQ,EAAE,SAAS,EAAE;IAC1BD,IAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC;IAC7BA,IAAM,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC;IAC/BA,IAAM,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;IAC9BA,IAAM,GAAG,GAAG,MAAM,GAAG,KAAK,CAAC;IAC3B,IAAI,SAAS,IAAI,SAAS,CAAC,YAAY,EAAE;QACrCA,IAAM,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC;QAC5C,KAAKC,IAAI,CAAC,GAAG,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,EAAE,CAAC,EAAE;YAC/B,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;YACb,IAAI,YAAY,CAAC,EAAE,CAAC;kBAChB,QAAQ,CAAC,EAAE,CAAC,GAAC;SACpB;KACJ;SACI;QACD,KAAKA,IAAIa,GAAC,GAAG,MAAM,EAAEA,GAAC,GAAG,GAAG,EAAE,EAAEA,GAAC,EAAE;YAC/B,EAAE,CAAC,KAAK,GAAGA,GAAC,CAAC;YACb,QAAQ,CAAC,EAAE,CAAC,CAAC;SAChB;KACJ;EACJ;;;;;;;;uBAQD,4CAAgB,KAAU,EAAE,MAAU,EAAE;qCAAnB,GAAG;uCAAU,GAAG;;IACjC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;IAC3B,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;IAC3B,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;IAC3B,OAAO,KAAK,CAAC;EAChB;;;;;;uBAMD,kCAAY;IACR,OAAO,IAAI,CAAC,WAAW,CAAC,YAAY,KAAK,WAAW,CAAC;EACxD;;;;;uBAKD,kCAAY;IACRd,IAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC;IACnD,OAAO,YAAY,KAAK,OAAO,IAAI,YAAY,KAAK,OAAO,CAAC;EAC/D;;;;;uBAKD,0BAAQ;IACJ,OAAO,IAAI,CAAC,WAAW,CAAC,YAAY,KAAK,OAAO,CAAC;EACpD;;;;;uBAKD,0BAAQ;IACJ,OAAO,IAAI,CAAC,WAAW,CAAC,YAAY,KAAK,OAAO,CAAC;EACpD;;;;;uBAKD,wBAAO;IACHA,IAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC;IACnD,QAAQ,YAAY,KAAK,qBAAqB;QAC1C,YAAY,KAAK,iBAAiB;QAClC,YAAY,KAAK,iBAAiB,EAAE;EAC3C;;;;;uBAKD,kCAAY;IACR,IAAI,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;QACtC,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC;KAClC;SACI;QACDA,IAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC;QACnD,QAAQ,YAAY,KAAK,WAAW;YAChC,YAAY,KAAK,OAAO;YACxB,YAAY,KAAK,OAAO,EAAE;KACjC;EACJ;;;;;uBAKD,gCAAW;IACP,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,KAAK,CAAC,CAAC;EACxC;;;;;uBAKD,8BAAU;IACN,OAAO,IAAI,CAAC,WAAW,CAAC,YAAY,KAAK,SAAS,CAAC;EACtD;;;;;uBAKD,0BAAQ;IACJ,OAAO,IAAI,CAAC,WAAW,CAAC,YAAY,KAAK,OAAO,CAAC;EACpD;;;;;uBAKD,wCAAe;IACX,OAAO,IAAI,CAAC,WAAW,CAAC,YAAY,KAAK,cAAc,CAAC;EAC3D;uBACD,sDAAsB;IAClB,OAAO,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;EACjD;uBACD,4CAAiB;IACb,OAAO,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC;EAC5C;;;;;uBAKD,8BAAU;IACN,OAAO,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;EAC9C;;;;;uBAKD,8BAAU;IACN,OAAO,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;EAC9C;;;;;uBAKD,4BAAS;IACL,OAAO,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC;EACjE;uBACD,oCAAY,KAAK,EAAE;IACf,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;EAC7D;uBACD,sCAAc;;IAEV,OAAO,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,IAAI,GAAG,CAAC;EACjD;uBACD,4CAAgB,QAAQ,EAAE;IACtB,QAAQ,QAAQ;QACZ,KAAK,CAAC,CAAC;YACH,OAAO,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC;QAC9C,KAAK,CAAC;YACF,OAAO,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC;QAC5C;YACI,OAAO,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC;KAC5C;EACJ;uBACD,kDAAmB,QAAQ,EAAE;IACzBC,IAAI,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;IAC1D,IAAI,KAAK,KAAK,SAAS,EAAE;QACrB,KAAK,IAAI,IAAI,CAAC,UAAU,CAAC;KAC5B;IACD,OAAO,KAAK,CAAC;EAChB;uBACD,4CAAgB,QAAQ,EAAE;IACtB,OAAO,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;EACrD;uBACD,8CAAkB;IACd,OAAO,CAAC,IAAI,CAAC,sCAAsC,CAAC,CAAC;IACrDD,IAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC;IACzBA,IAAM,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC;IAC/BA,IAAM,IAAI,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC;IAC1B,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;QACxB,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC;KACnD;IACD,OAAO,IAAI,CAAC;EACf;;;;;;uBAMD,oCAAY,KAAK,EAAE;IACfD,IAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;IACzEA,IAAM,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC,sBAAsB,CAAC,CAAC;IAC9E,IAAI,SAAS,IAAI,WAAW,EAAE;QAC1B,OAAO,SAAS,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;KAC7C;SACI;QACD,OAAO,KAAK,CAAC;KAChB;EACJ;uBACD,8DAA0B;IACtBA,IAAM,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IAC/DA,IAAM,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IAC7DA,IAAM,SAAS,GAAG,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;IACjC,IAAI,SAAS,GAAG,OAAO,GAAG,MAAM,EAAE;QAC9BA,IAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;QACzD,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,EAAE;YAC1B,OAAO,MAAM,CAAC;SACjB;KACJ;SACI,IAAI,SAAS,KAAK,OAAO,GAAG,MAAM,EAAE;QACrCA,IAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;QACxD,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,EAAE;YAC3B,OAAO,OAAO,CAAC;SAClB;KACJ;IACD,OAAO,SAAS,CAAC;EACpB;uBACD,oEAA4B,YAAY,EAAE;IACtCA,IAAM,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IAC/DA,IAAM,SAAS,GAAG,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;IACjC,IAAI,SAAS,IAAI,OAAO,EAAE;QACtBA,IAAM,MAAM,GAAG,QAAQ,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,CAAC,CAAC;QACxE,MAAM,CAAC,KAAK,GAAG,SAAS,CAAC;QACzB,IAAI,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE;YAC1B,OAAO,MAAM,CAAC;SACjB;KACJ;SACI,IAAI,SAAS,KAAK,OAAO,GAAG,CAAC,EAAE;QAChCA,IAAM,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC7DA,IAAM,MAAM,GAAG,QAAQ,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,CAAC,CAAC;QACxE,MAAM,CAAC,KAAK,GAAG,OAAO,GAAG,MAAM,GAAG,CAAC,CAAC;QACpC,IAAI,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE;YAC1B,OAAO,MAAM,CAAC;SACjB;KACJ;IACD,OAAO,SAAS,CAAC;EACpB;uBACD,gCAAW;IACP,OAAO,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;EAC1C;uBACD,gCAAW;IACP,OAAO,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;EACtC;uBACD,gDAAmB;IACf,OAAO,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;EAClD;uBACD,wCAAc,SAAiB,EAAE;6CAAV,GAAG;;IACtBC,IAAI,IAAI,GAAG,EAAE,CAAC;IACd,IAAI,IAAI,CAAC,OAAO,IAAI,CAAC,SAAS;UAC1B,IAAI,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,GAAG,GAAG,GAAC;IACrC,IAAI,IAAI,CAAC,KAAK,KAAK,SAAS;UACxB,IAAI,IAAI,IAAI,CAAC,KAAK,GAAC;IACvB,IAAI,IAAI,CAAC,OAAO;UACZ,IAAI,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,GAAC;IAC/B,IAAI,IAAI,CAAC,KAAK;UACV,IAAI,IAAI,GAAG,GAAG,IAAI,CAAC,SAAS,GAAC;IACjC,IAAI,IAAI,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC;IAC9B,OAAO,IAAI,CAAC;EACf;;;;;uBAKD,0BAAQ;IACJ,OAAO,IAAI,YAAY,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;EACvD;uBACD,gCAAW;IACP,OAAO;QACH,KAAK,EAAE,IAAI,CAAC,KAAK;QACjB,UAAU,EAAE,IAAI,CAAC,UAAU;QAC3B,UAAU,EAAE,IAAI,CAAC,UAAU;QAC3B,SAAS,EAAE,IAAI,CAAC,SAAS;QACzB,KAAK,EAAE,IAAI,CAAC,KAAK;QACjB,OAAO,EAAE,IAAI,CAAC,OAAO;QACrB,MAAM,EAAE,IAAI,CAAC,MAAM;KACtB,CAAC;;;wEAET;;ACjdD;;;;;;;;AAQA,IAAM,OAAO,GAMT,gBAAW,CAAC,SAAS,EAAE,iBAAiB,EAAE,eAAe,EAAE;IACvD,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;IAC3B,IAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;IAC3C,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;IACvC,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;IACvC,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC;IAC3C,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC;;;;IAIrC,IAAI,CAAC,YAAY,GAAG,eAAe,GAAG,iBAAiB,GAAG,CAAC,CAAC;IAC5DD,IAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;IACvEA,IAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;IACnE,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC,2BAA2B,EAAE,KAAK,SAAS,CAAC;IAC3EA,IAAM,MAAM,GAAG,KAAK,CAAC,uBAAuB,EAAE,CAAC;IAC/C,IAAI,CAAC,eAAe,GAAG,MAAM,KAAK,SAAS,CAAC;IAC5C,IAAI,CAAC,mBAAmB,GAAG,MAAM,KAAK,SAAS,IAAI,MAAM,CAAC,uBAAuB,EAAE,KAAK,SAAS,CAAC;IAClG,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;IAC3C,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,CAAC;;;;uIAE1D;AACDI,qBAAI,6BAAa;IACb,OAAO,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;EAC/D;AACDA,qBAAI,6BAAa;IACb,OAAO,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;EACtD;;;;AAIDA,qBAAI,4BAAY;IACZ,OAAO,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;EACxD;;;;;;kBAMD,kCAAY;IACR,IAAI,CAAC,cAAc,CAAC,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC;IACnD,OAAO,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE,CAAC;EAC1C;;;;;kBAKD,wBAAO;IACH,IAAI,CAAC,cAAc,CAAC,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC;IACnD,OAAO,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC;EACrC;;;;;kBAKD,kCAAY;IACR,IAAI,CAAC,cAAc,CAAC,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC;IACnD,OAAO,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE,CAAC;EAC1C;kBACD,8CAAkB;IACd,IAAI,CAAC,cAAc,CAAC,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC;IACnD,OAAO,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC;EAC3C;kBACD,4CAAgB,QAAQ,EAAE;IACtB,IAAI,CAAC,cAAc,CAAC,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC;IACnD,OAAO,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;EACxD;kBACD,kDAAmB,KAAK,EAAE,IAAI,EAAE;;IAE5B,IAAI,IAAI,CAAC,QAAQ,EAAE;QACf,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE;YACd,KAAK,GAAG,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;SACjC;aACI,IAAI,KAAK,KAAK,IAAI,CAAC,YAAY,EAAE;YAClC,KAAK,GAAG,CAAC,CAAC;SACb;KACJ;SACI;QACD,IAAI,KAAK,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe;cACrC,KAAK,IAAI,CAAC,GAAC;QACf,IAAI,KAAK,KAAK,IAAI,CAAC,YAAY,IAAI,CAAC,IAAI,CAAC,mBAAmB;cACxD,KAAK,IAAI,CAAC,GAAC;;KAElB;IACDJ,IAAM,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC;IAC/B,EAAE,CAAC,KAAK,GAAG,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;IAC1CC,IAAI,MAAM,CAAC;IACX,QAAQ,IAAI;QACR,KAAK,OAAO;YACR,MAAM,GAAG,EAAE,CAAC,cAAc,CAAC;YAC3B,MAAM;QACV,KAAK,YAAY;YACb,MAAM,GAAG,EAAE,CAAC,mBAAmB,CAAC;YAChC,MAAM;QACV,KAAK,YAAY;YACb,MAAM,GAAG,EAAE,CAAC,mBAAmB,CAAC;YAChC,MAAM;QACV;YACI,MAAM,GAAG,EAAE,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;KAC5C;;;;;;;;;IASD,OAAO,MAAM,CAAC;EACjB;;;;;;;kBAOD,8BAAS,QAAQ,EAAE,SAAS,EAAE;IAC1B,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,EAAE;QAC3B,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KACpC,CAAC,CAAC;EACN;kBACD,gCAAU,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE;IACzBD,IAAM,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC;IAC5BA,IAAM,KAAK,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC;IAC3B,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;QACxB,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;KAC5E;IACD,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IAC5B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;QACxB,KAAKA,IAAIa,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAG,CAAC,EAAE,EAAEA,GAAC,EAAE;YACxB,KAAK,CAACA,GAAC,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,KAAK,CAACA,GAAC,CAAC,CAAC,KAAK,CAAC;SACvC;QACD,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;QACtD,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;KAC/B;EACJ;;;;;;kBAMD,oCAAY,QAAQ,EAAE;IAClBd,IAAM,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,CAAC;IAC5CA,IAAM,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC;IAC5BA,IAAM,WAAW,GAAG,IAAI,CAAC,iBAAiB,CAAC;IAC3C,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;QACxB,EAAE,CAAC,KAAK,GAAG,WAAW,GAAG,CAAC,CAAC;QAC3B,QAAQ,CAAC,EAAE,CAAC,CAAC;KAChB;EACJ;kBACD,0CAAgB;IACZD,IAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;IACvEA,IAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;IACnE,OAAO,OAAO,CAAC,aAAa,EAAE,GAAG,KAAK,GAAG,KAAK,CAAC,aAAa,EAAE,CAAC;;;mEAEtE;;ACxKD;;;;;AAKA,AAEA;;;AAGA,IAAM,UAAU,GAKZ,mBAAW,CAAC,SAAS,EAAE,KAAS,EAAE;iCAAN,GAAG;;IAC3B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;IAC3B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACnB,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;IACvC,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC;;;wbAC9C;;;;;AAKDI,qBAAI,yBAAS;IACT,OAAO,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;EACtD;;;;;AAKDA,qBAAI,wBAAQ;IACR,OAAO,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;EACxD;AACDA,qBAAI,8BAAc;IACd,OAAO,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EAClD;AACDA,qBAAI,4BAAY,KAAK,EAAE;IACnB,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EACnD;AACDA,qBAAI,6BAAa;IACb,OAAO,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EACjD;AACDA,qBAAI,2BAAW,KAAK,EAAE;IAClB,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EAClD;AACDA,qBAAI,gCAAgB;IAChB,OAAO,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EACpD;AACDA,qBAAI,8BAAc,KAAK,EAAE;IACrB,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EACrD;;;;;AAKDA,qBAAI,+BAAe;IACf,OAAO,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EACnD;AACDA,qBAAI,6BAAa,KAAK,EAAE;IACpB,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EACpD;AACDA,qBAAI,6BAAa;IACb,OAAO,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;EACrD;AACDA,qBAAI,6BAAa;IACb,OAAO,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;EAC3D;AACDA,qBAAI,0BAAU;IACV,QAAQ,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC;QACjD,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;EACzD;;;;;AAKDA,qBAAI,4BAAY;IACZ,IAAI,IAAI,CAAC,YAAY,KAAK,CAAC,EAAE;QACzB,OAAO,CAAC,CAAC;KACZ;SACI;QACD,OAAO,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;KAC7C;EACJ;;;;;;AAMDA,qBAAI,4BAAY;IACZ,OAAO,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EACnD;AACDA,qBAAI,0BAAU,KAAK,EAAE;IACjB,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;EACnD;;;;;AAKDA,qBAAI,0BAAU;IACV,OAAO,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EACjD;AACDA,qBAAI,wBAAQ,KAAK,EAAE;IACf,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;EACjD;;;;;;;;qBAQD,8BAAS,QAAQ,EAAE,SAAS,EAAE;IAC1B,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,EAAE;QAC3B,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KACpC,EAAE,SAAS,CAAC,CAAC;EACjB;;;;;;;qBAOD,oCAAY,QAAQ,EAAE,SAAS,EAAE;IAC7BJ,IAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC;IAChCA,IAAM,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC;IAClCA,IAAM,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;IAC9BA,IAAM,GAAG,GAAG,MAAM,GAAG,KAAK,CAAC;IAC3B,IAAI,SAAS,IAAI,SAAS,CAAC,IAAI,EAAE;QAC7BA,IAAM,eAAe,GAAG,SAAS,CAAC,eAAe,CAAC;QAClD,IAAI,eAAe,EAAE;YACjB,KAAKC,IAAI,CAAC,GAAG,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,EAAE,CAAC,EAAE;gBAC/B,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;gBACb,IAAI,eAAe,CAAC,EAAE,CAAC,EAAE;oBACrB,QAAQ,CAAC,EAAE,CAAC,CAAC;iBAChB;aACJ;SACJ;aACI;YACD,KAAKA,IAAIa,GAAC,GAAG,MAAM,EAAEA,GAAC,GAAG,GAAG,EAAE,EAAEA,GAAC,EAAE;gBAC/B,EAAE,CAAC,KAAK,GAAGA,GAAC,CAAC;gBACb,QAAQ,CAAC,EAAE,CAAC,CAAC;aAChB;SACJ;KACJ;SACI;QACD,KAAKb,IAAIa,GAAC,GAAG,MAAM,EAAEA,GAAC,GAAG,GAAG,EAAE,EAAEA,GAAC,EAAE;YAC/B,EAAE,CAAC,KAAK,GAAGA,GAAC,CAAC;YACb,QAAQ,CAAC,EAAE,CAAC,CAAC;SAChB;KACJ;EACJ;;;;;;;qBAOD,sCAAa,CAAC,EAAE,QAAQ,EAAE;IACtBd,IAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC;IAChCA,IAAM,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC;IAClCA,IAAM,GAAG,GAAG,MAAM,GAAG,KAAK,CAAC;IAC3B,IAAI,KAAK,GAAG,CAAC;UACT,SAAO;IACXA,IAAM,KAAK,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC;IAC3B,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;QACxB,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;KACzD;IACD,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IAC5B,KAAKA,IAAI,CAAC,GAAG,MAAM,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,EAAE,CAAC,EAAE;QACnC,KAAKA,IAAIa,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAG,CAAC,EAAE,EAAEA,GAAC,EAAE;YACxB,KAAK,CAACA,GAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC;SACvB;QACD,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;KAC/B;EACJ;;;;;;;qBAOD,oCAAY,QAAQ,EAAE,SAAS,EAAE;IAC7Bb,IAAI,WAAW,GAAG,CAAC,CAAC;IACpBA,IAAI,UAAU,GAAG,CAAC,CAAC;IACnBD,IAAM,IAAI,GAAG,SAAS,GAAG,SAAS,CAAC,eAAe,GAAG,SAAS,CAAC;IAC/DA,IAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;IACvCA,IAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC;IAChCA,IAAM,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC;IAClCA,IAAM,GAAG,GAAG,MAAM,GAAG,KAAK,CAAC;IAC3BA,IAAM,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,CAAC;IAC7CA,IAAM,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;IACnDA,IAAM,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;IAC1CA,IAAM,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;IAC1CC,IAAI,KAAK,GAAG,IAAI,CAAC;IACjB,KAAKA,IAAI,CAAC,GAAG,MAAM,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,EAAE,CAAC,EAAE;QACnC,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC;QACtB,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC;QACdD,IAAM,OAAO,GAAG,KAAK,GAAG,GAAG,CAAC,eAAe,GAAG,GAAG,CAAC,YAAY,CAAC;QAC/DA,IAAM,OAAO,GAAG,GAAG,CAAC,YAAY,CAAC;QACjC,IAAI,KAAK,EAAE;YACP,WAAW,GAAG,GAAG,CAAC,KAAK,CAAC;YACxB,KAAK,GAAG,KAAK,CAAC;SACjB;QACD,UAAU,GAAG,GAAG,CAAC,KAAK,CAAC;QACvB,IAAI,OAAO,KAAK,mBAAmB,IAAI,OAAO,KAAK,OAAO,EAAE;YACxD,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,oBAAoB,CAAC;YACrC,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,sBAAsB,CAAC;SAC1C;aACI;YACD,IAAI,OAAO,KAAK,mBAAmB,EAAE;gBACjC,IAAI,GAAG,CAAC,KAAK,GAAG,WAAW,GAAG,CAAC,EAAE;;oBAE7B,QAAQ,CAAC,IAAI,OAAO,CAAC,SAAS,EAAE,WAAW,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;iBAC5D;aACJ;YACD,WAAW,GAAG,UAAU,CAAC;YACzB,SAAS;SACZ;QACD,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,GAAG,CAAC;aACpC,IAAI,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE;YACtC,IAAI,GAAG,CAAC,KAAK,GAAG,WAAW,GAAG,CAAC,EAAE;;gBAE7B,QAAQ,CAAC,IAAI,OAAO,CAAC,SAAS,EAAE,WAAW,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;aAC5D;YACD,WAAW,GAAG,UAAU,CAAC;SAC5B;KACJ;IACD,IAAI,UAAU,GAAG,WAAW,GAAG,CAAC,EAAE;QAC9B,IAAI,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC,eAAe,EAAE;;YAE7D,QAAQ,CAAC,IAAI,OAAO,CAAC,SAAS,EAAE,WAAW,EAAE,UAAU,CAAC,CAAC,CAAC;SAC7D;KACJ;EACJ;;qBAED,0CAAgB;IACZ,IAAI,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,SAAS,GAAG,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC;IACxD,OAAO,IAAI,CAAC;EACf;;;;;qBAKD,0BAAQ;IACJ,OAAO,IAAI,UAAU,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;EACrD;qBACD,gCAAW;IACP,OAAO;QACH,KAAK,EAAE,IAAI,CAAC,KAAK;QACjB,aAAa,EAAE,IAAI,CAAC,aAAa;QACjC,YAAY,EAAE,IAAI,CAAC,YAAY;QAC/B,SAAS,EAAE,IAAI,CAAC,SAAS;KAC5B,CAAC;;;sEAET;;AChQD;;;;;;;;AAQA,IAAM,UAAU,GAKZ,mBAAW,CAAC,SAAS,EAAE,KAAS,EAAE;iCAAN,GAAG;;IAC3B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;IAC3B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACnB,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;IACvC,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;IACvC,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC;;;0VAC9C;AACDI,qBAAI,8BAAc;IACd,OAAO,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EAClD;AACDA,qBAAI,4BAAY,KAAK,EAAE;IACnB,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EACnD;AACDA,qBAAI,6BAAa;IACb,OAAO,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EACjD;AACDA,qBAAI,2BAAW,KAAK,EAAE;IAClB,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EAClD;AACDA,qBAAI,gCAAgB;IAChB,OAAO,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;EAC1D;AACDA,qBAAI,6BAAa;IACb,OAAO,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;EAC3D;AACDA,qBAAI,2BAAW;IACX,OAAO,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;EACjD;AACDA,qBAAI,6BAAa;IACb,QAAQ,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC;QAChD,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;EACxD;AACDA,qBAAI,0BAAU;IACV,QAAQ,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC;QACjD,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;EACzD;;;;;AAKDA,qBAAI,+BAAe;IACf,IAAI,IAAI,CAAC,UAAU,KAAK,CAAC,EAAE;QACvB,OAAO,CAAC,CAAC;KACZ;SACI;QACD,OAAO,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;KACnD;EACJ;;;;;AAKDA,qBAAI,4BAAY;IACZ,IAAI,IAAI,CAAC,YAAY,KAAK,CAAC,EAAE;QACzB,OAAO,CAAC,CAAC;KACZ;SACI;QACD,OAAO,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;KAC7C;EACJ;;;;;;;;qBAQD,8BAAS,QAAQ,EAAE,SAAS,EAAE;IAC1B,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,EAAE;QACzB,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KACpC,EAAE,SAAS,CAAC,CAAC;EACjB;;;;;;;qBAOD,oCAAY,QAAQ,EAAE,SAAS,EAAE;IAC7B,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,EAAE;QACzB,EAAE,CAAC,WAAW,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KACvC,EAAE,SAAS,CAAC,CAAC;EACjB;;;;;;;qBAOD,oCAAY,QAAQ,EAAE,SAAS,EAAE;IAC7B,IAAI,SAAS,IAAI,SAAS,CAAC,aAAa,EAAE;QACtCJ,IAAM,aAAa,GAAG,SAAS,CAAC,aAAa,CAAC;QAC9C,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,EAAE;YACzB,IAAI,aAAa,CAAC,EAAE,CAAC,EAAE;gBACnB,EAAE,CAAC,WAAW,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;aACvC;SACJ,CAAC,CAAC;KACN;SACI;QACD,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,EAAE;YACzB,EAAE,CAAC,WAAW,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;SACvC,CAAC,CAAC;KACN;EACJ;;;;;;;qBAOD,gCAAU,QAAQ,EAAE,SAAS,EAAE;IAC3BA,IAAM,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC;IAC9BA,IAAM,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC;IAChCA,IAAM,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;IAC9BA,IAAM,GAAG,GAAG,MAAM,GAAG,KAAK,CAAC;IAC3B,IAAI,SAAS,IAAI,SAAS,CAAC,IAAI,EAAE;QAC7BA,IAAM,aAAa,GAAG,SAAS,CAAC,aAAa,CAAC;QAC9C,IAAI,aAAa,EAAE;YACf,KAAKC,IAAI,CAAC,GAAG,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,EAAE,CAAC,EAAE;gBAC/B,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;gBACb,IAAI,aAAa,CAAC,EAAE,CAAC,EAAE;oBACnB,QAAQ,CAAC,EAAE,CAAC,CAAC;iBAChB;aACJ;SACJ;aACI;YACD,KAAKA,IAAIa,GAAC,GAAG,MAAM,EAAEA,GAAC,GAAG,GAAG,EAAE,EAAEA,GAAC,EAAE;gBAC/B,EAAE,CAAC,KAAK,GAAGA,GAAC,CAAC;gBACb,QAAQ,CAAC,EAAE,CAAC,CAAC;aAChB;SACJ;KACJ;SACI;QACD,KAAKb,IAAIa,GAAC,GAAG,MAAM,EAAEA,GAAC,GAAG,GAAG,EAAE,EAAEA,GAAC,EAAE;YAC/B,EAAE,CAAC,KAAK,GAAGA,GAAC,CAAC;YACb,QAAQ,CAAC,EAAE,CAAC,CAAC;SAChB;KACJ;EACJ;;qBAED,0CAAgB;IACZd,IAAM,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC;IAC9B,OAAO,IAAI,CAAC;EACf;;;;;qBAKD,0BAAQ;IACJ,OAAO,IAAI,UAAU,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;EACrD;qBACD,gCAAW;IACP,OAAO;QACH,KAAK,EAAE,IAAI,CAAC,KAAK;QACjB,WAAW,EAAE,IAAI,CAAC,WAAW;QAC7B,UAAU,EAAE,IAAI,CAAC,UAAU;KAC9B,CAAC;;;sEAET;;AC3KD;;;;;AAKA,AA0BA;;;AAGA,IAAM,SAAS,GAKX,kBAAW,CAAC,IAAS,EAAE,IAAS,EAAE;+BAAlB,GAAG;+BAAQ,GAAG;;IAC1B,IAAI,CAAC,OAAO,GAAG;QACX,SAAS,EAAE,IAAI,MAAM,EAAE;KAC1B,CAAC;IACF,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;;;4DACzB;oBACD,sBAAK,IAAI,EAAE,IAAI,EAAE;IACb,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACjB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;IAChB,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;IACb,IAAI,CAAC,IAAI,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC;IAC7B,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;IACjB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IACpB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;IACvB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;IACtB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;IACrB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;IACrB,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC;IAC1B,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;IACjB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;IAChB,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;IAC5B,IAAI,CAAC,SAAS,GAAG,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC;IAClC,IAAI,CAAC,iBAAiB,GAAG,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC;IAC1C,IAAI,CAAC,aAAa,GAAG,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC;IACtC,IAAI,CAAC,SAAS,GAAG,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC;IAClC,IAAI,CAAC,YAAY,GAAG,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;IACxC,IAAI,CAAC,UAAU,GAAG,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC;IACpC,IAAI,CAAC,UAAU,GAAG,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC;IACpC,IAAI,CAAC,OAAO,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC;IACjC,IAAI,CAAC,UAAU,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,CAAC;IACvC,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC;IAC1B,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC;IAC7B,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC;IACzB,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC;IACzB,IAAI,CAAC,MAAM,GAAG,IAAI,OAAO,EAAE,CAAC;IAC5B,IAAI,CAAC,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC;IAC9B,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;IAC/B,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;IAC/B,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;IAClC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;EACnC;AACDI,qBAAI,uBAAO,EAAE,OAAO,WAAW,CAAC,GAAE;oBAClC,0CAAgB;IACZ,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;IACjC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;IACtC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;IACpE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,OAAO,EAAE,CAAC,CAAC;IACxD,IAAI,CAAC,WAAW,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;EACxE;oBACD,0CAAgB;IACZ,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;IACjC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;IACtC,IAAI,CAAC,QAAQ,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;IACnE,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;IACvB,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE;QACxB,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;KAClD;IACD,KAAKH,IAAI,IAAI,IAAI,IAAI,CAAC,WAAW,EAAE;QAC/B,IAAI,CAAC,YAAY,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,CAAC;KACnE;EACJ;;oBAED,sCAAa,KAAK,EAAE;IAChB,OAAO,IAAI,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;EACrC;oBACD,sCAAa,KAAK,EAAE;IAChB,OAAO,IAAI,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;EACrC;oBACD,4CAAgB,KAAK,EAAE;IACnB,OAAO,IAAI,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;EACxC;oBACD,wCAAc,KAAK,EAAE;IACjB,OAAO,IAAI,UAAU,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;EACtC;oBACD,wCAAc,KAAK,EAAE;IACjB,OAAO,IAAI,UAAU,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;EACtC;;oBAED,oDAA6B;;IAEzBD,IAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;IAC/BA,IAAM,OAAO,GAAG,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC;IAChCA,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;IAC7B,IAAI,OAAO,EAAE;QACT,IAAI,OAAO,CAAC,QAAQ,EAAE,EAAE;YACpB,OAAO,CAAC,MAAM,EAAE,CAAC;SACpB;aACI,IAAI,OAAO,CAAC,UAAU,EAAE,EAAE;YAC3B,OAAO,CAAC,QAAQ,EAAE,CAAC;SACtB;aACI;YACDA,IAAM,EAAE,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;YAC/B,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;gBACxB,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;gBACb,IAAI,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,UAAU,EAAE,EAAE,CAAC,UAAU,CAAC,EAAE;oBAC7C,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;iBACzB;aACJ;SACJ;KACJ;SACI;QACD,OAAO,CAAC,MAAM,EAAE,CAAC;KACpB;IACD,OAAO,OAAO,CAAC;EAClB;oBACD,oEAAqC;;IAEjCD,IAAM,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC;IACvCA,IAAM,eAAe,GAAG,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC;IACxCA,IAAM,eAAe,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC;IACrD,IAAI,eAAe,EAAE;QACjBA,IAAM,EAAE,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC/B,EAAE,CAAC,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC;QACtC,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;YACxB,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;YACb,IAAI,eAAe,CAAC,KAAK,CAAC,EAAE,CAAC,UAAU,EAAE,EAAE,CAAC,UAAU,CAAC,EAAE;gBACrD,eAAe,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;aACjC;SACJ;KACJ;SACI;QACD,eAAe,CAAC,MAAM,EAAE,CAAC;KAC5B;IACD,OAAO,eAAe,CAAC;EAC1B;oBACD,4DAAiC;;IAE7BD,IAAM,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC;IACnCA,IAAM,WAAW,GAAG,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC;IACpCA,IAAM,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC;IAC7C,IAAI,WAAW,EAAE;QACbA,IAAM,EAAE,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC/B,EAAE,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC;QAClC,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;YACxB,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;YACb,IAAI,WAAW,CAAC,KAAK,CAAC,EAAE,CAAC,UAAU,EAAE,EAAE,CAAC,UAAU,CAAC,EAAE;gBACjD,WAAW,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;aAC7B;SACJ;KACJ;SACI;QACD,WAAW,CAAC,MAAM,EAAE,CAAC;KACxB;IACD,OAAO,WAAW,CAAC;EACtB;;;;;;;;;;oBAUD,kCAAW,SAAS,EAAE;IAClBD,IAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;IAC/B,IAAI,SAAS,KAAK,SAAS,EAAE;QACzB,OAAO,IAAI,QAAQ,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;KAChC;SACI,IAAI,SAAS,YAAY,QAAQ,EAAE;QACpC,OAAO,SAAS,CAAC;KACpB;SACI,IAAI,SAAS,KAAK,IAAI,EAAE;QACzB,OAAO,IAAI,QAAQ,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;KAChC;SACI,IAAI,SAAS,IAAI,SAAS,CAAC,IAAI,EAAE;QAClCA,IAAM,UAAU,GAAG,SAAS,CAAC,MAAM,CAAC;QACpC,IAAI,UAAU,IAAI,IAAI,CAAC,YAAY,EAAE;YACjC,OAAO,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;SACxC;aACI;YACD,IAAI,UAAU,KAAK,EAAE,EAAE;gBACnB,OAAO,IAAI,QAAQ,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;aAChC;iBACI;gBACDA,IAAM,OAAO,GAAG,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAChC,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,EAAE;oBACxB,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;iBACzB,EAAE,SAAS,CAAC,CAAC;gBACd,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,GAAG,OAAO,CAAC;gBACxC,OAAO,OAAO,CAAC;aAClB;SACJ;KACJ;SACI,IAAI,SAAS,KAAK,KAAK,EAAE;QAC1B,OAAO,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC;KAC1B;IACD,OAAO,IAAI,QAAQ,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;EAChC;;;;;;;oBAOD,gEAA0B,SAAS,EAAE,MAAM,EAAE;IACzCA,IAAM,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;IACrCA,IAAM,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;IACvCA,IAAM,EAAE,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;IAC/B,IAAI,CAAC,WAAW;UACZ,OAAO,OAAO,GAAC;IACnB,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;QAC9C,EAAE,CAAC,KAAK,GAAG,GAAG,CAAC;QACf,WAAW,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE;YACjE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;SACrB,CAAC,CAAC;KACN,CAAC,CAAC;IACH,OAAO,OAAO,CAAC;EAClB;;;;;;;oBAOD,wDAAsB,KAAK,EAAE,MAAM,EAAE;IACjCA,IAAM,CAAC,GAAG,KAAK,CAAC;IAChBA,IAAM,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;IACvC,IAAI,CAAC,IAAI,CAAC,WAAW;UACjB,OAAO,OAAO,GAAC;IACnB,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;QAClE,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KACpB,CAAC,CAAC;IACH,OAAO,OAAO,CAAC;EAClB;;;;;;;;;;oBAUD,0DAAuB,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE;IAChEA,IAAM,EAAE,GAAG,IAAI,cAAc,CAAC,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;IACnEA,IAAM,EAAE,GAAG,EAAE,CAAC,eAAe,EAAE,CAAC;IAChCA,IAAM,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC;IACpBA,IAAM,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,iBAAiB,EAAE,CAAC;IACxCA,IAAM,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;IACvC,IAAI,CAAC,IAAI,CAAC,WAAW;UACjB,OAAO,OAAO,GAAC;IACnB,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE;QAC3B,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;YAC3E,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SACpB,CAAC,CAAC;KACN;IACD,OAAO,OAAO,CAAC;EAClB;;;;;;oBAMD,wDAAsB,SAAS,EAAE;IAC7BD,IAAM,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;IACrDA,IAAM,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;IACvCA,IAAM,EAAE,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;IAClC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;QAC9C,EAAE,CAAC,KAAK,GAAG,gBAAgB,CAAC,GAAG,CAAC,CAAC;QACjC,KAAKC,IAAI,IAAI,GAAG,EAAE,CAAC,UAAU,EAAE,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,EAAE,IAAI,EAAE;YACvD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;SACrB;KACJ,CAAC,CAAC;IACH,OAAO,OAAO,CAAC;EAClB;;oBAED,wCAAe;IACX,OAAO,KAAK,CAAC;EAChB;oBACD,wCAAe;IACX,OAAO,IAAI,CAAC;EACf;;;;;;;oBAOD,kCAAW,QAAQ,EAAE,IAAI,EAAE;IACvB,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,UAAU,MAAM,EAAE;QACtC,IAAI,IAAI,KAAK,SAAS,IAAI,MAAM,CAAC,aAAa,EAAE,KAAK,IAAI,EAAE;YACvD,QAAQ,CAAC,MAAM,CAAC,CAAC;SACpB;KACJ,CAAC,CAAC;EACN;;;;;;;oBAOD,8BAAS,QAAQ,EAAE,SAAS,EAAE;IAC1BD,IAAM,EAAE,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;IAC/BC,IAAI,OAAO,CAAC;IACZ,IAAI,SAAS,IAAI,SAAS,CAAC,IAAI,EAAE;QAC7B,OAAO,GAAG,IAAI,CAAC,UAAU,gBAAgB,CAAC;QAC1C,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACtC;KACJ;IACD,IAAI,OAAO,EAAE;QACT,OAAO,CAAC,OAAO,CAAC,UAAU,KAAK,EAAE;YAC7B,EAAE,CAAC,KAAK,GAAG,KAAK,CAAC;YACjB,QAAQ,CAAC,EAAE,CAAC,CAAC;SAChB,CAAC,CAAC;KACN;SACI;QACDD,IAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;QAC/B,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;YACxB,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;YACb,QAAQ,CAAC,EAAE,CAAC,CAAC;SAChB;KACJ;EACJ;;;;;;;oBAOD,8BAAS,QAAQ,EAAE,SAAS,EAAE;IAC1B,IAAI,SAAS,IAAI,SAAS,CAAC,IAAI,EAAE;QAC7B,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,EAAE;YACzB,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;SACpC,EAAE,SAAS,CAAC,CAAC;KACjB;SACI;QACDD,IAAM,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;QAChCA,IAAM,EAAE,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC/B,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;YACzB,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;YACb,QAAQ,CAAC,EAAE,CAAC,CAAC;SAChB;KACJ;EACJ;;;;;;;oBAOD,oCAAY,QAAQ,EAAE,SAAS,EAAE;IAC7B,IAAI,SAAS,IAAI,SAAS,CAAC,IAAI,EAAE;QAC7BD,IAAM,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;QACjCA,IAAM,EAAE,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;QAChCA,IAAM,aAAa,GAAG,SAAS,CAAC,aAAa,CAAC;QAC9C,IAAI,aAAa,EAAE;YACf,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;gBACzB,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;gBACb,IAAI,aAAa,CAAC,EAAE,CAAC,EAAE;oBACnB,EAAE,CAAC,WAAW,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;iBACvC;aACJ;SACJ;aACI;YACD,KAAKA,IAAIa,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAG,EAAE,EAAE,EAAEA,GAAC,EAAE;gBACzB,EAAE,CAAC,KAAK,GAAGA,GAAC,CAAC;gBACb,EAAE,CAAC,WAAW,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;aACvC;SACJ;KACJ;SACI;QACDd,IAAM,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;QACnCA,IAAM,EAAE,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;QAClC,KAAKC,IAAIa,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAG,EAAE,EAAE,EAAEA,GAAC,EAAE;YACzB,EAAE,CAAC,KAAK,GAAGA,GAAC,CAAC;YACb,QAAQ,CAAC,EAAE,CAAC,CAAC;SAChB;KACJ;EACJ;;;;;;;oBAOD,sCAAa,CAAC,EAAE,QAAQ,EAAE;IACtBd,IAAM,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;IACnC,IAAI,EAAE,GAAG,CAAC;UACN,SAAO;IACXA,IAAM,KAAK,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC;IAC3B,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;QACxB,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;KACtC;IACD,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IAC5B,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;QACzB,KAAKA,IAAIa,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAG,CAAC,EAAE,EAAEA,GAAC,EAAE;YACxB,KAAK,CAACA,GAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC;SACvB;QACD,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;KAC/B;EACJ;;;;;;;oBAOD,oCAAY,QAAQ,EAAE,SAAS,EAAE;IAC7B,IAAI,SAAS,IAAI,SAAS,CAAC,aAAa,EAAE;QACtCd,IAAM,aAAa,GAAG,SAAS,CAAC,aAAa,CAAC;QAC9C,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,EAAE;YACzB,IAAI,aAAa,CAAC,EAAE,CAAC,EAAE;gBACnB,EAAE,CAAC,WAAW,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;aACvC;SACJ,CAAC,CAAC;KACN;SACI;QACD,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,EAAE;YACzB,EAAE,CAAC,WAAW,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;SACvC,CAAC,CAAC;KACN;EACJ;;;;;;;oBAOD,gCAAU,QAAQ,EAAE,SAAS,EAAE;IAC3B,IAAI,SAAS,IAAI,SAAS,CAAC,IAAI,EAAE;QAC7B,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,EAAE;YACzB,EAAE,CAAC,SAAS,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;SACrC,CAAC,CAAC;KACN;SACI;QACDA,IAAM,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;QACjCA,IAAM,EAAE,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;QAChC,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;YACzB,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;YACb,QAAQ,CAAC,EAAE,CAAC,CAAC;SAChB;KACJ;EACJ;;;;;;;oBAOD,gCAAU,QAAQ,EAAE,SAAS,EAAE;IAC3BD,IAAM,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;IAChCA,IAAM,EAAE,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;IAChC,IAAI,SAAS,IAAI,SAAS,CAAC,IAAI,EAAE;QAC7BA,IAAM,aAAa,GAAG,SAAS,CAAC,aAAa,CAAC;QAC9C,IAAI,aAAa,EAAE;YACf,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;gBACxB,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;gBACb,IAAI,aAAa,CAAC,EAAE,CAAC,EAAE;oBACnB,QAAQ,CAAC,EAAE,CAAC,CAAC;iBAChB;aACJ;SACJ;aACI;YACD,KAAKA,IAAIa,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAG,CAAC,EAAE,EAAEA,GAAC,EAAE;gBACxB,EAAE,CAAC,KAAK,GAAGA,GAAC,CAAC;gBACb,QAAQ,CAAC,EAAE,CAAC,CAAC;aAChB;SACJ;KACJ;SACI;QACD,KAAKb,IAAIa,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAG,CAAC,EAAE,EAAEA,GAAC,EAAE;YACxB,EAAE,CAAC,KAAK,GAAGA,GAAC,CAAC;YACb,QAAQ,CAAC,EAAE,CAAC,CAAC;SAChB;KACJ;EACJ;;oBAED,oCAAY,MAAM,EAAE;IAChBd,IAAM,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;IACpC,IAAI,CAAC,CAAC,WAAW;UACb,CAAC,CAAC,WAAW,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,EAAE,GAAC;IAClDA,IAAM,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;IACpBA,IAAM,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IAClDC,IAAI,aAAa,CAAC;IAClBA,IAAI,UAAU,CAAC;IACfD,IAAM,QAAQ,GAAG,EAAE,CAAC;IACpBA,IAAM,EAAE,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;IAC/BA,IAAM,SAAS,GAAG,OAAO,CAAC,OAAO,EAAE,CAAC;IACpC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,QAAQ,EAAE;QACxB,QAAQ,CAAC,QAAQ,GAAG,IAAI,YAAY,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;KACvD;IACD,IAAI,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,KAAK,KAAK,CAAC,CAAC,WAAW,EAAE;QACxC,QAAQ,CAAC,KAAK,GAAG,IAAI,YAAY,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;QACjD,UAAU,GAAGM,oBAAkB,CAAC,SAAS,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;KAC5D;IACD,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,OAAO,EAAE;QACvB,QAAQ,CAAC,OAAO,GAAG,IAAI,UAAU,CAAC,IAAI,YAAY,CAAC,SAAS,CAAC,EAAE,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;KACvF;IACD,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,MAAM,EAAE;QACtB,QAAQ,CAAC,MAAM,GAAG,IAAI,YAAY,CAAC,SAAS,CAAC,CAAC;QAC9C,aAAa,GAAG,IAAI,aAAa,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC;KACrD;IACD,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,KAAK,EAAE;QACrB,QAAQ,CAAC,KAAK,GAAG,IAAI,WAAW,CAAC,SAAS,CAAC,CAAC;KAC/C;IACO;QAAU;QAAO;QAAS;QAAQ,2BAAmB;IAC7D,OAAO,CAAC,OAAO,WAAE,GAAG,EAAE,CAAC,EAAK;QACxBN,IAAM,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;QACjB,EAAE,CAAC,KAAK,GAAG,GAAG,CAAC;QACf,IAAI,QAAQ,EAAE;YACV,EAAE,CAAC,eAAe,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;SACpC;QACD,IAAI,KAAK,EAAE;YACP,UAAU,CAAC,gBAAgB,CAAC,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;SAC9C;QACD,IAAI,OAAO,EAAE;YACT,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;SAC1B;QACD,IAAI,MAAM,EAAE;YACR,MAAM,CAAC,CAAC,CAAC,GAAG,aAAa,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;SAC5C;QACD,IAAI,KAAK,EAAE;YACP,KAAK,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;SAClB;KACJ,CAAC,CAAC;IACH,OAAO,QAAQ,CAAC;EACnB;oBACD,oCAAY,MAAM,EAAE;IAChBA,IAAM,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;IACpC,IAAI,CAAC,CAAC,WAAW;UACb,CAAC,CAAC,WAAW,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,EAAE,GAAC;IAClDA,IAAM,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;IACpBA,IAAM,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IAClDA,IAAM,YAAY,GAAG,QAAQ,CAAC,CAAC,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;IACrDA,IAAM,OAAO,GAAG,YAAY,KAAK,KAAK,CAAC;IACvCA,IAAM,QAAQ,GAAG,YAAY,KAAK,QAAQ,CAAC;IAC3CA,IAAM,SAAS,GAAG,QAAQ,CAAC,CAAC,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;IAC7CA,IAAM,WAAW,GAAG,QAAQ,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC;IACjDC,IAAI,aAAa,CAAC;IAClBA,IAAI,UAAU,CAAC;IACfD,IAAM,QAAQ,GAAG,EAAE,CAAC;IACpBA,IAAM,EAAE,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;IAC/B,IAAI,CAAC,CAAC,SAAS;UACX,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,GAAC;IAC/BA,IAAM,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;IAChCA,IAAM,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;IAChCC,IAAI,SAAS,CAAC;IACd,IAAI,OAAO,EAAE;QACTD,IAAM,cAAc,GAAG,EAAE,CAAC,SAAS,CAAC,SAAS,CAAC;QAC9C,SAAS,GAAG,CAAC,CAAC;QACd,OAAO,CAAC,OAAO,CAAC,UAAU,KAAK,EAAE;YAC7B,SAAS,IAAI,cAAc,CAAC,KAAK,CAAC,CAAC;SACtC,CAAC,CAAC;KACN;SACI;QACD,SAAS,GAAG,OAAO,CAAC,OAAO,EAAE,CAAC;KACjC;IACD,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,QAAQ,EAAE;QACxB,QAAQ,CAAC,SAAS,GAAG,IAAI,YAAY,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;QACrD,QAAQ,CAAC,SAAS,GAAG,IAAI,YAAY,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;KACxD;IACD,IAAI,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,KAAK,KAAK,CAAC,CAAC,WAAW,EAAE;QACxC,QAAQ,CAAC,KAAK,GAAG,IAAI,YAAY,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;QACjD,QAAQ,CAAC,MAAM,GAAG,IAAI,YAAY,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;QAClD,UAAU,GAAGM,oBAAkB,CAAC,SAAS,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;KAC5D;IACD,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,OAAO,EAAE;QACvB,QAAQ,CAAC,OAAO,GAAG,IAAI,UAAU,CAAC,IAAI,YAAY,CAAC,SAAS,CAAC,EAAE,IAAI,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC;KACpG;IACD,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,OAAO,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE;QACpD,aAAa,GAAG,IAAI,aAAa,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC;KACrD;IACD,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,MAAM,EAAE;QACtB,QAAQ,CAAC,MAAM,GAAG,IAAI,YAAY,CAAC,SAAS,CAAC,CAAC;QAC9C,IAAI,CAAC,CAAC,OAAO,EAAE;YACX,QAAQ,CAAC,OAAO,GAAG,IAAI,YAAY,CAAC,SAAS,CAAC,CAAC;SAClD;KACJ;IACO;QAAW;QAAW;QAAO;QAAQ;QAAS;QAAQ,+BAAqB;IACnFL,IAAI,CAAC,GAAG,CAAC,CAAC;IACVA,IAAI,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,SAAS,EAAE,SAAS,CAAC;IACnCA,IAAI,WAAW,CAAC;IAChBD,IAAM,EAAE,GAAG,IAAI,OAAO,EAAE,CAAC;IACzBA,IAAM,WAAW,GAAG,IAAI,OAAO,EAAE,CAAC;IAClCA,IAAM,MAAM,GAAG,IAAI,OAAO,EAAE,CAAC;IAC7B,OAAO,CAAC,OAAO,WAAE,KAAK,EAAK;QACvB,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;QACX,EAAE,CAAC,KAAK,GAAG,KAAK,CAAC;QACjB,GAAG,CAAC,KAAK,GAAG,EAAE,CAAC,UAAU,CAAC;QAC1B,GAAG,CAAC,KAAK,GAAG,EAAE,CAAC,UAAU,CAAC;QAC1B,SAAS,GAAG,EAAE,CAAC,SAAS,CAAC;QACzB,IAAI,SAAS,EAAE;YACX,IAAI,OAAO,IAAI,SAAS,GAAG,CAAC,EAAE;gBAC1BA,IAAM,UAAU,GAAG,aAAa,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;gBACjD,WAAW,GAAG,UAAU,GAAG,SAAS,IAAI,GAAG,GAAG,SAAS,CAAC,CAAC;gBACzD,EAAE,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;gBAC7B,IAAI,QAAQ,EAAE;oBACV,SAAS,GAAG,CAAC,GAAG,WAAW,GAAG,UAAU,CAAC;oBACzC,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;oBACjC,MAAM,CAAC,MAAM,EAAE,CAAC;;;;;oBAKhB,WAAW,CAAC,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,cAAc;oBAC/C,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,SAAS,GAAG,IAAI,CAAC,CAAC,CAAC;oBACjC,GAAG,CAAC,eAAe,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;oBACnC,GAAG,CAAC,eAAe,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;oBACnC,IAAI,SAAS,IAAI,CAAC,EAAE;wBAChB,EAAE,CAAC,UAAU,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC;wBACvE,EAAE,CAAC,UAAU,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC;wBACvE,IAAI,SAAS,IAAI,CAAC,EAAE;4BAChB,EAAE,CAAC,UAAU,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC;4BACvE,EAAE,CAAC,UAAU,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC;yBAC1E;qBACJ;iBACJ;qBACI;oBACD,SAAS,GAAG,CAAC,WAAW,GAAG,SAAS,IAAI,UAAU,CAAC;oBACnD,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;oBACjC,IAAI,SAAS,KAAK,CAAC,EAAE;wBACjB,EAAE,CAAC,UAAU,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;wBAClD,EAAE,CAAC,UAAU,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC;wBACtD,EAAE,CAAC,UAAU,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;wBAClD,EAAE,CAAC,UAAU,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC;qBACzD;yBACI,IAAI,SAAS,KAAK,CAAC,EAAE;wBACtB,GAAG,CAAC,eAAe,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;wBACnC,EAAE,CAAC,UAAU,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC;wBACtD,EAAE,CAAC,UAAU,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC;wBACtD,GAAG,CAAC,eAAe,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;wBACnC,EAAE,CAAC,UAAU,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC;wBACtD,EAAE,CAAC,UAAU,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC;qBACzD;yBACI;;wBAED,GAAG,CAAC,eAAe,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;wBACnC,GAAG,CAAC,eAAe,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;qBACtC;iBACJ;aACJ;iBACI;gBACD,GAAG,CAAC,eAAe,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;gBACnC,GAAG,CAAC,eAAe,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;aACtC;SACJ;QACD,IAAI,KAAK,IAAI,MAAM,EAAE;YACjB,UAAU,CAAC,gBAAgB,CAAC,EAAE,EAAE,CAAC,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;YAC9C,UAAU,CAAC,gBAAgB,CAAC,EAAE,EAAE,CAAC,EAAE,MAAM,EAAE,EAAE,CAAC,CAAC;YAC/C,IAAI,OAAO,IAAI,SAAS,GAAG,CAAC,EAAE;gBAC1B,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,EAAE,EAAE,CAAC,EAAE;oBAC5B,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;oBACf,UAAU,CAAC,KAAK,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;oBAC5B,UAAU,CAAC,MAAM,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;iBAChC;aACJ;SACJ;QACD,IAAI,OAAO,IAAI,OAAO,CAAC,KAAK,EAAE;YAC1B,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;YACzB,IAAI,OAAO,IAAI,SAAS,GAAG,CAAC,EAAE;gBAC1B,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,EAAE,EAAE,CAAC,EAAE;oBAC5B,OAAO,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC;iBAChC;aACJ;SACJ;QACD,IAAI,MAAM,EAAE;YACR,MAAM,CAAC,CAAC,CAAC,GAAG,aAAa,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;YAC1C,IAAI,OAAO,IAAI,SAAS,GAAG,CAAC,EAAE;gBAC1B,WAAW,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,SAAS,IAAI,QAAQ,GAAG,CAAC,IAAI,GAAG,GAAG,SAAS,CAAC,CAAC,CAAC;gBACzE,KAAK,CAAC,GAAG,QAAQ,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,EAAE,EAAE,CAAC,EAAE;oBAC3C,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,WAAW,CAAC;iBAC/B;aACJ;SACJ;QACD,IAAI,OAAO,EAAE;YACT,OAAO,CAAC,CAAC,CAAC,GAAG,aAAa,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;YAC3C,IAAI,OAAO,IAAI,SAAS,GAAG,CAAC,EAAE;gBAC1B,WAAW,GAAG,OAAO,CAAC,CAAC,CAAC,GAAG,SAAS,IAAI,QAAQ,GAAG,CAAC,IAAI,GAAG,GAAG,SAAS,CAAC,CAAC,CAAC;gBAC1E,KAAK,CAAC,GAAG,QAAQ,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,EAAE,EAAE,CAAC,EAAE;oBAC3C,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,WAAW,CAAC;iBAChC;aACJ;SACJ;QACD,CAAC,IAAI,OAAO,GAAG,SAAS,GAAG,CAAC,CAAC;KAChC,CAAC,CAAC;IACH,OAAO,QAAQ,CAAC;EACnB;oBACD,oDAAoB,MAAM,EAAE;IACxB,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;QACnB,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,UAAU;KACxC,EAAE,MAAM,CAAC,CAAC;IACX,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;EACnC;oBACD,oDAAoB,MAAM,EAAE;IACxB,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;QACnB,OAAO,EAAE,IAAI,CAAC,kBAAkB,EAAE;QAClC,SAAS,EAAE,IAAI,CAAC,iBAAiB;KACpC,EAAE,MAAM,CAAC,CAAC;IACX,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;EACnC;oBACD,4CAAgB,MAAM,EAAE;IACpB,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;QACnB,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,MAAM;KACpC,EAAE,MAAM,CAAC,CAAC;IACX,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;EACnC;oBACD,4CAAgB,MAAM,EAAE;IACpB,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;QACnB,OAAO,EAAE,IAAI,CAAC,cAAc,EAAE;QAC9B,SAAS,EAAE,IAAI,CAAC,aAAa;KAChC,EAAE,MAAM,CAAC,CAAC;IACX,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;EACnC;;;;;;;;oBAQD,0CAAe,SAAS,EAAE,GAAG,EAAE;IAC3B,IAAI,KAAK;UACL,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,GAAC;IAC/B,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,EAAE,CAAC;IACxBC,IAAI,IAAI,GAAG,CAAC,QAAQ,CAAC;IACrBA,IAAI,IAAI,GAAG,CAAC,QAAQ,CAAC;IACrBA,IAAI,IAAI,GAAG,CAAC,QAAQ,CAAC;IACrBA,IAAI,IAAI,GAAG,CAAC,QAAQ,CAAC;IACrBA,IAAI,IAAI,GAAG,CAAC,QAAQ,CAAC;IACrBA,IAAI,IAAI,GAAG,CAAC,QAAQ,CAAC;IACrB,IAAI,CAAC,QAAQ,WAAC,IAAM;QAChBD,IAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QACfA,IAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QACfA,IAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QACf,IAAI,CAAC,GAAG,IAAI;cACR,IAAI,GAAG,CAAC,GAAC;QACb,IAAI,CAAC,GAAG,IAAI;cACR,IAAI,GAAG,CAAC,GAAC;QACb,IAAI,CAAC,GAAG,IAAI;cACR,IAAI,GAAG,CAAC,GAAC;QACb,IAAI,CAAC,GAAG,IAAI;cACR,IAAI,GAAG,CAAC,GAAC;QACb,IAAI,CAAC,GAAG,IAAI;cACR,IAAI,GAAG,CAAC,GAAC;QACb,IAAI,CAAC,GAAG,IAAI;cACR,IAAI,GAAG,CAAC,GAAC;KAChB,EAAE,SAAS,CAAC,CAAC;IACd,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;IAC9B,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;IAC9B,IAAI,KAAK;UACL,GAAG,CAAC,OAAO,CAAC,gBAAgB,CAAC,GAAC;IAClC,OAAO,GAAG,CAAC;EACd;;;;;;oBAMD,8CAAiB,SAAS,EAAE;IACxB,IAAI,KAAK;UACL,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,GAAC;IACjCC,IAAI,CAAC,GAAG,CAAC,CAAC;IACVD,IAAM,MAAM,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;IAC7CA,IAAM,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC;IACvB,IAAI,CAAC,QAAQ,WAAC,GAAK;QACf,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAChB,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAChB,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAChB,CAAC,IAAI,CAAC,CAAC;KACV,EAAE,SAAS,CAAC,CAAC;IACd,IAAI,KAAK;UACL,GAAG,CAAC,OAAO,CAAC,kBAAkB,CAAC,GAAC;IACpC,OAAO,IAAI,aAAa,CAAC,MAAM,CAAC,CAAC;EACpC;;;;;;oBAMD,kCAAW,SAAS,EAAE;IAClB,IAAI,SAAS,EAAE;QACX,OAAO,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,IAAI,OAAO,EAAE,CAAC,CAAC;KAClE;SACI;QACD,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;KAC9B;EACJ;oBACD,kCAAY;IACR,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS,EAAE;QAC/BA,IAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QACjC,IAAI,CAAC,UAAU,GAAG,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC;YACzE,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC;YAC1D,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC;;QAE9D,SAAS,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;KAClD;IACD,OAAO,IAAI,CAAC,UAAU,CAAC;EAC1B;oBACD,oCAAY,SAAS,EAAE;IACnBA,IAAM,GAAG,GAAG,EAAE,CAAC;IACfA,IAAM,EAAE,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;IAClC,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,EAAE;QACxB,EAAE,CAAC,KAAK,GAAG,EAAE,CAAC,YAAY,CAAC;QAC3B,IAAI,EAAE,CAAC,KAAK,KAAK,EAAE,CAAC,cAAc,EAAE;YAChC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,WAAW,EAAE,CAAC,CAAC;SAC9B;KACJ,EAAE,SAAS,CAAC,CAAC;IACd,OAAO,GAAG,CAAC;EACd;oBACD,0CAAe,SAAS,EAAE;IACtB,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,EAAE;QAC/BA,IAAM,OAAO,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,EAAE;YACxB,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;SAC1B,EAAE,SAAS,CAAC,CAAC;QACd,OAAO,IAAI,WAAW,CAAC,OAAO,CAAC,CAAC;KACnC;SACI;QACDA,IAAM,CAAC,GAAG,EAAE,IAAI,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,EAAE,CAAC;QACpC,OAAO,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;KACpC;EACJ;;;;;;oBAMD,gDAAkB,SAAS,EAAE;IACzBA,IAAM,UAAU,GAAG,IAAI,GAAG,EAAE,CAAC;IAC7B,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,EAAE;QACzB,IAAI,EAAE,CAAC,YAAY,EAAE;YACjB,UAAU,CAAC,GAAG,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;SAChC;KACJ,EAAE,SAAS,CAAC,CAAC;IACd,OAAO,UAAU,CAAC,IAAI,CAAC;EAC1B;;oBAED,0CAAe,QAAQ,EAAE;IACrBC,IAAI,CAAC,GAAG,CAAC,CAAC;IACV,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,EAAE;QACxB,EAAE,CAAC,iBAAiB,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;QAClC,CAAC,IAAI,CAAC,CAAC;KACV,EAAE,SAAS,CAAC,CAAC;IACd,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;EAC/B;oBACD,8CAAkB;IACd,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;IACjD,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACxC,IAAI,CAAC,WAAW,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;EACxE;;;;;;oBAMD,8BAAU;IACN,IAAI,IAAI,CAAC,MAAM;UACX,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,GAAC;IAC3B,IAAI,IAAI,CAAC,KAAK;UACV,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,GAAC;IAC1B,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;IACzB,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,CAAC;IACjC,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;IAC7B,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;IACzB,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;IAC5B,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;IAC1B,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;IAC1B,OAAO,IAAI,CAAC,SAAS,CAAC;IACtB,OAAO,IAAI,CAAC,SAAS,CAAC;IACtB,OAAO,IAAI,CAAC,YAAY,CAAC;IACzB,OAAO,IAAI,CAAC,UAAU,CAAC;IACvB,OAAO,IAAI,CAAC,UAAU,CAAC;IACvB,OAAO,IAAI,CAAC,MAAM,CAAC;IACnB,OAAO,IAAI,CAAC,KAAK,CAAC;IAClB,OAAO,IAAI,CAAC,OAAO,CAAC;IACpB,OAAO,IAAI,CAAC,OAAO,CAAC;;;qEAE3B;;AC74BD;;;;;AAKA,AAMAD,IAAM,MAAM,GAAG,IAAI,IAAI,EAAE,CAAC;AAC1BA,IAAM,UAAU,GAAG;IACf,cAAc,EAAE,YAAY,EAAE,aAAa,EAAE,iBAAiB;IAC9D,kBAAkB,EAAE,mBAAmB,EAAE,eAAe,EAAE,oBAAoB;IAC9E,aAAa,EAAE,cAAc,EAAE,cAAc,EAAE,iBAAiB;CACnE,CAAC;AACF,AAAOA,IAAM,sBAAsB,GAAG;IAClC,WAAW,EAAE,GAAG;IAChB,YAAY,EAAE,CAAC;IACf,cAAc,EAAE,EAAE;IAClB,eAAe,EAAE,KAAK;IACtB,SAAS,EAAE,KAAK;IAChB,cAAc,EAAE,KAAK;IACrB,WAAW,EAAE,EAAE;IACf,SAAS,EAAE,CAAC;IACZ,eAAe,EAAE,KAAK;IACtB,UAAU,EAAE,IAAI;IAChB,SAAS,EAAE,CAAC;CACf,CAAC;;;;;;;;;;;;;;;AAeF,IAAM,KAAK,GAWP,cAAW,CAAC,IAAc,EAAE,MAAW,EAAE;;+BAAzB,GAAG;mCAAe,GAAG;;IACjC,IAAI,CAAC,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC;IAC9B,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;IACrB,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;IACnB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;IACzB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACjB,IAAI,CAAC,UAAU,GAAG,YAAY,CAAC,MAAM,EAAE,sBAAsB,CAAC,CAAC;IAC/D,UAAU,CAAC,OAAO,WAAC,GAAK;QACpB,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,OAAO,WAAC,MAAQ;YAClCO,MAAI,CAAC,cAAc,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC;SACjD,CAAC,CAAC;QACHA,MAAI,CAAC,cAAc,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC;KACnD,CAAC,CAAC;;;2FACN;;;;;;gBAMD,gCAAU,MAAM,EAAE;IACd,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC7BP,IAAM,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;IACjC,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE;QACvB,QAAQ,CAAC,kBAAkB,EAAE,CAAC;KACjC;IACD,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;IAC7C,OAAO,IAAI,CAAC;EACf;;;;;;;;;;;;;;;;gBAgBD,4BAAQ,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE;IAC1C,QAAQ,GAAG,kBAAkB,CAAC,QAAQ,CAAC,CAAC;IACxC,KAAK,GAAG,kBAAkB,CAAC,KAAK,CAAC,CAAC;IAClC,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;QACtB,KAAK,GAAG,YAAY,CAAC,KAAK,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;KAChD;IACD,IAAI,MAAM,EAAE;QACR,MAAM,GAAG,kBAAkB,CAAC,MAAM,CAAC,CAAC;KACvC;IACDC,IAAI,IAAI,CAAC;IACT,IAAI,MAAM,KAAK,SAAS,IAAI,MAAM,CAAC,MAAM,IAAI,CAAC,EAAE;QAC5C,IAAI,GAAG,YAAE,QAAQ,SAAE,KAAK,SAAE,KAAK,EAAE,CAAC;KACrC;SACI;QACD,IAAI,GAAG,YAAE,QAAQ,SAAE,KAAK,SAAE,KAAK,UAAE,MAAM,EAAE,CAAC;KAC7C;;IAEDD,IAAM,OAAO,GAAG,IAAI,UAAU,CAAC,IAAI,EAAE,MAAM,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,SAAS,QAAE,IAAI,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC;IAC5FA,IAAM,UAAU,GAAG,IAAI,UAAU,CAAC,MAAM,CAAC,MAAM,CAAC,WAAE,OAAO,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC;IACpE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IACjC,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;IAC9B,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IAC/B,IAAI,CAAC,SAAS,IAAI,CAAC,CAAC;IACpB,OAAO,IAAI,CAAC;EACf;;;;;;;;;;;;gBAYD,gCAAU,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE;IACrC,eAAe,CAAC,aAAa,CAAC,IAAI,EAAE,YAAE,QAAQ,SAAE,KAAK,UAAE,MAAM,QAAE,IAAI,EAAE,CAAC,CAAC;IACvE,OAAO,IAAI,CAAC;EACf;;;;;;;;;;;;;;gBAcD,sCAAa,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,SAAS,EAAE,IAAI,EAAE;IAC9D,kBAAkB,CAAC,aAAa,CAAC,IAAI,EAAE,YAAE,QAAQ,SAAE,KAAK,UAAE,MAAM,aAAE,SAAS,aAAE,SAAS,QAAE,IAAI,EAAE,CAAC,CAAC;IAChG,OAAO,IAAI,CAAC;EACf;;;;;;;;;;;;;;gBAcD,8BAAS,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,SAAS,EAAE,IAAI,EAAE;IAC1D,cAAc,CAAC,aAAa,CAAC,IAAI,EAAE,YAAE,QAAQ,SAAE,KAAK,UAAE,MAAM,aAAE,SAAS,aAAE,SAAS,QAAE,IAAI,EAAE,CAAC,CAAC;IAC5F,OAAO,IAAI,CAAC;EACf;;;;;;;;;;;;;gBAaD,oCAAY,SAAS,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE;IACnD,iBAAiB,CAAC,aAAa,CAAC,IAAI,EAAE,aAAE,SAAS,aAAE,SAAS,SAAE,KAAK,UAAE,MAAM,QAAE,IAAI,EAAE,CAAC,CAAC;IACrF,OAAO,IAAI,CAAC;EACf;;;;;;;;;;;;;gBAaD,4BAAQ,SAAS,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE;IAC/C,aAAa,CAAC,aAAa,CAAC,IAAI,EAAE,aAAE,SAAS,aAAE,SAAS,SAAE,KAAK,UAAE,MAAM,QAAE,IAAI,EAAE,CAAC,CAAC;IACjF,OAAO,IAAI,CAAC;EACf;;;;;;;;;;;;;gBAaD,8BAAS,SAAS,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE;IAChD,cAAc,CAAC,aAAa,CAAC,IAAI,EAAE,aAAE,SAAS,aAAE,SAAS,SAAE,KAAK,UAAE,MAAM,QAAE,IAAI,EAAE,CAAC,CAAC;IAClF,OAAO,IAAI,CAAC;EACf;;;;;;;;;;;;;;gBAcD,0BAAO,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,UAAU,EAAE,SAAS,EAAE,IAAI,EAAE;IACvD,YAAY,CAAC,aAAa,CAAC,IAAI,EAAE,YAAE,QAAQ,SAAE,KAAK,QAAE,IAAI,cAAE,UAAU,aAAE,SAAS,QAAE,IAAI,EAAE,CAAC,CAAC;IACzF,OAAO,IAAI,CAAC;EACf;;;;;;;;;;;;;;gBAcD,wCAAc,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,UAAU,EAAE,SAAS,EAAE,IAAI,EAAE;IAC9D,mBAAmB,CAAC,aAAa,CAAC,IAAI,EAAE,YAAE,QAAQ,SAAE,KAAK,QAAE,IAAI,cAAE,UAAU,aAAE,SAAS,QAAE,IAAI,EAAE,CAAC,CAAC;IAChG,OAAO,IAAI,CAAC;EACf;;;;;;;;;;;;;;gBAcD,0CAAe,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,UAAU,EAAE,SAAS,EAAE,IAAI,EAAE;IAC/D,oBAAoB,CAAC,aAAa,CAAC,IAAI,EAAE,YAAE,QAAQ,SAAE,KAAK,QAAE,IAAI,cAAE,UAAU,aAAE,SAAS,QAAE,IAAI,EAAE,CAAC,CAAC;IACjG,OAAO,IAAI,CAAC;EACf;;;;;;;;;;;;gBAYD,4BAAQ,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE;IACjC,aAAa,CAAC,aAAa,CAAC,IAAI,EAAE,YAAE,QAAQ,SAAE,KAAK,QAAE,IAAI,QAAE,IAAI,EAAE,CAAC,CAAC;IACnE,OAAO,IAAI,CAAC;EACf;;;;;;;;;;;gBAWD,8BAAS,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE;IAC5B,cAAc,CAAC,aAAa,CAAC,IAAI,EAAE,YAAE,QAAQ,SAAE,KAAK,QAAE,IAAI,EAAE,CAAC,CAAC;IAC9D,OAAO,IAAI,CAAC;EACf;;;;;;;;;;;;gBAYD,oCAAY,SAAS,EAAE,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE;IACtD,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,SAAS,CAAC;IACtC,iBAAiB,CAAC,aAAa,CAAC,IAAI,EAAE,aAAE,SAAS,aAAE,SAAS,SAAE,KAAK,QAAE,IAAI,EAAE,CAAC,CAAC;IAC7E,OAAO,IAAI,CAAC;EACf;;;;gBAID,8BAAS,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE;IAClC,OAAO,CAAC,IAAI,CAAC,oDAAoD,CAAC,CAAC;IACnE,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;EACpD;gBACD,0CAAgB;;;IACZA,IAAM,OAAO,GAAG,EAAE,CAAC;IACnB,UAAU,CAAC,OAAO,WAAC,GAAK;QACpB,IAAIO,MAAI,CAAC,cAAc,CAAC,CAAC,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,EAAE;YACpD,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,eAAe,CAACA,MAAI,EAAEA,MAAI,CAAC,UAAU,CAAC,CAAC,CAAC;SAC1D;KACJ,CAAC,CAAC;IACH,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;EAC1C;gBACD,8BAAU;;;IACN,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,UAAU,MAAM,EAAE;QACtC,MAAM,CAAC,OAAO,EAAE,CAAC;KACpB,CAAC,CAAC;IACH,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC;IAC3B,UAAU,CAAC,OAAO,WAAC,GAAK;QACpB,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,OAAO,WAAC,MAAQ;YAClCA,MAAI,CAAC,cAAc,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;SACvD,CAAC,CAAC;QACHA,MAAI,CAAC,cAAc,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;KACzD,CAAC,CAAC;EACN;AACDH,qBAAI,yBAAS;IACT,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;QACf,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,OAAO,EAAE,CAAC,CAAC;KAC5D;IACD,OAAO,IAAI,CAAC,OAAO,CAAC;EACvB;AACDA,qBAAI,uBAAO,EAAE,OAAO,OAAO,CAAC;;iEAC/B;;AC/VD;;;;;AAKA,AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,IAAM,oBAAoB;IAOtB,6BAAW,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE;QAChC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;YACxB,MAAM,GAAG,CAAC,MAAM,CAAC,CAAC;SACrB;QACDC,sBAAK,OAAC,MAAM,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;QAC9B,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC;QACrB,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,UAAU,EAAE;YACjD,WAAW,EAAE,IAAI;YACjB,UAAU,EAAE,IAAI;YAChB,UAAU,EAAE,IAAI;YAChB,WAAW,EAAE,IAAI;YACjB,SAAS,EAAE,IAAI;SAClB,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;;;;sEACrB;mCACD,sBAAK,MAAM,EAAE;QACTA,2BAAK,CAAC,SAAI,OAAC,MAAM,CAAC,CAAC;QACnB,IAAI,CAAC,KAAK,EAAE,CAAC;MAChB;mCACD,4BAAS;QACL,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;MAC5D;mCACD,0BAAO,QAAQ,EAAE;;;QACb,IAAI,CAAC,UAAU,CAAC,OAAO,WAAC,QAAU;YAC9BE,MAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACxB,MAAM,CAAC,aAAa,CAACA,MAAI,CAAC,eAAe,EAAE,CAAC,CAAC;SAChD,CAAC,CAAC;QACH,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACjC,QAAQ,EAAE,CAAC;;;;EApCgB,iBAsClC;;AC3ED;;;;;AAKA,AAOAP,IAAMgD,QAAM,GAAG,IAAI,OAAO,EAAE,CAAC;AAC7BhD,IAAM,YAAY,GAAG,IAAI,OAAO,EAAE,CAAC;AACnC,SAAS,OAAO,CAAC,IAAI,EAAE,GAAG,EAAE;IACxBA,IAAM,WAAW,GAAG,GAAG,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC;IAClDA,IAAM,QAAQ,GAAG,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,KAAK,GAAG,SAAS,CAAC;IACzDA,IAAM,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;IACnCA,IAAM,CAAC,GAAG,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC;IACjCA,IAAM,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC;IACnBA,IAAM,YAAY,GAAG,IAAI,YAAY,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;IAChDA,IAAM,UAAU,GAAG,IAAI,YAAY,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;IAC9CA,IAAM,SAAS,GAAG,IAAI,YAAY,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;IAC7CC,IAAI,SAAS,CAAC;IACd,IAAI,QAAQ,EAAE;QACV,SAAS,GAAG,YAAY,CAAC,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;KACvD;IACD,OAAO;QACH,QAAQ,EAAE,YAAY;QACtB,KAAK,EAAE,SAAS;QAChB,KAAK,EAAE,SAAS;QAChB,MAAM,EAAE,UAAU;QAClB,WAAW,EAAE,IAAI,CAAC,WAAW,IAAI,gBAAgB,CAAC,CAAC,EAAE,CAAC,CAAC;QACvD,OAAO,EAAE,IAAI,CAAC,OAAO;KACxB,CAAC;CACL;;;;;;AAMD,IAAM,cAAc;IAUhB,uBAAW,CAAC,IAAI,EAAE,MAAW,EAAE,GAAG,EAAE;uCAAZ,GAAG;;QACvBI,kBAAK,OAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC;QAClC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3BL,IAAM,WAAW,GAAG,GAAG,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC;QAClDA,IAAM,SAAS,GAAG,GAAG,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC;QAC9CA,IAAM,QAAQ,GAAG,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,KAAK,GAAG,SAAS,CAAC;QACzD,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;QAC9C,IAAI,CAAC,gBAAgB,GAAG,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC;QAC/C,IAAI,CAAC,sBAAsB,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC,CAAC;QAC1E,IAAI,CAAC,oBAAoB,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC,CAAC;QACxEA,IAAM,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC;QAC5C,IAAI,CAAC,YAAY,GAAG,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC;QAC9C,IAAI,CAAC,SAAS,GAAG,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC;QACxC,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC;QAC1C,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QACzB,IAAI,QAAQ,EAAE;YACVA,IAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;YACvC,IAAI,CAAC,KAAK,EAAE;gBACR,GAAG,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;gBAC3B,OAAO;aACV;YACD,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,KAAK,CAAC;YAC7B,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB;;;;;0DACJ;6BACD,wCAAc,IAAS,EAAE,WAAmB,EAAE;mCAA5B,GAAG;iDAAe,GAAG;;QACnCA,IAAM,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC;QAC5CC,IAAI,QAAQ,EAAE,KAAK,CAAC;QACpBA,IAAI,WAAW,EAAE,SAAS,CAAC;QAC3BA,IAAI,sBAAsB,EAAE,oBAAoB,CAAC;QACjDA,IAAI,YAAY,EAAE,SAAS,EAAE,UAAU,CAAC;QACxCD,IAAM,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;QACzC,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;YACzB,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;YAC/B,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;YACjC,sBAAsB,GAAG,IAAI,CAAC,sBAAsB,CAAC;YACrD,UAAU,CAAC,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC;YACvC,IAAI,aAAa,IAAI,WAAW,EAAE;gBAC9B,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;gBAC3B,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;gBAC7B,oBAAoB,GAAG,IAAI,CAAC,oBAAoB,CAAC;gBACjD,UAAU,CAAC,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC;aACxC;SACJ;QACD,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;YACnB,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;YAC3B,UAAU,CAAC,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC;SACvC;QACDA,IAAM,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC;QAC7BA,IAAM,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC;QAChC,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;YACxBA,IAAI,YAAC,EAAE,YAAC,CAAC;YACTD,IAAM,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACpBA,IAAM,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,QAAQ,IAAI,sBAAsB,IAAI,YAAY,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,EAAE;gBAC9F,sBAAsB,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;gBACxCgD,QAAM,CAAC,eAAe,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,QAAQ,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,QAAQ,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;gBACzE,IAAI,CAAC,sBAAsB,CAACA,QAAM,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;gBAC3C,0BAA0B,CAACA,QAAM,CAAC,QAAQ,EAAE,sBAAsB,CAAC,CAAC;gBACpE,YAAY,CAAC,GAAG,CAAC,sBAAsB,EAAE,CAAC,CAAC,CAAC;gBAC5C,IAAI,aAAa,IAAI,oBAAoB,EAAE;oBACvC,oBAAoB,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;oBACpC,YAAY,CAAC,eAAe,CAACA,QAAM,CAAC,CAAC;oBACrC,0BAA0B,CAAC,YAAY,CAAC,QAAQ,EAAE,oBAAoB,CAAC,CAAC;oBACxE,UAAU,CAAC,GAAG,CAAC,oBAAoB,EAAE,CAAC,CAAC,CAAC;iBAC3C;qBACI,IAAI,WAAW,EAAE;oBAClB,UAAU,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;iBAChC;aACJ;YACD,IAAI,KAAK,IAAI,SAAS,EAAE;gBACpB,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;oBACpB,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBACd,SAAS,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC;oBACzB,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;oBACjC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;iBACpC;aACJ;SACJ;MACJ;6BACD,kCAAY;QACRhD,IAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC/BA,IAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QACjC,IAAI,CAAC,QAAQ;cACT,SAAO;QACXA,IAAM,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC;QAC7BA,IAAM,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC;QAChCA,IAAM,CAAC,GAAG,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;QAC9BA,IAAM,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;QACjB,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;YACxBD,IAAM,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;YACjBA,IAAM,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;YACjB,SAAS,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;YAC3B,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC;kBACtB,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAC;SAC7B;;;;EA9GoB,aAgH5B;;ACzJD;;;;;AAKA,AAIAD,IAAMqC,OAAK,GAAG,IAAI,OAAO,EAAE,CAAC;AAC5B,AAAOrC,IAAM,qCAAqC,GAAG,MAAM,CAAC,MAAM,CAAC;IAC/D,YAAY,EAAE,CAAC;CAClB,EAAE,uBAAuB,CAAC,CAAC;;;;;;;;;;;AAW5B,IAAM,oBAAoB;IAStB,6BAAW,CAAC,IAAI,EAAE,MAAW,EAAE;uCAAP,GAAG;;QACvBK,sBAAK,OAAC,IAAI,EAAE,MAAM,EAAE,IAAI,yBAAyB,CAAC,CAAC,EAAE,QAAQ,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QACxF,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;;;;;;;2EAClC;IACD,mBAAI,oCAAoB,EAAE,OAAO,qCAAqC,CAAC,GAAE;mCACzE,0DAAuB,MAAM,EAAE,CAAC,EAAE;QAC9BL,IAAM,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QAC1BqC,OAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACnB,MAAM,CAAC,KAAK,CAACA,OAAK,CAAC,CAAC;MACvB;mCACD,wCAAc,IAAS,EAAE,WAAW,EAAE;mCAApB,GAAG;;QACjB,IAAI,IAAI,CAAC,MAAM;cACX,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,GAAC;QAC/BhC,2BAAK,CAAC,kBAAa,OAAC,IAAI,EAAE,WAAW,CAAC,CAAC;;;;;;EAtBZ,iBAwBlC;;;;;;AC/CD;;;;;AAKA,AAGA;;;;;AAKA,IAAM,YAAY;IACd,qBAAW,CAAC,WAAW,EAAE,IAAI,EAAE,MAAW,EAAE;uCAAP,GAAG;;QACpCA,cAAK,OAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QACpB,IAAI,CAAC,KAAK,GAAG,YAAY,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;QAC9D,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC3B,IAAI,CAAC,aAAa,CAAC;YACf,SAAS,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,IAAI,EAAE;SAChD,CAAC,CAAC;QACH,IAAI,CAAC,aAAa,CAAC,EAAE,WAAW,EAAE,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;;;;;;;yGAC/D;IACD,mBAAI,gCAAgB;QAChB,OAAO,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC;MACvC;IACD,mBAAI,4BAAY;QACZ,OAAO,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,kBAAkB,CAAC;MAC9C;2BACD,wCAAc,UAAU,EAAE;QACtBL,IAAM,mBAAmB,GAAG,EAAE,CAAC;QAC/B,KAAKA,IAAM,IAAI,IAAI,UAAU,EAAE;YAC3BA,IAAM,CAAC,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC;YAC3B,mBAAmB,CAAC,IAAI,CAAC,GAAG;gBACxB,IAAI,EAAE,CAAC,CAAC,IAAI;gBACZ,KAAK,EAAE,IAAI;aACd,CAAC;SACL;QACDK,mBAAK,CAAC,kBAAa,OAAC,mBAAmB,CAAC,CAAC;MAC5C;2BACD,gDAAkB,SAAS,EAAE;QACzB,OAAO,SAAS,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;MAC3C;2BACD,wCAAc,IAAI,EAAE;QAChB,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,EAAE;YAC5D,IAAI,CAAC,QAAQ,GAAG,oBAAoB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;SACxE;QACDL,IAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QACvBA,IAAM,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QACrCA,IAAM,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC;QAC5CC,IAAI,CAAC,EAAE,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACnC,KAAKD,IAAM,IAAI,IAAI,IAAI,EAAE;YACrB,IAAI,IAAI,KAAK,OAAO,IAAI,IAAI,KAAK,SAAS;kBACtC,WAAS;YACb,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;YACf,CAAC,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC;YACrB,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC;YACtB,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;YAChB,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE,EAAE,CAAC,EAAE;gBAC3B,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC;gBACjB,CAAC,GAAG,CAAC,GAAG,WAAW,CAAC;gBACpB,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,EAAE,EAAE,CAAC,EAAE;oBAClC,CAAC,GAAG,CAAC,IAAI,QAAQ,GAAG,CAAC,CAAC,CAAC;oBACvB,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,EAAE,EAAE,CAAC,EAAE;wBAC/B,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;qBAC3B;iBACJ;aACJ;YACD,CAAC,CAAC,WAAW,GAAG,IAAI,CAAC;SACxB;MACJ;2BACD,sCAAc;QACVD,IAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QACvBA,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;QAC7BA,IAAM,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QACrCA,IAAM,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;QAC7CA,IAAM,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC;QAC5CA,IAAM,QAAQ,GAAG,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC;QAC1C,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,EAAE,EAAE;YAC3B,QAAQ,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,GAAG,eAAe,GAAG,WAAW,CAAC,CAAC;SAC5D;MACJ;2BACD,kCAAY;QACRD,IAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QACvBA,IAAM,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QACrCA,IAAM,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;QAC3CA,IAAM,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,CAAC;QACnDA,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QACzB,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,EAAE,EAAE;YAC3BD,IAAM,EAAE,GAAG,CAAC,GAAG,kBAAkB,CAAC;YAClCA,IAAM,EAAE,GAAG,CAAC,GAAG,WAAW,CAAC;YAC3B,KAAK,CAAC,GAAG,CAAC,cAAc,EAAE,EAAE,CAAC,CAAC;YAC9B,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,kBAAkB,EAAE,EAAE,CAAC,EAAE;gBACzC,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC;aACvB;SACJ;;;;;;EAnFkB,SAqF1B;;AClGD;;;;;AAKA,AACAD,IAAM,OAAO,GAAG,IAAI,YAAY,CAAC;IAC7B,CAAC,GAAG,EAAE,GAAG;IACT,CAAC,GAAG,EAAE,CAAC,GAAG;IACV,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,CAAC,GAAG;CACZ,CAAC,CAAC;AACHA,IAAM,cAAc,GAAG,IAAI,WAAW,CAAC;IACnC,CAAC,EAAE,CAAC,EAAE,CAAC;IACP,CAAC,EAAE,CAAC,EAAE,CAAC;CACV,CAAC,CAAC;;;;;AAKH,IAAM,gBAAgB;IAClB,yBAAW,CAAC,IAAI,EAAE,MAAW,EAAE;uCAAP,GAAG;;QACvBK,oBAAK,OAAC,IAAI,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;;;;;;;+NAC7B;IACD,mBAAI,0BAAU,EAAE,OAAO,OAAO,CAAC,GAAE;IACjC,mBAAI,iCAAiB,EAAE,OAAO,cAAc,CAAC,GAAE;IAC/C,mBAAI,qCAAqB,EAAE,OAAO,CAAC,CAAC,GAAE;IACtC,mBAAI,8BAAc,EAAE,OAAO,CAAC,CAAC,GAAE;IAC/B,mBAAI,kCAAkB,EAAE,OAAO,CAAC,CAAC;;;;;EARN,eAS9B;;AC7BD;;;;;AAKA,AAIA;;;;;;;;;;AAUA,IAAM,oBAAoB;IAStB,6BAAW,CAAC,IAAI,EAAE,MAAW,EAAE;uCAAP,GAAG;;QACvBA,wBAAK,OAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QACpB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,YAAY,GAAG,qBAAqB,CAAC;QAC1C,IAAI,CAAC,cAAc,GAAG,qBAAqB,CAAC;QAC5C,IAAI,CAAC,WAAW,CAAC;YACb,yBAAyB,EAAE,EAAE,KAAK,EAAE,IAAI,OAAO,EAAE,EAAE;YACnD,OAAO,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE;SAC1B,CAAC,CAAC;QACH,IAAI,CAAC,aAAa,CAAC;YACf,QAAQ,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE;SACvC,CAAC,CAAC;QACH,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QACzB,IAAI,CAAC,WAAW,EAAE,CAAC;;;;;;;;EAtBQ,mBAwBlC;;AC3CD;;;;;AAKA,AAGOL,IAAM,6BAA6B,GAAG,MAAM,CAAC,MAAM,CAAC;IACvD,eAAe,EAAE,KAAK;CACzB,EAAE,qCAAqC,CAAC,CAAC;;;;;;;;;;;;;;AAc1C,IAAM,YAAY,GAUd,qBAAW,CAAC,IAAI,EAAE,MAAM,EAAE;IACtB,IAAI,CAAC,kBAAkB,KAAK,MAAM,IAAI,MAAM,CAAC,eAAe,CAAC,EAAE;QAC3D,OAAO,IAAI,oBAAoB,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;KACjD;SACI;QACD,OAAO,IAAI,oBAAoB,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;KACjD;EAER;AACD,cAAc,CAAC,GAAG,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;;;;;;AC3C3C;;;;;AAKA,AAQA,SAAS,QAAQ,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IAC9BA,IAAM,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;IACnBA,IAAM,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;IACnB,OAAO,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;CACvC;AACD,SAAS,gBAAgB,CAAC,MAAM,EAAE;IAC9BA,IAAM,CAAC,GAAG,MAAM,IAAI,EAAE,CAAC;IACvBA,IAAM,KAAK,GAAG,QAAQ,CAAC,CAAC,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;IACrCA,IAAM,MAAM,GAAG,QAAQ,CAAC,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;IACvCA,IAAM,MAAM,GAAG,CAAC,KAAK,GAAG,CAAC,EAAE,MAAM,GAAG,CAAC,CAAC,CAAC;IACvCA,IAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,EAAE,MAAM,GAAG,CAAC,CAAC,CAAC;IAC/CA,IAAM,KAAK,GAAG,QAAQ,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,IAAI,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC;IAC3DC,IAAI,CAAC,GAAG,CAAC,CAAC;IACVA,IAAI,CAAC,GAAG,CAAC,CAAC;IACVD,IAAM,IAAI,GAAG,IAAI,UAAU,CAAC,KAAK,GAAG,MAAM,GAAG,CAAC,CAAC,CAAC;IAChD,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,EAAE;QAC9CD,IAAM,IAAI,GAAG,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;QAClDA,IAAM,KAAK,GAAG,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,KAAK,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;QAC3D,IAAI,CAAC,CAAC,CAAC,GAAG,KAAK,GAAG,GAAG,CAAC;QACtB,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,GAAG,GAAG,CAAC;QAC1B,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,GAAG,GAAG,CAAC;QAC1B,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,GAAG,GAAG,CAAC;QAC1B,IAAI,EAAE,CAAC,KAAK,KAAK,EAAE;YACf,CAAC,GAAG,CAAC,CAAC;YACN,CAAC,EAAE,CAAC;SACP;KACJ;IACDA,IAAM,GAAG,GAAG,IAAI,WAAW,CAAC,IAAI,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;IACjD,GAAG,CAAC,WAAW,GAAG,IAAI,CAAC;IACvB,OAAO,GAAG,CAAC;CACd;AACD,AAAOA,IAAM,4BAA4B,GAAG,MAAM,CAAC,MAAM,CAAC;IACtD,SAAS,EAAE,CAAC;IACZ,eAAe,EAAE,IAAI;IACrB,aAAa,EAAE,KAAK;IACpB,SAAS,EAAE,GAAG;IACd,UAAU,EAAE,KAAK;IACjB,gBAAgB,EAAE,KAAK;IACvB,UAAU,EAAE,GAAG;CAClB,EAAE,uBAAuB,CAAC,CAAC;AAC5BA,IAAM,yBAAyB,GAAG,MAAM,CAAC,MAAM,CAAC;IAC5C,SAAS,EAAE,EAAE,OAAO,EAAE,MAAM,EAAE;IAC9B,eAAe,EAAE,EAAE,YAAY,EAAE,IAAI,EAAE;IACvC,aAAa,EAAE,EAAE;IACjB,SAAS,EAAE,EAAE,YAAY,EAAE,IAAI,EAAE;IACjC,UAAU,EAAE,EAAE,YAAY,EAAE,IAAI,EAAE;IAClC,gBAAgB,EAAE,EAAE;IACpB,UAAU,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE;CAChC,EAAE,oBAAoB,CAAC,CAAC;;;;;;;;;;AAUzB,IAAM,WAAW;IAOb,oBAAW,CAAC,IAAI,EAAE,MAAW,EAAE;uCAAP,GAAG;;QACvBK,cAAK,OAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QACpB,IAAI,CAAC,cAAc,GAAG,yBAAyB,CAAC;QAChD,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,cAAc,GAAG,YAAY,CAAC;QACnC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,WAAW,CAAC;YACb,MAAM,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE;YAC5C,cAAc,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE;YAC9B,YAAY,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE;YAC5B,KAAK,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE;SACzB,CAAC,CAAC;;;;;;;2EACN;IACD,mBAAI,oCAAoB,EAAE,OAAO,4BAA4B,CAAC,GAAE;0BAChE,wCAAe;QACXA,mBAAK,CAAC,iBAAY,KAAC,CAAC,CAAC;QACrB,IAAI,CAAC,WAAW,EAAE,CAAC;QACnBL,IAAM,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC;QACxBA,IAAM,EAAE,GAAG,IAAI,CAAC,iBAAiB,CAAC;QAClCA,IAAM,EAAE,GAAG,IAAI,CAAC,eAAe,CAAC;QAChC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC;QAChC,CAAC,CAAC,WAAW,GAAG,IAAI,CAAC;QACrB,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC;QACjC,EAAE,CAAC,WAAW,GAAG,IAAI,CAAC;QACtB,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC;QACjC,EAAE,CAAC,WAAW,GAAG,IAAI,CAAC;MACzB;0BACD,sCAAc;QACV,IAAI,IAAI,CAAC,GAAG;cACR,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,GAAC;QACvB,IAAI,CAAC,GAAG,GAAG,gBAAgB,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,CAAC,CAAC;MACtE;0BACD,kCAAW,IAAI,EAAE;QACbA,IAAM,OAAO,GAAGK,mBAAK,CAAC,eAAU,OAAC,IAAI,CAAC,CAAC;QACvC,IAAI,IAAI,CAAC,UAAU,CAAC,eAAe,EAAE;YACjC,OAAO,CAAC,mBAAmB,GAAG,CAAC,CAAC;SACnC;QACD,IAAI,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE;YAC5B,OAAO,CAAC,OAAO,GAAG,CAAC,CAAC;SACvB;QACD,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,IAAI,CAAC,EAAE;YACjE,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;SAChE;QACD,OAAO,OAAO,CAAC;MAClB;0BACD,oCAAY,IAAI,EAAE;QACd,IAAI,IAAI,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS,EAAE;YACvC,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;SACvB;QACDA,mBAAK,CAAC,gBAAW,OAAC,IAAI,CAAC,CAAC;MAC3B;0BACD,8BAAU;QACNA,mBAAK,CAAC,YAAO,KAAC,CAAC,CAAC;QAChB,IAAI,IAAI,CAAC,GAAG;cACR,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,GAAC;;;;;;EA9DL,SAgEzB;AACD,cAAc,CAAC,GAAG,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;;ACxIzC;;;;;AAKA,AAOA;;;AAGA,IAAM,iBAAiB;IAOnB,0BAAW,CAAC,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE;QACjCA,sBAAK,OAAC,OAAO,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;QAC/B,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAClB,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC;YAC5B,aAAa,EAAE;gBACX,IAAI,EAAE,QAAQ;gBACd,OAAO,EAAE,IAAI;gBACb,OAAO,EAAE;oBACL,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO;iBACrC;aACJ;YACD,YAAY,EAAE;gBACV,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC,EAAE,GAAG,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC,QAAQ,EAAE,OAAO,EAAE,IAAI;aAC7E;YACD,YAAY,EAAE;gBACV,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC,EAAE,GAAG,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC,QAAQ,EAAE,OAAO,EAAE,IAAI;aAC7E;YACD,YAAY,EAAE;gBACV,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI;aACjC;YACD,OAAO,EAAE;gBACL,IAAI,EAAE,QAAQ;gBACd,OAAO,EAAE,IAAI;gBACb,OAAO,EAAE;oBACL,EAAE,EAAE,EAAE;oBACN,QAAQ,EAAE,QAAQ;oBAClB,OAAO,EAAE,OAAO;iBACnB;aACJ;YACD,UAAU,EAAE;gBACR,IAAI,EAAE,QAAQ;gBACd,OAAO,EAAE;oBACL,EAAE,EAAE,EAAE;oBACN,OAAO,EAAE,OAAO;oBAChB,WAAW,EAAE,WAAW;oBACxB,WAAW,EAAE,WAAW;oBACxB,WAAW,EAAE,WAAW;oBACxB,MAAM,EAAE,MAAM;iBACjB;aACJ;YACD,MAAM,EAAE;gBACJ,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM;aACxE;YACD,KAAK,EAAE;gBACH,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,KAAK;aACtD;YACD,YAAY,EAAE,IAAI;YAClB,eAAe,EAAE,IAAI;YACrB,SAAS,EAAE;gBACP,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,MAAM,EAAE,IAAI;aAC/D;YACD,eAAe,EAAE;gBACb,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI;aAChC;YACD,aAAa,EAAE;gBACX,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI;aACjC;YACD,UAAU,EAAE;gBACR,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI;aAChC;YACD,SAAS,EAAE;gBACP,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,MAAM,EAAE,IAAI;aAC3D;YACD,gBAAgB,EAAE;gBACd,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI;aAChC;YACD,UAAU,EAAE;gBACR,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,MAAM,EAAE,IAAI;aAC3D;SACJ,EAAE,IAAI,CAAC,UAAU,EAAE;YAChB,WAAW,EAAE;gBACT,IAAI,EAAE,QAAQ;gBACd,MAAM,EAAE,OAAO;gBACf,OAAO,EAAE;oBACL,EAAE,EAAE,EAAE;oBACN,OAAO,EAAE,OAAO;oBAChB,SAAS,EAAE,SAAS;oBACpB,QAAQ,EAAE,QAAQ;iBACrB;aACJ;SACJ,CAAC,CAAC;QACH,IAAI,OAAO,YAAY,MAAM,EAAE;YAC3B,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC;YACzB,IAAI,CAAC,MAAM,GAAG,IAAI,cAAc,CAAC,OAAO,CAAC,CAAC;SAC7C;aACI;YACD,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;YACvB,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;SAC3B;QACD,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;;;;gEACrB;gCACD,sBAAK,MAAM,EAAE;QACT,IAAI,CAAC,GAAG,MAAM,IAAI,EAAE,CAAC;QACrB,CAAC,CAAC,WAAW,GAAG,QAAQ,CAAC,CAAC,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;QACnD,CAAC,CAAC,UAAU,GAAG,QAAQ,CAAC,CAAC,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;QAChD,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,CAAC,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;QACxD,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,CAAC,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;QAClD,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,CAAC,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC;QACvD,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,CAAC,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;QACpD,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QAC5C,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;QACtC,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,CAAC,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QACpC,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,eAAe,GAAG,QAAQ,CAAC,CAAC,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;QACzD,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,CAAC,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;QACtD,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,CAAC,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,CAAC,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;QAC5C,IAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,CAAC,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;QAC5D,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,CAAC,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;QAC9CA,2BAAK,CAAC,SAAI,OAAC,CAAC,CAAC,CAAC;QACd,IAAI,CAAC,KAAK,EAAE,CAAC;MAChB;gCACD,0BAAO,QAAQ,EAAE;;;QACb,IAAI,CAAC,UAAU,CAAC,OAAO,WAAC,QAAU;YAC9BE,MAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;SAC3B,CAAC,CAAC;QACH,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACjC,QAAQ,EAAE,CAAC;MACd;gCACD,4BAAS;QACL,IAAI,OAAO,GAAG,EAAE,CAAC;QACjB,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YACzB,IAAI,YAAY,EAAE,YAAY,CAAC;YAC/B,IAAI,IAAI,CAAC,aAAa,KAAK,OAAO,EAAE;gBAChC,YAAY,GAAG,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;gBAC1D,YAAY,GAAG,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aAC7D;iBACI;gBACD,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;gBACjC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;aACpC;YACD,MAAM,CAAC,SAAS,CAAC,YAAY,EAAE,YAAY,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;YAChE,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE;gBACnB,QAAQ,EAAE,MAAM,CAAC,eAAe,EAAE;gBAClC,KAAK,EAAE,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;aACpD,CAAC,CAAC;YACH,IAAI,IAAI,CAAC,OAAO,KAAK,QAAQ,EAAE;gBAC3B,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE;oBACnB,MAAM,EAAE,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC;oBACnD,OAAO,EAAE,MAAM,CAAC,cAAc,EAAE;iBACnC,CAAC,CAAC;aACN;SACJ;aACI;YACD,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;YAC3B,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE;gBACnB,QAAQ,EAAE,OAAO,CAAC,WAAW,EAAE;gBAC/B,KAAK,EAAE,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;aACjD,CAAC,CAAC;YACH,IAAI,IAAI,CAAC,OAAO,KAAK,QAAQ,EAAE;gBAC3B,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE;oBACnB,MAAM,EAAE,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC;oBAChD,OAAO,EAAE,OAAO,CAAC,UAAU,EAAE;iBAChC,CAAC,CAAC;aACN;SACJ;QACD,IAAI,IAAI,CAAC,OAAO,KAAK,QAAQ,EAAE;YAC3B,IAAI,CAAC,SAAS,GAAG,IAAI,YAAY,CAAC,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC;gBAC5D,YAAY,EAAE,IAAI,CAAC,YAAY;gBAC/B,eAAe,EAAE,IAAI,CAAC,eAAe;gBACrC,YAAY,EAAE,KAAK;aACtB,CAAC,CAAC,CAAC;SACP;aACI;YACD,IAAI,CAAC,SAAS,GAAG,IAAI,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC;gBAC3D,SAAS,EAAE,IAAI,CAAC,SAAS;gBACzB,eAAe,EAAE,IAAI,CAAC,eAAe;gBACrC,aAAa,EAAE,IAAI,CAAC,aAAa;gBACjC,UAAU,EAAE,IAAI,CAAC,UAAU;gBAC3B,SAAS,EAAE,IAAI,CAAC,SAAS;gBACzB,gBAAgB,EAAE,IAAI,CAAC,gBAAgB;gBACvC,UAAU,EAAE,IAAI,CAAC,UAAU;aAC9B,CAAC,CAAC,CAAC;SACP;QACD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;MACxC;gCACD,0BAAO,IAAS,EAAE;mCAAP,GAAG;;QACV,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,KAAK,CAAC;cAC5B,SAAO;QACXP,IAAM,OAAO,GAAG,EAAE,CAAC;QACnB,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,IAAI,IAAI,CAAC,MAAM,EAAE;gBACb,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE;oBACnB,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;iBACzD,CAAC,CAAC;aACN;iBACI;gBACD,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE;oBACnB,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;iBACtD,CAAC,CAAC;aACN;SACJ;QACD,IAAI,IAAI,CAAC,OAAO,KAAK,QAAQ,KAAK,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,EAAE;YAC1D,IAAI,IAAI,CAAC,MAAM,EAAE;gBACb,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE;oBACnB,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC;iBAC3D,CAAC,CAAC;aACN;iBACI;gBACD,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE;oBACnB,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC;iBACxD,CAAC,CAAC;aACN;SACJ;QACD,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;MACzC;gCACD,wCAAc,MAAM,EAAE,IAAS,EAAE,OAAO,EAAE;mCAAhB,GAAG;;QACzB,IAAI,MAAM,IAAI,MAAM,CAAC,aAAa,KAAK,SAAS;YAC5C,IAAI,CAAC,MAAM,YAAY,MAAM,EAAE;YAC/B,IAAI,IAAI,CAAC,aAAa,KAAK,OAAO;gBAC9B,MAAM,CAAC,aAAa,KAAK,OAAO,EAAE;gBAClC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;gBACpE,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aACvE;iBACI,IAAI,IAAI,CAAC,aAAa,KAAK,OAAO;gBACnC,MAAM,CAAC,aAAa,KAAK,OAAO,EAAE;gBAClC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;gBACpE,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aACvE;YACD,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,aAAa,CAAC;SAC7C;QACD,IAAI,MAAM,IAAI,MAAM,CAAC,UAAU,KAAK,SAAS,EAAE;YAC3C,IAAI,MAAM,CAAC,UAAU,KAAK,QAAQ,EAAE;gBAChC,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;aACrB;iBACI;gBACD,IAAI,CAAC,MAAM,GAAG,UAAU,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;aAC/C;YACD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YACnB,IAAI,IAAI,CAAC,OAAO,KAAK,QAAQ;iBACxB,CAAC,kBAAkB,IAAI,IAAI,CAAC,eAAe,CAAC,EAAE;gBAC/C,OAAO,GAAG,IAAI,CAAC;aAClB;SACJ;QACD,IAAI,MAAM,IAAI,MAAM,CAAC,MAAM,KAAK,SAAS,EAAE;YACvC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YACnB,IAAI,IAAI,CAAC,OAAO,KAAK,QAAQ;iBACxB,CAAC,kBAAkB,IAAI,IAAI,CAAC,eAAe,CAAC,EAAE;gBAC/C,OAAO,GAAG,IAAI,CAAC;aAClB;SACJ;QACD,IAAI,MAAM,IAAI,MAAM,CAAC,KAAK,KAAK,SAAS,EAAE;YACtC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAClB,IAAI,IAAI,CAAC,OAAO,KAAK,QAAQ;iBACxB,CAAC,kBAAkB,IAAI,IAAI,CAAC,eAAe,CAAC,EAAE;gBAC/C,OAAO,GAAG,IAAI,CAAC;aAClB;SACJ;QACDK,2BAAK,CAAC,kBAAa,OAAC,MAAM,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;QAC3C,OAAO,IAAI,CAAC;;;;EAjQY,iBAmQ/B;;;;;;AClRD;;;;;AAKA,AAMAL,IAAM,WAAW,GAAG,IAAI,WAAW,CAAC;IAChC,CAAC,EAAE,CAAC,EAAE,CAAC;IACP,CAAC,EAAE,CAAC,EAAE,CAAC;CACV,CAAC,CAAC;AACHA,IAAM,OAAO,GAAG,IAAI,YAAY,CAAC;IAC7B,CAAC,EAAE,CAAC;IACJ,CAAC,EAAE,CAAC;IACJ,CAAC,EAAE,CAAC;IACJ,CAAC,EAAE,CAAC;CACP,CAAC,CAAC;AACH,AAAOA,IAAM,4BAA4B,GAAG,MAAM,CAAC,MAAM,CAAC;IACtD,MAAM,EAAE,SAAS;IACjB,gBAAgB,EAAE,IAAI;CACzB,EAAE,uBAAuB,CAAC,CAAC;AAC5B,AAAOA,IAAM,yBAAyB,GAAG,MAAM,CAAC,MAAM,CAAC;IACnD,MAAM,EAAE,EAAE,YAAY,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE;CAChD,EAAE,oBAAoB,CAAC,CAAC;;;;AAIzB,IAAM,WAAW;IAUb,oBAAW,CAAC,IAAI,EAAE,MAAM,EAAE;QACtBK,cAAK,OAAC;YACF,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,KAAK,EAAE,WAAW;YAClB,OAAO,EAAE,IAAI,CAAC,OAAO;SACxB,EAAE,MAAM,CAAC,CAAC;QACX,IAAI,CAAC,cAAc,GAAG,yBAAyB,CAAC;QAChD,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;QAC9B,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC1B,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,cAAc,GAAG,YAAY,CAAC;QAC3B;QAAW;QAAO,yBAAgB;QAC1CL,IAAM,GAAG,GAAG,IAAI,WAAW,CAAC,SAAS,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;QACtD,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACfA,IAAM,CAAC,GAAG,SAAS,CAAC,MAAM,CAAC;QAC3BA,IAAM,WAAW,GAAG,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC;QACtC,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE;YAC3BD,IAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YAChB,WAAW,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,GAAG,CAAC;YAC/B,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC;YAClC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;SAChC;QACDA,IAAM,UAAU,GAAG,IAAI,WAAW,CAAC,WAAW,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;QAC/D,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC;QACxB,UAAU,CAAC,SAAS,GAAG,aAAa,CAAC;QACrC,UAAU,CAAC,SAAS,GAAG,aAAa,CAAC;QACrC,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,IAAI,CAAC,WAAW,CAAC;YACb,KAAK,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE;YACrB,YAAY,EAAE,EAAE,KAAK,EAAE,UAAU,EAAE;YACnC,SAAS,EAAE,EAAE,KAAK,EAAE,IAAI,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,EAAE;SACnD,CAAC,CAAC;QACH,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,eAAe,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,CAAC;;;;;;;2EACrE;IACD,mBAAI,oCAAoB,EAAE,OAAO,4BAA4B,CAAC,GAAE;0BAChE,kCAAW,IAAI,EAAE;QACbA,IAAM,OAAO,GAAGK,mBAAK,CAAC,eAAU,OAAC,IAAI,CAAC,CAAC;QACvCL,IAAM,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;QACtC,IAAI,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE;YAC5B,OAAO,CAAC,mBAAmB,GAAG,CAAC,CAAC;YAChC,IAAI,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE;gBAC5B,OAAO,CAAC,cAAc,GAAG,CAAC,CAAC;aAC9B;iBACI,IAAI,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE;gBACnC,OAAO,CAAC,gBAAgB,GAAG,CAAC,CAAC;aAChC;iBACI,IAAI,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE;gBAClC,OAAO,CAAC,eAAe,GAAG,CAAC,CAAC;aAC/B;SACJ;QACD,OAAO,OAAO,CAAC;MAClB;0BACD,0CAAgB;QACZA,IAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;QACrBA,IAAM,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;QACtC,IAAI,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE;YAC5B,GAAG,CAAC,SAAS,GAAG,aAAa,CAAC;YAC9B,GAAG,CAAC,SAAS,GAAG,aAAa,CAAC;SACjC;aACI,IAAI,MAAM,KAAK,QAAQ,EAAE;YAC1B,GAAG,CAAC,SAAS,GAAG,YAAY,CAAC;YAC7B,GAAG,CAAC,SAAS,GAAG,YAAY,CAAC;SAChC;aACI;YACD,GAAG,CAAC,SAAS,GAAG,aAAa,CAAC;YAC9B,GAAG,CAAC,SAAS,GAAG,aAAa,CAAC;SACjC;QACD,GAAG,CAAC,WAAW,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC;MACtC;0BACD,wCAAe;QACXK,mBAAK,CAAC,iBAAY,KAAC,CAAC,CAAC;QACrB,IAAI,CAAC,aAAa,EAAE,CAAC;QACrBL,IAAM,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC;QACxB,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC;QAChC,CAAC,CAAC,QAAQ,GAAG,cAAc,CAAC;QAC5B,CAAC,CAAC,WAAW,GAAG,IAAI,CAAC;QACrBA,IAAM,EAAE,GAAG,IAAI,CAAC,iBAAiB,CAAC;QAClC,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC;QACjC,EAAE,CAAC,QAAQ,GAAG,cAAc,CAAC;QAC7B,EAAE,CAAC,WAAW,GAAG,IAAI,CAAC;QACtBA,IAAM,EAAE,GAAG,IAAI,CAAC,eAAe,CAAC;QAChC,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC;QACjC,EAAE,CAAC,QAAQ,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC;QAC/C,EAAE,CAAC,QAAQ,GAAG,cAAc,CAAC;QAC7B,EAAE,CAAC,WAAW,GAAG,IAAI,CAAC;MACzB;0BACD,oCAAY,IAAI,EAAE;QACd,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,SAAS,EAAE;YACnC,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;SACvB;QACDK,mBAAK,CAAC,gBAAW,OAAC,IAAI,CAAC,CAAC;;;;;;EAvGN,SAyGzB;;ACxID;;;;;AAKA,AAIA,IAAM,WAAW,GACb,oBAAW,CAAC,MAAM,EAAE,MAAM,EAAE;IACxBL,IAAM,CAAC,GAAG,MAAM,IAAI,EAAE,CAAC;IACvB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,CAAC,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;IAC5C,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,CAAC,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;IACxD,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;IACzC,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,CAAC,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;IACxD,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,CAAC,CAAC,YAAY,EAAE,CAAC,QAAQ,CAAC,CAAC;IACxD,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,CAAC,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC;IACvD,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,CAAC,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;IAC9C,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;EACxB;sBACD,gEAA0B,KAAK,EAAE;IAC7BA,IAAM,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC;IAC3BA,IAAM,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;IACtBA,IAAM,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC;IACnBA,IAAM,EAAE,GAAG,IAAI,OAAO,EAAE,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IACvDA,IAAM,EAAE,GAAG,IAAI,OAAO,EAAE,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IACpDC,IAAI,EAAE,CAAC;IACP,IAAI,GAAG,KAAK,GAAG,EAAE;QACb,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC;KACb;SACI,IAAI,GAAG,KAAK,GAAG,EAAE;QAClB,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC;KACb;SACI;QACD,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC;KACb;IACD,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE,KAAK,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;EAC7D;sBACD,4BAAQ,MAAM,EAAE;IACZ,MAAM,GAAG,MAAM,IAAI,EAAE,CAAC;IACtBD,IAAM,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;IACtBA,IAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;IACjBA,IAAM,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC;IACnBC,IAAI,CAAC,CAAC;IACN,IAAI,IAAI,CAAC,YAAY,KAAK,YAAY,EAAE;QACpC,CAAC,GAAG,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;KACrD;SACI;QACD,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC;KACrB;IACD,SAAS,GAAG,CAAC,MAAM,EAAE;QACjB,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;KAC/C;IACD,SAAS,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;QACvB,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KACnD;IACDD,IAAM,QAAQ,GAAG,IAAI,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACzCA,IAAM,GAAG,GAAG,IAAI,OAAO,EAAE,CAAC;IAC1BC,IAAI,KAAK,EAAE,MAAM,CAAC;IAClBA,IAAI,CAAC,CAAC;IACNA,IAAI,CAAC,CAAC;IACNA,IAAI,CAAC,CAAC;IACNA,IAAI,EAAE,GAAG,CAAC,CAAC;IACXA,IAAI,EAAE,GAAG,CAAC,CAAC;IACXA,IAAI,EAAE,GAAG,CAAC,CAAC;IACXA,IAAI,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC;IACdA,IAAI,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC;IACdA,IAAI,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC;IACd,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,MAAM,EAAE;QAC7B,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;KAC9D;IACD,IAAI,IAAI,CAAC,SAAS,KAAK,GAAG,EAAE;QACxB,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QACd,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;QACb,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;QACb,KAAK,GAAG,CAAC,CAAC,EAAE,CAAC;QACb,MAAM,GAAG,CAAC,CAAC,EAAE,CAAC;QACd,EAAE,GAAG,CAAC,CAAC;QACP,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;QACZ,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACnB,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACnB,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACnB,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;KACtB;SACI,IAAI,IAAI,CAAC,SAAS,KAAK,GAAG,EAAE;QAC7B,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;QACb,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QACd,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;QACb,KAAK,GAAG,CAAC,CAAC,EAAE,CAAC;QACb,MAAM,GAAG,CAAC,CAAC,EAAE,CAAC;QACd,EAAE,GAAG,CAAC,CAAC;QACP,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;QACZ,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACnB,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACnB,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACnB,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;KACtB;SACI,IAAI,IAAI,CAAC,SAAS,KAAK,GAAG,EAAE;QAC7B,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;QACb,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;QACb,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QACd,KAAK,GAAG,CAAC,CAAC,EAAE,CAAC;QACb,MAAM,GAAG,CAAC,CAAC,EAAE,CAAC;QACd,EAAE,GAAG,CAAC,CAAC;QACP,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;QACZ,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACnB,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACnB,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACnB,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;KACtB;IACDA,IAAI,CAAC,GAAG,CAAC,CAAC;IACVA,IAAI,CAAC,GAAG,CAAC,CAAC;IACVD,IAAM,SAAS,GAAG,IAAI,UAAU,CAAC,KAAK,GAAG,MAAM,GAAG,CAAC,CAAC,CAAC;IACrDA,IAAM,YAAY,GAAG,IAAI,YAAY,CAAC,KAAK,GAAG,MAAM,CAAC,CAAC;IACtDC,IAAI,IAAI,EAAE,IAAI,CAAC;IACf,IAAI,IAAI,CAAC,aAAa,KAAK,OAAO,EAAE;QAChC,IAAI,GAAG,CAAC,CAAC,gBAAgB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC7C,IAAI,GAAG,CAAC,CAAC,gBAAgB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;KAChD;SACI;QACD,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC;QACzB,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC;KAC5B;IACDD,IAAM,EAAE,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,MAAM,CAAC,WAAW,EAAE,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;IAChE,IAAI,IAAI,CAAC,SAAS,EAAE;QAChB,EAAE,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;KACtB;IACDA,IAAM,UAAU,GAAGM,oBAAkB,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;IACpDN,IAAM,GAAG,GAAG,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;IAChCA,IAAMqC,QAAK,GAAG,UAAU,CAAC,QAAQ,EAAE,CAAC;IACpCpC,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,EAAE,IAAI,GAAG,CAAC,CAAC;IAC3B,IAAI,IAAI,CAAC,SAAS,EAAE;QAChB,GAAG,GAAG,CAAC,QAAQ,CAAC;QAChB,GAAG,GAAG,CAAC,QAAQ,CAAC;QAChB,KAAKA,IAAI,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE;YAC7B,KAAKA,IAAI,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE;gBAC7B,KAAKA,IAAI,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE;oBAC7BD,IAAM,GAAG,GAAG,KAAK,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC;oBACrCA,IAAM,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;oBACnB,IAAI,GAAG,GAAG,GAAG;0BACT,GAAG,GAAG,GAAG,GAAC;oBACd,IAAI,GAAG,GAAG,GAAG;0BACT,GAAG,GAAG,GAAG,GAAC;iBACjB;aACJ;SACJ;QACD,IAAI,GAAG,GAAG,GAAG,GAAG,CAAC;KACpB;IACD,KAAKC,IAAIgD,IAAE,GAAG,EAAE,EAAEA,IAAE,GAAG,EAAE,EAAE,EAAEA,IAAE,EAAE;QAC7B,KAAKhD,IAAIiD,IAAE,GAAG,EAAE,EAAEA,IAAE,GAAG,EAAE,EAAE,EAAEA,IAAE,EAAE;YAC7B,KAAKjD,IAAIkD,IAAE,GAAG,EAAE,EAAEA,IAAE,GAAG,EAAE,EAAE,EAAEA,IAAE,EAAE;gBAC7BnD,IAAMoD,KAAG,GAAG,KAAK,CAACF,IAAE,EAAED,IAAE,EAAEE,IAAE,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC;gBACrClD,IAAIoD,KAAG,GAAG,CAAC,CAACD,KAAG,CAAC,CAAC;gBACjB,IAAI,IAAI,CAAC,SAAS,EAAE;oBAChBC,KAAG,GAAG,CAACA,KAAG,GAAG,GAAG,IAAI,IAAI,CAAC;iBAC5B;gBACD,UAAU,CAAC,YAAY,CAAChB,QAAK,CAACgB,KAAG,CAAC,EAAE,GAAG,CAAC,CAAC;gBACzC,SAAS,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;gBACxC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;gBAC5C,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;gBAC5C,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAACA,KAAG,GAAG,IAAI,IAAIA,KAAG,GAAG,IAAI,IAAI,GAAG,GAAG,CAAC,CAAC;gBACxD,YAAY,CAAC,CAAC,CAAC,GAAGD,KAAG,CAAC;gBACtB,EAAE,CAAC,CAAC;gBACJ,CAAC,IAAI,CAAC,CAAC;aACV;SACJ;KACJ;IACDpD,IAAM,OAAO,GAAG,IAAI,WAAW,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;IACjD,OAAO,YAAE,QAAQ,aAAE,SAAS,SAAE,KAAK,UAAE,MAAM,WAAE,OAAO,EAAE,CAAC;EAE9D;;AC3KD;;;;;AAKA,AAIA;;;AAGA,IAAM,mBAAmB;IAOrB,4BAAW,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE;QAChCK,sBAAK,OAAC,MAAM,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;QAC9B,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC;QACpB,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC;YAC5B,MAAM,EAAE;gBACJ,IAAI,EAAE,QAAQ;gBACd,MAAM,EAAE,IAAI;gBACZ,OAAO,EAAE;oBACL,SAAS,EAAE,SAAS;oBACpB,QAAQ,EAAE,QAAQ;oBAClB,eAAe,EAAE,eAAe;oBAChC,iBAAiB,EAAE,iBAAiB;oBACpC,gBAAgB,EAAE,gBAAgB;iBACrC;aACJ;YACD,YAAY,EAAE;gBACV,IAAI,EAAE,QAAQ;gBACd,OAAO,EAAE,IAAI;gBACb,OAAO,EAAE;oBACL,SAAS,EAAE,SAAS,EAAE,YAAY,EAAE,YAAY;iBACnD;aACJ;YACD,QAAQ,EAAE;gBACN,IAAI,EAAE,OAAO;gBACb,IAAI,EAAE,GAAG;gBACT,GAAG,EAAE,GAAG;gBACR,GAAG,EAAE,CAAC;gBACN,OAAO,EAAE,IAAI;aAChB;YACD,SAAS,EAAE;gBACP,IAAI,EAAE,QAAQ;gBACd,OAAO,EAAE,IAAI;gBACb,OAAO,EAAE;oBACL,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG;iBAC/B;aACJ;YACD,aAAa,EAAE;gBACX,IAAI,EAAE,QAAQ;gBACd,OAAO,EAAE,IAAI;gBACb,OAAO,EAAE;oBACL,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO;iBACrC;aACJ;YACD,YAAY,EAAE;gBACV,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC,EAAE,GAAG,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC,QAAQ,EAAE,OAAO,EAAE,IAAI;aAC7E;YACD,YAAY,EAAE;gBACV,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC,EAAE,GAAG,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC,QAAQ,EAAE,OAAO,EAAE,IAAI;aAC7E;YACD,SAAS,EAAE;gBACP,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI;aACjC;SACJ,EAAE,IAAI,CAAC,UAAU,EAAE;YAChB,UAAU,EAAE,IAAI;YAChB,IAAI,EAAE,IAAI;YACV,SAAS,EAAE,IAAI;YACf,SAAS,EAAE,IAAI;YACf,WAAW,EAAE,IAAI;YACjB,SAAS,EAAE,IAAI;YACf,SAAS,EAAE,IAAI;YACf,OAAO,EAAE,IAAI;SAChB,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;;;;oEACrB;kCACD,sBAAK,MAAM,EAAE;QACTL,IAAM,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;QACtBA,IAAM,CAAC,GAAG,MAAM,IAAI,EAAE,CAAC;QACvB,CAAC,CAAC,WAAW,GAAG,QAAQ,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QACxD,CAAC,CAAC,WAAW,GAAG,QAAQ,CAAC,CAAC,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;QACjD,CAAC,CAAC,UAAU,GAAG,QAAQ,CAAC,CAAC,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;QAClD,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC;QAC3B,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,CAAC,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;QAC5C,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,CAAC,CAAC,MAAM,EAAE,eAAe,CAAC,CAAC;QAClD,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,CAAC,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;QACxD,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;QACzC,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,CAAC,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;QACxD,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,CAAC,CAAC,YAAY,EAAE,CAAC,QAAQ,CAAC,CAAC;QACxD,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,CAAC,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC;QACvD,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,CAAC,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;QAC9CK,2BAAK,CAAC,SAAI,OAAC,CAAC,CAAC,CAAC;QACd,IAAI,CAAC,KAAK,EAAE,CAAC;MAChB;kCACD,0BAAO,QAAQ,EAAE;;;QACb,IAAI,CAAC,UAAU,CAAC,OAAO,WAAC,QAAU;YAC9BE,MAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;SAC3B,CAAC,CAAC;QACH,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACjC,QAAQ,EAAE,CAAC;MACd;kCACD,4BAAS;QACLP,IAAM,WAAW,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE;YAC7C,YAAY,EAAE,IAAI,CAAC,YAAY;YAC/B,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,aAAa,EAAE,IAAI,CAAC,aAAa;YACjC,YAAY,EAAE,IAAI,CAAC,YAAY;YAC/B,YAAY,EAAE,IAAI,CAAC,YAAY;YAC/B,SAAS,EAAE,IAAI,CAAC,SAAS;SAC5B,CAAC,CAAC;QACHA,IAAM,WAAW,GAAG,IAAI,WAAW,CAAC,WAAW,CAAC,OAAO,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,EAAE,IAAI,CAAC,eAAe,CAAC;YAClH,MAAM,EAAE,IAAI,CAAC,MAAM;SACtB,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;;;;EA9GR,iBAgHjC;;AC5HD;;;;;AAKA,AASA,SAAS,cAAc,CAAC,IAAI,EAAE;IAC1B,GAAG,CAAC,KAAK,+CAA4C,IAAI,eAAW,CAAC;CACxE;AACD,AAAO,SAAS,kBAAkB,CAAC,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE;IAC7D,IAAI,KAAK;UACL,GAAG,CAAC,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,GAAC;IAC3C,IAAI,SAAS,CAAC;IACd,IAAI,MAAM,YAAY,SAAS,EAAE;QAC7B,SAAS,GAAG,sBAAsB,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAC7C,IAAI,CAAC,SAAS,EAAE;YACZ,cAAc,CAAC,IAAI,CAAC,CAAC;YACrB,OAAO;SACV;KACJ;SACI,IAAI,MAAM,YAAY,OAAO,EAAE;QAChC,IAAI,IAAI,KAAK,SAAS,EAAE;YACpB,SAAS,GAAG,qBAAqB,CAAC;SACrC;aACI,IAAI,IAAI,KAAK,KAAK,EAAE;YACrB,SAAS,GAAG,iBAAiB,CAAC;SACjC;aACI;YACD,cAAc,CAAC,IAAI,CAAC,CAAC;YACrB,OAAO;SACV;KACJ;SACI,IAAI,MAAM,YAAY,MAAM,EAAE;QAC/B,IAAI,IAAI,KAAK,SAAS,EAAE;YACpB,SAAS,GAAG,qBAAqB,CAAC;SACrC;aACI,IAAI,IAAI,KAAK,KAAK,EAAE;YACrB,SAAS,GAAG,iBAAiB,CAAC;SACjC;aACI,IAAI,IAAI,KAAK,OAAO,EAAE;YACvB,SAAS,GAAG,mBAAmB,CAAC;SACnC;aACI;YACD,cAAc,CAAC,IAAI,CAAC,CAAC;YACrB,OAAO;SACV;KACJ;SACI,IAAI,MAAM,YAAY,KAAK,EAAE;QAC9B,SAAS,GAAG,oBAAoB,CAAC;QACjC,MAAM,GAAG,MAAM,CAAC,aAAa,EAAE,CAAC;KACnC;SACI,IAAI,IAAI,KAAK,QAAQ,EAAE;QACxB,SAAS,GAAG,oBAAoB,CAAC;KACpC;SACI;QACD,GAAG,CAAC,KAAK,CAAC,6BAA6B,GAAG,MAAM,GAAG,UAAU,CAAC,CAAC;QAC/D,OAAO;KACV;IACDA,IAAM,IAAI,GAAG,IAAI,SAAS,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;IACnD,IAAI,KAAK;UACL,GAAG,CAAC,OAAO,CAAC,qBAAqB,GAAG,IAAI,CAAC,GAAC;IAC9C,OAAO,IAAI,CAAC;CACf;;ACtED;;;;;AAKA,AAGOA,IAAM,wBAAwB,GAAG;IACpC,IAAI,EAAE,cAAc;IACpB,MAAM,EAAE,EAAE;CACb,CAAC;;;;AAIF,IAAM,OAAO,GAKT,gBAAW,CAAC,KAAK,EAAE,MAAW,EAAE;mCAAP,GAAG;;IACxB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;;;;IAInB,IAAI,CAAC,OAAO,GAAG;QACX,aAAa,EAAE,IAAI,MAAM,EAAE;QAC3B,WAAW,EAAE,IAAI,MAAM,EAAE;QACzB,QAAQ,EAAE,IAAI,MAAM,EAAE;KACzB,CAAC;IACF,IAAI,CAAC,UAAU,GAAG,YAAY,CAAC,MAAM,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;IAC/D,IAAI,CAAC,IAAI,GAAG,YAAY,EAAE,CAAC;;;sGAC9B;AACDI,qBAAI,oCAAoB,EAAE,OAAO,wBAAwB,CAAC,GAAE;AAC5DA,qBAAI,uBAAO,EAAE,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAE;kBAC3C,gCAAU,KAAK,EAAE;IACb,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,KAAK,CAAC;IAC/B,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IAC3C,OAAO,IAAI,CAAC;EACf;kBACD,4BAAQ,KAAK,EAAE;IACX,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,KAAK,CAAC;IAC7B,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IACzC,OAAO,IAAI,CAAC;EACf;kBACD,8BAAU;IACN,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;;;mEAExC;;AChDD;;;;;AAKA,AAEOJ,IAAM,sCAAsC,GAAG,MAAM,CAAC,MAAM,CAAC;IAChE,OAAO,EAAE,IAAI;CAChB,EAAE,wBAAwB,CAAC,CAAC;;;;AAI7B,IAAM,qBAAqB;IAQvB,8BAAW,CAAC,KAAK,EAAE,IAAI,EAAE,MAAW,EAAE,MAAM,EAAE;uCAAf,GAAG;;QAC9BK,eAAK,OAAC,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC;QACzD,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC;YACzB,iBAAiB,EAAE,IAAI,MAAM,EAAE;YAC/B,iBAAiB,EAAE,IAAI,MAAM,EAAE;SAClC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QACjB,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;;;;;;;wIAChC;IACD,mBAAI,oCAAoB,EAAE,OAAO,sCAAsC,CAAC,GAAE;IAC1E,mBAAI,0BAAU,EAAE,OAAO,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,GAAE;;;;;IAKjD,mBAAI,uBAAO,EAAE,OAAO,gBAAgB,CAAC,GAAE;oCACvC,8BAAU;QACN,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;MACzB;oCACD,gDAAkB,IAAI,EAAE;QACpB,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAC9B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;QAEjB,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACzC,IAAI,CAAC,gBAAgB,EAAE,CAAC;MAC3B;oCACD,4DAAyB;QACrB,IAAI,IAAI,CAAC,IAAI,EAAE;YACX,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC3C,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;SACvB;MACJ;oCACD,8BAAU;QACN,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAE;YACpD,IAAI,CAAC,MAAM,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;SAC1C;aACI;YACD,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAC9B,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;SACpC;MACJ;;;;;;oCAMD,wCAAc,KAAK,EAAE;QACjB,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,KAAK,CAAC;QAChC,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACjE,OAAO,IAAI,CAAC;MACf;oCACD,0CAAgB;QACZ,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,OAAO,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;SACpE;aACI;YACD,OAAO,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;SAClC;MACJ;;;;;oCAKD,gDAAmB;QACf,OAAO,IAAI,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;MACvD;oCACD,gDAAmB;QACf,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,CAAC;MACjD;;;;;;;;;oCASD,0BAAO,IAAI,EAAE;QACT,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QACvB,OAAO,IAAI,CAAC;MACf;oCACD,wBAAM,MAAM,EAAE;QACV,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACxB,OAAO,IAAI,CAAC;MACf;;;;;;oCAMD,sCAAa,MAAM,EAAE;QACjBL,IAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QACvB,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;SAC7B;QACD,OAAO,IAAI,CAAC;MACf;;;;;;oCAMD,wCAAc,MAAM,EAAE;QAClB,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAChC,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,CAAC;QACnE,OAAO,IAAI,CAAC;MACf;;;;;oCAKD,0CAAgB;QACZ,OAAO,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;MACpC;;;;;;oCAMD,8BAAS,KAAK,EAAE;QACZ,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC1B,OAAO,IAAI,CAAC;;;;;;EAlIgB,UAoInC;;ACjJD;;;;;AAKA,AAQAA,IAAM,EAAE,GAAG,IAAI,OAAO,EAAE,CAAC;AACzBA,IAAM,EAAE,GAAG,IAAI,OAAO,EAAE,CAAC;AACzB,AAAOA,IAAM,0BAA0B,GAAG;IACtC,IAAI,EAAE,EAAE;IACR,MAAM,EAAE,EAAE;IACV,OAAO,EAAE,IAAI;CAChB,CAAC;;;;AAIF,IAAM,SAAS,GAKX,kBAAW,CAAC,KAAK,EAAE,MAAM,EAAE,MAAW,EAAE;mCAAP,GAAG;;IAChC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACnB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;;;;IAIrB,IAAI,CAAC,OAAO,GAAG;QACX,mBAAmB,EAAE,IAAI,MAAM,EAAE;QACjC,qBAAqB,EAAE,IAAI,MAAM,EAAE;QACnC,iBAAiB,EAAE,IAAI,MAAM,EAAE;QAC/B,aAAa,EAAE,IAAI,MAAM,EAAE;QAC3B,aAAa,EAAE,IAAI,MAAM,EAAE;QAC3B,WAAW,EAAE,IAAI,MAAM,EAAE;QACzB,QAAQ,EAAE,IAAI,MAAM,EAAE;KACzB,CAAC;IACF,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;IACnB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;IACzB,IAAI,CAAC,MAAM,GAAG,IAAI,OAAO,EAAE,CAAC;IAC5B,IAAI,CAAC,QAAQ,GAAG,IAAI,OAAO,EAAE,CAAC;IAC9B,IAAI,CAAC,UAAU,GAAG,IAAI,UAAU,EAAE,CAAC;IACnC,IAAI,CAAC,KAAK,GAAG,IAAI,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAClC,IAAI,CAAC,SAAS,GAAG,IAAI,OAAO,EAAE,CAAC;IAC/B,IAAI,CAAC,UAAU,GAAG,YAAY,CAAC,MAAM,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;IAC/D,IAAI,CAAC,IAAI,GAAG,YAAY,EAAE,CAAC;IAC3B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;IAC3B,IAAI,CAAC,QAAQ,GAAG,IAAI,iBAAiB,CAAC,IAAI,CAAC,CAAC;;;qKAC/C;AACDI,qBAAI,oCAAoB,EAAE,OAAO,0BAA0B,CAAC,GAAE;AAC9DA,qBAAI,uBAAO,EAAE,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAE;AAC3CA,qBAAI,yBAAS,EAAE,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,GAAE;AAC/CA,qBAAI,0BAAU,EAAE,OAAO,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,GAAE;;;;;;;;;;;oBAWjD,oCAAY,CAAC,EAAE;IACX,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;QAClB,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;KAC9B;SACI;QACD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;KACzB;IACD,IAAI,CAAC,YAAY,EAAE,CAAC;IACpB,OAAO,IAAI,CAAC;EACf;;;;;;;;;;;;oBAYD,oCAAY,CAAC,EAAE;IACX,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;QAClB,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE;YAChBJ,IAAM,CAAC,GAAG,IAAI,KAAK,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;SACnC;aACI;YACD,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;SAChC;KACJ;SACI,IAAI,CAAC,YAAY,KAAK,EAAE;QACzB,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;KACnC;SACI;QACD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;KAC3B;IACD,IAAI,CAAC,YAAY,EAAE,CAAC;IACpB,OAAO,IAAI,CAAC;EACf;;;;;;;;;;;oBAWD,8BAAS,CAAC,EAAE;IACR,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IACxB,IAAI,CAAC,YAAY,EAAE,CAAC;IACpB,OAAO,IAAI,CAAC;EACf;;;;;;;;;;;oBAWD,sCAAa,CAAC,EAAE;IACZ,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACvB,IAAI,CAAC,YAAY,EAAE,CAAC;IACpB,OAAO,IAAI,CAAC;EACf;oBACD,wCAAe;IACXA,IAAM,CAAC,GAAG,IAAI,CAAC,sBAAsB,CAAC,EAAE,CAAC,CAAC;IAC1C,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9C,EAAE,CAAC,0BAA0B,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IAC/C,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;IAC5B,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IACvD,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;IAC5BA,IAAM,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC;IACxB,EAAE,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACpD,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;IAC5B,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IACxC,IAAI,CAAC,4BAA4B,EAAE,CAAC;IACpC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,iBAAiB,EAAE,CAAC;IACtC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;EACpD;;;;oBAID,wEAA+B;;;IAC3B,IAAI,CAAC,QAAQ,CAAC,OAAO,WAAC,MAAQ;QAC1B,IAAI,CAAC,aAAa,CAAC,EAAE,MAAM,EAAEO,MAAI,CAAC,MAAM,EAAE,CAAC,CAAC;KAC/C,CAAC,CAAC;EACN;;;;;;;;;;oBAUD,wCAAc,QAAQ,EAAE,OAAO,EAAE,MAAM,EAAE;IACrCP,IAAM,UAAU,GAAG,IAAI,UAAU,CAAC,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;IACnE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IACrC,OAAO,UAAU,CAAC;EACrB;;;;;;oBAMD,0CAAe,QAAQ,EAAE;IACrB,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;EACjD;;;;;;oBAMD,8CAAiB,UAAU,EAAE;IACzBA,IAAM,GAAG,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;IACpD,IAAI,GAAG,KAAK,CAAC,CAAC,EAAE;QACZ,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QACnC,UAAU,CAAC,OAAO,EAAE,CAAC;KACxB;EACJ;;;;;oBAKD,wDAAuB;IACnB,IAAI,CAAC,cAAc,WAAC,qBAAc,UAAU,CAAC,OAAO,KAAE,CAAC,CAAC;IACxD,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC;EAClC;;;;;;;;;oBASD,kDAAmB,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,MAAc,EAAE;uCAAV,GAAG;;IAC9CA,IAAM,CAAC,GAAG,MAAM,IAAI,EAAE,CAAC;IACvBA,IAAM,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;IACtC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;IAC/B,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,IAAI,EAAE,CAAC,OAAO,CAAC;IACpC,CAAC,CAAC,eAAe,GAAG,QAAQ,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;IAC9D,CAAC,CAAC,SAAS,GAAG,QAAQ,CAAC,CAAC,CAAC,SAAS,EAAE,EAAE,CAAC,aAAa,CAAC,CAAC;IACtD,CAAC,CAAC,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IACtCA,IAAM,EAAE,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,IAAI,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC;IACnFA,IAAM,IAAI,GAAG,kBAAkB,CAAC,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;IAC/DA,IAAM,QAAQ,GAAG,IAAI,qBAAqB,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;IACtE,IAAI,CAAC,MAAM,EAAE;QACT,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC7B,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;KACvD;IACD,OAAO,QAAQ,CAAC;EACnB;oBACD,4DAAwB,MAAM,EAAE,MAAM,EAAE;IACpC,OAAO,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;EACvE;oBACD,gDAAkB,IAAI,EAAE;IACpB,OAAO,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;EAC7C;;;;;;oBAMD,kDAAmB,QAAQ,EAAE;IACzB,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;EAC3C;;;;;;oBAMD,sDAAqB,IAAI,EAAE;IACvBA,IAAM,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACxC,IAAI,GAAG,KAAK,CAAC,CAAC,EAAE;QACZ,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QAC7B,IAAI,CAAC,OAAO,EAAE,CAAC;QACf,IAAI,CAAC,OAAO,CAAC,qBAAqB,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;KACrD;EACJ;oBACD,wDAAsB,IAAI,EAAE;IACxB,IAAI,CAAC,QAAQ,CAAC,OAAO,WAAC,eAAQ,IAAI,CAAC,MAAM,CAAC,IAAI,IAAC,CAAC,CAAC;IACjD,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC;EACrC;;;;;oBAKD,gEAA2B;IACvB,IAAI,CAAC,kBAAkB,WAAC,eAAQ,IAAI,CAAC,OAAO,KAAE,CAAC,CAAC;EACnD;oBACD,8BAAU;IACN,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAC5B,IAAI,CAAC,wBAAwB,EAAE,CAAC;IAChC,OAAO,IAAI,CAAC,cAAc,CAAC;IAC3B,OAAO,IAAI,CAAC,QAAQ,CAAC;IACrB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;EACpC;;;;;;oBAMD,wCAAc,KAAK,EAAE;IACjB,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,KAAK,CAAC;IAChC,IAAI,CAAC,kBAAkB,WAAE,IAAI,WAAK,IAAI,CAAC,gBAAgB,KAAE,CAAC,CAAC;IAC3D,IAAI,CAAC,cAAc,WAAE,UAAU,WAAK,UAAU,CAAC,gBAAgB,KAAE,CAAC,CAAC;IACnE,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IAC/C,OAAO,IAAI,CAAC;EACf;oBACD,gCAAU,KAAK,EAAE;IACb,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,KAAK,CAAC;IAC/B,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IAC3C,OAAO,IAAI,CAAC;EACf;oBACD,4BAAQ,KAAK,EAAE;IACX,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,KAAK,CAAC;IAC7B,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IACzC,OAAO,IAAI,CAAC;EACf;;;;oBAID,4BAAgB;;;;uDAAC;IACb,cAAO,MAAK,yBAAmB,MAAI,IAAI,CAAC;SACnC,KAAK,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;EAC1C;;;;oBAID,kCAAmB;;;;uDAAC;IAChB,cAAO,MAAK,4BAAsB,MAAI,IAAI,CAAC;SACtC,KAAK,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;EAC1C;oBACD,8BAAiB;;;;uDAAC;IACd,OAAO,IAAI,CAAC,KAAK,CAAC,aAAa,QAAC,MAAK,YAAM,MAAI,IAAI,CAAC,CAAC,CAAC;EACzD;;;;;oBAKD,sDAA6B;;;;IACzB,OAAO,IAAI,IAAI,EAAE,CAAC;EACrB;oBACD,4DAAgC;;;;IAC5B,OAAO,IAAI,CAAC,mBAAmB,EAAE,CAAC,SAAS,CAAC,IAAI,OAAO,EAAE,CAAC,CAAC;EAC9D;;;;;;oBAMD,8BAAS,QAAQ,EAAE;IACf,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,IAAI,CAAC,OAAO,EAAE,EAAE,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,CAAC;;;qEAEtG;;AC3UD;;;;;AAKA,IAAM,UAAU,GACZ,mBAAW,CAAC,IAAS,EAAE;+BAAP,GAAG;;IACf,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;IAEjBA,IAAM,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;IACtB,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;QACxBD,IAAM,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACpB,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;KAChD;;;6DACJ;qBACD,4BAAQ,GAAG,EAAE;IACTA,IAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IACnC,IAAI,GAAG,KAAK,CAAC,CAAC,EAAE;QACZ,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;KAC5B;EACJ;AACDI,qBAAI,wBAAQ;IACR,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC;EAC1D;qBACD,4BAAQ,EAAE,EAAE;IACR,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;IACtB,OAAO,IAAI,CAAC;EACf;qBACD,8BAAU;IACN,OAAO,IAAI,CAAC,OAAO,WAAE,GAAG,WAAK,GAAG,CAAC,OAAO,KAAE,CAAC,CAAC;;;sEAEnD;;AC/BD;;;;;AAKA,AACA,IAAM,wBAAwB;;;;;;;;;uCAC1B,wCAAc,MAAM,EAAE;QAClB,OAAO,IAAI,CAAC,OAAO,WAAE,IAAI,WAAK,IAAI,CAAC,aAAa,CAAC,MAAM,IAAC,CAAC,CAAC;MAC7D;uCACD,wCAAc,KAAK,EAAE;QACjB,OAAO,IAAI,CAAC,OAAO,WAAE,IAAI,WAAK,IAAI,CAAC,aAAa,CAAC,KAAK,IAAC,CAAC,CAAC;MAC5D;uCACD,sCAAa,MAAM,EAAE;QACjB,OAAO,IAAI,CAAC,OAAO,WAAE,IAAI,WAAK,IAAI,CAAC,YAAY,CAAC,MAAM,IAAC,CAAC,CAAC;MAC5D;uCACD,8BAAS,KAAK,EAAE;QACZ,OAAO,IAAI,CAAC,OAAO,WAAE,IAAI,WAAK,IAAI,CAAC,QAAQ,CAAC,KAAK,IAAC,CAAC,CAAC;MACvD;uCACD,0BAAO,IAAI,EAAE;QACT,OAAO,IAAI,CAAC,OAAO,WAAE,IAAI,WAAK,IAAI,CAAC,MAAM,CAAC,IAAI,IAAC,CAAC,CAAC;MACpD;uCACD,wBAAM,MAAM,EAAE;QACV,OAAO,IAAI,CAAC,OAAO,WAAE,IAAI,WAAK,IAAI,CAAC,KAAK,CAAC,MAAM,IAAC,CAAC,CAAC;MACrD;uCACD,4BAAQ,MAAM,EAAE;QACZ,OAAO,IAAI,CAAC,OAAO,WAAE,IAAI,WAAK,IAAI,CAAC,OAAO,KAAE,CAAC,CAAC;;;;EApBf,aAsBtC;;AC5BD;;;;;AAKA,AAEA;;;;;;;;;;;;;AAaA,AAAOJ,IAAM,kCAAkC,GAAG,MAAM,CAAC,MAAM,CAAC;IAC5D,WAAW,EAAE,CAAC;IACd,cAAc,EAAE,EAAE;IAClB,sBAAsB,EAAE,EAAE;IAC1B,sBAAsB,EAAE,CAAC;IACzB,WAAW,EAAE,MAAM;IACnB,gBAAgB,EAAE,SAAS;IAC3B,YAAY,EAAE,CAAC;CAClB,EAAE,wBAAwB,CAAC,CAAC;;;;AAI7B,IAAM,iBAAiB;IAOnB,0BAAW,CAAC,KAAK,EAAE,UAAU,EAAE,MAAW,EAAE;;uCAAP,GAAG;;QACpCK,eAAK,OAAC,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,UAAU,CAAC,IAAI,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC;QAC/D,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE;YACvC,YAAY,EAAE,IAAI,MAAM,EAAE;YAC1B,aAAa,EAAE,IAAI,MAAM,EAAE;YAC3B,YAAY,EAAE,IAAI,MAAM,EAAE;YAC1B,iBAAiB,EAAE,IAAI,MAAM,EAAE;SAClC,CAAC,CAAC;;QAEH,UAAU,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,WAAE,CAAC,EAAK;YACvCE,MAAI,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;SACzC,CAAC,CAAC;QACH,UAAU,CAAC,OAAO,CAAC,aAAa,CAAC,GAAG,WAAE,MAAM,EAAK;YAC7CA,MAAI,CAAC,OAAO,CAAC,aAAa,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;SAC/C,CAAC,CAAC;QACH,UAAU,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,WAAE,CAAC,EAAK;YACvCA,MAAI,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;SACzC,CAAC,CAAC;;QAEH,IAAI,MAAM,CAAC,YAAY,KAAK,SAAS,EAAE;YACnC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;SACtC;;;;;;;wGACJ;IACD,mBAAI,oCAAoB,EAAE,OAAO,kCAAkC,CAAC,GAAE;;;;;IAKtE,mBAAI,uBAAO,EAAE,OAAO,YAAY,CAAC,GAAE;;;;;;gCAMnC,8BAAS,CAAC,EAAE;QACR,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;MAC/B;;;;;;gCAMD,wCAAc,MAAW,EAAE;uCAAP,GAAG;;QACnB,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QACtC,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;MACnD;gCACD,8BAAU;QACN,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;QAC1BF,oBAAK,CAAC,YAAO,KAAC,CAAC,CAAC;;;;;;EAxDQ,UA0D/B;;AC1FD;;;;;AAKe,IAAM,MAAM,GACvB,eAAW,CAAC,IAAI,EAAE,IAAI,EAAE;IACpB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACjB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;IACtB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;IAChB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;IAChB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;IACpB,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;;;4DACtB;AACDD,qBAAI,uBAAO,EAAE,OAAO,QAAQ,CAAC;;;;ACfjC;;;;;AAKA,AAIA,IAAM,aAAa,GACf,sBAAW,CAAC,MAAM,EAAE,MAAM,EAAE;;IAExB,IAAI,CAAC,CAAC,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC1B,IAAI,CAAC,CAAC,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC1B,IAAI,CAAC,CAAC,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC1B,IAAI,CAAC,CAAC,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC1B,IAAI,CAAC,EAAE,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3B,IAAI,CAAC,CAAC,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC1B,IAAI,CAAC,GAAG,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC5B,IAAI,CAAC,CAAC,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC1BH,IAAI,EAAE,CAAC;IACP,IAAI,MAAM,YAAY,SAAS,EAAE;QAC7B,EAAE,GAAG,MAAM,CAAC,SAAS,CAAC;KACzB;SACI,IAAI,MAAM,YAAY,YAAY,EAAE;QACrC,EAAE,GAAG,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;KAC1B;SACI;QACD,OAAO;KACV;IACDA,IAAI,EAAE,CAAC;IACP,IAAI,MAAM,YAAY,SAAS,EAAE;QAC7B,EAAE,GAAG,MAAM,CAAC,SAAS,CAAC;KACzB;SACI,IAAI,MAAM,YAAY,YAAY,EAAE;QACrC,EAAE,GAAG,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;KAC1B;SACI;QACD,OAAO;KACV;IACDD,IAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;IAC3BA,IAAM,OAAO,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACjCA,IAAM,OAAO,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACjC,IAAI,CAAC,QAAQ,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACjC,IAAI,CAAC,QAAQ,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACjC,IAAI,CAAC,oBAAoB,GAAG,IAAI,OAAO,EAAE,CAAC;IAC1C,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;;IAE9C,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,OAAO,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;IAC3C,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,OAAO,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;;IAE3C,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;EACrC;wBACD,kCAAW,OAAO,EAAE,OAAO,EAAE;IACzB,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC;IAC/B,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC;IAC/B,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IAC7B,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IAC7B,SAAS,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;IAClC,SAAS,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;IAClC,WAAW,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;IAClD,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;IACpC,SAAS,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;IAC3B,WAAW,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;IACrC,IAAI,iBAAiB,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,GAAG,EAAE;QACjC,IAAI,KAAK;cACL,GAAG,CAAC,GAAG,CAAC,6BAA6B,CAAC,GAAC;QAC3C,WAAW,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;QACvC,WAAW,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;KACzC;;IAEDA,IAAM,aAAa,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACvCA,IAAM,KAAK,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC/BA,IAAM,KAAK,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC/BA,IAAM,GAAG,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC7BA,IAAM,IAAI,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC9BA,IAAM,GAAG,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC7BA,IAAM,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC;IACtBA,IAAM,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;IACtBA,IAAM,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;IACtB,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACzB,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACf,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACf,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACjB,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QAC9B,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACnB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACnB,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACjB,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;QACxB,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;QACd,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;QACd,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACjB,SAAS,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;IACtB,WAAW,CAAC,aAAa,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;IACxC,SAAS,CAAC,KAAK,EAAE,aAAa,CAAC,CAAC;IAChC,WAAW,CAAC,KAAK,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;IAC/B,SAAS,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;IAChC,IAAI,CAAC,oBAAoB,CAAC,QAAQ,GAAG,aAAa,CAAC,IAAI,CAAC;EAC3D;wBACD,kCAAW,KAAK,EAAE,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE;IAChCC,IAAI,CAAC,GAAG,CAAC,CAAC;IACVD,IAAM,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC;IACvBC,IAAI,CAAC,GAAG,CAAC,CAAC;IACVA,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACd,IAAI,KAAK,EAAE;QACP,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACV,CAAC,GAAG,CAAC,CAAC;KACT;IACD,IAAI,KAAK,YAAY,SAAS,EAAE;QAC5B,KAAK,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE;YACxB,IAAI,CAAC,GAAG,CAAC,EAAE;gBACP,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBAChB,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBAChB,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBAChB,IAAI,KAAK;sBACL,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAC;gBAClB,CAAC,IAAI,CAAC,CAAC;aACV;SACJ,CAAC,CAAC;KACN;SACI,IAAI,KAAK,YAAY,YAAY,EAAE;QACpC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE;YAClB,IAAI,CAAC,GAAG,CAAC,EAAE;gBACP,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;gBACjB,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBACzB,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBACzB,IAAI,KAAK;sBACL,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAC;aACrB;SACJ;KACJ;SACI;QACD,GAAG,CAAC,IAAI,CAAC,gCAAgC,CAAC,CAAC;KAC9C;EACJ;wBACD,gCAAU,KAAK,EAAE;;IAEbA,IAAI,CAAC,CAAC;IACN,IAAI,KAAK,YAAY,SAAS,EAAE;QAC5B,CAAC,GAAG,KAAK,CAAC,SAAS,CAAC;KACvB;SACI,IAAI,KAAK,YAAY,YAAY,EAAE;QACpC,CAAC,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;KACxB;SACI;QACD,OAAO;KACV;IACDD,IAAM,MAAM,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAChCA,IAAM,OAAO,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;;IAEjC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,MAAM,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;;IAExCA,IAAM,SAAS,GAAG,IAAI,CAAC,oBAAoB,CAAC;IAC5CA,IAAM,GAAG,GAAG,SAAS,CAAC,WAAW,EAAE,CAAC;IACpC,IAAI,CAAC,GAAG,EAAE;QACN,OAAO,GAAG,CAAC;KACd;;IAEDA,IAAM,IAAI,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC9B,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC,QAAQ,CAAC;IAC/B,QAAQ,CAAC,OAAO,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;IAChCC,IAAI,CAAC,GAAG,CAAC,CAAC;IACVD,IAAM,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC;IACxB,IAAI,KAAK,YAAY,SAAS,EAAE;QAC5B,KAAK,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE;YACxB,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YACZ,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YAChB,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YAChB,CAAC,IAAI,CAAC,CAAC;SACV,CAAC,CAAC;;QAEHA,IAAM,cAAc,GAAG,IAAI,OAAO,EAAE,CAAC;QACrC,cAAc,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;QACrCA,IAAM,UAAU,GAAG,KAAK,CAAC,UAAU,CAAC;QACpC,KAAKC,IAAI,GAAG,IAAI,UAAU,EAAE;YACxB,IAAI,UAAU,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;gBAChCA,IAAI,QAAQ,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;gBAC/B,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE;oBACtC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;wBACnC,GAAG,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;wBAC3B,GAAG,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;qBAChC,CAAC,CAAC;iBACN,CAAC,CAAC;aACN;SACJ;KACJ;SACI,IAAI,KAAK,YAAY,YAAY,EAAE;QACpCD,IAAM,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;QACjB,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,EAAE;YACnB,KAAK,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YACjB,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACzB,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;SAC5B;KACJ;SACI;QACD,GAAG,CAAC,IAAI,CAAC,+BAA+B,CAAC,CAAC;KAC7C;IACD,OAAO,IAAI,CAAC,oBAAoB,CAAC;EAExC;;ACvMD;;;;;AAKA,AAEOA,IAAM,iCAAiC,GAAG;IAC7C,IAAI,EAAE,CAAC;IACP,OAAO,EAAE,EAAE;IACX,KAAK,EAAE,CAAC;IACR,GAAG,EAAE,CAAC;IACN,eAAe,EAAE,EAAE;IACnB,eAAe,EAAE,CAAC;IAClB,IAAI,EAAE,MAAM;IACZ,SAAS,EAAE,SAAS;CACvB,CAAC;;;;;;;AAOF,IAAM,gBAAgB,GAMlB,yBAAW,CAAC,IAAI,EAAE,MAAW,EAAE;;mCAAP,GAAG;;IACvB,IAAI,CAAC,OAAO,GAAG;QACX,cAAc,EAAE,IAAI,MAAM,EAAE;QAC5B,aAAa,EAAE,IAAI,MAAM,EAAE;KAC9B,CAAC;IACF,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;IAClB,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;IACvB,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;IACtB,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;IACtB,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,GAAG,WAAE,MAAM,EAAK;QACvC,IAAI,MAAM,KAAKO,MAAI,EAAE;YACjBA,MAAI,CAAC,KAAK,EAAE,CAAC;SAChB;KACJ,EAAE,IAAI,CAAC,CAAC;IACTP,IAAM,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;IACvC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACjB,IAAI,CAAC,UAAU,GAAG,YAAY,CAAC,MAAM,EAAE,iCAAiC,CAAC,CAAC;IAC1E,IAAI,CAAC,UAAU,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;IACnE,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;IACvE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;IAC3C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,KAAK,QAAQ,GAAG,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC;IACjG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,WAAE,CAAC,EAAK;QACjCO,MAAI,CAAC,UAAU,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,CAACA,MAAI,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;KAC/E,EAAE,IAAI,CAAC,CAAC;IACT,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;;iEAC5C;AACDH,qBAAI,4BAAY,EAAE,OAAO,IAAI,CAAC,IAAI,CAAC,GAAE;;;;;2BAKrC,wCAAc,MAAW,EAAE;uCAAP,GAAG;;IACnB,YAAY,CAAC,IAAI,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;IACtC,IAAI,MAAM,CAAC,SAAS,KAAK,SAAS,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,KAAK,QAAQ,EAAE;QAC1E,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC;KAC/C;EACJ;2BACD,gCAAW;IACP,IAAI,CAAC,IAAI,CAAC,IAAI;UACV,SAAO;IACX,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;IAC7CJ,IAAM,EAAE,GAAG,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC;IAClDA,IAAM,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,CAAC,CAAC;IACnFA,IAAM,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC;IAC/CA,IAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;IACvB,IAAI,IAAI,IAAI,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE,IAAI,OAAO,EAAE;QAC9D,IAAI,IAAI,CAAC,UAAU,CAAC,eAAe,EAAE;YACjC,IAAI,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,EAAE;gBACrD,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;aACzB;YACD,IAAI,IAAI,CAAC,YAAY,KAAK,CAAC,EAAE;gBACzB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;aACjD;YACD,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE;gBACnC,IAAI,CAAC,YAAY,IAAI,CAAC,CAAC;gBACvBA,IAAM,CAAC,GAAG,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,CAAC,CAAC,CAAC;uBAC5C,GAAG,IAAI,CAAC;oBAAzB;oBAAG;oBAAI;oBAAK,kBAA2B;gBAC9C,IAAI,CAAC,oBAAoB,CAAC,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC;gBAChF,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC;aAC1C;iBACI;gBACD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;aACtC;SACJ;aACI;YACDA,IAAMc,GAAC,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC;YACvB,IAAI,IAAI,CAAC,QAAQ,CAACA,GAAC,CAAC,EAAE;gBAClB,IAAI,CAAC,QAAQ,CAACA,GAAC,CAAC,CAAC;gBACjB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC;aAC1C;iBACI;gBACD,IAAI,CAAC,SAAS,CAACA,GAAC,CAAC,CAAC;aACrB;SACJ;KACJ;IACD,MAAM,CAAC,qBAAqB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;EAC/C;2BACD,0BAAQ;IACJd,IAAM,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC;IAC1BC,IAAI,CAAC,CAAC;IACN,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS,EAAE;QAC/B,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,IAAI,CAAC;KACvC;SACI;QACD,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,IAAI,CAAC;KACvC;IACD,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE;QAC1B,IAAI,CAAC,CAAC,SAAS,KAAK,QAAQ,EAAE;YAC1B,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS,EAAE;gBAC/B,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;aAChC;iBACI;gBACD,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;aAC/B;SACJ;QACD,IAAI,CAAC,CAAC,IAAI,KAAK,MAAM,EAAE;YACnB,IAAI,CAAC,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,CAAC,SAAS,KAAK,SAAS,EAAE;gBAC3B,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;aACb;iBACI,IAAI,CAAC,CAAC,SAAS,KAAK,UAAU,EAAE;gBACjC,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC;aACf;iBACI;gBACD,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS,EAAE;oBAC/B,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC;iBACf;qBACI;oBACD,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;iBACb;aACJ;SACJ;aACI;YACD,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS,EAAE;gBAC/B,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC;gBACZ,IAAI,CAAC,CAAC,eAAe,EAAE;oBACnB,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;iBACnC;aACJ;iBACI;gBACD,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;gBACV,IAAI,CAAC,CAAC,eAAe,EAAE;oBACnB,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;iBACrC;aACJ;SACJ;KACJ;IACD,OAAO,CAAC,CAAC;EACZ;2BACD,kDAAoB;IAChBD,IAAM,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC;IAC1BA,IAAM,CAAC,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC;IACvBC,IAAI,EAAE,EAAE,GAAG,EAAE,IAAI,CAAC;IAClB,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS,EAAE;QAC/B,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;QACnC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;QACxC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;KAC5C;SACI;QACD,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;QACjC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;QACtC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;KAC1C;IACD,OAAO,CAAC,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;EAC7B;;;;;2BAKD,4BAAS;IACL,IAAI,IAAI,CAAC,IAAI,EAAE;QACX,IAAI,CAAC,KAAK,EAAE,CAAC;KAChB;SACI;QACD,IAAI,CAAC,IAAI,EAAE,CAAC;KACf;EACJ;;;;;2BAKD,wBAAO;IACH,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;QACZ,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,KAAK,IAAI,EAAE;YAC3B,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;SAC7B;QACD,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;QACtBD,IAAM,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC;QAC1BA,IAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC;;;QAGrCC,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;;QAE3C,IAAI,CAAC,CAAC,SAAS,KAAK,SAAS,IAAI,KAAK,IAAI,CAAC,CAAC,GAAG,EAAE;YAC7C,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC;SACf;aACI,IAAI,CAAC,CAAC,SAAS,KAAK,UAAU,IAAI,KAAK,IAAI,CAAC,CAAC,KAAK,EAAE;YACrD,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;SACb;QACD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QACtB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC;KAC1C;EACJ;;;;;2BAKD,0BAAQ;IACJ,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;IAClB,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;EACzC;;;;;2BAKD,wBAAO;IACH,IAAI,CAAC,KAAK,EAAE,CAAC;IACb,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;;;4EAEjD;;ACtOD;;;;;AAKA,AAQA,SAAS,SAAS,CAAC,MAAM,EAAE,IAAI,EAAE,GAAG,EAAE;IAClC,IAAI,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE;QAC9C,OAAO;KACV;IACDD,IAAM,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC;IACxBA,IAAM,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;IAClBA,IAAM,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;IAClBA,IAAM,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;IAClBA,IAAM,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;IACnBA,IAAM,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;IACnBA,IAAM,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;IACnBA,IAAM,EAAE,GAAG,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;IAC7BA,IAAM,EAAE,GAAG,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;IAC7BA,IAAM,EAAE,GAAG,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;IAC7B,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE;QAC3B,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC;QAC1C,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC;QAC1C,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC;KAC7C;CACJ;AACD,SAAS,SAAS,CAAC,CAAC,EAAE,GAAG,EAAE;IACvB,IAAI,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE;QAC9C,OAAO;KACV;;;IAGDD,IAAM,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC;IACnB,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE;QAC3B,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;YACxBD,IAAM,IAAI,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;YACrC,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;gBACvC,IAAI,IAAI,GAAG,CAAC,EAAE;oBACV,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;wBACxB,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;qBAC9B;iBACJ;qBACI;oBACD,KAAKA,IAAIqD,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAG,CAAC,EAAE,EAAEA,GAAC,EAAE;wBACxB,CAAC,CAAC,CAAC,GAAGA,GAAC,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,GAAGA,GAAC,CAAC,CAAC;qBAC9B;iBACJ;aACJ;SACJ;KACJ;IACD,OAAO,CAAC,CAAC;CACZ;AACD,SAAS,iBAAiB,CAAC,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE;IACrC,IAAI,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE;QAC9C,OAAO;KACV;IACDtD,IAAM,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC;IACnB,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE;QAC3B,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;YACxBD,IAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;YAChD,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,EAAE;gBACnB,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;aAC9C;SACJ;KACJ;IACD,OAAO,CAAC,CAAC;CACZ;AACD,SAAS,aAAa,CAAC,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE;IACzC,OAAO;QACH,YAAY,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,OAAO,CAAC;QAC3C,YAAY,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,OAAO,CAAC;QAC3C,YAAY,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,OAAO,CAAC;KAC9C,CAAC;CACL;AACD,SAAS,UAAU,CAAC,MAAM,EAAE;IACxB,OAAO;QACH,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;QACvB,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;QACvB,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;KAC1B,CAAC;CACL;AACD,SAAS,iBAAiB,CAAC,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,EAAE;IAC5CA,IAAM,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC;IACnBA,IAAM,MAAM,GAAG,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;IACnC,KAAKC,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE;QAC9BD,IAAM,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;QAClBA,IAAM,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;QAClB,MAAM,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC5D,MAAM,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC5D,MAAM,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;KAC/D;IACD,OAAO,MAAM,CAAC;CACjB;AACD,SAAS,eAAe,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE;IAC/BA,IAAM,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC;IACnBA,IAAM,MAAM,GAAG,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;IACnC,KAAKC,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE;QAC9BD,IAAM,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;QAClBA,IAAM,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;QAClB,MAAM,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACpC,MAAM,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACpC,MAAM,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;KACvC;IACD,OAAO,MAAM,CAAC;CACjB;;;;;AAKD,IAAM,UAAU,GAMZ,mBAAW,CAAC,QAAQ,EAAE,SAAS,EAAE,MAAW,EAAE;;mCAAP,GAAG;;IACtC,IAAI,CAAC,OAAO,GAAG;QACX,YAAY,EAAE,IAAI,MAAM,EAAE;QAC1B,YAAY,EAAE,IAAI,MAAM,EAAE;QAC1B,aAAa,EAAE,IAAI,MAAM,EAAE;KAC9B,CAAC;IACF,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;IACrB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IACpB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;IACnB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IACpB,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;IACxB,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;IACrB,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,CAAC;IACxB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IACvB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;IAC/C,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;IACjD,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;IACnD,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;IACnD,IAAI,CAAC,iBAAiB,GAAG,QAAQ,CAAC,MAAM,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;IACnE,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;IACnD,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;IAC7C,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IACzB,IAAI,CAAC,SAAS,GAAG,IAAI,SAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,2BAA2B,CAAC,CAAC,CAAC;IACnF,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,aAAa,CAAC,GAAG,aAAO;QAC3CO,MAAI,CAAC,gBAAgB,GAAGA,MAAI,CAAC,SAAS,CAAC,cAAc,CAACA,MAAI,CAAC,SAAS,CAAC,CAAC;QACtEA,MAAI,CAAC,WAAW,EAAE,CAAC;QACnBA,MAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1BA,MAAI,CAAC,QAAQ,CAACA,MAAI,CAAC,aAAa,CAAC,CAAC;KACrC,CAAC,CAAC;;;uGACN;;;;AAIDH,qBAAI,6BAAa;IACb,OAAO,IAAI,CAAC,WAAW,CAAC;EAC3B;;;;AAIDA,qBAAI,+BAAe;IACf,OAAO,IAAI,CAAC,aAAa,CAAC;EAC7B;qBACD,wBAAM,SAAS,EAAE;IACb,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;IAC7B,IAAI,CAAC,eAAe,EAAE,CAAC;IACvB,IAAI,CAAC,SAAS,CAAC,IAAI,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC;EAC9C;qBACD,8CAAkB,IAAG;qBACrB,sCAAa,SAAS,EAAE;IACpB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;IAC3B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC;IACrC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,SAAS,CAAC,2BAA2B,CAAC,CAAC,CAAC;IACpF,IAAI,CAAC,gBAAgB,EAAE,CAAC;IACxB,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAC5B,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IACzD,IAAI,CAAC,WAAW,EAAE,CAAC;IACnB,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC1B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;EACrC;qBACD,oDAAqB;;;IACjB,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,EAAE;QAC5B,IAAI,CAAC,aAAa,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QAC5D,IAAI,CAAC,oBAAoB,EAAE,CAAC;KAC/B;SACI,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE;QACzB,IAAI,CAAC,aAAa,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1D,IAAI,CAAC,oBAAoB,EAAE,CAAC;KAC/B;SACI;QACD,IAAI,CAAC,SAAS,CAAC,CAAC,uBAAQG,MAAI,CAAC,kBAAkB,KAAE,CAAC,CAAC;KACtD;EACJ;qBACD,wDAAuB;IACnBP,IAAM,CAAC,GAAG,EAAE,IAAI,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE,CAAC;IACvC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;EACjE;qBACD,sCAAa,MAAM,EAAE;IACjB,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;IACjC,OAAO,IAAI,CAAC;EACf;qBACD,oCAAY,SAAS,EAAE;IACnBC,IAAI,CAAC,GAAG,CAAC,CAAC;IACVD,IAAM,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC;IAC5BA,IAAM,OAAO,GAAG,EAAE,CAAC;IACnB,IAAI,IAAI,EAAE;QACN,IAAI,CAAC,SAAS,CAAC,QAAQ,WAAE,EAAE,EAAK;YAC5B,IAAI,IAAI,CAAC,EAAE,CAAC;kBACR,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,GAAC;YACpB,CAAC,IAAI,CAAC,CAAC;SACV,CAAC,CAAC;KACN;IACD,OAAO,OAAO,CAAC;EAClB;qBACD,wDAAuB;IACnBA,IAAM,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,CAAC;IAC3C,IAAI,CAAC,OAAO,GAAG,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;IACnC,IAAI,CAAC,OAAO,GAAG,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;IACnCA,IAAM,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC;IAC7BA,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;IAC7B,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE;QAC3BD,IAAM,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;QAC3C,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QAC1B,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QAC1B,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;KAC7B;EACJ;qBACD,gDAAmB;IACf,GAAG,CAAC,KAAK,CAAC,6CAA6C,CAAC,CAAC;EAC5D;qBACD,sCAAc;IACV,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;IACrB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IACpB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;IACnB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IACpB,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;IACxB,IAAI,CAAC,aAAa,GAAG,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;EAC5C;qBACD,wCAAc,MAAW,EAAE;uCAAP,GAAG;;IACnBC,IAAI,UAAU,GAAG,KAAK,CAAC;IACvB,IAAI,MAAM,CAAC,SAAS,KAAK,SAAS,IAAI,MAAM,CAAC,SAAS,KAAK,IAAI,CAAC,SAAS,EAAE;QACvE,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC;QAClC,UAAU,GAAG,IAAI,CAAC;KACrB;IACD,IAAI,MAAM,CAAC,iBAAiB,KAAK,SAAS,IAAI,MAAM,CAAC,iBAAiB,KAAK,IAAI,CAAC,iBAAiB,EAAE;QAC/F,IAAI,CAAC,iBAAiB,GAAG,MAAM,CAAC,iBAAiB,CAAC;QAClD,UAAU,GAAG,IAAI,CAAC;KACrB;IACD,IAAI,MAAM,CAAC,SAAS,KAAK,SAAS,IAAI,MAAM,CAAC,SAAS,KAAK,IAAI,CAAC,SAAS,EAAE;QACvE,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC;QAClC,UAAU,GAAG,IAAI,CAAC;KACrB;IACD,IAAI,MAAM,CAAC,SAAS,KAAK,SAAS,IAAI,MAAM,CAAC,SAAS,KAAK,IAAI,CAAC,SAAS,EAAE;QACvE,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC;QAClC,UAAU,GAAG,IAAI,CAAC;KACrB;IACD,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;IAC5D,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;IAC/D,IAAI,UAAU,EAAE;QACZ,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;KACrC;EACJ;;;;;;qBAMD,8BAAS,CAAC,EAAE;;;IACR,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;QAClB,OAAO,CAAC,CAAC,KAAK,WAAC,YAAK,CAAC,CAACM,MAAI,CAAC,UAAU,CAAC,CAAC,IAAC,CAAC,CAAC;KAC7C;SACI;QACD,OAAO,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;KAC/B;EACJ;;;;;;qBAMD,8BAAS,CAAC,EAAE,QAAQ,EAAE;;;IAClB,IAAI,CAAC,KAAK,SAAS;UACf,OAAO,IAAI,GAAC;IAChB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;;IAEvB,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE;QAChC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;QACzB,IAAI,QAAQ;cACR,QAAQ,EAAE,GAAC;KAClB;SACI;QACD,IAAI,CAAC,SAAS,CAAC,CAAC,cAAQ;YACpBA,MAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;YACzB,IAAI,QAAQ;kBACR,QAAQ,EAAE,GAAC;SAClB,CAAC,CAAC;KACN;IACD,OAAO,IAAI,CAAC;EACf;qBACD,sCAAa,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE;IACpCP,IAAM,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC;IAC3BC,IAAI,MAAM,CAAC;IACX,IAAI,IAAI,KAAK,QAAQ,EAAE;QACnB,MAAM,GAAG,iBAAiB,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;KACnE;SACI;QACD,MAAM,GAAG,eAAe,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;KAC9C;IACD,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;IACtC,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;IACvB,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;EACzC;;;;;;;;;;;qBAWD,sDAAqB,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE;;;IACtD,IAAI,CAAC,KAAK,SAAS;UACf,OAAO,IAAI,GAAC;IAChBD,IAAM,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC;IAC3BA,IAAM,KAAK,GAAG,EAAE,CAAC;IACjB,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC;UACT,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,GAAC;IACrB,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC;UACR,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,GAAC;IACpB,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC;UACP,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,GAAC;IACnB,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;UACN,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,GAAC;IAClB,IAAI,KAAK,CAAC,MAAM,EAAE;QACd,IAAI,CAAC,SAAS,CAAC,KAAK,cAAQ;YACxBO,MAAI,CAAC,YAAY,CAAC,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;YAC7C,IAAI,QAAQ;kBACR,QAAQ,EAAE,GAAC;SAClB,CAAC,CAAC;KACN;SACI;QACD,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;QAC7C,IAAI,QAAQ;cACR,QAAQ,EAAE,GAAC;KAClB;IACD,OAAO,IAAI,CAAC;EACf;;;;;;qBAMD,gCAAU,CAAC,EAAE,QAAQ,EAAE;;;IACnB,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;QAClB,CAAC,CAAC,OAAO,WAAC,GAAK;YACX,IAAI,CAACA,MAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAACA,MAAI,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE;gBAC3CA,MAAI,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;gBACzBA,MAAI,CAAC,UAAU,CAAC,CAAC,cAAQ;oBACrB,OAAOA,MAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;iBAC5B,CAAC,CAAC;aACN;SACJ,CAAC,CAAC;KACN;SACI;QACD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE;YAC3C,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;YACzB,IAAI,CAAC,UAAU,CAAC,CAAC,cAAQ;gBACrB,OAAOA,MAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gBACzB,IAAI,QAAQ;sBACR,QAAQ,EAAE,GAAC;aAClB,CAAC,CAAC;SACN;KACJ;EACJ;;;;;;;qBAOD,kCAAW,CAAC,EAAE,QAAQ,EAAE;IACpB,GAAG,CAAC,KAAK,CAAC,uCAAuC,EAAE,CAAC,EAAE,QAAQ,CAAC,CAAC;EACnE;qBACD,8CAAiB,CAAC,EAAE;IAChB,IAAI,IAAI,CAAC,SAAS,EAAE;QAChB,OAAO,CAAC,KAAK,CAAC,gCAAgC,CAAC,CAAC;QAChD,OAAO;KACV;IACD,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;QACV,IAAI,IAAI,CAAC,eAAe,EAAE;YACtB,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;SACvD;KACJ;SACI;QACD,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;KACrD;IACD,IAAI,CAAC,SAAS,CAAC,UAAU,GAAG;QACxB,IAAI,EAAE,IAAI,CAAC,QAAQ;QACnB,KAAK,EAAE,CAAC;KACX,CAAC;IACF,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;IACvB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;IACxB,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;EACzC;qBACD,sCAAa,CAAC,EAAE;IACZP,IAAM,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,CAAC;IAC3CA,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;IAC7BA,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;IAC7B,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE;QAC3BD,IAAM,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;QAC3C,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QAC1B,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QAC1B,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;KAC7B;;IAEDA,IAAM,EAAE,GAAG,IAAI,aAAa,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;IAC/C,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;EACnB;qBACD,8BAAS,CAAC,EAAE,GAAG,EAAE,MAAM,EAAE,UAAU,EAAE;IACjC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;IAChC,IAAI,GAAG,EAAE;QACL,IAAI,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,SAAS,EAAE;YACnDA,IAAM,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YACtCA,IAAM,QAAQ,GAAG,aAAa,CAAC,IAAI,CAAC,eAAe,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;YACnE,SAAS,CAAC,MAAM,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;SACrC;QACD,IAAI,IAAI,CAAC,iBAAiB,EAAE;YACxBA,IAAM,IAAI,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC;YAChC,iBAAiB,CAAC,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SACxC;QACD,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,SAAS,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;SAC1B;KACJ;IACD,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,SAAS,EAAE;QACpE,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;KAC7B;IACD,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC;IAC5B,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;IACvB,IAAI,CAAC,cAAc,IAAI,CAAC,CAAC;EAC5B;qBACD,0CAAe,CAAC,EAAE;IACd,IAAI,CAAC,KAAK,IAAI,CAAC,WAAW,EAAE;QACxB,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;QACrB,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;KACzC;EACJ;;;;;qBAKD,8BAAU;IACN,IAAI,CAAC,WAAW,EAAE,CAAC;IACnB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IACtB,IAAI,IAAI,CAAC,MAAM;UACX,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,GAAC;EAC1B;;;;;qBAKD,gCAAU,MAAM,EAAE;IACd,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACrB,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;EAC/C;;;;;;qBAMD,sCAAa,CAAC,EAAE;IACZ,OAAO,IAAI,CAAC,UAAU,GAAG,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC;;;sEAEnD;;AC7dD;;;;;AAKA,AAEA;;;AAGA,IAAM,gBAAgB;IAClB,yBAAW,CAAC,MAAM,EAAE,SAAS,EAAE,MAAM,EAAE;QACnCA,IAAM,CAAC,GAAG,MAAM,IAAI,EAAE,CAAC;QACvB,CAAC,CAAC,UAAU,GAAG,QAAQ,CAAC,CAAC,CAAC,UAAU,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;QACzD,CAAC,CAAC,SAAS,GAAG,QAAQ,CAAC,CAAC,CAAC,SAAS,EAAE,MAAM,CAAC,SAAS,CAAC,CAAC;QACtDK,kBAAK,OAAC,EAAE,EAAE,SAAS,EAAE,CAAC,CAAC,CAAC;QACxB,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;QACxB,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;QACxB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,WAAW,CAAC;QACjC,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;QAC1B,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;;;;;;;8DACzB;IACD,mBAAI,uBAAO,EAAE,OAAO,QAAQ,CAAC,GAAE;+BAC/B,gDAAmB;QACf,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,KAAK,eAAe,EAAE;YACzC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,cAAc,EAAE,CAAC;SACtD;aACI;YACD,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC;SAChC;MACJ;+BACD,kCAAW,CAAC,EAAE,QAAQ,EAAE;QACpBJ,IAAI,MAAM,CAAC;QACXD,IAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QAC7B,IAAI,IAAI,CAAC,WAAW,EAAE;YAClBA,IAAM,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC;YACjCA,IAAM,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;YACzB,MAAM,GAAG,IAAI,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACjC,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;gBACxBD,IAAM,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjBA,IAAM,IAAI,GAAG,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;gBAC5B,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;gBACjC,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;gBACjC,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;aACpC;SACJ;aACI;YACD,MAAM,GAAG,IAAI,YAAY,CAAC,KAAK,CAAC,CAAC;SACpC;QACDA,IAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAC1BA,IAAM,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;QACtC,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;QAC1C,IAAI,OAAO,QAAQ,KAAK,UAAU,EAAE;YAChC,QAAQ,EAAE,CAAC;SACd;MACJ;+BACD,8CAAkB;QACd,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;SAC3C;;;;;;EAjDsB,aAmD9B;;AC7DD;;;;;AAKA,AACA;;;AAGA,IAAM,mBAAmB;IACrB,4BAAW,CAAC,QAAQ,EAAE,SAAS,EAAE,MAAM,EAAE;QACrCK,kBAAK,OAAC,EAAE,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;QAC7B,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;;;;;;;8DACzB;IACD,mBAAI,uBAAO,EAAE,OAAO,WAAW,CAAC,GAAE;kCAClC,gDAAmB;QACf,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,KAAK,EAAE;YAC7F,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,cAAc,EAAE,CAAC;SACtD;aACI;YACD,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC;SAChC;MACJ;kCACD,kCAAW,CAAC,EAAE,QAAQ,EAAE;QACpBJ,IAAI,MAAM,CAAC;QACXD,IAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QACjCA,IAAM,KAAK,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QAClC,IAAI,IAAI,CAAC,WAAW,EAAE;YAClBA,IAAM,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC;YACjCA,IAAM,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;YACzB,MAAM,GAAG,IAAI,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACjC,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;gBACxBD,IAAM,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjBA,IAAM,IAAI,GAAG,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;gBAC5B,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;gBACjC,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;gBACjC,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;aACpC;SACJ;aACI;YACD,MAAM,GAAG,IAAI,YAAY,CAAC,KAAK,CAAC,CAAC;SACpC;QACDA,IAAM,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAC/BA,IAAM,UAAU,GAAG,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC;QAC3C,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;QAC1C,IAAI,OAAO,QAAQ,KAAK,UAAU,EAAE;YAChC,QAAQ,EAAE,CAAC;SACd;MACJ;kCACD,8CAAkB;QACd,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;;;;;;EAzCxB,aA2CjC;;ACpDD;;;;;AAKA,AAEA;;;AAGA,IAAM,gBAAgB;IAClB,yBAAW,CAAC,QAAQ,EAAE,SAAS,EAAE,MAAM,EAAE;QACrCK,kBAAK,OAAC,QAAQ,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;QACnC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;;;;;;;8DACzB;IACD,mBAAI,uBAAO,EAAE,OAAO,QAAQ,CAAC,GAAE;+BAC/B,gDAAmB;QACfL,IAAM,WAAW,GAAG,EAAE,CAAC;QACvB,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,KAAK,eAAe,EAAE;YACzCA,IAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,cAAc,EAAE,CAAC;YAChDA,IAAM,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;YACzBC,IAAI,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;YACnBA,IAAI,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;YACnB,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;gBACxBD,IAAM,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;gBACrB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;oBACX,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;oBAC7B,CAAC,GAAG,CAAC,CAAC;iBACT;gBACD,CAAC,GAAG,CAAC,CAAC;aACT;YACD,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;SAChC;aACI;YACD,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;SACzC;QACD,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;MAClC;+BACD,kCAAW,CAAC,EAAE,QAAQ,EAAE;;;;QAEpBA,IAAM,OAAO,GAAG,IAAI,cAAc,EAAE,CAAC;QACrCA,IAAM,GAAG,GAAG,oBAAoB,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;QAC/DA,IAAM,MAAM,GAAG,oBAAoB,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACpF,OAAO,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;QAChC,OAAO,CAAC,YAAY,GAAG,aAAa,CAAC;QACrC,OAAO,CAAC,gBAAgB,CAAC,cAAc,EAAE,mCAAmC,CAAC,CAAC;QAC9E,OAAO,CAAC,gBAAgB,CAAC,MAAM,cAAQ;YACnCA,IAAM,WAAW,GAAG,OAAO,CAAC,QAAQ,CAAC;YACrC,IAAI,CAAC,WAAW,EAAE;gBACd,GAAG,CAAC,KAAK,8BAA2B,GAAG,QAAI,CAAC;gBAC5C,OAAO;aACV;YACDA,IAAM,UAAU,GAAG,IAAI,UAAU,CAAC,WAAW,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;YAExDA,IAAM,GAAG,GAAG,IAAI,YAAY,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;YACpDA,IAAM,MAAM,GAAG,IAAI,YAAY,CAAC,WAAW,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC;YACrDO,MAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;YAC1C,IAAI,OAAO,QAAQ,KAAK,UAAU,EAAE;gBAChC,QAAQ,EAAE,CAAC;aACd;SACJ,EAAE,KAAK,CAAC,CAAC;QACV,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;MACxB;+BACD,8CAAkB;;;QACdP,IAAM,OAAO,GAAG,IAAI,cAAc,EAAE,CAAC;QACrCA,IAAM,GAAG,GAAG,oBAAoB,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC5D,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;QAC/B,OAAO,CAAC,gBAAgB,CAAC,MAAM,cAAQ;YACnCO,MAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;SACnD,EAAE,KAAK,CAAC,CAAC;QACV,OAAO,CAAC,IAAI,EAAE,CAAC;;;;;;EA5DQ,aA8D9B;;ACxED;;;;;AAKA,AAIO,SAAS,cAAc,CAAC,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE;IACvDN,IAAI,IAAI,CAAC;IACT,IAAI,OAAO,IAAI,OAAO,YAAY,MAAM,EAAE;QACtC,IAAI,GAAG,IAAI,gBAAgB,CAAC,OAAO,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;KAC3D;SACI,IAAI,CAAC,OAAO,IAAI,SAAS,CAAC,MAAM,EAAE;QACnC,IAAI,GAAG,IAAI,mBAAmB,CAAC,OAAO,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;KAC9D;SACI;QACD,IAAI,GAAG,IAAI,gBAAgB,CAAC,OAAO,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;KAC3D;IACD,OAAO,IAAI,CAAC;CACf;;ACrBD;;;;;AAKA,AAKA;;;;;AAKA,SAAS,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,SAAS,EAAE;;IAE/C,OAAO,IAAI,aAAa,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;CAC7C,CAAC;;;;AAIF,IAAM,aAAa;IAKf,sBAAW,CAAC,SAAS,EAAE,SAAS,EAAE;QAC9BI,iBAAK,KAAC,CAAC,CAAC;QACR,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,MAAM,GAAG,IAAI,OAAO,EAAE,CAAC;QAC5B,IAAI,CAAC,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC;QAC9B,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC/B,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC/B,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;QAClC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;QAChC,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;SAChE;QACD,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QACzD,IAAI,CAAC,OAAO,EAAE,CAAC;;;;;;;m2BAClB;4BACD,wBAAO,IAAG;IACV,mBAAI,uBAAO,EAAE,OAAO,eAAe,CAAC,GAAE;IACtC,mBAAI,uBAAO,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAE;IAC1C,mBAAI,uBAAO,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAE;IAC1C,mBAAI,wBAAQ,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAE;IAC5C,mBAAI,qBAAK,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,GAAE;IACtC,mBAAI,uBAAO,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAE;IAC1C,mBAAI,8BAAc,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,GAAE;IACxD,mBAAI,6BAAa,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,GAAE;IACtD,mBAAI,6BAAa,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,GAAE;IACtD,mBAAI,2BAAW,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAE;IAClD,mBAAI,yBAAS,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAE;IAC9C,mBAAI,wBAAQ,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAE;IAC5C,mBAAI,6BAAa,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,GAAE;IACtD,mBAAI,4BAAY,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,GAAE;IACpD,mBAAI,oCAAoB,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,GAAE;IACpE,mBAAI,gCAAgB,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,GAAE;IAC5D,mBAAI,4BAAY,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,GAAE;IACpD,mBAAI,+BAAe,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,GAAE;IAC1D,mBAAI,6BAAa,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,GAAE;IACtD,mBAAI,6BAAa,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,GAAE;IACtD,mBAAI,0BAAU,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,GAAE;IAChD,mBAAI,6BAAa,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,GAAE;IACtD,mBAAI,2BAAW,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAE;IAClD,mBAAI,8BAAc,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,GAAE;IACxD,mBAAI,6BAAa,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,GAAE;IACtD,mBAAI,2BAAW,KAAK,EAAE,EAAE,IAAI,CAAC,SAAS,CAAC,UAAU,GAAG,KAAK,CAAC,GAAE;;;;;;4BAM5D,8BAAU;QACN,IAAI,KAAK;cACL,GAAG,CAAC,IAAI,CAAC,uBAAuB,CAAC,GAAC;QACtC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvBL,IAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QACjC,IAAI,IAAI,CAAC,SAAS,CAAC,cAAc,EAAE;YAC/B,SAAS,KAAK,IAAI,IAAI,SAAS,CAAC,OAAO,IAAI,SAAS,CAAC,OAAO,EAAE;YAC9D,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;YACzC,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;YACzC,KAAKC,IAAI,IAAI,IAAI,IAAI,CAAC,WAAW,EAAE;gBAC/BD,IAAM,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;gBACvC,IAAI,CAAC,YAAY,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,OAAO,CAAC,KAAK,EAAE,CAAC;aACpD;YACD,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC;YACrC,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC;YACrC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;YAC7C,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;SACtC;aACI,IAAI,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE;YACrC,SAAS,KAAK,IAAI,IAAI,SAAS,CAAC,OAAO,IAAI,SAAS,CAAC,OAAO,EAAE;YAC9D,IAAI,CAAC,OAAO,GAAG,IAAI,QAAQ,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;YACjD,IAAI,CAAC,OAAO,GAAG,IAAI,QAAQ,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;YACjD,KAAKC,IAAIsD,MAAI,IAAI,IAAI,CAAC,WAAW,EAAE;gBAC/B,IAAI,CAAC,YAAY,CAAC,IAAI,GAAGA,MAAI,CAAC,GAAG,IAAI,QAAQ,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;aACtE;YACD,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;YACnB,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;YACnB,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;YAC7B,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;SAC5B;aACI;YACD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;YACrD,IAAI,SAAS,CAAC,OAAO,EAAE;gBACnB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;aAC/D;YACD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;YACjC,KAAKtD,IAAIsD,MAAI,IAAI,IAAI,CAAC,WAAW,EAAE;gBAC/BvD,IAAMwD,SAAO,GAAG,IAAI,CAAC,WAAW,CAACD,MAAI,CAAC,CAAC;gBACvC,IAAI,CAAC,YAAY,CAAC,IAAI,GAAGA,MAAI,CAAC,GAAGC,SAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aAC3E;YACD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;YACxC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;YACxC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;YACzC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,OAAO,EAAE,CAAC,CAAC;SAC3D;QACD,IAAI,KAAK;cACL,GAAG,CAAC,OAAO,CAAC,uBAAuB,CAAC,GAAC;QACzC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;MACrC;;4BAED,sCAAa,SAAS,EAAE;QACpB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,OAAO,EAAE,CAAC;MAClB;4BACD,sCAAa,SAAS,EAAE;QACpBxD,IAAM,QAAQ,GAAG,EAAE,CAAC;QACpB,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,EAAE;YAC/B,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;SACnC;QACDA,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;QACtD,IAAI,eAAe,IAAI,eAAe,CAAC,MAAM,EAAE;YAC3C,QAAQ,CAAC,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;SACzC;QACD,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;YACzC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;SACxC;QACDC,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YACrB,IAAI,GAAG,QAAK,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAC,OAAI,CAAC;SAC9C;QACD,OAAO,IAAI,SAAS,CAAC,IAAI,CAAC,CAAC;MAC9B;4BACD,wCAAe;QACX,OAAO,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;MACxC;;4BAED,8BAAS,QAAQ,EAAE,SAAS,EAAE;QAC1B,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,CAAC;MACnE;4BACD,8BAAS,QAAQ,EAAE,SAAS,EAAE;QAC1BD,IAAM,EAAE,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC/BA,IAAM,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;QAC3CA,IAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;QAC/B,IAAI,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,EAAE;YACvB,OAAO,CAAC,OAAO,CAAC,UAAU,KAAK,EAAE;gBAC7B,EAAE,CAAC,KAAK,GAAG,KAAK,CAAC;gBACjB,QAAQ,CAAC,EAAE,CAAC,CAAC;aAChB,CAAC,CAAC;SACN;aACI;YACD,KAAKC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;gBACxB,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;gBACb,QAAQ,CAAC,EAAE,CAAC,CAAC;aAChB;SACJ;MACJ;4BACD,oCAAY,QAAQ,EAAE,SAAS,EAAE;QAC7B,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,CAAC;MACtE;;;;;;4BAMD,sCAAa,CAAC,EAAE,QAAQ,EAAE;QACtB,OAAO,CAAC,KAAK,CAAC,8CAA8C,CAAC,CAAC;MACjE;4BACD,gCAAU,QAAQ,EAAE,SAAS,EAAE;QAC3B,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,CAAC;MACpE;4BACD,gCAAU,QAAQ,EAAE,SAAS,EAAE;QAC3B,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,CAAC;MACpE;;4BAED,kCAAW,SAAS,EAAE,UAAkB,EAAE;+CAAV,GAAG;;QAC/BA,IAAI,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;QACnD,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,OAAO,EAAE;YAC7B,OAAO,GAAG,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACpD;QACD,OAAO,OAAO,CAAC;MAClB;;4BAED,0CAAe,SAAS,EAAE;QACtB,OAAO,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,CAAC;MACtE;4BACD,8CAAkB;QACd,OAAO,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,CAAC;MAC3C;;4BAED,8BAAU;QACN,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;SACnE;QACD,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QAC5D,OAAO,IAAI,CAAC,SAAS,CAAC;QACtB,OAAO,IAAI,CAAC,OAAO,CAAC;QACpB,OAAO,IAAI,CAAC,OAAO,CAAC;QACpB,OAAO,IAAI,CAAC,SAAS,CAAC;QACtB,OAAO,IAAI,CAAC,SAAS,CAAC;;;;;;EA/LF,YAiM3B;;ACvND;;;;;AAKA,AACA;AACAD,IAAM,WAAW,GAAG,sBAAsB,CAAC;AAC3CA,IAAM,UAAU,GAAG,yBAAyB,CAAC;AAC7CA,IAAM,SAAS,GAAG;IACd,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC1E,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC9E,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3E,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACxE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IAC1E,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC5E,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;IAC1E,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3E,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC1E,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3E,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC1E,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACtE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC/E,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACvE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC1E,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACvE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3E,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC1E,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;IAC9E,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;CAC/E,CAAC;AACFA,IAAM,QAAQ,GAAG;;IAEb,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;IACrF,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IACrF,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAChF,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IACrF,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC1F,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IACjF,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAClF,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACxF,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IACpF,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACvF,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACvF,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IACpF,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACtF,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACtF,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3F,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IAChF,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;IACtF,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC1F,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACxF,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACtF,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IACnF,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAA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ACb,GAAG,EAAE,QAAQ;IACb,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,GAAG,EAAE,QAAQ;IACb,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,GAAG,EAAE,QAAQ;IACb,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,GAAG,EAAE,QAAQ;IACb,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,GAAG,EAAE,QAAQ;IACb,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,GAAG,EAAE,QAAQ;IACb,IAAI,EAAE,QAAQ;I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"}